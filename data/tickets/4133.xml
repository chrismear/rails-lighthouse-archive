<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">424</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-03-08T19:47:43+00:00</created-at>
  <creator-id type="integer">84267</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">4133</number>
  <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>patch prototype rails3 ujs</tag>
  <title>browser compatibility changes for prototype-ujs</title>
  <updated-at type="datetime">2010-10-15T23:01:47+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">7</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Marc Sch&#252;tz</creator-name>
  <assigned-user-name>Joshua Peek</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>The attached patch works around the following problems in the prototype rails.js:

* `Element.findElement(&quot;a[data-remote]&quot;)` etc. didn't work in Konqueror. It seems not to return; didn't investigate further. My workaround is to check whether the current element is a anchor and has `data-xxx set`. This makes more sense anyway, because I cannot think of a use case where we would take the url of a parent element instead of the one that triggered the click event.
* The submit event doesn't bubble in IE (as was already noted in a comment). I've worked around this by observing the click event of the form's submit button instead (which is also fired when the button is pressed via keyboard).

Tested in FF 3.6, Konqueror 4.4.0, IE 8 (normal and in compat mode).</original-body>
  <latest-body>The attached patch works around the following problems in the prototype rails.js:

* `Element.findElement(&quot;a[data-remote]&quot;)` etc. didn't work in Konqueror. It seems not to return; didn't investigate further. My workaround is to check whether the current element is a anchor and has `data-xxx set`. This makes more sense anyway, because I cannot think of a use case where we would take the url of a parent element instead of the one that triggered the click event.
* The submit event doesn't bubble in IE (as was already noted in a comment). I've worked around this by observing the click event of the form's submit button instead (which is also fired when the button is pressed via keyboard).

Tested in FF 3.6, Konqueror 4.4.0, IE 8 (normal and in compat mode).</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The attached patch works around the following problems in the
prototype rails.js:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Element.findElement(&quot;a[data-remote]&quot;)&lt;/code&gt; etc. didn't
work in Konqueror. It seems not to return; didn't investigate
further. My workaround is to check whether the current element is a
anchor and has &lt;code&gt;data-xxx set&lt;/code&gt;. This makes more sense
anyway, because I cannot think of a use case where we would take
the url of a parent element instead of the one that triggered the
click event.&lt;/li&gt;
&lt;li&gt;The submit event doesn't bubble in IE (as was already noted in
a comment). I've worked around this by observing the click event of
the form's submit button instead (which is also fired when the
button is pressed via keyboard).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tested in FF 3.6, Konqueror 4.4.0, IE 8 (normal and in compat
mode).&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The attached patch works around the following problems in the prototype rails.js:

* `Element.findElement(&quot;a[data-remote]&quot;)` etc. didn't work in Konqueror. It seems not to return; didn't investigate further. My workaround is to check whether the current element is a anchor and has `data-xxx set`. This makes more sense anyway, because I cannot think of a use case where we would take the url of a parent element instead of the one that triggered the click event.
* The submit event doesn't bubble in IE (as was already noted in a comment). I've worked around this by observing the click event of the form's submit button instead (which is also fired when the button is pressed via keyboard).

Tested in FF 3.6, Konqueror 4.4.0, IE 8 (normal and in compat mode).</body>
      <body-html>&lt;div&gt;&lt;p&gt;The attached patch works around the following problems in the
prototype rails.js:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Element.findElement(&quot;a[data-remote]&quot;)&lt;/code&gt; etc. didn't
work in Konqueror. It seems not to return; didn't investigate
further. My workaround is to check whether the current element is a
anchor and has &lt;code&gt;data-xxx set&lt;/code&gt;. This makes more sense
anyway, because I cannot think of a use case where we would take
the url of a parent element instead of the one that triggered the
click event.&lt;/li&gt;
&lt;li&gt;The submit event doesn't bubble in IE (as was already noted in
a comment). I've worked around this by observing the click event of
the form's submit button instead (which is also fired when the
button is pressed via keyboard).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tested in FF 3.6, Konqueror 4.4.0, IE 8 (normal and in compat
mode).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-08T19:47:43+00:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-03-08T19:47:48+00:00</updated-at>
      <user-id type="integer">84267</user-id>
      <version type="integer">1</version>
      <user-name>Marc Sch&#252;tz</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>See also #4114.</body>
      <body-html>&lt;div&gt;&lt;p&gt;See also &lt;a href=&quot;/projects/8994/tickets/4114&quot; title=
&quot;Ticket #4114&quot;&gt;#4114&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-12T10:15:59+00:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-03-12T10:16:02+00:00</updated-at>
      <user-id type="integer">84267</user-id>
      <version type="integer">2</version>
      <user-name>Marc Sch&#252;tz</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Updated patch to make `link_to` with images work, as suggested by Robs in #4156.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch to make &lt;code&gt;link_to&lt;/code&gt; with images work, as
suggested by Robs in &lt;a href=&quot;/projects/8994/tickets/4156&quot; title=
&quot;Ticket #4156&quot;&gt;#4156&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-12T10:21:38+00:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-03-12T10:21:39+00:00</updated-at>
      <user-id type="integer">84267</user-id>
      <version type="integer">3</version>
      <user-name>Marc Sch&#252;tz</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>As regards Konquerors inability to cope with `Element.findElement(&quot;xxx&quot;)`, it doesn't work in Konqueror 3.5.9, but it does work in Konqueror 4.4.1. So I removed the changes for Konqueror again.

New patches tested in FF 3.6, Konqueror 4.4.1, IE 6 and IE 8 (normal and compat).</body>
      <body-html>&lt;div&gt;&lt;p&gt;As regards Konquerors inability to cope with
&lt;code&gt;Element.findElement(&quot;xxx&quot;)&lt;/code&gt;, it doesn't work in
Konqueror 3.5.9, but it does work in Konqueror 4.4.1. So I removed
the changes for Konqueror again.&lt;/p&gt;
&lt;p&gt;New patches tested in FF 3.6, Konqueror 4.4.1, IE 6 and IE 8
(normal and compat).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-12T11:33:50+00:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-03-12T11:33:58+00:00</updated-at>
      <user-id type="integer">84267</user-id>
      <version type="integer">4</version>
      <user-name>Marc Sch&#252;tz</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-12T18:33:42+00:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-03-12T18:33:43+00:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">5</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The new css selector stuff requires edge prototype.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The new css selector stuff requires edge prototype.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-03-12T18:40:21+00:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-03-12T18:40:23+00:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">6</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:47+01:00</created-at>
      <creator-id type="integer">84267</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4133</number>
      <permalink>browser-compatibility-changes-for-prototype-ujs</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>patch prototype rails3 ujs</tag>
      <title>browser compatibility changes for prototype-ujs</title>
      <updated-at type="datetime">2010-10-15T23:01:47+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">7</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Marc Sch&#252;tz</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4133</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>587c809843f904877f122f7b8634e837fb43cdab</code>
      <content-type>application/javascript</content-type>
      <created-at type="datetime">2010-03-12T11:33:50+00:00</created-at>
      <filename>rails.js</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">444306</id>
      <size type="integer">4653</size>
      <uploader-id type="integer">84267</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/444306/rails.js</url>
    </attachment>
    <attachment type="Attachment">
      <code>b8bf5c5dd1d5910e31442f2e3edbe00eccdfe6a6</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-03-12T11:33:55+00:00</created-at>
      <filename>prototype-ujs-browser-compat.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">444307</id>
      <size type="integer">3321</size>
      <uploader-id type="integer">84267</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/444307/prototype-ujs-browser-compat.patch</url>
    </attachment>
  </attachments>
</ticket>
