<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">22589</assigned-user-id>
  <attachments-count type="integer">9</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-11-25T12:13:47+00:00</created-at>
  <creator-id type="integer">8721</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">2195</number>
  <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>gems patch</tag>
  <title>Fix the gem dependency system in Rails</title>
  <updated-at type="datetime">2010-11-25T12:13:47+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">31</version>
  <user-name>Repository</user-name>
  <creator-name>David Dollar</creator-name>
  <assigned-user-name>Matt Jones</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
  <priority-name nil="true"></priority-name>
  <original-body>This patch addresses a lot of usability issues in the rake gems:* tasks. They are currently unusable for most situations, and are quite fragile.

  * Fixes the chicken/egg problem present in the current gem system when
    gems are defined in the config that are not yet installed.

  * Makes the gem system understand development vs. runtime dependencies,
    removing the need to have hoe as a dependency of your production app.

  * Makes the gem 'unpacking' system a lot less fragile.

  * Significantly cleans up the code associated with the gem system, making
    it much less opaque.

  * Deprecates the rake tasks gems:install:dependencies and
    gems:unpack:dependencies. The recursiveness is default in gems:install
    and gems:unpack now.</original-body>
  <latest-body>This patch addresses a lot of usability issues in the rake gems:* tasks. They are currently unusable for most situations, and are quite fragile.

  * Fixes the chicken/egg problem present in the current gem system when
    gems are defined in the config that are not yet installed.

  * Makes the gem system understand development vs. runtime dependencies,
    removing the need to have hoe as a dependency of your production app.

  * Makes the gem 'unpacking' system a lot less fragile.

  * Significantly cleans up the code associated with the gem system, making
    it much less opaque.

  * Deprecates the rake tasks gems:install:dependencies and
    gems:unpack:dependencies. The recursiveness is default in gems:install
    and gems:unpack now.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;This patch addresses a lot of usability issues in the rake
gems:* tasks. They are currently unusable for most situations, and
are quite fragile.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fixes the chicken/egg problem present in the current gem system
when gems are defined in the config that are not yet installed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Makes the gem system understand development vs. runtime
dependencies, removing the need to have hoe as a dependency of your
production app.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Makes the gem 'unpacking' system a lot less fragile.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Significantly cleans up the code associated with the gem system,
making it much less opaque.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deprecates the rake tasks gems:install:dependencies and
gems:unpack:dependencies. The recursiveness is default in
gems:install and gems:unpack now.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This patch addresses a lot of usability issues in the rake gems:* tasks. They are currently unusable for most situations, and are quite fragile.

  * Fixes the chicken/egg problem present in the current gem system when
    gems are defined in the config that are not yet installed.

  * Makes the gem system understand development vs. runtime dependencies,
    removing the need to have hoe as a dependency of your production app.

  * Makes the gem 'unpacking' system a lot less fragile.

  * Significantly cleans up the code associated with the gem system, making
    it much less opaque.

  * Deprecates the rake tasks gems:install:dependencies and
    gems:unpack:dependencies. The recursiveness is default in gems:install
    and gems:unpack now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This patch addresses a lot of usability issues in the rake
gems:* tasks. They are currently unusable for most situations, and
are quite fragile.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fixes the chicken/egg problem present in the current gem system
when gems are defined in the config that are not yet installed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Makes the gem system understand development vs. runtime
dependencies, removing the need to have hoe as a dependency of your
production app.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Makes the gem 'unpacking' system a lot less fragile.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Significantly cleans up the code associated with the gem system,
making it much less opaque.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deprecates the rake tasks gems:install:dependencies and
gems:unpack:dependencies. The recursiveness is default in
gems:install and gems:unpack now.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T14:51:48+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems</tag>
      <title>[PATCH] Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T14:56:25+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">1</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This change can also be found at:

Commit:
http://github.com/ddollar/rails/commit/e9dc22ccc0d2a9b4208e675df70829258ca10d78

Branch: 
http://github.com/ddollar/rails/commits/vendor-gems-2.3</body>
      <body-html>&lt;div&gt;&lt;p&gt;This change can also be found at:&lt;/p&gt;
&lt;p&gt;Commit: &lt;a href=&quot;http://github.com/ddollar/rails/commit/e9dc22ccc0d2a9b4208e675df70829258ca10d78&quot;&gt;
http://github.com/ddollar/rails/...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Branch: &lt;a href=&quot;http://github.com/ddollar/rails/commits/vendor-gems-2.3&quot;&gt;http://github.com/ddollar/rails/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T14:52:40+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems</tag>
      <title>[PATCH] Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T14:57:27+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">2</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T14:56:34+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: gems
:title: &quot;[PATCH] Fix the gem dependency system in Rails&quot;
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T15:01:39+00:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">3</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Probably a little late for 2.3 release.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Probably a little late for 2.3 release.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T14:58:45+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T15:03:52+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">4</version>
      <user-name>Pratik</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Why? The current system doesn't work.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Why? The current system doesn't work.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T15:09:48+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T15:11:36+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">5</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Updated patch to fix tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch to fix tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T15:51:37+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T15:57:02+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">6</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>New commit
http://github.com/ddollar/rails/commit/37c450e12530399d2c711a92e10871ca7b86101f</body>
      <body-html>&lt;div&gt;&lt;p&gt;New commit &lt;a href=&quot;http://github.com/ddollar/rails/commit/37c450e12530399d2c711a92e10871ca7b86101f&quot;&gt;
http://github.com/ddollar/rails/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T15:53:13+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T15:57:11+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">7</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1

Saying this patch can't make it into Rails 2.3 is ~ tantamount to saying 'rails 2.3 plans on having a broken gem config system.'

the gem tasks are great, but they'd be 10x better if they worked right today.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;Saying this patch can't make it into Rails 2.3 is ~ tantamount
to saying 'rails 2.3 plans on having a broken gem config
system.'&lt;/p&gt;
&lt;p&gt;the gem tasks are great, but they'd be 10x better if they worked
right today.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T16:34:34+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T16:43:26+00:00</updated-at>
      <user-id type="integer">29509</user-id>
      <version type="integer">8</version>
      <user-name>knewter (at gmail)</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Hey I'll happily push this if Matt gives it a +1. I am just not very keen on making big changes 3 days before the release.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey I'll happily push this if Matt gives it a +1. I am just not
very keen on making big changes 3 days before the release.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T16:44:55+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T16:52:15+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">9</version>
      <user-name>Pratik</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This looks really good! :)

I just don't agree with this feature:

&quot;Deprecates the rake tasks gems:install:dependencies and gems:unpack:dependencies. The recursiveness is default in gems:install and gems:unpack now.&quot;

It would generate a lot of surprises. And I would prefer that it unpack the dependencies only when I ask to. For example, any gem using newgem would unpack a lot of unneeded dependencies on my app.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This looks really good! :)&lt;/p&gt;
&lt;p&gt;I just don't agree with this feature:&lt;/p&gt;
&lt;p&gt;&quot;Deprecates the rake tasks gems:install:dependencies and
gems:unpack:dependencies. The recursiveness is default in
gems:install and gems:unpack now.&quot;&lt;/p&gt;
&lt;p&gt;It would generate a lot of surprises. And I would prefer that it
unpack the dependencies only when I ask to. For example, any gem
using newgem would unpack a lot of unneeded dependencies on my
app.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T18:33:39+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T18:33:53+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">10</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Jose: A lot of your complaint is solved by the fact that the gem system in this patch understands development dependencies so you wouldn't have that gem clutter.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jose: A lot of your complaint is solved by the fact that the gem
system in this patch understands development dependencies so you
wouldn't have that gem clutter.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T18:51:58+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T18:54:49+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">11</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Also, gems:install already installed dependencies, since it just farmed its behaviour out to the 'gem' binary which by default installs dependencies.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Also, gems:install already installed dependencies, since it just
farmed its behaviour out to the 'gem' binary which by default
installs dependencies.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T18:53:12+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T18:57:00+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">12</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for God's sake.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for God's sake.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T18:58:55+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T19:03:50+00:00</updated-at>
      <user-id type="integer">29778</user-id>
      <version type="integer">13</version>
      <user-name>Stephen Touset</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>As further argument for making recursiveness the default,  gems:unpack is there to make your app resistant to the state of the server it's deployed on. If you don't get the dependencies, unpacking isn't very useful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;As further argument for making recursiveness the default,
gems:unpack is there to make your app resistant to the state of the
server it's deployed on. If you don't get the dependencies,
unpacking isn't very useful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T19:01:21+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T19:04:17+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">14</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I've got a number of issues with this patch, but while I'm writing them up I'll post the show-stopper.

While there are some concerns about building gems that aren't required by the current environment (#1793), this patch completely breaks the most common cases by loading the environment before building gems.

Quick example:
- start with a blank Rails 2.3.1 app with git clone in vendor
- add &quot;config.gem 'RedCloth'&quot; to environment.rb
- rake gems:unpack

After that step, NOTHING works. Executing rake gems:build gets:
@@@
(in /Users/mattjones/scratch/rc2app)
/Users/mattjones/scratch/rc2app/vendor/gems/RedCloth-4.0.1/lib/redcloth_scan.bundle: [BUG] Bus Error
ruby 1.8.6 (2007-03-13) [i686-darwin8.9.1]

Abort trap
@@@

Note that this is an extreme example - some gems just spit out lots of backtraces if native parts aren't present. (hpricot, for example)

I'll also note that there is a workaround for this: use &quot;rake gems:build&quot; to do the initial unpack. While this *does* work, it requires that users know that there are native extensions with this problem beforehand. It also breaks the deployment scenario where gems are unpacked but not built in the repository.

I'll post a few more comments shortly, but the issue noted above is the biggest concern.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've got a number of issues with this patch, but while I'm
writing them up I'll post the show-stopper.&lt;/p&gt;
&lt;p&gt;While there are some concerns about building gems that aren't
required by the current environment (#1793), this patch completely
breaks the most common cases by loading the environment before
building gems.&lt;/p&gt;
&lt;p&gt;Quick example: - start with a blank Rails 2.3.1 app with git
clone in vendor - add &quot;config.gem 'RedCloth'&quot; to environment.rb -
rake gems:unpack&lt;/p&gt;
&lt;p&gt;After that step, NOTHING works. Executing rake gems:build
gets:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
(in /Users/mattjones/scratch/rc2app)
/Users/mattjones/scratch/rc2app/vendor/gems/RedCloth-4.0.1/lib/redcloth_scan.bundle: [BUG] Bus Error
ruby 1.8.6 (2007-03-13) [i686-darwin8.9.1]

Abort trap
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that this is an extreme example - some gems just spit out
lots of backtraces if native parts aren't present. (hpricot, for
example)&lt;/p&gt;
&lt;p&gt;I'll also note that there is a workaround for this: use &quot;rake
gems:build&quot; to do the initial unpack. While this &lt;em&gt;does&lt;/em&gt;
work, it requires that users know that there are native extensions
with this problem beforehand. It also breaks the deployment
scenario where gems are unpacked but not built in the
repository.&lt;/p&gt;
&lt;p&gt;I'll post a few more comments shortly, but the issue noted above
is the biggest concern.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T19:42:32+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T19:50:49+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">15</version>
      <user-name>Matt Jones</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>New patch, fixes the aforementioned issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;New patch, fixes the aforementioned issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T20:25:37+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T20:40:56+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">16</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>New commit (to see with colorization)

http://github.com/ddollar/rails/commit/3ad7ee97c06c1b41e67a893d9a5cfe803bcfa8e7</body>
      <body-html>&lt;div&gt;&lt;p&gt;New commit (to see with colorization)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/ddollar/rails/commit/3ad7ee97c06c1b41e67a893d9a5cfe803bcfa8e7&quot;&gt;
http://github.com/ddollar/rails/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T20:27:39+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T20:43:06+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">17</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>What it comes down to is that config.gem has been broken out of the box in new and innovative ways _every_ _single_ _release_ since it's been available.

David's patch makes it work out of the box. Period.</body>
      <body-html>&lt;div&gt;&lt;p&gt;What it comes down to is that config.gem has been broken out of
the box in new and innovative ways &lt;em&gt;every&lt;/em&gt; &lt;em&gt;single&lt;/em&gt;
&lt;em&gt;release&lt;/em&gt; since it's been available.&lt;/p&gt;
&lt;p&gt;David's patch makes it work out of the box. Period.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T20:35:00+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T20:49:45+00:00</updated-at>
      <user-id type="integer">29778</user-id>
      <version type="integer">18</version>
      <user-name>Stephen Touset</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Here's the rundown of the other issues:

* gems:unpack no longer skips framework gems. Several problems:
  * gems that depend on rake will unpack it to vendor/gems. This has potential for creating severe Heisenbugs, where the system-local version of Rake is used for command-line rake, while other uses (Rake::Task[].invoke, for example) from within Rails will use the frozen version.
  * gems that depend on Rails will try to unpack Rails gems to vendor/gems. This is BAD. Not only will it NOT WORK, but it will confuse users.

* gems:unpack is also useful for things like fixing bugs in gems. Removing the GEM= functionality means that's not as practical as before.

* Failed builds will leave Makefiles behind (for debugging), which will break the test in GemDependency#built? and prevent a second attempt. The Makefiles should be trusted to control what needs to be recompiled.

Other minor issues:

* There never was an install:dependencies, so deprecating it doesn't make sense.

* Install shouldn't need to recurse, as the gem command already does (and skips development dependencies)

* Renaming refresh_specs (to just refresh) invalidates all the old documentation, and obscures the purpose of the task. Naive users might assume that it downloads newer versions of their frozen gems...

* gem_builder is not needed most of the time; the require was explicitly moved to where it was used in http://github.com/rails/rails/commit/0bea3f8391e985157f3aecdf50a5d61de7aa7f0c

---

Finally, I'm interested to know what drove this patch - which gems weren't working correctly? Some oddly-packed gems (hoe, for instance) create edge cases that need to be addressed (see #2097). &quot;The system doesn't work&quot; doesn't make it easy to debug...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's the rundown of the other issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;gems:unpack no longer skips framework gems. Several
problems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gems that depend on rake will unpack it to vendor/gems. This
has potential for creating severe Heisenbugs, where the
system-local version of Rake is used for command-line rake, while
other uses (Rake::Task[].invoke, for example) from within Rails
will use the frozen version.&lt;/li&gt;
&lt;li&gt;gems that depend on Rails will try to unpack Rails gems to
vendor/gems. This is BAD. Not only will it NOT WORK, but it will
confuse users.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gems:unpack is also useful for things like fixing bugs in gems.
Removing the GEM= functionality means that's not as practical as
before.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Failed builds will leave Makefiles behind (for debugging), which
will break the test in GemDependency#built? and prevent a second
attempt. The Makefiles should be trusted to control what needs to
be recompiled.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other minor issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;There never was an install:dependencies, so deprecating it
doesn't make sense.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install shouldn't need to recurse, as the gem command already
does (and skips development dependencies)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Renaming refresh_specs (to just refresh) invalidates all the old
documentation, and obscures the purpose of the task. Naive users
might assume that it downloads newer versions of their frozen
gems...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gem_builder is not needed most of the time; the require was
explicitly moved to where it was used in &lt;a href=&quot;http://github.com/rails/rails/commit/0bea3f8391e985157f3aecdf50a5d61de7aa7f0c&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;Finally, I'm interested to know what drove this patch - which
gems weren't working correctly? Some oddly-packed gems (hoe, for
instance) create edge cases that need to be addressed (see &lt;a href=&quot;/projects/8994/tickets/2097&quot; title=&quot;Ticket #2097&quot;&gt;#2097&lt;/a&gt;). &quot;The
system doesn't work&quot; doesn't make it easy to debug...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T20:52:34+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T21:12:20+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">19</version>
      <user-name>Matt Jones</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I have attached a new patch that addresses your concerns.

As far as what is broken currently (on a checkout of tag 2.3.1):

@@@ ruby
  config.gem 'RedCloth'
  config.gem 'aws-s3', :lib =&gt; 'aws/s3'
@@@

results in 

@@@ shell
[~/Code/RailsApp] rake gems
(in /Users/david/Code/RailsApp)
 - [I] RedCloth 
 - [I] aws-s3 
    - [I] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [I] mime-types = 1.16
       - [ ] archive-tar-minitar ~&gt; 0.5
       - [ ] nokogiri ~&gt; 1.2
       - [ ] rcov ~&gt; 0.8
       - [ ] hoe &gt;= 1.8.3

I = Installed
F = Frozen
R = Framework (loaded before rails starts)
[david@neon.local] [00:02] 
[~/Code/RailsApp] rake gems:unpack:dependencies
(in /Users/david/Code/RailsApp)
WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
          /usr/bin aren't both writable.
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/RedCloth-3.0.4'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/aws-s3-0.5.1'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/xml-simple-1.0.12'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/mime-types-1.16'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/rcov-0.8.1.2.0'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/hoe-1.8.3'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/rubyforge-1.0.2'
[david@neon.local] [00:30] 
[~/Code/RailsApp] rake gems
(in /Users/david/Code/RailsApp)
 - [F] RedCloth 
 - [F] aws-s3 
    - [F] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [F] mime-types = 1.16
       - [ ] archive-tar-minitar ~&gt; 0.5
       - [ ] nokogiri ~&gt; 1.2
       - [ ] rcov ~&gt; 0.8
       - [ ] hoe &gt;= 1.8.3
@@@

Notice that things are unpacked and then not recognized as being so. When digging down into the reasons, the gem code is simply not well-architected, so this patch refactors large parts of it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have attached a new patch that addresses your concerns.&lt;/p&gt;
&lt;p&gt;As far as what is broken currently (on a checkout of tag
2.3.1):&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  config.gem 'RedCloth'
  config.gem 'aws-s3', :lib =&amp;gt; 'aws/s3'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;results in&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;shell&quot;&gt;
[~/Code/RailsApp] rake gems
(in /Users/david/Code/RailsApp)
 - [I] RedCloth 
 - [I] aws-s3 
    - [I] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [I] mime-types = 1.16
       - [ ] archive-tar-minitar ~&amp;gt; 0.5
       - [ ] nokogiri ~&amp;gt; 1.2
       - [ ] rcov ~&amp;gt; 0.8
       - [ ] hoe &amp;gt;= 1.8.3

I = Installed
F = Frozen
R = Framework (loaded before rails starts)
[david@neon.local] [00:02] 
[~/Code/RailsApp] rake gems:unpack:dependencies
(in /Users/david/Code/RailsApp)
WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
          /usr/bin aren't both writable.
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/RedCloth-3.0.4'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/aws-s3-0.5.1'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/xml-simple-1.0.12'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/mime-types-1.16'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/rcov-0.8.1.2.0'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/hoe-1.8.3'
Unpacked gem: '/Users/david/Code/RailsApp/vendor/gems/rubyforge-1.0.2'
[david@neon.local] [00:30] 
[~/Code/RailsApp] rake gems
(in /Users/david/Code/RailsApp)
 - [F] RedCloth 
 - [F] aws-s3 
    - [F] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [F] mime-types = 1.16
       - [ ] archive-tar-minitar ~&amp;gt; 0.5
       - [ ] nokogiri ~&amp;gt; 1.2
       - [ ] rcov ~&amp;gt; 0.8
       - [ ] hoe &amp;gt;= 1.8.3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that things are unpacked and then not recognized as being
so. When digging down into the reasons, the gem code is simply not
well-architected, so this patch refactors large parts of it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T22:09:30+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T22:47:04+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">20</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Also the current system is inconsistent in its approach to handling development dependencies.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Also the current system is inconsistent in its approach to
handling development dependencies.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-10T22:10:10+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-10T22:47:08+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">21</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>@DDollar - thanks for the feedback.

Some remaining issues with the patch:
- automatic recursion on dependencies is still not always helpful. Example: acts_as_reportable depends on ruport, which in turn depends on fastercsv and pdf-writer. It's not useful to pull in all 3 dependent gems just to patch a bug in acts_as_reportable. If I tell Rails, &quot;unpack gem X&quot;, I want it to unpack gem X. unpack:dependencies is a clear way of saying, &quot;Yes, unpack the dependencies&quot;.

- a minor quibble, but the sense of the tests for GEM= for blank inputs has been reversed. Before, it would act on all gems, now it acts on none of the gems. I don't know if anybody uses it that way (maybe in a script?), but it seems like a bad idea to break it.

- the refactoring changes are nice, but they run into the &quot;public/private API&quot; problem. Changing the interface of Rails::GemDependency this late in the release cycle for aesthetic reasons doesn't seem like a good idea. Again, I can't think of any project using those functions, but why break things?

- using frozen? instead of directly checking for the existence of the target unpack directory will re-introduce #2097, which can cause unpacking to fail.

- The GEM= setting needs to be consistently used, for install/unpack/build/refresh_specs. 

- change to frozen? test will fail to detect gems frozen in un-versioned directories (see #533). This isn't technically supported, but again, why break it?

- the line in GemDependency#specification that alters the version requirement to match an already loaded gem:
@@@ ruby
          version_requirements = Gem::Requirement.create(&quot;=#{existing_spec.version}&quot;)
@@@
..doesn't work anymore. This is a nasty gotcha with attr_accessor - the line above assigns to a local variable rather than calling the version_requirements= method.

---
While I agree that :development dependencies are not well handled, note that they are *very* new in Rubygems as well. Gemspec files written by pre-1.3 versions of Rubygems don't correctly indicate development dependencies, as they don't check for the rubygems version correctly. Example from hoe-0.8.2.gemspec:

@@@ ruby
  if s.respond_to? :specification_version then
    current_version = Gem::Specification::CURRENT_SPECIFICATION_VERSION
    s.specification_version = 2

    if current_version &gt;= 3 then
      s.add_runtime_dependency(%q&lt;rubyforge&gt;, [&quot;&gt;= 1.0.1&quot;])
      s.add_runtime_dependency(%q&lt;rake&gt;, [&quot;&gt;= 0.8.3&quot;])
    else
      s.add_dependency(%q&lt;rubyforge&gt;, [&quot;&gt;= 1.0.1&quot;])
      s.add_dependency(%q&lt;rake&gt;, [&quot;&gt;= 0.8.3&quot;])
    end
  else
    s.add_dependency(%q&lt;rubyforge&gt;, [&quot;&gt;= 1.0.1&quot;])
    s.add_dependency(%q&lt;rake&gt;, [&quot;&gt;= 0.8.3&quot;])
  end
@@@

That current_version &gt;= 3 test won't pass on any released version of Rubygems (as of 1.3.1). The 1.3 series generates a different test based on the Rubygems version explicitly.

HOWEVER, even the new 1.3 test doesn't help Rails, as .specification files are not Ruby code. They are YAMLized from the specs in memory, meaning that they didn't have the :runtime/:development flags when dumped from Rubygems &lt; 1.3 (ie any version of Rails before 2.2.2).

In the light of all that, it is probably better to preserve the existing behavior for 2.3.

---

The &quot;rake gems&quot; printing code could use some improvements. There are really a few more cases than the current display shows:

- installed, loaded gem (currently &quot;I&quot;)

- frozen, loaded gem (currently &quot;F&quot;)

- framework gem (currently &quot;R&quot;)

- gem not found (currently &quot; &quot;)

- gem specified with :lib =&gt; false (currently &quot; &quot; as well)

- runtime dependency not loaded (currently &quot; &quot; as well)

- development dependency not loaded (&quot; &quot; as well)

As noted above, the last two are still not well supported. What do you think about displaying unloaded gems' status with, say, a lowercase letter? So your output above would now be:

@@@
[~/Code/RailsApp] rake gems
(in /Users/david/Code/RailsApp)
 - [F] RedCloth 
 - [F] aws-s3 
    - [F] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [F] mime-types = 1.16
       - [f] archive-tar-minitar ~&gt; 0.5
       - [f] nokogiri ~&gt; 1.2
       - [f] rcov ~&gt; 0.8
       - [f] hoe &gt;= 1.8.3
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;@DDollar - thanks for the feedback.&lt;/p&gt;
&lt;p&gt;Some remaining issues with the patch: - automatic recursion on
dependencies is still not always helpful. Example:
acts_as_reportable depends on ruport, which in turn depends on
fastercsv and pdf-writer. It's not useful to pull in all 3
dependent gems just to patch a bug in acts_as_reportable. If I tell
Rails, &quot;unpack gem X&quot;, I want it to unpack gem X.
unpack:dependencies is a clear way of saying, &quot;Yes, unpack the
dependencies&quot;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;a minor quibble, but the sense of the tests for GEM= for blank
inputs has been reversed. Before, it would act on all gems, now it
acts on none of the gems. I don't know if anybody uses it that way
(maybe in a script?), but it seems like a bad idea to break it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the refactoring changes are nice, but they run into the
&quot;public/private API&quot; problem. Changing the interface of
Rails::GemDependency this late in the release cycle for aesthetic
reasons doesn't seem like a good idea. Again, I can't think of any
project using those functions, but why break things?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;using frozen? instead of directly checking for the existence of
the target unpack directory will re-introduce &lt;a href=&quot;/projects/8994/tickets/2097&quot; title=&quot;Ticket #2097&quot;&gt;#2097&lt;/a&gt;, which
can cause unpacking to fail.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The GEM= setting needs to be consistently used, for
install/unpack/build/refresh_specs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;change to frozen? test will fail to detect gems frozen in
un-versioned directories (see &lt;a href=&quot;/projects/8994/tickets/533&quot; title=&quot;Ticket #533&quot;&gt;#533&lt;/a&gt;). This isn't technically supported,
but again, why break it?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the line in GemDependency#specification that alters the version
requirement to match an already loaded gem:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
          version_requirements = Gem::Requirement.create(&amp;quot;=#{existing_spec.version}&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;..doesn't work anymore. This is a nasty gotcha with
attr_accessor - the line above assigns to a local variable rather
than calling the version_requirements= method.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;While I agree that :development dependencies are not well
handled, note that they are &lt;em&gt;very&lt;/em&gt; new in Rubygems as well.
Gemspec files written by pre-1.3 versions of Rubygems don't
correctly indicate development dependencies, as they don't check
for the rubygems version correctly. Example from
hoe-0.8.2.gemspec:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  if s.respond_to? :specification_version then
    current_version = Gem::Specification::CURRENT_SPECIFICATION_VERSION
    s.specification_version = 2

    if current_version &amp;gt;= 3 then
      s.add_runtime_dependency(%q&amp;lt;rubyforge&amp;gt;, [&amp;quot;&amp;gt;= 1.0.1&amp;quot;])
      s.add_runtime_dependency(%q&amp;lt;rake&amp;gt;, [&amp;quot;&amp;gt;= 0.8.3&amp;quot;])
    else
      s.add_dependency(%q&amp;lt;rubyforge&amp;gt;, [&amp;quot;&amp;gt;= 1.0.1&amp;quot;])
      s.add_dependency(%q&amp;lt;rake&amp;gt;, [&amp;quot;&amp;gt;= 0.8.3&amp;quot;])
    end
  else
    s.add_dependency(%q&amp;lt;rubyforge&amp;gt;, [&amp;quot;&amp;gt;= 1.0.1&amp;quot;])
    s.add_dependency(%q&amp;lt;rake&amp;gt;, [&amp;quot;&amp;gt;= 0.8.3&amp;quot;])
  end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That current_version &amp;gt;= 3 test won't pass on any released
version of Rubygems (as of 1.3.1). The 1.3 series generates a
different test based on the Rubygems version explicitly.&lt;/p&gt;
&lt;p&gt;HOWEVER, even the new 1.3 test doesn't help Rails, as
.specification files are not Ruby code. They are YAMLized from the
specs in memory, meaning that they didn't have the
:runtime/:development flags when dumped from Rubygems &amp;lt; 1.3 (ie
any version of Rails before 2.2.2).&lt;/p&gt;
&lt;p&gt;In the light of all that, it is probably better to preserve the
existing behavior for 2.3.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;The &quot;rake gems&quot; printing code could use some improvements. There
are really a few more cases than the current display shows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;installed, loaded gem (currently &quot;I&quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;frozen, loaded gem (currently &quot;F&quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;framework gem (currently &quot;R&quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gem not found (currently &quot; &quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gem specified with :lib =&amp;gt; false (currently &quot; &quot; as well)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;runtime dependency not loaded (currently &quot; &quot; as well)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;development dependency not loaded (&quot; &quot; as well)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As noted above, the last two are still not well supported. What
do you think about displaying unloaded gems' status with, say, a
lowercase letter? So your output above would now be:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
[~/Code/RailsApp] rake gems
(in /Users/david/Code/RailsApp)
 - [F] RedCloth 
 - [F] aws-s3 
    - [F] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [F] mime-types = 1.16
       - [f] archive-tar-minitar ~&amp;gt; 0.5
       - [f] nokogiri ~&amp;gt; 1.2
       - [f] rcov ~&amp;gt; 0.8
       - [f] hoe &amp;gt;= 1.8.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T07:41:42+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-11T08:11:19+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">22</version>
      <user-name>Matt Jones</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>While I agree with some of your issues and disagree with others, I'm a bit incredulous at &quot;In the light of all that, it is probably better to preserve the existing behavior for 2.3.&quot;

The existing system does not work. Look in my example posted before. Nokogiri never got unpacked. Why? How can I unpack it? The system falls down in so many places that I always threw my hands up in disgust at it until I rewrote it. 

Let me say that again. *The current system does not work*</body>
      <body-html>&lt;div&gt;&lt;p&gt;While I agree with some of your issues and disagree with others,
I'm a bit incredulous at &quot;In the light of all that, it is probably
better to preserve the existing behavior for 2.3.&quot;&lt;/p&gt;
&lt;p&gt;The existing system does not work. Look in my example posted
before. Nokogiri never got unpacked. Why? How can I unpack it? The
system falls down in so many places that I always threw my hands up
in disgust at it until I rewrote it.&lt;/p&gt;
&lt;p&gt;Let me say that again. &lt;em&gt;The current system does not
work&lt;/em&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T12:40:49+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-11T12:41:49+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">23</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>A new patch is attached.

* automatic recursion on dependencies is still not always helpful.
  * Agreed. unpack and unpack:dependencies are now back.
  
* a minor quibble, but the sense of the tests for GEM= for blank inputs has been reversed. Before, it would act on all gems, now it acts on none of the gems. I don't know if anybody uses it that way (maybe in a script?), but it seems like a bad idea to break it.
  * Are you really suggesting that rake GEM= gems:unpack should unpack all gems? It seems like bikeshedding at this point.

* The refactoring changes are nice, but they run into the &quot;public/private API&quot; problem. Changing the interface of Rails::GemDependency this late in the release cycle for aesthetic reasons doesn't seem like a good idea. Again, I can't think of any project using those functions, but why break things?
  * Because they don't work. Keeping an existing broken system for the sake of keeping an existing system is silly.

* using frozen? instead of directly checking for the existence of the target unpack directory will re-introduce #2097, which can cause unpacking to fail.
  * I think you are referring to the old gem system which checked for loaded? The new code checks frozen? which in turn checks for the existence of the target unpack directory

* The GEM= setting needs to be consistently used, for install/unpack/build/refresh_specs.
  * I agree, and the patch is updated.

* Change to frozen? test will fail to detect gems frozen in un-versioned directories (see #533). This isn't technically supported, but again, why break it?
  * The bug you linked to doesn't have anything to do with the gem system as far as I can tell.</body>
      <body-html>&lt;div&gt;&lt;p&gt;A new patch is attached.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;automatic recursion on dependencies is still not always
helpful.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Agreed. unpack and unpack:dependencies are now back.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;a minor quibble, but the sense of the tests for GEM= for blank
inputs has been reversed. Before, it would act on all gems, now it
acts on none of the gems. I don't know if anybody uses it that way
(maybe in a script?), but it seems like a bad idea to break it.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Are you really suggesting that rake GEM= gems:unpack should
unpack all gems? It seems like bikeshedding at this point.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The refactoring changes are nice, but they run into the
&quot;public/private API&quot; problem. Changing the interface of
Rails::GemDependency this late in the release cycle for aesthetic
reasons doesn't seem like a good idea. Again, I can't think of any
project using those functions, but why break things?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Because they don't work. Keeping an existing broken system for
the sake of keeping an existing system is silly.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;using frozen? instead of directly checking for the existence of
the target unpack directory will re-introduce &lt;a href=&quot;/projects/8994/tickets/2097&quot; title=&quot;Ticket #2097&quot;&gt;#2097&lt;/a&gt;, which
can cause unpacking to fail.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I think you are referring to the old gem system which checked
for loaded? The new code checks frozen? which in turn checks for
the existence of the target unpack directory&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The GEM= setting needs to be consistently used, for
install/unpack/build/refresh_specs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I agree, and the patch is updated.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change to frozen? test will fail to detect gems frozen in
un-versioned directories (see &lt;a href=&quot;/projects/8994/tickets/533&quot; title=&quot;Ticket #533&quot;&gt;#533&lt;/a&gt;). This isn't technically supported,
but again, why break it?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The bug you linked to doesn't have anything to do with the gem
system as far as I can tell.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T13:24:17+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-11T13:24:19+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">24</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>I've gone ahead and made the change to support GEM= working on all gems. New patch attached.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've gone ahead and made the change to support GEM= working on
all gems. New patch attached.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T13:27:49+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-11T13:28:28+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">25</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>Updated patch to use an options hash for #unpack</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch to use an options hash for #unpack&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T13:32:42+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-11T13:33:42+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">26</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>Here's what my config.gems statements look like in my test rails app:

    config.gem 'RedCloth'
    config.gem 'aws-s3', :lib =&gt; 'aws/s3'
    config.gem &quot;haml&quot;, :version =&gt; '2.0.9'
    config.gem &quot;nokogiri&quot;

In rails 2.3.1 edge:

last commit: 

    commit f2c7508befb085ffe19ec7fb9ca2e6919cc919c9
    Author: Russ Smith &lt;russ@bashme.org&gt;
    Date:   Wed Mar 11 12:50:24 2009 -0500

        Update bundled Rack to fix Litespeed compatibility [#2198 state:resolved]

        Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;

  I get this behavior freezing and building gems (the development gems are listed but not installed):

    [test23 (master)]$ rake gems
    (in /Users/stephen/dev/ruby/src/gems/test23)
     - [I] RedCloth 
     - [I] aws-s3 
        - [I] xml-simple = 1.0.12
        - [I] builder = 2.1.2
        - [I] mime-types = 1.16
           - [ ] archive-tar-minitar ~&gt; 0.5
           - [I] nokogiri = 1.2.1
           - [ ] rcov ~&gt; 0.8
           - [ ] hoe &gt;= 1.8.3
     - [I] haml = 2.0.9
     - [I] nokogiri 

    I = Installed
    F = Frozen
    R = Framework (loaded before rails starts)

    [test23 (master)]$ rake gems:unpack:dependencies
    (in /Users/stephen/dev/ruby/src/gems/test23)
    WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
    	  /usr/bin aren't both writable.
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/archive-tar-minitar-0.5.2'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/hoe-1.9.0'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/rubyforge-1.0.3'

    [test23 (master)]$ rake gems:build
    (in /Users/stephen/dev/ruby/src/gems/test23)
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/archive-tar-minitar-0.5.2'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/hoe-1.9.0'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/rubyforge-1.0.3'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'

    [test23 (master)]$ rake gems
    (in /Users/stephen/dev/ruby/src/gems/test23)
     - [F] RedCloth 
     - [F] aws-s3 
        - [F] xml-simple = 1.0.12
        - [I] builder = 2.1.2
        - [F] mime-types = 1.16
           - [ ] archive-tar-minitar ~&gt; 0.5
           - [F] nokogiri = 1.2.1
           - [ ] rcov ~&gt; 0.8
           - [ ] hoe &gt;= 1.8.3
     - [F] haml = 2.0.9
     - [F] nokogiri 

    I = Installed
    F = Frozen
    R = Framework (loaded before rails starts)

With David Dollar's latest patch:

    [rails (master)]$ git co gem_dependency 
    Switched to branch &quot;gem_dependency&quot;
    [rails (gem_dependency)]$ git log
    commit 15e782dbe0648f10b49073c7fc0562e4a99a5482
    Author: David Dollar &lt;ddollar@gmail.com&gt;
    Date:   Tue Mar 10 10:44:24 2009 -0400

        Fixes a lot of brokenness in the gems rake tasks.

        * Fixes the chicken/egg problem present in the current gem system when
            gems are defined in the config that are not yet installed.

          * Makes the gem system understand development vs. runtime dependencies,
            removing the need to have hoe as a dependency of your production app.

          * Makes the gem 'unpacking' system a lot less fragile.

          * Significantly cleans up the code associated with the gem system, making
            it much less opaque.

    commit f2c7508befb085ffe19ec7fb9ca2e6919cc919c9
    Author: Russ Smith &lt;russ@bashme.org&gt;
    Date:   Wed Mar 11 12:50:24 2009 -0500

        Update bundled Rack to fix Litespeed compatibility [#2198 state:resolved]

        Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;


    [rails (gem_dependency)]$ cd -
    /Users/stephen/dev/ruby/src/gems/test23
    [test23 (master)]$ rm -rf vendor/gems/*
    [test23 (master)]$ rake gems
    (in /Users/stephen/dev/ruby/src/gems/test23)
     - [I] RedCloth 
     - [I] aws-s3 
        - [I] xml-simple 
        - [R] builder 
        - [I] mime-types 
     - [I] haml = 2.0.9
     - [I] nokogiri 

    I = Installed
    F = Frozen
    R = Framework (loaded before rails starts)
    [test23 (master)]$ rake gems:unpack:dependencies
    (in /Users/stephen/dev/ruby/src/gems/test23)
    WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
    	  /usr/bin aren't both writable.
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
    Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
    [test23 (master)]$ rake gems:build
    (in /Users/stephen/dev/ruby/src/gems/test23)
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
    Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
    [test23 (master)]$ rake gems
    (in /Users/stephen/dev/ruby/src/gems/test23)
     - [F] RedCloth 
     - [F] aws-s3 
        - [F] xml-simple 
        - [R] builder 
        - [F] mime-types 
     - [F] haml = 2.0.9
     - [F] nokogiri 

    I = Installed
    F = Frozen
    R = Framework (loaded before rails starts)
    [test23 (master)]$ ls vendor/gems/
    RedCloth-4.1.9		haml-2.0.9		nokogiri-1.2.1
    aws-s3-0.5.1		mime-types-1.16		xml-simple-1.0.12</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's what my config.gems statements look like in my test rails
app:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;config.gem 'RedCloth'
config.gem 'aws-s3', :lib =&amp;gt; 'aws/s3'
config.gem &quot;haml&quot;, :version =&amp;gt; '2.0.9'
config.gem &quot;nokogiri&quot;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;In rails 2.3.1 edge:&lt;/p&gt;
&lt;p&gt;last commit:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;commit f2c7508befb085ffe19ec7fb9ca2e6919cc919c9
Author: Russ Smith &amp;lt;&lt;a href=&quot;mailto:russ@bashme.org&quot;&gt;russ@bashme.org&lt;/a&gt;&amp;gt;
Date:   Wed Mar 11 12:50:24 2009 -0500

    Update bundled Rack to fix Litespeed compatibility [[#2198](/projects/8994/tickets/2198 &quot;Ticket #2198&quot;) state:resolved]

    Signed-off-by: Joshua Peek &amp;lt;&lt;a href=&quot;mailto:josh@joshpeek.com&quot;&gt;josh@joshpeek.com&lt;/a&gt;&amp;gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I get this behavior freezing and building gems (the development
gems are listed but not installed):&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[test23 (master)]$ rake gems
(in /Users/stephen/dev/ruby/src/gems/test23)
 - [I] RedCloth 
 - [I] aws-s3 
    - [I] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [I] mime-types = 1.16
       - [ ] archive-tar-minitar ~&amp;gt; 0.5
       - [I] nokogiri = 1.2.1
       - [ ] rcov ~&amp;gt; 0.8
       - [ ] hoe &amp;gt;= 1.8.3
 - [I] haml = 2.0.9
 - [I] nokogiri 

I = Installed
F = Frozen
R = Framework (loaded before rails starts)

[test23 (master)]$ rake gems:unpack:dependencies
(in /Users/stephen/dev/ruby/src/gems/test23)
WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
      /usr/bin aren't both writable.
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/archive-tar-minitar-0.5.2'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/hoe-1.9.0'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/rubyforge-1.0.3'

[test23 (master)]$ rake gems:build
(in /Users/stephen/dev/ruby/src/gems/test23)
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/archive-tar-minitar-0.5.2'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/hoe-1.9.0'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/rubyforge-1.0.3'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'

[test23 (master)]$ rake gems
(in /Users/stephen/dev/ruby/src/gems/test23)
 - [F] RedCloth 
 - [F] aws-s3 
    - [F] xml-simple = 1.0.12
    - [I] builder = 2.1.2
    - [F] mime-types = 1.16
       - [ ] archive-tar-minitar ~&amp;gt; 0.5
       - [F] nokogiri = 1.2.1
       - [ ] rcov ~&amp;gt; 0.8
       - [ ] hoe &amp;gt;= 1.8.3
 - [F] haml = 2.0.9
 - [F] nokogiri 

I = Installed
F = Frozen
R = Framework (loaded before rails starts)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;With David Dollar's latest patch:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;[rails (master)]$ git co gem_dependency
Switched to branch &quot;gem_dependency&quot;
[rails (gem_dependency)]$ git log
commit 15e782dbe0648f10b49073c7fc0562e4a99a5482
Author: David Dollar &amp;lt;&lt;a href=&quot;mailto:ddollar@gmail.com&quot;&gt;ddollar@gmail.com&lt;/a&gt;&amp;gt;
Date:   Tue Mar 10 10:44:24 2009 -0400

    Fixes a lot of brokenness in the gems rake tasks.

    * Fixes the chicken/egg problem present in the current gem system when
        gems are defined in the config that are not yet installed.

      * Makes the gem system understand development vs. runtime dependencies,
        removing the need to have hoe as a dependency of your production app.

      * Makes the gem 'unpacking' system a lot less fragile.

      * Significantly cleans up the code associated with the gem system, making
        it much less opaque.

commit f2c7508befb085ffe19ec7fb9ca2e6919cc919c9
Author: Russ Smith &amp;lt;&lt;a href=&quot;mailto:russ@bashme.org&quot;&gt;russ@bashme.org&lt;/a&gt;&amp;gt;
Date:   Wed Mar 11 12:50:24 2009 -0500

    Update bundled Rack to fix Litespeed compatibility [[#2198](/projects/8994/tickets/2198 &quot;Ticket #2198&quot;) state:resolved]

    Signed-off-by: Joshua Peek &amp;lt;&lt;a href=&quot;mailto:josh@joshpeek.com&quot;&gt;josh@joshpeek.com&lt;/a&gt;&amp;gt;


[rails (gem_dependency)]$ cd -
/Users/stephen/dev/ruby/src/gems/test23
[test23 (master)]$ rm -rf vendor/gems/*
[test23 (master)]$ rake gems
(in /Users/stephen/dev/ruby/src/gems/test23)
 - [I] RedCloth 
 - [I] aws-s3 
    - [I] xml-simple 
    - [R] builder 
    - [I] mime-types 
 - [I] haml = 2.0.9
 - [I] nokogiri 

I = Installed
F = Frozen
R = Framework (loaded before rails starts)
[test23 (master)]$ rake gems:unpack:dependencies
(in /Users/stephen/dev/ruby/src/gems/test23)
WARNING:  Installing to ~/.gem since /Library/Ruby/Gems/1.8 and
      /usr/bin aren't both writable.
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
Unpacked gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
[test23 (master)]$ rake gems:build
(in /Users/stephen/dev/ruby/src/gems/test23)
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/RedCloth-4.1.9'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/aws-s3-0.5.1'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/xml-simple-1.0.12'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/mime-types-1.16'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/haml-2.0.9'
Built gem: '/Users/stephen/dev/ruby/src/gems/test23/vendor/gems/nokogiri-1.2.1'
[test23 (master)]$ rake gems
(in /Users/stephen/dev/ruby/src/gems/test23)
 - [F] RedCloth 
 - [F] aws-s3 
    - [F] xml-simple 
    - [R] builder 
    - [F] mime-types 
 - [F] haml = 2.0.9
 - [F] nokogiri 

I = Installed
F = Frozen
R = Framework (loaded before rails starts)
[test23 (master)]$ ls vendor/gems/
RedCloth-4.1.9      haml-2.0.9      nokogiri-1.2.1
aws-s3-0.5.1        mime-types-1.16     xml-simple-1.0.12
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T21:15:38+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-11T21:59:03+00:00</updated-at>
      <user-id type="integer">8875</user-id>
      <version type="integer">27</version>
      <user-name>Stephen Bannasch</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>A couple things:

- first off, apologies if I was a little pissy in the previous posts. The 2.3 final is colliding badly with my work schedule; too much coding, not enough sleep.

- I got the ticket reference wrong above; it should have been #553.

Anyways, I've attached a patch that incorporates a majority of the suggestions presented here. From the patch:
@@@
- gems:unpack:dependencies now only unpacks runtime dependencies. Use gems:unpack:all_dependencies to get the old behavior.

- gems task now shows status of gems not currently loaded (using lowercase letters). Useful for inspecting dependencies of gems (ruport, for example) that don't load dependencies at startup.

- hardened methods in Rails::GemDependency against Gem::Exception from mismatched versions. Install/unpack/etc. should complain and continue.

- warn users when trying to unpack gems not installed on the system, rather than silently ignoring them.
@@@

Things not included from the previous patches:

- the unpack task doesn't invoke the install task. This mirrors the operation of rubygems - 'gem unpack' doesn't install gems either. 

- the internal refactorings. As stated before, changing the entire API of GemDependency objects between RC2 and final just isn't practical.

Let me know if you find anything else. Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;A couple things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;first off, apologies if I was a little pissy in the previous
posts. The 2.3 final is colliding badly with my work schedule; too
much coding, not enough sleep.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I got the ticket reference wrong above; it should have been
&lt;a href=&quot;/projects/8994/tickets/553&quot; title=&quot;Ticket #553&quot;&gt;#553&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anyways, I've attached a patch that incorporates a majority of
the suggestions presented here. From the patch:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
- gems:unpack:dependencies now only unpacks runtime dependencies. Use gems:unpack:all_dependencies to get the old behavior.

- gems task now shows status of gems not currently loaded (using lowercase letters). Useful for inspecting dependencies of gems (ruport, for example) that don't load dependencies at startup.

- hardened methods in Rails::GemDependency against Gem::Exception from mismatched versions. Install/unpack/etc. should complain and continue.

- warn users when trying to unpack gems not installed on the system, rather than silently ignoring them.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Things not included from the previous patches:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the unpack task doesn't invoke the install task. This mirrors
the operation of rubygems - 'gem unpack' doesn't install gems
either.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the internal refactorings. As stated before, changing the entire
API of GemDependency objects between RC2 and final just isn't
practical.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let me know if you find anything else. Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T09:42:19+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-12T09:42:24+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">28</version>
      <user-name>Matt Jones</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>I actually disagree that unpack should not install first. The analogy to the gem system doesn't really apply. With rake gems:unpack you are trying to unpack the dependencies defined by your application. With gem unpack you are trying to unpack one-and-only-one gem.

I'd argue that 99% of the time, someone that is trying to rake gems:unpack wants all of their config.gem dependencies unpacked, unless they are specifying one with GEM=

It seems to make sense to install the necessary dependencies to achieve what the user is going for.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I actually disagree that unpack should not install first. The
analogy to the gem system doesn't really apply. With rake
gems:unpack you are trying to unpack the dependencies defined by
your application. With gem unpack you are trying to unpack
one-and-only-one gem.&lt;/p&gt;
&lt;p&gt;I'd argue that 99% of the time, someone that is trying to rake
gems:unpack wants all of their config.gem dependencies unpacked,
unless they are specifying one with GEM=&lt;/p&gt;
&lt;p&gt;It seems to make sense to install the necessary dependencies to
achieve what the user is going for.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T13:38:46+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-12T13:38:52+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">29</version>
      <user-name>David Dollar</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>If I may, I think you folks are looking for something like gems:vendor.

You can have gems:install, gems:unpack, gems:unpack:dependencies, etc, all
stay the same, and then have gems:vendor do what you want: vendor all
you need, recursively.

This is just a suggestion, btw. Not really all that interested in what color we paint it, I just want it to work.</body>
      <body-html>&lt;div&gt;&lt;p&gt;If I may, I think you folks are looking for something like
gems:vendor.&lt;/p&gt;
&lt;p&gt;You can have gems:install, gems:unpack,
gems:unpack:dependencies, etc, all stay the same, and then have
gems:vendor do what you want: vendor all you need, recursively.&lt;/p&gt;
&lt;p&gt;This is just a suggestion, btw. Not really all that interested
in what color we paint it, I just want it to work.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T14:03:36+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-12T14:03:39+00:00</updated-at>
      <user-id type="integer">16964</user-id>
      <version type="integer">30</version>
      <user-name>Jordi Bunster</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>(from [99d75a7b02bf430a124b9c3e2515850959d78acf]) Makes the gem system understand development vs. runtime dependencies [#2195 state:resolved]

The patch also fixes:

* Fixes the chicken/egg problem present in the current gem system when
  gems are defined in the config that are not yet installed.

* Remove the need to have hoe as a dependency of your production app.

* Makes the gem 'unpacking' system a lot less fragile.

Signed-off-by: Matt Jones &lt;al2o3cr@gmail.com&gt;
Signed-off-by: Pratik Naik &lt;pratiknaik@gmail.com&gt;
http://github.com/rails/rails/commit/99d75a7b02bf430a124b9c3e2515850959d78acf</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [99d75a7b02bf430a124b9c3e2515850959d78acf]) Makes the gem
system understand development vs. runtime dependencies [&lt;a href=&quot;/projects/8994/tickets/2195&quot; title=&quot;Ticket #2195&quot;&gt;#2195&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;The patch also fixes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fixes the chicken/egg problem present in the current gem system
when gems are defined in the config that are not yet installed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove the need to have hoe as a dependency of your production
app.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Makes the gem 'unpacking' system a lot less fragile.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Signed-off-by: Matt Jones &lt;a href=&quot;mailto:al2o3cr@gmail.com&quot;&gt;al2o3cr@gmail.com&lt;/a&gt; Signed-off-by:
Pratik Naik &lt;a href=&quot;mailto:pratiknaik@gmail.com&quot;&gt;pratiknaik@gmail.com&lt;/a&gt; &lt;a href=&quot;http://github.com/rails/rails/commit/99d75a7b02bf430a124b9c3e2515850959d78acf&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-13T10:25:37+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2009-03-13T10:25:40+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">31</version>
      <user-name>Repository</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs the only boot sale&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs for cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap kids uggs&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap classic tall ugg boots 5815 mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uk cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;super cheap ugg classic mini boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots with zips&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg sunburst boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;really cheap ugg classic mini&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for $64&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots for cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg slippers cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap authentic uggs&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for sale in uk&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots mulberry&lt;/a&gt; So You Can Buy It Now!

&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg brand boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots uk&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg australia boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discount ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale authorized&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;us ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;mens ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;australian ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;fur inside ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;kids ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg bailey boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;shopping for ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg mini boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;womens ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;lowest price ugg boots&lt;/a&gt;,&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt; baby ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg style boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;knock off ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots discount&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discounted ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg roseberry boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;purple ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sydney&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots store&lt;/a&gt; SO Cheap With Free Shipping!

&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store Outlet&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UK UGG Store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg factory store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet stores&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet store locations in pa hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg boots store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia sandals kids&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;boot shoes store ugg hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store locater&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia kids&lt;/a&gt; Thats ugg store uk online shop!

&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;tall boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;cardy ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;uggs sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy chocolate&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots cream&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg mosaic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg tall boot sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;cheap classic tall ugg boots 5815 mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;sundance tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots classic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg adirondack tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall wool&lt;/a&gt;. Have You Best Choice, Buy It Now!


&lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Classic Short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Short Boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;Short uggs&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Shop online&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;authentic ugg australia women's classic short #5825 - black sheepskin&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg fern suede classic short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg in grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg short boots fushia&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots 8 short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short black&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;eggplant short ugg&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;short classic ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;short ugg boots chestnut womens&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots black short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short black paisley&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short sku&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg women's classic short&lt;/a&gt;, Buy It Now! 

&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Triplet&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots 5803, UGG Boots 1873&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots USA&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;bailey button ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots at macys&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty- kids grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button crinkle leather&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triplet boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button blackberry wine&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;discount ugg bailey button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button 5803 grey size 10&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boot grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button cheap&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triple&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty&lt;/a&gt;, Buy It Now!</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs the only boot sale&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs for cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap kids uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap classic tall ugg boots 5815
mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs cheap&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uk cheap ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;super cheap ugg classic mini
boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots
with zips&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg
sunburst boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;really
cheap ugg classic mini&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for $64&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots for cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg slippers cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap authentic uggs&lt;/a&gt;,&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for sale in
uk&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots
mulberry&lt;/a&gt; So You Can Buy It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg brand boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots uk&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sale&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg australia boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;discount ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale
authorized&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;us ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;mens ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;australian ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;fur inside ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;kids ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg bailey
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;adirondack tall
ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;shopping for
ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg mini
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;womens ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;lowest price ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;baby ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg style
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;knock off ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
discount&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots
sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discounted ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg roseberry
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;purple ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
sydney&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
cheap&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
store&lt;/a&gt; SO Cheap With Free Shipping!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store Outlet&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;UK UGG Store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;ugg factory store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet stores&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet store locations
in pa hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg
store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg boots
store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg
australia sandals kids&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;boot shoes store ugg hit bg&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store locater&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia
kids&lt;/a&gt; Thats ugg store uk online shop!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;tall boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;cardy ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;uggs sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots on sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy chocolate&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg boots cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots cream&lt;/a&gt;,
&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boot&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg mosaic tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg tall boot sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;cheap classic tall ugg boots 5815
mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic tall ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall
boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;sundance tall ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots classic
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg adirondack
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall
wool&lt;/a&gt;. Have You Best Choice, Buy It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Classic Short&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;UGG Short Boots&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;Short uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;UGG Shop online&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;authentic ugg australia women's classic
short&lt;/a&gt; &lt;a href=&quot;/projects/8994/tickets/5825&quot; title=
&quot;Ticket #5825&quot;&gt;#5825&lt;/a&gt; - black sheepskin,&lt;br&gt;
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg fern suede classic short&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg in grey&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg short boots fushia&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots 8 short&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;ugg ultra short black&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;eggplant short ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;short classic ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;short ugg boots chestnut womens&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots black short&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short black
paisley&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short
boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short sku&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg women's classic short&lt;/a&gt;, Buy
It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Triplet&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Bomber&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots 5803, UGG Boots
1873&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots USA&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;bailey button ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots
bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boots at macys&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots
- bailey button novelty- kids grey&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button crinkle
leather&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey
button triplet boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg
bailey button blackberry wine&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;discount ugg bailey button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button
boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
5803 grey size 10&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg
bailey button boot grey&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triple&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty&lt;/a&gt;,
Buy It Now!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-25T12:13:07+00:00</created-at>
      <creator-id type="integer">8721</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2195</number>
      <permalink>patch-fix-the-gem-dependency-system-in-rails</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>gems patch</tag>
      <title>Fix the gem dependency system in Rails</title>
      <updated-at type="datetime">2010-11-25T12:13:47+00:00</updated-at>
      <user-id type="integer">126682</user-id>
      <version type="integer">32</version>
      <user-name>sunnyabc</user-name>
      <creator-name>David Dollar</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2195</url>
      <priority-name>Medium</priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>938605b7cc367e09bbccc1a5a2988624d2521ae0</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-10T14:51:48+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">97974</id>
      <size type="integer">17729</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/97974/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>c70e2a375bbcfa5f4aafaea77de197b57da939a8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-10T15:51:37+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98015</id>
      <size type="integer">20602</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98015/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>520da8be6059fa275d24790038e89e868fa7dd4d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-10T20:25:37+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98182</id>
      <size type="integer">21133</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98182/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>9c3b6bde5cabbf6dd53dba96c528980e29dcbefc</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-10T22:09:30+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98239</id>
      <size type="integer">19150</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98239/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>36ba199214136693ca07906005c4514d62e68639</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-11T13:24:17+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98497</id>
      <size type="integer">18865</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98497/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>5ba74f556c27a779ce2b96ce4f7b2761b6d1235e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-11T13:27:49+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98501</id>
      <size type="integer">18873</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98501/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>9f1eed2a65d9a0e371f2ee104915c1ae8045f929</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-11T13:32:42+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98503</id>
      <size type="integer">18892</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98503/vendor-gems-2.3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>bfe97a6f4e272e173d43e809de035eaa7fd232a9</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-12T09:42:19+00:00</created-at>
      <filename>gem-dep-fixes.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98996</id>
      <size type="integer">8078</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98996/gem-dep-fixes.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>0a6d08ec31e80718d95866c88ed61f8201cc2cab</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-12T13:38:46+00:00</created-at>
      <filename>vendor-gems-2.3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">99067</id>
      <size type="integer">18892</size>
      <uploader-id type="integer">8721</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/99067/vendor-gems-2.3.diff</url>
    </attachment>
  </attachments>
</ticket>
