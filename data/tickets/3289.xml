<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-09-28T02:02:18+01:00</created-at>
  <creator-id type="integer">69370</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3289</number>
  <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
  <priority type="integer">154365</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>1.9.1 2.3.3 actionmailer action_mailer bugmash restful_authentication</tag>
  <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
  <updated-at type="datetime">2010-06-23T03:35:15+01:00</updated-at>
  <user-id type="integer">89656</user-id>
  <version type="integer">6</version>
  <user-name>Rohit Arondekar</user-name>
  <creator-name>metasoarous</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
  <priority-name nil="true"></priority-name>
  <original-body>Hi - I have been trying to get action mailer to work with the restful_authentication plugin and a gmail account but have been unable to get past the following error

Net::SMTPAuthenticationError (530 5.7.0 Must issue a STARTTLS command first.

My understanding (after much checking) is that Rails 2.3.3 and Ruby 1.9.1 (any beyond 1.8.7) should have tls functionality built in and all that should be required to get it operating is to pass :enable_starttls_auto =&gt; true to the config.action_mailer.smtp_settings hash (although, checking the docs, it looks like true is the default, but everyone was throwing it in there, so I figured it couldn't hurt). This is not working for me though and I am wondering if anyone else has experienced either success or failure in this regard with these specific versions.

My settings are as follows -

  config.action_mailer.delivery_method = :smtp
  config.action_mailer.smtp_settings = {    
    :address              =&gt; 'smtp.gmail.com',    
    :port                 =&gt; 587,    
    :domain               =&gt; 'gmail.com',    
    :user_name            =&gt; 'sanjuancoop@gmail.com',    
    :password             =&gt; '**gmail-password**',
    :authentication       =&gt; :plain,
    :enable_starttls_auto =&gt; true
  }

And the mailer code is pretty much exactly what got spit out by restful_authentication. The errors happen when I try to signup. So, once again, if others would share their experiences with tls on these versions of ruby and rails that would be greatly appreciated.</original-body>
  <latest-body>Hi - I have been trying to get action mailer to work with the restful_authentication plugin and a gmail account but have been unable to get past the following error

Net::SMTPAuthenticationError (530 5.7.0 Must issue a STARTTLS command first.

My understanding (after much checking) is that Rails 2.3.3 and Ruby 1.9.1 (any beyond 1.8.7) should have tls functionality built in and all that should be required to get it operating is to pass :enable_starttls_auto =&gt; true to the config.action_mailer.smtp_settings hash (although, checking the docs, it looks like true is the default, but everyone was throwing it in there, so I figured it couldn't hurt). This is not working for me though and I am wondering if anyone else has experienced either success or failure in this regard with these specific versions.

My settings are as follows -

  config.action_mailer.delivery_method = :smtp
  config.action_mailer.smtp_settings = {    
    :address              =&gt; 'smtp.gmail.com',    
    :port                 =&gt; 587,    
    :domain               =&gt; 'gmail.com',    
    :user_name            =&gt; 'sanjuancoop@gmail.com',    
    :password             =&gt; '**gmail-password**',
    :authentication       =&gt; :plain,
    :enable_starttls_auto =&gt; true
  }

And the mailer code is pretty much exactly what got spit out by restful_authentication. The errors happen when I try to signup. So, once again, if others would share their experiences with tls on these versions of ruby and rails that would be greatly appreciated.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Hi - I have been trying to get action mailer to work with the
restful_authentication plugin and a gmail account but have been
unable to get past the following error&lt;/p&gt;
&lt;p&gt;Net::SMTPAuthenticationError (530 5.7.0 Must issue a STARTTLS
command first.&lt;/p&gt;
&lt;p&gt;My understanding (after much checking) is that Rails 2.3.3 and
Ruby 1.9.1 (any beyond 1.8.7) should have tls functionality built
in and all that should be required to get it operating is to pass
:enable_starttls_auto =&amp;gt; true to the
config.action_mailer.smtp_settings hash (although, checking the
docs, it looks like true is the default, but everyone was throwing
it in there, so I figured it couldn't hurt). This is not working
for me though and I am wondering if anyone else has experienced
either success or failure in this regard with these specific
versions.&lt;/p&gt;
&lt;p&gt;My settings are as follows -&lt;/p&gt;
&lt;p&gt;config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = {&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;:address              =&amp;gt; 'smtp.gmail.com',
:port                 =&amp;gt; 587,    
:domain               =&amp;gt; 'gmail.com',    
:user_name            =&amp;gt; 'sanjuancoop@gmail.com',    
:password             =&amp;gt; '**gmail-password**',
:authentication       =&amp;gt; :plain,
:enable_starttls_auto =&amp;gt; true&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;And the mailer code is pretty much exactly what got spit out by
restful_authentication. The errors happen when I try to signup. So,
once again, if others would share their experiences with tls on
these versions of ruby and rails that would be greatly
appreciated.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi - I have been trying to get action mailer to work with the restful_authentication plugin and a gmail account but have been unable to get past the following error

Net::SMTPAuthenticationError (530 5.7.0 Must issue a STARTTLS command first.

My understanding (after much checking) is that Rails 2.3.3 and Ruby 1.9.1 (any beyond 1.8.7) should have tls functionality built in and all that should be required to get it operating is to pass :enable_starttls_auto =&gt; true to the config.action_mailer.smtp_settings hash (although, checking the docs, it looks like true is the default, but everyone was throwing it in there, so I figured it couldn't hurt). This is not working for me though and I am wondering if anyone else has experienced either success or failure in this regard with these specific versions.

My settings are as follows -

  config.action_mailer.delivery_method = :smtp
  config.action_mailer.smtp_settings = {    
    :address              =&gt; 'smtp.gmail.com',    
    :port                 =&gt; 587,    
    :domain               =&gt; 'gmail.com',    
    :user_name            =&gt; 'sanjuancoop@gmail.com',    
    :password             =&gt; '**gmail-password**',
    :authentication       =&gt; :plain,
    :enable_starttls_auto =&gt; true
  }

And the mailer code is pretty much exactly what got spit out by restful_authentication. The errors happen when I try to signup. So, once again, if others would share their experiences with tls on these versions of ruby and rails that would be greatly appreciated.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi - I have been trying to get action mailer to work with the
restful_authentication plugin and a gmail account but have been
unable to get past the following error&lt;/p&gt;
&lt;p&gt;Net::SMTPAuthenticationError (530 5.7.0 Must issue a STARTTLS
command first.&lt;/p&gt;
&lt;p&gt;My understanding (after much checking) is that Rails 2.3.3 and
Ruby 1.9.1 (any beyond 1.8.7) should have tls functionality built
in and all that should be required to get it operating is to pass
:enable_starttls_auto =&amp;gt; true to the
config.action_mailer.smtp_settings hash (although, checking the
docs, it looks like true is the default, but everyone was throwing
it in there, so I figured it couldn't hurt). This is not working
for me though and I am wondering if anyone else has experienced
either success or failure in this regard with these specific
versions.&lt;/p&gt;
&lt;p&gt;My settings are as follows -&lt;/p&gt;
&lt;p&gt;config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = {&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;:address              =&amp;gt; 'smtp.gmail.com',
:port                 =&amp;gt; 587,    
:domain               =&amp;gt; 'gmail.com',    
:user_name            =&amp;gt; 'sanjuancoop@gmail.com',    
:password             =&amp;gt; '**gmail-password**',
:authentication       =&amp;gt; :plain,
:enable_starttls_auto =&amp;gt; true&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;And the mailer code is pretty much exactly what got spit out by
restful_authentication. The errors happen when I try to signup. So,
once again, if others would share their experiences with tls on
these versions of ruby and rails that would be greatly
appreciated.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-28T02:02:18+01:00</created-at>
      <creator-id type="integer">69370</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3289</number>
      <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.1 2.3.3 actionmailer action_mailer restful_authentication</tag>
      <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
      <updated-at type="datetime">2009-09-28T03:24:26+01:00</updated-at>
      <user-id type="integer">69370</user-id>
      <version type="integer">1</version>
      <user-name>metasoarous</user-name>
      <creator-name>metasoarous</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I also have tried the exact same above and am having the same issues with:

ruby -v
ruby 1.8.7 (2008-08-11 patchlevel 72) [i486-linux]

Rails 2.3.3</body>
      <body-html>&lt;div&gt;&lt;p&gt;I also have tried the exact same above and am having the same
issues with:&lt;/p&gt;
&lt;p&gt;ruby -v&lt;br&gt;
ruby 1.8.7 (2008-08-11 patchlevel 72) [i486-linux]&lt;/p&gt;
&lt;p&gt;Rails 2.3.3&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-20T20:55:17+01:00</created-at>
      <creator-id type="integer">69370</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3289</number>
      <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.1 2.3.3 actionmailer action_mailer restful_authentication</tag>
      <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
      <updated-at type="datetime">2009-10-20T20:55:18+01:00</updated-at>
      <user-id type="integer">73812</user-id>
      <version type="integer">2</version>
      <user-name>Dewayne Richardson</user-name>
      <creator-name>metasoarous</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T17:25:44+01:00</created-at>
      <creator-id type="integer">69370</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 1.9.1 2.3.3 actionmailer action_mailer restful_authentication
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3289</number>
      <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.1 2.3.3 actionmailer action_mailer bugmash restful_authentication</tag>
      <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-15T17:25:45+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">3</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>metasoarous</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I couldn't reproduce it on master using...

ruby 1.8.7 (2009-06-12 patchlevel 174) [i686-darwin10.2.0], MBARI 0x6770, Ruby Enterprise Edition 2009.10</body>
      <body-html>&lt;div&gt;&lt;p&gt;I couldn't reproduce it on master using...&lt;/p&gt;
&lt;p&gt;ruby 1.8.7 (2009-06-12 patchlevel 174) [i686-darwin10.2.0],
MBARI 0x6770, Ruby Enterprise Edition 2009.10&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T19:10:01+01:00</created-at>
      <creator-id type="integer">69370</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3289</number>
      <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.1 2.3.3 actionmailer action_mailer bugmash restful_authentication</tag>
      <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-15T19:10:03+01:00</updated-at>
      <user-id type="integer">44847</user-id>
      <version type="integer">4</version>
      <user-name>&#193;lvaro Gil</user-name>
      <creator-name>metasoarous</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I could not reproduce on 2.3.3 using:
ruby 1.8.7 (2008-08-11 patchlevel 72) [i686-darwin10.3.0]       OR
ruby 1.9.1p378 (2010-01-10 revision 26273) [i386-darwin10.3.0]

There are the known issues with &lt; 1.8.7 since before 1.8.7 didn't support tls.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I could not reproduce on 2.3.3 using:&lt;br&gt;
ruby 1.8.7 (2008-08-11 patchlevel 72) [i686-darwin10.3.0] OR&lt;br&gt;
ruby 1.9.1p378 (2010-01-10 revision 26273) [i386-darwin10.3.0]&lt;/p&gt;
&lt;p&gt;There are the known issues with &amp;lt; 1.8.7 since before 1.8.7
didn't support tls.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-23T04:36:18+01:00</created-at>
      <creator-id type="integer">69370</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3289</number>
      <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.1 2.3.3 actionmailer action_mailer bugmash restful_authentication</tag>
      <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-23T04:36:24+01:00</updated-at>
      <user-id type="integer">31660</user-id>
      <version type="integer">5</version>
      <user-name>Curtis Carter</user-name>
      <creator-name>metasoarous</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Closing ticket, if this is still an issue for somebody please make a comment to reopen the ticket and I'll oblige.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Closing ticket, if this is still an issue for somebody please
make a comment to reopen the ticket and I'll oblige.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-23T03:35:08+01:00</created-at>
      <creator-id type="integer">69370</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3289</number>
      <permalink>tls-not-working-with-action-mailer-in-rails-233-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>1.9.1 2.3.3 actionmailer action_mailer bugmash restful_authentication</tag>
      <title>tls not working with action mailer in Rails 2.3.3 with Ruby 1.9.1</title>
      <updated-at type="datetime">2010-06-23T03:35:15+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">6</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>metasoarous</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3289</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
