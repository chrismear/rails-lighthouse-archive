<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">40272</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-17T06:48:13+00:00</created-at>
  <creator-id type="integer">84405</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">5611</number>
  <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>duplicate</state>
  <tag nil="true"></tag>
  <title>active_support/cache/file_store.rb   is this correct?</title>
  <updated-at type="datetime">2011-02-17T06:48:13+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">24</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Jim Wilson</creator-name>
  <assigned-user-name>Santiago Pastorino</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>This is crashing on me when I try and run a functional test of a cache sweeper in the test env. 

I wonder if this shouldn't be &quot;match.ord.to_s(16)&quot;?? 

        # Translate a file path into a key.
        def file_path_key(path)
          fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
        end</original-body>
  <latest-body>This is crashing on me when I try and run a functional test of a cache sweeper in the test env. 

I wonder if this shouldn't be &quot;match.ord.to_s(16)&quot;?? 

        # Translate a file path into a key.
        def file_path_key(path)
          fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
        end</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;This is crashing on me when I try and run a functional test of a
cache sweeper in the test env.&lt;/p&gt;
&lt;p&gt;I wonder if this shouldn't be &quot;match.ord.to_s(16)&quot;??&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    # Translate a file path into a key.
    def file_path_key(path)
      fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
      fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
    end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is crashing on me when I try and run a functional test of a cache sweeper in the test env. 

I wonder if this shouldn't be &quot;match.ord.to_s(16)&quot;?? 

        # Translate a file path into a key.
        def file_path_key(path)
          fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
        end</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is crashing on me when I try and run a functional test of a
cache sweeper in the test env.&lt;/p&gt;
&lt;p&gt;I wonder if this shouldn't be &quot;match.ord.to_s(16)&quot;??&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    # Translate a file path into a key.
    def file_path_key(path)
      fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
      fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
    end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-10T23:41:45+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-10T23:41:47+01:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">1</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Can you try to do a failing test case? or at least upload an app with the tests you're mentioning.
Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can you try to do a failing test case? or at least upload an app
with the tests you're mentioning.&lt;br&gt;
Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T03:22:12+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-11T03:22:14+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">2</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This should be anyways changed to &quot;match.ord.to_s(16)&quot; to preserve consistency with rest of the methods using gsub.
Attached a patch for this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This should be anyways changed to &quot;match.ord.to_s(16)&quot; to
preserve consistency with rest of the methods using gsub.&lt;br&gt;
Attached a patch for this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T09:47:08+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-11T09:47:10+01:00</updated-at>
      <user-id type="integer">70483</user-id>
      <version type="integer">3</version>
      <user-name>Grzegorz Kazulak</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>OK, I dug into this a bit deeper and I think I have both a test case showing failure and a fix. My prior suggested change just prevents a whiny nil dump, but doesn't fix the inherent problem.

I am running ruby 1.9.2-p0, Rails 3.0.0, on a Ubuntu box. I ran into problem as my former (2.3.x) action caching and cache sweeping was failing.

Below is a log showing failure from running &quot;rails c&quot;, the fix, and then it apparently working.

Fragments from active_support/cache/file_store.rb. Current code:

@@@ ruby
      UNESCAPE_FILENAME_CHARS = /%[0-9A-F]{2}/
        # Translate a file path into a key.
        def file_path_key(path)
          fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
        end

jwilson@osprey:~/wg/bridge$ rails c
&gt;&gt; t = ActionController::Base.cache_store.send(:key_file_path, &quot;views/index&quot;)
=&gt; &quot;/home/jwilson/wg/bridge/tmp/cache/4E4/5C0/views%2Findex&quot;
&gt;&gt; ActionController::Base.cache_store.send(:file_path_key, t)
NoMethodError: undefined method `ord' for nil:NilClass
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/whiny_nil.rb:48:in `method_missing'
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/cache/file_store.rb:164:in `block in file_path_key'
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/cache/file_store.rb:164:in `gsub'
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/cache/file_store.rb:164:in `file_path_key'
	from (irb):2
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/railties-3.0.0/lib/rails/commands/console.rb:44:in `start'
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/railties-3.0.0/lib/rails/commands/console.rb:8:in `start'
	from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/railties-3.0.0/lib/rails/commands.rb:23:in `&lt;top (required)&gt;'
	from script/rails:6:in `require'
	from script/rails:6:in `&lt;main&gt;'
&gt;&gt; 
@@@

with potential fix

@@@ ruby
      UNESCAPE_FILENAME_CHARS = /%([0-9A-F]{2})/     # create a capture group 
      # Translate a file path into a key.
      def file_path_key(path)
        fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
        # e.g., convert %(2F) to the character &quot;/&quot;
        fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.to_i(16).chr}
      end

jwilson@osprey:~/wg/bridge$ rails c
Loading development environment (Rails 3.0.0)
&gt;&gt; t = ActionController::Base.cache_store.send(:key_file_path, &quot;views/index&quot;)
=&gt; &quot;/home/jwilson/wg/bridge/tmp/cache/4E4/5C0/views%2Findex&quot;
&gt;&gt; ActionController::Base.cache_store.send(:file_path_key, t)
=&gt; &quot;views/index&quot;
&gt;&gt; 
@@@

&lt;em&gt;Edited by [Rohit Arondekar](https://rails.lighthouseapp.com/users/89656) for formating.&lt;/em&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;OK, I dug into this a bit deeper and I think I have both a test
case showing failure and a fix. My prior suggested change just
prevents a whiny nil dump, but doesn't fix the inherent
problem.&lt;/p&gt;
&lt;p&gt;I am running ruby 1.9.2-p0, Rails 3.0.0, on a Ubuntu box. I ran
into problem as my former (2.3.x) action caching and cache sweeping
was failing.&lt;/p&gt;
&lt;p&gt;Below is a log showing failure from running &quot;rails c&quot;, the fix,
and then it apparently working.&lt;/p&gt;
&lt;p&gt;Fragments from active_support/cache/file_store.rb. Current
code:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;      UNESCAPE_FILENAME_CHARS = /%[0-9A-F]{2}/
        # Translate a file path into a key.
        def file_path_key(path)
          fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
        end

jwilson@osprey:~/wg/bridge$ rails c
&amp;gt;&amp;gt; t = ActionController::Base.cache_store.send(:key_file_path, &quot;views/index&quot;)
=&amp;gt; &quot;/home/jwilson/wg/bridge/tmp/cache/4E4/5C0/views%2Findex&quot;
&amp;gt;&amp;gt; ActionController::Base.cache_store.send(:file_path_key, t)
NoMethodError: undefined method `ord' for nil:NilClass
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/whiny_nil.rb:48:in `method_missing'
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/cache/file_store.rb:164:in `block in file_path_key'
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/cache/file_store.rb:164:in `gsub'
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/activesupport-3.0.0/lib/active_support/cache/file_store.rb:164:in `file_path_key'
    from (irb):2
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/railties-3.0.0/lib/rails/commands/console.rb:44:in `start'
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/railties-3.0.0/lib/rails/commands/console.rb:8:in `start'
    from /home/jwilson/.rvm/gems/ruby-1.9.2-p0@cosb/gems/railties-3.0.0/lib/rails/commands.rb:23:in `&amp;lt;top (required)&amp;gt;'
    from script/rails:6:in `require'
    from script/rails:6:in `&amp;lt;main&amp;gt;'
&amp;gt;&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;with potential fix&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;      UNESCAPE_FILENAME_CHARS = /%([0-9A-F]{2})/     # create a capture group 
      # Translate a file path into a key.
      def file_path_key(path)
        fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
        # e.g., convert %(2F) to the character &quot;/&quot;
        fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.to_i(16).chr}
      end

jwilson@osprey:~/wg/bridge$ rails c
Loading development environment (Rails 3.0.0)
&amp;gt;&amp;gt; t = ActionController::Base.cache_store.send(:key_file_path, &quot;views/index&quot;)
=&amp;gt; &quot;/home/jwilson/wg/bridge/tmp/cache/4E4/5C0/views%2Findex&quot;
&amp;gt;&amp;gt; ActionController::Base.cache_store.send(:file_path_key, t)
=&amp;gt; &quot;views/index&quot;
&amp;gt;&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Edited by &lt;a href=
&quot;https://rails.lighthouseapp.com/users/89656&quot;&gt;Rohit Arondekar&lt;/a&gt;
for formating.&lt;/em&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T20:37:05+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-14T13:01:43+01:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">4</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Wait... Its still not quite right. Let me debug some more.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Wait... Its still not quite right. Let me debug some more.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T22:55:44+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-11T22:55:46+01:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">5</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Ok, it is working correctly with above patch. I had an incorrect expire_fragment regexp.

I do see that cache fragments are stored in an encoded fashion:
@@@
jwilson@osprey:~/wg/bridge$ dir tmp/cache/F88/640/
tmp/cache/F88/640/views%2Flocalhost%3A3000%2Fgames%2Findex%3Fid%3D1
@@@

In 2.3.x they would be stored as:
@@@
tmp/cache/F88/640/views/localhost:3000/games/index...
@@@
I assume this is by design.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ok, it is working correctly with above patch. I had an incorrect
expire_fragment regexp.&lt;/p&gt;
&lt;p&gt;I do see that cache fragments are stored in an encoded
fashion:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;jwilson@osprey:~/wg/bridge$ dir tmp/cache/F88/640/
tmp/cache/F88/640/views%2Flocalhost%3A3000%2Fgames%2Findex%3Fid%3D1&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;In 2.3.x they would be stored as:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;tmp/cache/F88/640/views/localhost:3000/games/index...&lt;/code&gt;
&lt;/pre&gt;
I assume this is by design.&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-12T15:07:44+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-12T15:07:46+01:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">6</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-14T06:22:26+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-14T06:22:29+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">7</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>To apply the provided patch we need tests to show the error.
Please can one of you make a test case, thank you ;).</body>
      <body-html>&lt;div&gt;&lt;p&gt;To apply the provided patch we need tests to show the error.&lt;br&gt;
Please can one of you make a test case, thank you ;).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-14T06:24:34+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-14T06:24:36+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">8</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Added a test that fails without the patch and passes with it. git diff below

git diff -p
diff --git a/activesupport/lib/active_support/cache/file_store.rb b/activesupport/lib/active_support/cache/file_store.rb
index 84f6f29..3bfddae 100644
--- a/activesupport/lib/active_support/cache/file_store.rb
+++ b/activesupport/lib/active_support/cache/file_store.rb
@@ -12,7 +12,7 @@ module ActiveSupport
 
       DIR_FORMATTER = &quot;%03X&quot;
       ESCAPE_FILENAME_CHARS = /[^a-z0-9_.-]/i
-      UNESCAPE_FILENAME_CHARS = /%[0-9A-F]{2}/
+      UNESCAPE_FILENAME_CHARS = /%([0-9A-F]{2})/
 
       def initialize(cache_path, options = nil)
         super(options)
@@ -156,7 +156,7 @@ module ActiveSupport
         # Translate a file path into a key.
         def file_path_key(path)
           fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last
-          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}
+          fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.to_i(16).chr}
         end
 
         # Delete empty directories in the cache.
diff --git a/activesupport/test/caching_test.rb b/activesupport/test/caching_test.rb
index 28ef695..05a68e5 100644
--- a/activesupport/test/caching_test.rb
+++ b/activesupport/test/caching_test.rb
@@ -509,6 +509,11 @@ class FileStoreTest &lt; ActiveSupport::TestCase
       assert_nil old_cache.read('foo')
     end
   end
+  
+  def test_key_transformation
+    key = @cache.send(:key_file_path, &quot;views/index?id=1&quot;)
+    assert_equal &quot;views/index?id=1&quot;, @cache.send(:file_path_key, key)
+  end
 end
 
 class MemoryStoreTest &lt; ActiveSupport::TestCase</body>
      <body-html>&lt;div&gt;&lt;p&gt;Added a test that fails without the patch and passes with it.
git diff below&lt;/p&gt;
&lt;p&gt;git diff -p&lt;br&gt;
diff --git a/activesupport/lib/active_support/cache/file_store.rb
b/activesupport/lib/active_support/cache/file_store.rb&lt;br&gt;
index 84f6f29..3bfddae 100644&lt;br&gt;
--- a/activesupport/lib/active_support/cache/file_store.rb +++
b/activesupport/lib/active_support/cache/file_store.rb @@ -12,7
+12,7 @@ module ActiveSupport&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;   DIR_FORMATTER = &quot;%03X&quot;
   ESCAPE_FILENAME_CHARS = /[^a-z0-9_.-]/i&lt;/code&gt;
&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;UNESCAPE_FILENAME_CHARS = /%[0-9A-F]{2}/&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;UNESCAPE_FILENAME_CHARS = /%([0-9A-F]{2})/&lt;/p&gt;
&lt;p&gt;def initialize(cache_path, options = nil)&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; super(options)&lt;/code&gt;
&lt;/pre&gt;
@@ -156,7 +156,7 @@ module ActiveSupport
&lt;pre&gt;
&lt;code&gt; # Translate a file path into a key.
 def file_path_key(path)
   fname = path[cache_path.size, path.size].split(File::SEPARATOR, 4).last&lt;/code&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;
&lt;code&gt;   fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.ord.to_s(16)}&lt;/code&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;
&lt;code&gt;   fname.gsub(UNESCAPE_FILENAME_CHARS){|match| $1.to_i(16).chr}
 end

 # Delete empty directories in the cache.&lt;/code&gt;
&lt;/pre&gt;
diff --git a/activesupport/test/caching_test.rb
b/activesupport/test/caching_test.rb&lt;br&gt;
index 28ef695..05a68e5 100644&lt;br&gt;
--- a/activesupport/test/caching_test.rb +++
b/activesupport/test/caching_test.rb @@ -509,6 +509,11 @@ class
FileStoreTest &amp;lt; ActiveSupport::TestCase assert_nil
old_cache.read('foo') end end&lt;/li&gt;
&lt;li&gt;def test_key_transformation&lt;/li&gt;
&lt;li&gt;key = @cache.send(:key_file_path, &quot;views/index?id=1&quot;)&lt;/li&gt;
&lt;li&gt;assert_equal &quot;views/index?id=1&quot;, @cache.send(:file_path_key,
key)&lt;/li&gt;
&lt;li&gt;end end&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;class MemoryStoreTest &amp;lt; ActiveSupport::TestCase&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-14T15:43:28+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-14T15:43:30+01:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">9</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Lighthouse is messing up the formatting. I am not real familiar with Lighthouse...
Here it is attached.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Lighthouse is messing up the formatting. I am not real familiar
with Lighthouse...&lt;br&gt;
Here it is attached.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-14T15:48:11+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-14T15:48:13+01:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">10</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The patch works fine for me (ruby ee 1.8.7). Like to see this fixed for 3.0.1 as well.. monkey-patched for now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The patch works fine for me (ruby ee 1.8.7). Like to see this
fixed for 3.0.1 as well.. monkey-patched for now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-21T14:05:50+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-09-21T14:05:52+01:00</updated-at>
      <user-id type="integer">73618</user-id>
      <version type="integer">11</version>
      <user-name>Reinier de Lange</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-15T23:02:03+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 82861
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-10-15T23:02:03+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">12</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-16T02:32:44+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;sheepskin boots\&quot; \&quot;testing cache sweeper\&quot;&quot;
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;testing cache sweeper&quot;</tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-10-16T02:32:50+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">14</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T08:36:19+01:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;testing cache sweeper\&quot;&quot;
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-10-19T08:36:24+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">16</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Jim Wilson great work but can you provide a patch following http://rails.lighthouseapp.com/projects/8994/sending-patches
I need you to do this to give credits to you for the patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jim Wilson great work but can you provide a patch following
&lt;a href=
&quot;http://rails.lighthouseapp.com/projects/8994/sending-patches&quot;&gt;http://rails.lighthouseapp.com/projects/8994/sending-patches&lt;/a&gt;&lt;br&gt;
I need you to do this to give credits to you for the patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T17:19:55+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T17:20:04+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">17</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Oh, looks like this is a duplicate of #5850 where I submitted a patch but nobody has touched in awhile. Should take a look at that one as well Santiago as its done a different way and I think the proper way although nobody commented on it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oh, looks like this is a duplicate of &lt;a href=
&quot;/projects/8994/tickets/5850&quot; title=&quot;Ticket #5850&quot;&gt;#5850&lt;/a&gt; where
I submitted a patch but nobody has touched in awhile. Should take a
look at that one as well Santiago as its done a different way and I
think the proper way although nobody commented on it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T17:45:46+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T17:45:51+00:00</updated-at>
      <user-id type="integer">89146</user-id>
      <version type="integer">18</version>
      <user-name>Denis Odorcic</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Denis yeah I know ;).
I wanted to apply this patch before to give some credit to Jim because he worked a lot I guess :) and after that I will apply yours.
BTW please check #5850 I made a comment on it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Denis yeah I know ;).&lt;br&gt;
I wanted to apply this patch before to give some credit to Jim
because he worked a lot I guess :) and after that I will apply
yours.&lt;br&gt;
BTW please check &lt;a href=&quot;/projects/8994/tickets/5850&quot; title=
&quot;Ticket #5850&quot;&gt;#5850&lt;/a&gt; I made a comment on it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T19:02:41+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T19:02:45+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">19</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Perfect, makes sense, thanks :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Perfect, makes sense, thanks :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T20:04:35+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T20:04:40+00:00</updated-at>
      <user-id type="integer">89146</user-id>
      <version type="integer">20</version>
      <user-name>Denis Odorcic</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I don't need any credit. Just take simpliest approach to fix it. However if you need me to do a patch I can... I am not a very active submitter...</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't need any credit. Just take simpliest approach to fix it.
However if you need me to do a patch I can... I am not a very
active submitter...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T21:17:27+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T21:17:31+00:00</updated-at>
      <user-id type="integer">84405</user-id>
      <version type="integer">21</version>
      <user-name>Jim Wilson</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [4e0477c9b75683372f662a614ae91b158120ebe8]) Test cache.key_file_path with separators ht. Jim Wilson [#5611]
https://github.com/rails/rails/commit/4e0477c9b75683372f662a614ae91b158120ebe8</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/4e0477c9b75683372f662a614ae91b158120ebe8&quot;
title=
&quot;Changeset [4e0477c9b75683372f662a614ae91b158120ebe8]&quot;&gt;[4e0477c9b75683372f662a614ae91b158120ebe8]&lt;/a&gt;)
Test cache.key_file_path with separators ht. Jim Wilson [&lt;a href=
&quot;/projects/8994/tickets/5611&quot; title=&quot;Ticket #5611&quot;&gt;#5611&lt;/a&gt;]
&lt;a href=
&quot;https://github.com/rails/rails/commit/4e0477c9b75683372f662a614ae91b158120ebe8&quot;&gt;
https://github.com/rails/rails/commit/4e0477c9b75683372f662a614ae91...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T22:03:17+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T22:03:18+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">22</version>
      <user-name>Repository</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [c7fac8c6ea2590e3cafe50c1e71de78bad9303c1]) Test cache.key_file_path with separators ht. Jim Wilson [#5611]
https://github.com/rails/rails/commit/c7fac8c6ea2590e3cafe50c1e71de78bad9303c1</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/c7fac8c6ea2590e3cafe50c1e71de78bad9303c1&quot;
title=
&quot;Changeset [c7fac8c6ea2590e3cafe50c1e71de78bad9303c1]&quot;&gt;[c7fac8c6ea2590e3cafe50c1e71de78bad9303c1]&lt;/a&gt;)
Test cache.key_file_path with separators ht. Jim Wilson [&lt;a href=
&quot;/projects/8994/tickets/5611&quot; title=&quot;Ticket #5611&quot;&gt;#5611&lt;/a&gt;]
&lt;a href=
&quot;https://github.com/rails/rails/commit/c7fac8c6ea2590e3cafe50c1e71de78bad9303c1&quot;&gt;
https://github.com/rails/rails/commit/c7fac8c6ea2590e3cafe50c1e71de...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T22:03:54+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T22:03:56+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">23</version>
      <user-name>Repository</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Duplicate of #5850</body>
      <body-html>&lt;div&gt;&lt;p&gt;Duplicate of &lt;a href=&quot;/projects/8994/tickets/5850&quot; title=
&quot;Ticket #5850&quot;&gt;#5850&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-07T22:05:01+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2010-11-07T22:05:05+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">24</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Good &lt;a href=http://www.sale-puma.com&gt;Puma shoes sale&lt;/a&gt; information for &lt;a href=http://www.sale-puma.com&gt;Puma shoes&lt;/a&gt; fans: Yesterday, German sportswear maker Cheap Running Shoes purchased effectively lot of money Brands. The transaction entails the Cobra brand, too as linked inventory, intellectual house and endorsement contracts. It also helps make &lt;a href=http://www.sale-puma.com&gt;puma speed cat&lt;/a&gt; Shoes . They provide you with the utmost game and support all through the feet.You can happen around several types of basketball sneakers such as high-top,low-top and mid-top.The &lt;a href=http://www.sale-puma.com&gt;Puma shoes online&lt;/a&gt; and boots give you best ankle support will support want you to obtain steadiness.
As we konw,Trail &lt;a href=http://www.sale-puma.com&gt;Puma Drift Cat&lt;/a&gt; Shoes black, Trail &lt;a href=http://www.sale-puma.com&gt;Puma future cat&lt;/a&gt; ShoesWhite Black? 50 many years backshore are actually released within a great accomplishment. Trail Running Shoes speed cat shoes?go in add-on to King Pele into planet tournament finals, bottom tennis discs matchrs within pasture inhabit an vital area in hold out in Wimbledon Dun; Its working firms have premier manufacturers and major marketplace positions in distilled spirits, residence and security, and golf products. The reply go all through the &lt;a href=http://www.sale-puma.com&gt;Cheap puma shoes&lt;/a&gt; on sale-here you are able to happen around several distcoun.&lt;a href=http://www.sale-puma.com&gt;puma shoes on sale &lt;/a&gt;.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Good &lt;a href=&quot;http:&quot;&gt;Puma shoes sale information for &lt;a href=
&quot;http:&quot;&gt;Puma shoes fans: Yesterday, German sportswear maker Cheap
Running Shoes purchased effectively lot of money Brands. The
transaction entails the Cobra brand, too as linked inventory,
intellectual house and endorsement contracts. It also helps make
&lt;a href=&quot;http:&quot;&gt;puma speed cat Shoes . They provide you with the
utmost game and support all through the feet.You can happen around
several types of basketball sneakers such as high-top,low-top and
mid-top.The &lt;a href=&quot;http:&quot;&gt;Puma shoes online and boots give you
best ankle support will support want you to obtain steadiness.&lt;br&gt;
As we konw,Trail &lt;a href=&quot;http:&quot;&gt;Puma Drift Cat Shoes black, Trail
&lt;a href=&quot;http:&quot;&gt;Puma future cat ShoesWhite Black? 50 many years
backshore are actually released within a great accomplishment.
Trail Running Shoes speed cat shoes?go in add-on to King Pele into
planet tournament finals, bottom tennis discs matchrs within
pasture inhabit an vital area in hold out in Wimbledon Dun; Its
working firms have premier manufacturers and major marketplace
positions in distilled spirits, residence and security, and golf
products. The reply go all through the &lt;a href=&quot;http:&quot;&gt;Cheap puma
shoes on sale-here you are able to happen around several
distcoun.&lt;a href=&quot;http:&quot;&gt;puma shoes on sale .&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-17T06:13:20+00:00</created-at>
      <creator-id type="integer">84405</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5611</number>
      <permalink>active_supportcachefile_storerb-is-this-correct</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag nil="true"></tag>
      <title>active_support/cache/file_store.rb   is this correct?</title>
      <updated-at type="datetime">2011-02-17T06:48:13+00:00</updated-at>
      <user-id type="integer">137442</user-id>
      <version type="integer">25</version>
      <user-name>gfh</user-name>
      <creator-name>Jim Wilson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5611</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>f944d47e131314b3e7976142e22b27a16d352078</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-11T09:47:08+01:00</created-at>
      <filename>consistency.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">669090</id>
      <size type="integer">1051</size>
      <uploader-id type="integer">70483</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/669090/consistency.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>56cee491b7e95454ae5b38c4d6c3901891ab6f07</code>
      <content-type>application/octet-stream</content-type>
      <created-at type="datetime">2010-09-14T15:48:11+01:00</created-at>
      <filename>patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">672617</id>
      <size type="integer">1519</size>
      <uploader-id type="integer">84405</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/672617/patch</url>
    </attachment>
  </attachments>
</ticket>
