<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-01-29T13:33:21+00:00</created-at>
  <creator-id type="integer">23650</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2523</number>
  <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
  <priority type="integer">1667</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>activerecord</tag>
  <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
  <updated-at type="datetime">2011-05-03T10:22:00+01:00</updated-at>
  <user-id type="integer">808</user-id>
  <version type="integer">19</version>
  <user-name>bluefuton</user-name>
  <creator-name>neer</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Currently the output of model.erros.to_xml is:
@@@
&lt;errors&gt;
  &lt;error&gt;First name can't be blank&lt;/error&gt;
  &lt;error&gt;Content Empty&lt;/error&gt;
&lt;/errors&gt;
@@@

This way it is a bit hard to parse which attribute the error is about (ex. in the first error above the attribute is acctually 'first_name'...)

The included diff file contains a fix to change it to:
@@@
&lt;errors&gt;
  &lt;error field=&quot;first_name&quot;&gt;First name can't be blank&lt;/error&gt;
  &lt;error field=&quot;content&quot;&gt;Content Empty&lt;/error&gt;
&lt;/errors&gt;
@@@

This way nothing needs to be changed in current applications and the patch is safe.</original-body>
  <latest-body>Currently the output of model.erros.to_xml is:
@@@
&lt;errors&gt;
  &lt;error&gt;First name can't be blank&lt;/error&gt;
  &lt;error&gt;Content Empty&lt;/error&gt;
&lt;/errors&gt;
@@@

This way it is a bit hard to parse which attribute the error is about (ex. in the first error above the attribute is acctually 'first_name'...)

The included diff file contains a fix to change it to:
@@@
&lt;errors&gt;
  &lt;error field=&quot;first_name&quot;&gt;First name can't be blank&lt;/error&gt;
  &lt;error field=&quot;content&quot;&gt;Content Empty&lt;/error&gt;
&lt;/errors&gt;
@@@

This way nothing needs to be changed in current applications and the patch is safe.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Currently the output of model.erros.to_xml is:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
&amp;lt;errors&amp;gt;
  &amp;lt;error&amp;gt;First name can't be blank&amp;lt;/error&amp;gt;
  &amp;lt;error&amp;gt;Content Empty&amp;lt;/error&amp;gt;
&amp;lt;/errors&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This way it is a bit hard to parse which attribute the error is
about (ex. in the first error above the attribute is acctually
'first_name'...)&lt;/p&gt;
&lt;p&gt;The included diff file contains a fix to change it to:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
&amp;lt;errors&amp;gt;
  &amp;lt;error field=&amp;quot;first_name&amp;quot;&amp;gt;First name can't be blank&amp;lt;/error&amp;gt;
  &amp;lt;error field=&amp;quot;content&amp;quot;&amp;gt;Content Empty&amp;lt;/error&amp;gt;
&amp;lt;/errors&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This way nothing needs to be changed in current applications and
the patch is safe.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Currently the output of model.erros.to_xml is:
@@@
&lt;errors&gt;
  &lt;error&gt;First name can't be blank&lt;/error&gt;
  &lt;error&gt;Content Empty&lt;/error&gt;
&lt;/errors&gt;
@@@

This way it is a bit hard to parse which attribute the error is about (ex. in the first error above the attribute is acctually 'first_name'...)

The included diff file contains a fix to change it to:
@@@
&lt;errors&gt;
  &lt;error field=&quot;first_name&quot;&gt;First name can't be blank&lt;/error&gt;
  &lt;error field=&quot;content&quot;&gt;Content Empty&lt;/error&gt;
&lt;/errors&gt;
@@@

This way nothing needs to be changed in current applications and the patch is safe.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Currently the output of model.erros.to_xml is:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
&amp;lt;errors&amp;gt;
  &amp;lt;error&amp;gt;First name can't be blank&amp;lt;/error&amp;gt;
  &amp;lt;error&amp;gt;Content Empty&amp;lt;/error&amp;gt;
&amp;lt;/errors&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This way it is a bit hard to parse which attribute the error is
about (ex. in the first error above the attribute is acctually
'first_name'...)&lt;/p&gt;
&lt;p&gt;The included diff file contains a fix to change it to:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
&amp;lt;errors&amp;gt;
  &amp;lt;error field=&amp;quot;first_name&amp;quot;&amp;gt;First name can't be blank&amp;lt;/error&amp;gt;
  &amp;lt;error field=&amp;quot;content&amp;quot;&amp;gt;Content Empty&amp;lt;/error&amp;gt;
&amp;lt;/errors&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This way nothing needs to be changed in current applications and
the patch is safe.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-19T15:48:32+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2009-04-19T15:48:37+01:00</updated-at>
      <user-id type="integer">23650</user-id>
      <version type="integer">1</version>
      <user-name>neer</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yes, that would be quite useful, +1 on that!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, that would be quite useful, +1 on that!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-19T15:52:56+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2009-04-19T15:52:59+01:00</updated-at>
      <user-id type="integer">14553</user-id>
      <version type="integer">2</version>
      <user-name>labria</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I've found this patch rather useful and we've tested it in our RIA, that can now highlight fields.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've found this patch rather useful and we've tested it in our
RIA, that can now highlight fields.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-20T19:25:49+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable 3.0 activerecord active_record to_xml xml
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2009-04-20T19:25:54+01:00</updated-at>
      <user-id type="integer">9721</user-id>
      <version type="integer">3</version>
      <user-name>Max Lapshin</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 - currently doing this manually and it'd be be great if it was the default behaviour.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 - currently doing this manually and it'd be be great if it
was the default behaviour.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-11-12T14:39:36+00:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2009-11-12T14:39:41+00:00</updated-at>
      <user-id type="integer">808</user-id>
      <version type="integer">4</version>
      <user-name>bluefuton</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1

This would definitely be a useful change. Unfortunately the patch no longer applies because the `Errors` class has been moved to `ActiveModel`.

I've made a new patch which applies to the master branch at the time of writing. I've named the attribute that specifies which field the error message applies to &quot;on&quot;, but feedback on that choice is welcome.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;This would definitely be a useful change. Unfortunately the
patch no longer applies because the &lt;code&gt;Errors&lt;/code&gt; class has
been moved to &lt;code&gt;ActiveModel&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I've made a new patch which applies to the master branch at the
time of writing. I've named the attribute that specifies which
field the error message applies to &quot;on&quot;, but feedback on that
choice is welcome.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-14T18:10:49+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-04-14T18:10:52+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">5</version>
      <user-name>David Trasbo</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Oops. Looks like I forgot to attach the patch. Here you go:</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oops. Looks like I forgot to attach the patch. Here you go:&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-14T18:11:37+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-04-14T18:11:47+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">6</version>
      <user-name>David Trasbo</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>See also Ticket #1625.

Instead of 

@@@
&lt;error field=&quot;...&quot;&gt;...&lt;/error&gt;
@@@

I would prefer

@@@
&lt;error on=&quot;...&quot;&gt;...&lt;/error&gt;
@@@

like in `error_messages_on`.</body>
      <body-html>&lt;div&gt;&lt;p&gt;See also Ticket &lt;a href=&quot;/projects/8994/tickets/1625&quot; title=
&quot;Ticket #1625&quot;&gt;#1625&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instead of&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;error field=&quot;...&quot;&amp;gt;...&amp;lt;/error&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I would prefer&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;error on=&quot;...&quot;&amp;gt;...&amp;lt;/error&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;like in &lt;code&gt;error_messages_on&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-14T19:54:23+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-04-14T19:54:27+01:00</updated-at>
      <user-id type="integer">36086</user-id>
      <version type="integer">7</version>
      <user-name>Martin Andert</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 on this. It's puzzling that errors.to_json properly shows the field names, but not to_xml.

Was going to look into implementing this for my API, but I'll apply the patch instead. Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 on this. It's puzzling that errors.to_json properly shows the
field names, but not to_xml.&lt;/p&gt;
&lt;p&gt;Was going to look into implementing this for my API, but I'll
apply the patch instead. Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-27T09:03:46+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-04-27T09:03:48+01:00</updated-at>
      <user-id type="integer">25075</user-id>
      <version type="integer">8</version>
      <user-name>subimage</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 the patch works.


I agree with Martin that the attribute name should be 'field' instead of 'on'.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 the patch works.&lt;/p&gt;
&lt;p&gt;I agree with Martin that the attribute name should be 'field'
instead of 'on'.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T04:39:24+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-04-29T04:39:29+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">9</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:47+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-05-04T18:48:47+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">10</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>David Trasbo,

The last patch does not work.

I must made below change:


      options[:builder].errors do |e|
        self.each do |attr, messages|
          Array.wrap(messages).each do |msg|
            e.error(msg, :on =&gt; attr)
          end
        end
      end

-Sandy</body>
      <body-html>&lt;div&gt;&lt;p&gt;David Trasbo,&lt;/p&gt;
&lt;p&gt;The last patch does not work.&lt;/p&gt;
&lt;p&gt;I must made below change:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  options[:builder].errors do |e|
    self.each do |attr, messages|
      Array.wrap(messages).each do |msg|
        e.error(msg, :on =&amp;gt; attr)
      end
    end
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;-Sandy&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-02T05:10:05+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 activerecord active_record feature test to_xml xml</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-10-02T05:10:07+01:00</updated-at>
      <user-id type="integer">118291</user-id>
      <version type="integer">11</version>
      <user-name>zhshxa</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T10:58:15+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable 3.0 activerecord active_record feature test to_xml xml
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-10-11T10:58:18+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">13</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T08:26:15+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2010-10-19T08:26:17+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">15</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-black-p-24.html&quot;&gt;&lt;strong&gt;diddy beats headset&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-pink-p-25.html&quot;&gt;&lt;strong&gt;Monster beats by dre diddy wholesale&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-pink-p-25.html&quot;&gt;&lt;strong&gt;diddy beats headphones&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-white-p-26.html&quot;&gt;&lt;strong&gt;the cost of diddy beats headsets&lt;/strong&gt;&lt;/a&gt; | 
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-white-p-26.html&quot;&gt;&lt;strong&gt;price diddy beats headphone&lt;/strong&gt;&lt;/a&gt;| 
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-turbine-pro-copper-professional-inear-speakers-p-14.html&quot;&gt;&lt;strong&gt;Monster Turbine PRO High-Performance In-Ear Speakers (Copper)&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-turbine-pro-copper-professional-inear-speakers-p-14.html&quot;&gt;&lt;strong&gt;monster turbine pro copper price&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-turbine-pro-copper-professional-inear-speakers-p-14.html&quot;&gt;&lt;strong&gt;beats by dre turbine copper&lt;/strong&gt;&lt;/a&gt;| 
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-miles-davis-tribute-high-performance-inear-speakers-p-13.html&quot;&gt;&lt;strong&gt;Monster Miles Davis Tribute Jazz&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-miles-davis-tribute-high-performance-inear-speakers-p-13.html&quot;&gt;&lt;strong&gt;Monster Miles Davis Tribute Jazz In-Ear Headphones&lt;/strong&gt;&lt;/a&gt;|  
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-miles-davis-tribute-high-performance-inear-speakers-p-13.html&quot;&gt;&lt;strong&gt;monster miles davis tribute price&lt;/strong&gt;&lt;/a&gt;| 
&lt;a href=&quot;http://www.beatsbydr-dre.com/monster-butterfly-by-vivienne-tam-with-controltalk-high-performance-p-9.html&quot;&gt;&lt;strong&gt;Monster Butterfly by Vivienne Tam High Performance Headphones&lt;/strong&gt;&lt;/a&gt;|</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-black-p-24.html&quot;&gt;
&lt;strong&gt;diddy beats headset&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-pink-p-25.html&quot;&gt;
&lt;strong&gt;Monster beats by dre diddy wholesale&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-pink-p-25.html&quot;&gt;
&lt;strong&gt;diddy beats headphones&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-white-p-26.html&quot;&gt;
&lt;strong&gt;the cost of diddy beats headsets&lt;/strong&gt;&lt;/a&gt; |&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-diddy-beats-by-dre-headphones-in-white-p-26.html&quot;&gt;
&lt;strong&gt;price diddy beats headphone&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-turbine-pro-copper-professional-inear-speakers-p-14.html&quot;&gt;
&lt;strong&gt;Monster Turbine PRO High-Performance In-Ear Speakers
(Copper)&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-turbine-pro-copper-professional-inear-speakers-p-14.html&quot;&gt;
&lt;strong&gt;monster turbine pro copper price&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-turbine-pro-copper-professional-inear-speakers-p-14.html&quot;&gt;
&lt;strong&gt;beats by dre turbine copper&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-miles-davis-tribute-high-performance-inear-speakers-p-13.html&quot;&gt;
&lt;strong&gt;Monster Miles Davis Tribute Jazz&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-miles-davis-tribute-high-performance-inear-speakers-p-13.html&quot;&gt;
&lt;strong&gt;Monster Miles Davis Tribute Jazz In-Ear
Headphones&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-miles-davis-tribute-high-performance-inear-speakers-p-13.html&quot;&gt;
&lt;strong&gt;monster miles davis tribute price&lt;/strong&gt;&lt;/a&gt;|&lt;br&gt;
&lt;a href=
&quot;http://www.beatsbydr-dre.com/monster-butterfly-by-vivienne-tam-with-controltalk-high-performance-p-9.html&quot;&gt;
&lt;strong&gt;Monster Butterfly by Vivienne Tam High Performance
Headphones&lt;/strong&gt;&lt;/a&gt;|&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-19T08:18:58+00:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2011-01-29T13:33:21+00:00</updated-at>
      <user-id type="integer">133191</user-id>
      <version type="integer">16</version>
      <user-name>beats by dr. dre</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-04-30T01:00:07+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2011-04-30T01:02:05+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">17</version>
      <user-name>rails</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-30T01:00:07+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag nil="true"></tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2011-04-30T01:02:38+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">18</version>
      <user-name>rails</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This issue still exists in Rails 3.0.7. It's easy to retrieve the attribute name from the to_json output, but it is not included when using to_xml.

@@@
&gt;&gt; zebra.errors
=&gt; #&lt;OrderedHash {:name=&gt;[&quot;can't be blank&quot;]}&gt;
&gt;&gt; zebra.errors.to_xml
=&gt; &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;errors&gt;\n  &lt;error&gt;Name can't be blank&lt;/error&gt;\n&lt;/errors&gt;\n&quot;
&gt;&gt; zebra.errors.to_json
=&gt; &quot;{\&quot;name\&quot;:[\&quot;can't be blank\&quot;]}&quot;
@@@

[state:open]</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue still exists in Rails 3.0.7. It's easy to retrieve
the attribute name from the to_json output, but it is not included
when using to_xml.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;gt;&amp;gt; zebra.errors
=&amp;gt; #&amp;lt;OrderedHash {:name=&amp;gt;[&quot;can't be blank&quot;]}&amp;gt;
&amp;gt;&amp;gt; zebra.errors.to_xml
=&amp;gt; &quot;&amp;lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&amp;gt;\n&amp;lt;errors&amp;gt;\n  &amp;lt;error&amp;gt;Name can't be blank&amp;lt;/error&amp;gt;\n&amp;lt;/errors&amp;gt;\n&quot;
&amp;gt;&amp;gt; zebra.errors.to_json
=&amp;gt; &quot;{\&quot;name\&quot;:[\&quot;can't be blank\&quot;]}&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;[state:open]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-05-03T10:21:44+01:00</created-at>
      <creator-id type="integer">23650</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2523</number>
      <permalink>add-field-attribute-to-activerecorderrorsto_xml</permalink>
      <priority type="integer">1667</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>activerecord</tag>
      <title>Add 'field' attribute to ActiveRecord::Errors#to_xml</title>
      <updated-at type="datetime">2011-05-03T10:22:00+01:00</updated-at>
      <user-id type="integer">808</user-id>
      <version type="integer">19</version>
      <user-name>bluefuton</user-name>
      <creator-name>neer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2523</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>730c9232a8b9e4bf5ecb4d905633366ce127fb8d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-04-19T15:48:32+01:00</created-at>
      <filename>add_field_attribute_to_errors_xml.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">112747</id>
      <size type="integer">1760</size>
      <uploader-id type="integer">23650</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/112747/add_field_attribute_to_errors_xml.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>4d793b7ae4fbab43d30895a2465b117bbd24cdf6</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-14T18:11:37+01:00</created-at>
      <filename>activemodel_errors_to_xml.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">482518</id>
      <size type="integer">1669</size>
      <uploader-id type="integer">65050</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/482518/activemodel_errors_to_xml.patch</url>
    </attachment>
  </attachments>
</ticket>
