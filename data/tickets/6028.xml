<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">25293</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-01-13T06:52:10+00:00</created-at>
  <creator-id type="integer">12845</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6028</number>
  <permalink>routing-breakage-in-303</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag nil="true"></tag>
  <title>Routing breakage in 3.0.3</title>
  <updated-at type="datetime">2011-01-13T06:52:10+00:00</updated-at>
  <user-id type="integer">12845</user-id>
  <version type="integer">15</version>
  <user-name>Wincent Colaiuta</user-name>
  <creator-name>Wincent Colaiuta</creator-name>
  <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
  <priority-name>Medium</priority-name>
  <original-body>Moving from 3.0.1 to 3.0.3 caused 647 spec failures for me in my app, all due to &quot;No route matches&quot; exceptions being raised.

Here's an example failure, triggered by calling `issues_path`:

@@@
No route matches {:controller=&gt;&quot;issues&quot;}
@@@

Looking at the output of `rake routes`, I can see that the route really isn't there.

Here's the route in question:

@@@
resources :issues do
  collection do
    get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}
  end
end
@@@

There are actually more routes declared inside the resource and inside the `collection` block, but they aren't necessary to reproduce the problem; only the `get` route is required to trigger the problem.

The route gives us paginated issue paths like `/issues/page/3` and so on, which I am using rather than query strings (`/issues?page=3`) so that I can do page caching on the index.

`git bisect` reveals that commit 1a2b28c9d9de is the culprit:

@@@
commit 1a2b28c9d9deb7958124917195529f1b96b6bd82 (refs/bisect/bad)
Author: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
Date:   Wed Sep 29 14:24:32 2010 +0200

    Ensure that named routes do not overwrite previously defined routes.
@@@</original-body>
  <latest-body>Moving from 3.0.1 to 3.0.3 caused 647 spec failures for me in my app, all due to &quot;No route matches&quot; exceptions being raised.

Here's an example failure, triggered by calling `issues_path`:

@@@
No route matches {:controller=&gt;&quot;issues&quot;}
@@@

Looking at the output of `rake routes`, I can see that the route really isn't there.

Here's the route in question:

@@@
resources :issues do
  collection do
    get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}
  end
end
@@@

There are actually more routes declared inside the resource and inside the `collection` block, but they aren't necessary to reproduce the problem; only the `get` route is required to trigger the problem.

The route gives us paginated issue paths like `/issues/page/3` and so on, which I am using rather than query strings (`/issues?page=3`) so that I can do page caching on the index.

`git bisect` reveals that commit 1a2b28c9d9de is the culprit:

@@@
commit 1a2b28c9d9deb7958124917195529f1b96b6bd82 (refs/bisect/bad)
Author: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
Date:   Wed Sep 29 14:24:32 2010 +0200

    Ensure that named routes do not overwrite previously defined routes.
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Moving from 3.0.1 to 3.0.3 caused 647 spec failures for me in my
app, all due to &quot;No route matches&quot; exceptions being raised.&lt;/p&gt;
&lt;p&gt;Here's an example failure, triggered by calling
&lt;code&gt;issues_path&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;No route matches {:controller=&amp;gt;&quot;issues&quot;}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Looking at the output of &lt;code&gt;rake routes&lt;/code&gt;, I can see
that the route really isn't there.&lt;/p&gt;
&lt;p&gt;Here's the route in question:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;resources :issues do
  collection do
    get 'page/:page' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;There are actually more routes declared inside the resource and
inside the &lt;code&gt;collection&lt;/code&gt; block, but they aren't necessary
to reproduce the problem; only the &lt;code&gt;get&lt;/code&gt; route is
required to trigger the problem.&lt;/p&gt;
&lt;p&gt;The route gives us paginated issue paths like
&lt;code&gt;/issues/page/3&lt;/code&gt; and so on, which I am using rather than
query strings (&lt;code&gt;/issues?page=3&lt;/code&gt;) so that I can do page
caching on the index.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git bisect&lt;/code&gt; reveals that commit 1a2b28c9d9de is the
culprit:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;commit 1a2b28c9d9deb7958124917195529f1b96b6bd82 (refs/bisect/bad)
Author: Jos&amp;eacute; Valim &amp;lt;jose.valim@gmail.com&amp;gt;
Date:   Wed Sep 29 14:24:32 2010 +0200

    Ensure that named routes do not overwrite previously defined routes.&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Moving from 3.0.1 to 3.0.3 caused 647 spec failures for me in my app, all due to &quot;No route matches&quot; exceptions being raised.

Here's an example failure, triggered by calling `issues_path`:

@@@
No route matches {:controller=&gt;&quot;issues&quot;}
@@@

Looking at the output of `rake routes`, I can see that the route really isn't there.

Here's the route in question:

@@@
resources :issues do
  collection do
    get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}
  end
end
@@@

There are actually more routes declared inside the resource and inside the `collection` block, but they aren't necessary to reproduce the problem; only the `get` route is required to trigger the problem.

The route gives us paginated issue paths like `/issues/page/3` and so on, which I am using rather than query strings (`/issues?page=3`) so that I can do page caching on the index.

`git bisect` reveals that commit 1a2b28c9d9de is the culprit:

@@@
commit 1a2b28c9d9deb7958124917195529f1b96b6bd82 (refs/bisect/bad)
Author: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
Date:   Wed Sep 29 14:24:32 2010 +0200

    Ensure that named routes do not overwrite previously defined routes.
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Moving from 3.0.1 to 3.0.3 caused 647 spec failures for me in my
app, all due to &quot;No route matches&quot; exceptions being raised.&lt;/p&gt;
&lt;p&gt;Here's an example failure, triggered by calling
&lt;code&gt;issues_path&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;No route matches {:controller=&amp;gt;&quot;issues&quot;}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Looking at the output of &lt;code&gt;rake routes&lt;/code&gt;, I can see
that the route really isn't there.&lt;/p&gt;
&lt;p&gt;Here's the route in question:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;resources :issues do
  collection do
    get 'page/:page' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;There are actually more routes declared inside the resource and
inside the &lt;code&gt;collection&lt;/code&gt; block, but they aren't necessary
to reproduce the problem; only the &lt;code&gt;get&lt;/code&gt; route is
required to trigger the problem.&lt;/p&gt;
&lt;p&gt;The route gives us paginated issue paths like
&lt;code&gt;/issues/page/3&lt;/code&gt; and so on, which I am using rather than
query strings (&lt;code&gt;/issues?page=3&lt;/code&gt;) so that I can do page
caching on the index.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git bisect&lt;/code&gt; reveals that commit 1a2b28c9d9de is the
culprit:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;commit 1a2b28c9d9deb7958124917195529f1b96b6bd82 (refs/bisect/bad)
Author: Jos&amp;eacute; Valim &amp;lt;jose.valim@gmail.com&amp;gt;
Date:   Wed Sep 29 14:24:32 2010 +0200

    Ensure that named routes do not overwrite previously defined routes.&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-21T20:54:37+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-21T20:54:38+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">1</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>One minor correction to what I wrote above. The route _is_ actually visible in the `rake routes` output:

@@@
    issues GET    /issues/page/:page(.:format)                              {:action=&gt;&quot;index&quot;, :controller=&gt;&quot;issues&quot;, :page=&gt;/\d+/}
           GET    /issues(.:format)                                         {:action=&gt;&quot;index&quot;, :controller=&gt;&quot;issues&quot;}
           POST   /issues(.:format)                                         {:action=&gt;&quot;create&quot;, :controller=&gt;&quot;issues&quot;}
 new_issue GET    /issues/new(.:format)                                     {:action=&gt;&quot;new&quot;, :controller=&gt;&quot;issues&quot;}
edit_issue GET    /issues/:id/edit(.:format)                                {:action=&gt;&quot;edit&quot;, :controller=&gt;&quot;issues&quot;}
     issue GET    /issues/:id(.:format)                                     {:action=&gt;&quot;show&quot;, :controller=&gt;&quot;issues&quot;}
           PUT    /issues/:id(.:format)                                     {:action=&gt;&quot;update&quot;, :controller=&gt;&quot;issues&quot;}
           DELETE /issues/:id(.:format)                                     {:action=&gt;&quot;destroy&quot;, :controller=&gt;&quot;issues&quot;}
@@@

Here's a quick test demo in Rails console of how this blows up:

@@@
&gt;&gt; include Rails.application.routes.url_helpers
=&gt; Object
&gt;&gt; issues_path
ActionController::RoutingError: No route matches {:controller=&gt;&quot;issues&quot;}
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;One minor correction to what I wrote above. The route
&lt;em&gt;is&lt;/em&gt; actually visible in the &lt;code&gt;rake routes&lt;/code&gt;
output:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    issues GET    /issues/page/:page(.:format)                              {:action=&amp;gt;&quot;index&quot;, :controller=&amp;gt;&quot;issues&quot;, :page=&amp;gt;/\d+/}
           GET    /issues(.:format)                                         {:action=&amp;gt;&quot;index&quot;, :controller=&amp;gt;&quot;issues&quot;}
           POST   /issues(.:format)                                         {:action=&amp;gt;&quot;create&quot;, :controller=&amp;gt;&quot;issues&quot;}
 new_issue GET    /issues/new(.:format)                                     {:action=&amp;gt;&quot;new&quot;, :controller=&amp;gt;&quot;issues&quot;}
edit_issue GET    /issues/:id/edit(.:format)                                {:action=&amp;gt;&quot;edit&quot;, :controller=&amp;gt;&quot;issues&quot;}
     issue GET    /issues/:id(.:format)                                     {:action=&amp;gt;&quot;show&quot;, :controller=&amp;gt;&quot;issues&quot;}
           PUT    /issues/:id(.:format)                                     {:action=&amp;gt;&quot;update&quot;, :controller=&amp;gt;&quot;issues&quot;}
           DELETE /issues/:id(.:format)                                     {:action=&amp;gt;&quot;destroy&quot;, :controller=&amp;gt;&quot;issues&quot;}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Here's a quick test demo in Rails console of how this blows
up:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;gt;&amp;gt; include Rails.application.routes.url_helpers
=&amp;gt; Object
&amp;gt;&amp;gt; issues_path
ActionController::RoutingError: No route matches {:controller=&amp;gt;&quot;issues&quot;}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-21T21:10:35+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-21T21:10:36+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">2</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>For comparison, the output of `rake routes` under Rails v3.0.1:

@@@
    issues GET    /issues/page/:page(.:format)                              {:page=&gt;/\d+/, :controller=&gt;&quot;issues&quot;, :action=&gt;&quot;index&quot;}
    issues GET    /issues(.:format)                                         {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;index&quot;}
    issues POST   /issues(.:format)                                         {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;create&quot;}
 new_issue GET    /issues/new(.:format)                                     {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;new&quot;}
edit_issue GET    /issues/:id/edit(.:format)                                {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;edit&quot;}
     issue GET    /issues/:id(.:format)                                     {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;show&quot;}
     issue PUT    /issues/:id(.:format)                                     {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;update&quot;}
     issue DELETE /issues/:id(.:format)                                     {:controller=&gt;&quot;issues&quot;, :action=&gt;&quot;destroy&quot;}
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;For comparison, the output of &lt;code&gt;rake routes&lt;/code&gt; under
Rails v3.0.1:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    issues GET    /issues/page/:page(.:format)                              {:page=&amp;gt;/\d+/, :controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;index&quot;}
    issues GET    /issues(.:format)                                         {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;index&quot;}
    issues POST   /issues(.:format)                                         {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;create&quot;}
 new_issue GET    /issues/new(.:format)                                     {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;new&quot;}
edit_issue GET    /issues/:id/edit(.:format)                                {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;edit&quot;}
     issue GET    /issues/:id(.:format)                                     {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;show&quot;}
     issue PUT    /issues/:id(.:format)                                     {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;update&quot;}
     issue DELETE /issues/:id(.:format)                                     {:controller=&amp;gt;&quot;issues&quot;, :action=&amp;gt;&quot;destroy&quot;}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-21T21:13:17+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-21T21:13:20+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">3</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I think this is the intended behavior, and not a bug:

When you say 
@@@ ruby
get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}
@@@
 you are saying that a @page@ parameter is required. If you pass the @page@ parameter it works as expected:

@@@ ruby
ruby-1.9.2-p0 &gt; issues_path(:page =&gt; 666)
 =&gt; &quot;/issues/page/666&quot; 
@@@

If you want the @page@ parameter to be optional, do
@@@
get '(page/:page)' =&gt; 'issues#index', :page =&gt; %r{\d+}
@@@

This makes it work as you want:

@@@ ruby
ruby-1.9.2-p0 &gt; issues_path
 =&gt; &quot;/issues&quot; 
ruby-1.9.2-p0 &gt; issues_path(:page =&gt; 1)
 =&gt; &quot;/issues/page/1&quot; 
ruby-1.9.2-p0 &gt; issues_path(:page =&gt; 666)
 =&gt; &quot;/issues/page/666&quot; 
@@@

Maybe the bug was on Rails 3.0.1 that didn't enforce the presence of the @page@ parameter?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think this is the intended behavior, and not a bug:&lt;/p&gt;
&lt;p&gt;When you say&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;get 'page/:page' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}&lt;/code&gt;
&lt;/pre&gt;
you are saying that a &lt;code&gt;page&lt;/code&gt; parameter is required. If
you pass the &lt;code&gt;page&lt;/code&gt; parameter it works as expected:
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;ruby-1.9.2-p0 &amp;gt; issues_path(:page =&amp;gt; 666)
 =&amp;gt; &quot;/issues/page/666&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you want the &lt;code&gt;page&lt;/code&gt; parameter to be optional,
do&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;get '(page/:page)' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This makes it work as you want:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;ruby-1.9.2-p0 &amp;gt; issues_path
 =&amp;gt; &quot;/issues&quot; 
ruby-1.9.2-p0 &amp;gt; issues_path(:page =&amp;gt; 1)
 =&amp;gt; &quot;/issues/page/1&quot; 
ruby-1.9.2-p0 &amp;gt; issues_path(:page =&amp;gt; 666)
 =&amp;gt; &quot;/issues/page/666&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Maybe the bug was on Rails 3.0.1 that didn't enforce the
presence of the &lt;code&gt;page&lt;/code&gt; parameter?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-22T11:47:27+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-22T11:47:30+00:00</updated-at>
      <user-id type="integer">123547</user-id>
      <version type="integer">4</version>
      <user-name>Andr&#233;s Mej&#237;a</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thanks, I'll apply that as a workaround for now.

As for whether it's intended or not, I don't know. It would be good to have clarification from one of the people who designed the router.

I always thought the basic idea in the routing file was that rules would have a kind of top-down precedence, so whatever gets declared first and can match, wins. So declaring the &quot;page&quot; rule after the non-paged case was consistent with that idea:

ie. the non-paged case would be the default which would usually apply, but in the presence of a page parameter the more specific paged case would apply</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks, I'll apply that as a workaround for now.&lt;/p&gt;
&lt;p&gt;As for whether it's intended or not, I don't know. It would be
good to have clarification from one of the people who designed the
router.&lt;/p&gt;
&lt;p&gt;I always thought the basic idea in the routing file was that
rules would have a kind of top-down precedence, so whatever gets
declared first and can match, wins. So declaring the &quot;page&quot; rule
after the non-paged case was consistent with that idea:&lt;/p&gt;
&lt;p&gt;ie. the non-paged case would be the default which would usually
apply, but in the presence of a page parameter the more specific
paged case would apply&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-22T11:56:53+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-22T11:56:55+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">5</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>By the way, it's not working properly for me on Rails 3.0.1, either:

On @routes.rb@ :

@@@ ruby
  resources :issues do
    collection do
      get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}
    end
  end
@@@

This is what I get:

@@@
$ rails c
Loading development environment (Rails 3.0.1)
ruby-1.9.2-p0 &gt; include Rails.application.routes.url_helpers
 =&gt; Object 
ruby-1.9.2-p0 &gt; issues_path
 =&gt; &quot;/issues&quot; 
ruby-1.9.2-p0 &gt; issues_path(:page =&gt; 666)
 =&gt; &quot;/issues?page=666&quot; 
@@@

So as you see, the it didn't use the @page/:page@ route.

Do you get the same?</body>
      <body-html>&lt;div&gt;&lt;p&gt;By the way, it's not working properly for me on Rails 3.0.1,
either:&lt;/p&gt;
&lt;p&gt;On &lt;code&gt;routes.rb&lt;/code&gt; :&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;  resources :issues do
    collection do
      get 'page/:page' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}
    end
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This is what I get:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ rails c
Loading development environment (Rails 3.0.1)
ruby-1.9.2-p0 &amp;gt; include Rails.application.routes.url_helpers
 =&amp;gt; Object 
ruby-1.9.2-p0 &amp;gt; issues_path
 =&amp;gt; &quot;/issues&quot; 
ruby-1.9.2-p0 &amp;gt; issues_path(:page =&amp;gt; 666)
 =&amp;gt; &quot;/issues?page=666&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;So as you see, the it didn't use the &lt;code&gt;page/:page&lt;/code&gt;
route.&lt;/p&gt;
&lt;p&gt;Do you get the same?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-22T12:27:47+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-22T12:27:49+00:00</updated-at>
      <user-id type="integer">123547</user-id>
      <version type="integer">6</version>
      <user-name>Andr&#233;s Mej&#237;a</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I do, but I don't generate the page links using the helper in my app; I have an lib module that does that (via string concatenation, *gasp*)...</body>
      <body-html>&lt;div&gt;&lt;p&gt;I do, but I don't generate the page links using the helper in my
app; I have an lib module that does that (via string concatenation,
&lt;em&gt;gasp&lt;/em&gt;)...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-22T14:24:04+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-22T14:24:09+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">7</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>All right. I think there's nothing to fix here. Can you change this ticket's state to &quot;invalid&quot;?</body>
      <body-html>&lt;div&gt;&lt;p&gt;All right. I think there's nothing to fix here. Can you change
this ticket's state to &quot;invalid&quot;?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-22T14:32:08+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-22T14:32:11+00:00</updated-at>
      <user-id type="integer">123547</user-id>
      <version type="integer">8</version>
      <user-name>Andr&#233;s Mej&#237;a</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Don't think I'm the one to do that, as I'm not sure that it is invalid. Better for someone from the core team, or someone more heavily involved in the router design, to make that decision.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Don't think I'm the one to do that, as I'm not sure that it is
invalid. Better for someone from the core team, or someone more
heavily involved in the router design, to make that decision.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T08:03:10+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-23T08:03:16+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">9</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi,

I can confirm that the behavior has been changed. That commits were making sure that no duplicate named route should be created. That's why in 3.0.3 you would see `issues` only appearing on the first line.

However, I think there's a bug here. It seems like `get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}` got added as a named route, which shouldn't be. I'll make a failing test case and a patch for it :)

Thank you for reporting in. Meanwhile, I think you can solve your problem by adding `:as` to your route like this:

@@@
resources :issues do
  collection do
    get 'page/:page' =&gt; 'issues#index', :page =&gt; %r{\d+}, :as =&gt; 'issues_page'
  end
end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;I can confirm that the behavior has been changed. That commits
were making sure that no duplicate named route should be created.
That's why in 3.0.3 you would see &lt;code&gt;issues&lt;/code&gt; only
appearing on the first line.&lt;/p&gt;
&lt;p&gt;However, I think there's a bug here. It seems like &lt;code&gt;get
'page/:page' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}&lt;/code&gt; got
added as a named route, which shouldn't be. I'll make a failing
test case and a patch for it :)&lt;/p&gt;
&lt;p&gt;Thank you for reporting in. Meanwhile, I think you can solve
your problem by adding &lt;code&gt;:as&lt;/code&gt; to your route like
this:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;resources :issues do
  collection do
    get 'page/:page' =&amp;gt; 'issues#index', :page =&amp;gt; %r{\d+}, :as =&amp;gt; 'issues_page'
  end
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T13:44:22+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-23T13:44:29+00:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">10</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T13:44:57+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 3
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-23T13:45:09+00:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">11</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Prem is right, Rails in fact tries to generate routes automatically, but in this case it is generating the wrong one.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Prem is right, Rails in fact tries to generate routes
automatically, but in this case it is generating the wrong one.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T13:59:13+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-23T13:59:17+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">12</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>(from [731ca00b484379661786fac36c17db7e085603c4]) Dynamically generaeted helpers on collection should not clobber resources url helper [#6028 state:resolved]
https://github.com/rails/rails/commit/731ca00b484379661786fac36c17db7e085603c4</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/731ca00b484379661786fac36c17db7e085603c4&quot;
title=
&quot;Changeset [731ca00b484379661786fac36c17db7e085603c4]&quot;&gt;[731ca00b484379661786fac36c17db7e085603c4]&lt;/a&gt;)
Dynamically generaeted helpers on collection should not clobber
resources url helper [&lt;a href=&quot;/projects/8994/tickets/6028&quot; title=
&quot;Ticket #6028&quot;&gt;#6028&lt;/a&gt; state:resolved] &lt;a href=
&quot;https://github.com/rails/rails/commit/731ca00b484379661786fac36c17db7e085603c4&quot;&gt;
https://github.com/rails/rails/commit/731ca00b484379661786fac36c17d...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-25T10:50:41+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-25T10:50:42+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">13</version>
      <user-name>Repository</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>(from [7e903a3d3a661c6ed4164d6a563bcf54e4497db3]) Dynamically generaeted helpers on collection should not clobber resources url helper [#6028 state:resolved]
https://github.com/rails/rails/commit/7e903a3d3a661c6ed4164d6a563bcf54e4497db3</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/7e903a3d3a661c6ed4164d6a563bcf54e4497db3&quot;
title=
&quot;Changeset [7e903a3d3a661c6ed4164d6a563bcf54e4497db3]&quot;&gt;[7e903a3d3a661c6ed4164d6a563bcf54e4497db3]&lt;/a&gt;)
Dynamically generaeted helpers on collection should not clobber
resources url helper [&lt;a href=&quot;/projects/8994/tickets/6028&quot; title=
&quot;Ticket #6028&quot;&gt;#6028&lt;/a&gt; state:resolved] &lt;a href=
&quot;https://github.com/rails/rails/commit/7e903a3d3a661c6ed4164d6a563bcf54e4497db3&quot;&gt;
https://github.com/rails/rails/commit/7e903a3d3a661c6ed4164d6a563bc...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-25T10:53:21+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-25T10:53:23+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">14</version>
      <user-name>Repository</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thanks for the fix.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks for the fix.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-25T11:38:34+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2010-11-25T11:38:39+00:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">15</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>&lt;a href=&quot;http://www.mp4converter.jp/dvd-creator-mac.html&quot;&gt;DVD&#20316;&#25104;Mac &lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/dvd-ripper-mac.html&quot;&gt;DVD&#12522;&#12483;&#12500;&#12531;&#12464;Mac&lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/dvd-copy-mac.html&quot;&gt; DVD&#12467;&#12500;&#12540;Mac &lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/avi-to-dvd-converter-mac.html&quot;&gt;AVI DVD&#22793;&#25563; Mac&lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/video-to-dvd-converter-mac.html&quot;&gt;&#21205;&#30011; DVD&#22793;&#25563; Mac &lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/dvd-audio-ripper-mac.html&quot;&gt;DVD&#38899;&#22768;&#12522;&#12483;&#12500;&#12531;&#12464; Mac&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=
&quot;http://www.mp4converter.jp/dvd-creator-mac.html&quot;&gt;DVD&amp;#20316;&amp;#25104;Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/dvd-ripper-mac.html&quot;&gt;DVD&amp;#12522;&amp;#12483;&amp;#12500;&amp;#12531;&amp;#12464;Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/dvd-copy-mac.html&quot;&gt;DVD&amp;#12467;&amp;#12500;&amp;#12540;Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/avi-to-dvd-converter-mac.html&quot;&gt;AVI
DVD&amp;#22793;&amp;#25563; Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/video-to-dvd-converter-mac.html&quot;&gt;&amp;#21205;&amp;#30011;
DVD&amp;#22793;&amp;#25563; Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/dvd-audio-ripper-mac.html&quot;&gt;DVD&amp;#38899;&amp;#22768;&amp;#12522;&amp;#12483;&amp;#12500;&amp;#12531;&amp;#12464;
Mac&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-12-06T06:30:26+00:00</created-at>
      <creator-id type="integer">12845</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6028</number>
      <permalink>routing-breakage-in-303</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Routing breakage in 3.0.3</title>
      <updated-at type="datetime">2011-01-13T06:52:10+00:00</updated-at>
      <user-id type="integer">127909</user-id>
      <version type="integer">16</version>
      <user-name>xiangxiang</user-name>
      <creator-name>Wincent Colaiuta</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6028</url>
      <priority-name>Medium</priority-name>
    </version>
  </versions>
</ticket>
