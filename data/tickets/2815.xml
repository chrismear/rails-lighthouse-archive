<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">8406</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-06-18T21:55:23+01:00</created-at>
  <creator-id type="integer">60464</creator-id>
  <milestone-due-on type="datetime">2010-01-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">50064</milestone-id>
  <number type="integer">2815</number>
  <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
  <priority type="integer">4</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
  <title>nested models: build should directly assign the parent</title>
  <updated-at type="datetime">2010-11-12T05:15:51+00:00</updated-at>
  <user-id type="integer">35669</user-id>
  <version type="integer">21</version>
  <user-name>Timothy Jones</user-name>
  <creator-name>sarah (at ultrasaurus)</creator-name>
  <assigned-user-name>Eloy Duran</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
  <milestone-title>2.3.6</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>As noted in https://rails.lighthouseapp.com/projects/8994/tickets/1943 sometimes you want to validate the presence of the parent from the child (to handle the case where the child could be independently created for an existing parent)

Example:

class Person &lt; ActiveRecord::Base
  has_many :children
  accepts_nested_attributes_for :children
end

class Child &lt; ActiveRecord::Base
  belongs_to :person

  #Validating that a child has a parent
  validates_presence_of :person  # as opposed to person_id, if the person is a new_record? w/o id yet
end

p = Person.new(:name =&gt; &quot;Smith&quot;, :children_attributes =&gt; [{:name =&gt; &quot;John&quot;}] )
p.valid? #=&gt; false (should be true)
p.save  #false (should be true)
p.children.first.errors.on(:person_id) #=&gt; &quot;can't be blank&quot;</original-body>
  <latest-body>As noted in https://rails.lighthouseapp.com/projects/8994/tickets/1943 sometimes you want to validate the presence of the parent from the child (to handle the case where the child could be independently created for an existing parent)

Example:

class Person &lt; ActiveRecord::Base
  has_many :children
  accepts_nested_attributes_for :children
end

class Child &lt; ActiveRecord::Base
  belongs_to :person

  #Validating that a child has a parent
  validates_presence_of :person  # as opposed to person_id, if the person is a new_record? w/o id yet
end

p = Person.new(:name =&gt; &quot;Smith&quot;, :children_attributes =&gt; [{:name =&gt; &quot;John&quot;}] )
p.valid? #=&gt; false (should be true)
p.save  #false (should be true)
p.children.first.errors.on(:person_id) #=&gt; &quot;can't be blank&quot;</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;As noted in &lt;a href=&quot;https://rails.lighthouseapp.com/projects/8994/tickets/1943&quot;&gt;https://rails.lighthouseapp.com/...&lt;/a&gt;
sometimes you want to validate the presence of the parent from the
child (to handle the case where the child could be independently
created for an existing parent)&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;class Person &amp;lt; ActiveRecord::Base has_many :children
accepts_nested_attributes_for :children end&lt;/p&gt;
&lt;p&gt;class Child &amp;lt; ActiveRecord::Base belongs_to :person&lt;/p&gt;
&lt;p&gt;#Validating that a child has a parent validates_presence_of
:person # as opposed to person_id, if the person is a new_record?
w/o id yet end&lt;/p&gt;
&lt;p&gt;p = Person.new(:name =&amp;gt; &quot;Smith&quot;, :children_attributes =&amp;gt;
[{:name =&amp;gt; &quot;John&quot;}] ) p.valid? #=&amp;gt; false (should be true)
p.save #false (should be true)
p.children.first.errors.on(:person_id) #=&amp;gt; &quot;can't be blank&quot;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>As noted in https://rails.lighthouseapp.com/projects/8994/tickets/1943 sometimes you want to validate the presence of the parent from the child (to handle the case where the child could be independently created for an existing parent)

Example:

class Person &lt; ActiveRecord::Base
  has_many :children
  accepts_nested_attributes_for :children
end

class Child &lt; ActiveRecord::Base
  belongs_to :person

  #Validating that a child has a parent
  validates_presence_of :person  # as opposed to person_id, if the person is a new_record? w/o id yet
end

p = Person.new(:name =&gt; &quot;Smith&quot;, :children_attributes =&gt; [{:name =&gt; &quot;John&quot;}] )
p.valid? #=&gt; false (should be true)
p.save  #false (should be true)
p.children.first.errors.on(:person_id) #=&gt; &quot;can't be blank&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;As noted in &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/1943&quot;&gt;https://rails.lighthouseapp.com/projects/8994/tickets/1943&lt;/a&gt;
sometimes you want to validate the presence of the parent from the
child (to handle the case where the child could be independently
created for an existing parent)&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;class Person &amp;lt; ActiveRecord::Base&lt;br&gt;
has_many :children accepts_nested_attributes_for :children end&lt;/p&gt;
&lt;p&gt;class Child &amp;lt; ActiveRecord::Base&lt;br&gt;
belongs_to :person&lt;/p&gt;
&lt;p&gt;#Validating that a child has a parent validates_presence_of
:person # as opposed to person_id, if the person is a new_record?
w/o id yet end&lt;/p&gt;
&lt;p&gt;p = Person.new(:name =&amp;gt; &quot;Smith&quot;, :children_attributes =&amp;gt;
[{:name =&amp;gt; &quot;John&quot;}] )&lt;br&gt;
p.valid? #=&amp;gt; false (should be true)&lt;br&gt;
p.save #false (should be true)&lt;br&gt;
p.children.first.errors.on(:person_id) #=&amp;gt; &quot;can't be blank&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-18T21:55:23+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;nested accepts_nested_attributes_for&quot; validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-06-18T21:55:30+01:00</updated-at>
      <user-id type="integer">60464</user-id>
      <version type="integer">1</version>
      <user-name>sarah (at ultrasaurus)</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>We were thinking that the fix could be something like...

in nested_attributes.rb, assign_nested_attributes_for_one_to_one_association (around line 250) and like methods to add the reference to the parent: 

   assn = send(&quot;build_#{association_name}&quot;, attributes.except(*UNASSIGNABLE_KEYS))
   assn.send(&quot;#{parentname}=&quot;, self)

not sure how to get the 'parentname' ...</body>
      <body-html>&lt;div&gt;&lt;p&gt;We were thinking that the fix could be something like...&lt;/p&gt;
&lt;p&gt;in nested_attributes.rb,
assign_nested_attributes_for_one_to_one_association (around line
250) and like methods to add the reference to the parent:&lt;/p&gt;
&lt;p&gt;assn = send(&quot;build_#{association_name}&quot;,
attributes.except(*UNASSIGNABLE_KEYS)) assn.send(&quot;#{parentname}=&quot;,
self)&lt;/p&gt;
&lt;p&gt;not sure how to get the 'parentname' ...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-18T22:11:20+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;nested accepts_nested_attributes_for&quot; validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-06-18T22:11:22+01:00</updated-at>
      <user-id type="integer">60464</user-id>
      <version type="integer">2</version>
      <user-name>sarah (at ultrasaurus)</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've just discovered the object identify work by Murray Steele and the new :inverse_of option for associations.

Using this, the problem described above can be solved, i.e.

   class Person &lt; ActiveRecord::Base
     has_many :children accepts_nested_attributes_for :children, :inverse_of =&gt; :person
   end

   class Child &lt; ActiveRecord::Base
     belongs_to :person, :inverse_of =&gt; :children
     validates_presence_of :person
   end

   p = Person.new(:name =&gt; &quot;Smith&quot;, :children_attributes =&gt; [{:name =&gt; &quot;John&quot;}] )
   p.valid? # ==&gt;  true

I'm attaching a patch that adds test coverage for these cases; it turns out with the latest edge Rails all the pieces are in place for this to work out of the box.  :inverse_of contributes this magic.  Many thanks to Murray</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've just discovered the object identify work by Murray Steele
and the new :inverse_of option for associations.&lt;/p&gt;
&lt;p&gt;Using this, the problem described above can be solved, i.e.&lt;/p&gt;
&lt;p&gt;class Person &amp;lt; ActiveRecord::Base&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; has_many :children accepts_nested_attributes_for :children, :inverse_of =&amp;gt; :person&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;p&gt;class Child &amp;lt; ActiveRecord::Base&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; belongs_to :person, :inverse_of =&amp;gt; :children
 validates_presence_of :person&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;p&gt;p = Person.new(:name =&amp;gt; &quot;Smith&quot;, :children_attributes =&amp;gt;
[{:name =&amp;gt; &quot;John&quot;}] ) p.valid? # ==&amp;gt; true&lt;/p&gt;
&lt;p&gt;I'm attaching a patch that adds test coverage for these cases;
it turns out with the latest edge Rails all the pieces are in place
for this to work out of the box. :inverse_of contributes this
magic. Many thanks to Murray&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-29T22:40:44+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;nested accepts_nested_attributes_for\&quot; validates_presence_of&quot;
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-06-29T22:40:46+01:00</updated-at>
      <user-id type="integer">25923</user-id>
      <version type="integer">3</version>
      <user-name>Wolfram Arnold</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Here is the patch. It only adds tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here is the patch. It only adds tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-29T22:41:58+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-06-29T22:42:04+01:00</updated-at>
      <user-id type="integer">25923</user-id>
      <version type="integer">4</version>
      <user-name>Wolfram Arnold</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>For now, the temporary workaround until Rails 2.3.4 is released would be:

@@@ruby
  p = Person.new(...)
  p.save(false)  # save without validation
  if p.valid?
    #...
  else
    #...
  end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;For now, the temporary workaround until Rails 2.3.4 is released
would be:&lt;/p&gt;
&lt;p&gt;@@@ruby p = Person.new(...) p.save(false) # save without
validation if p.valid?&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;#...&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;else&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;#...&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;pre&gt;

&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-30T03:33:40+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-06-30T03:33:42+01:00</updated-at>
      <user-id type="integer">25923</user-id>
      <version type="integer">5</version>
      <user-name>Wolfram Arnold</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Very nice Wolfram!

Would you mind moving the last test, which tests nested attributes, to the nested_attributes_test.rb file?

Thanks</body>
      <body-html>&lt;div&gt;&lt;p&gt;Very nice Wolfram!&lt;/p&gt;
&lt;p&gt;Would you mind moving the last test, which tests nested
attributes, to the nested_attributes_test.rb file?&lt;/p&gt;
&lt;p&gt;Thanks&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-30T08:19:10+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-06-30T08:19:12+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">6</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Done. Thanks for the suggestion and sorry for the slow turn-around.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Done. Thanks for the suggestion and sorry for the slow
turn-around.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-12T12:12:08+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-12T12:12:16+01:00</updated-at>
      <user-id type="integer">25923</user-id>
      <version type="integer">7</version>
      <user-name>Wolfram Arnold</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>damn it ... did this just miss 2.3.3?</body>
      <body-html>&lt;div&gt;&lt;p&gt;damn it ... did this just miss 2.3.3?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-12T12:30:50+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-12T12:30:51+01:00</updated-at>
      <user-id type="integer">14618</user-id>
      <version type="integer">8</version>
      <user-name>Bodaniel Jeanes</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Wolfram: Unfortunately I'm unable to see your patch atm. It seems there's an issue with LH. If you could try again or maybe add a pastie/gist, I can verify it on the master branch.

@Bodaniel: The problem is that the :inverse_of patch hasn't been applied to the 2-3 branch, and won't  be in the near future as I understand. So until then, this will stay an issue. Feel free to ask on the mailing list if the :inverse_of patch can be applied on the 2-3 branch, or why it isn't being applied.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Wolfram: Unfortunately I'm unable to see your patch atm. It
seems there's an issue with LH. If you could try again or maybe add
a pastie/gist, I can verify it on the master branch.&lt;/p&gt;
&lt;p&gt;@Bodaniel: The problem is that the :inverse_of patch hasn't been
applied to the 2-3 branch, and won't be in the near future as I
understand. So until then, this will stay an issue. Feel free to
ask on the mailing list if the :inverse_of patch can be applied on
the 2-3 branch, or why it isn't being applied.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-12T12:53:01+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-12T12:53:08+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">9</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Eloy: OK, here I'm trying the attachment again, and here is a pastie link: http://pastie.org/543837
Thanks, Wolf</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Eloy: OK, here I'm trying the attachment again, and here is a
pastie link: &lt;a href=
&quot;http://pastie.org/543837&quot;&gt;http://pastie.org/543837&lt;/a&gt; Thanks,
Wolf&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-13T06:50:51+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-13T06:50:58+01:00</updated-at>
      <user-id type="integer">25923</user-id>
      <version type="integer">10</version>
      <user-name>Wolfram Arnold</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>As the author of the :inverse_of patch, I have to say I agree with it not slipping into a 2.3.x release when it didn't make 2.3.0.  That said, all is not lost, you could instead use the plugin that I extracted the :inverse_of code from: http://github.com/h-lame/parental_control/.</body>
      <body-html>&lt;div&gt;&lt;p&gt;As the author of the :inverse_of patch, I have to say I agree
with it not slipping into a 2.3.x release when it didn't make
2.3.0. That said, all is not lost, you could instead use the plugin
that I extracted the :inverse_of code from: &lt;a href=
&quot;http://github.com/h-lame/parental_control/&quot;&gt;http://github.com/h-lame/parental_control/&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-13T09:09:39+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-13T09:09:44+01:00</updated-at>
      <user-id type="integer">136</user-id>
      <version type="integer">11</version>
      <user-name>Murray Steele</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>@Wolfram: Thanks, I'll verify it against master.

@Murray: Thanks for chiming in.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Wolfram: Thanks, I'll verify it against master.&lt;/p&gt;
&lt;p&gt;@Murray: Thanks for chiming in.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-13T10:09:46+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-13T10:09:53+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">12</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>@Myrray:  Thanks for the pointer to the plugin; that'll solve our problem.  I agree with you that given the fundamental nature of the background of :inverse_of with object mapping and identity this is probably not adequate for a dot release.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Myrray: Thanks for the pointer to the plugin; that'll solve our
problem. I agree with you that given the fundamental nature of the
background of :inverse_of with object mapping and identity this is
probably not adequate for a dot release.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-14T09:02:55+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-07-14T09:02:56+01:00</updated-at>
      <user-id type="integer">25923</user-id>
      <version type="integer">13</version>
      <user-name>Wolfram Arnold</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [73f2d37505025a446bb5314a090f412d0fceb8ca]) Add test to verify that the new :inverse_of association option will indeed fix the validation problem for a belongs_to relationship that validates_presence_of the parent, when both the parent and the child are new (in-memory) records. Also check that this works when the parents adds child via nested_attributes_for.

Lastly, add a require 'models/pet' to association_validation_test.rb, so that test can be run independently (was failing due to that missing dependency). [#2815 status:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/73f2d37505025a446bb5314a090f412d0fceb8ca</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/73f2d37505025a446bb5314a090f412d0fceb8ca&quot;
title=
&quot;Changeset [73f2d37505025a446bb5314a090f412d0fceb8ca]&quot;&gt;[73f2d37505025a446bb5314a090f412d0fceb8ca]&lt;/a&gt;)
Add test to verify that the new :inverse_of association option will
indeed fix the validation problem for a belongs_to relationship
that validates_presence_of the parent, when both the parent and the
child are new (in-memory) records. Also check that this works when
the parents adds child via nested_attributes_for.&lt;/p&gt;
&lt;p&gt;Lastly, add a require 'models/pet' to
association_validation_test.rb, so that test can be run
independently (was failing due to that missing dependency).
[&lt;a href=&quot;/projects/8994/tickets/2815&quot; title=
&quot;Ticket #2815&quot;&gt;#2815&lt;/a&gt; status:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/73f2d37505025a446bb5314a090f412d0fceb8ca&quot;&gt;
http://github.com/rails/rails/commit/73f2d37505025a446bb5314a090f41...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T14:01:21+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-08-08T14:01:23+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">14</version>
      <user-name>Repository</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>The following workaround has been fine for me:

@@@
class Person &lt; ActiveRecord::Base

  has_many :children
  accepts_nested_attributes_for :children
  before_validation_on_create :initialize_children

  def initialize_children
    children.each { |c| c.parent = self }
  end

end

class Child &lt; ActiveRecord::Base

  belongs_to :person

end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;The following workaround has been fine for me:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Person &amp;lt; ActiveRecord::Base

  has_many :children
  accepts_nested_attributes_for :children
  before_validation_on_create :initialize_children

  def initialize_children
    children.each { |c| c.parent = self }
  end

end

class Child &amp;lt; ActiveRecord::Base

  belongs_to :person

end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-18T20:23:15+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-08-18T20:23:21+01:00</updated-at>
      <user-id type="integer">32570</user-id>
      <version type="integer">15</version>
      <user-name>Ari Epstein</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Bug #3588 is related to this - :autosave =&gt; true + accepts_nested_attributes_for = circular validation &amp; blown stack.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Bug &lt;a href=&quot;/projects/8994/tickets/3588&quot; title=
&quot;Ticket #3588&quot;&gt;#3588&lt;/a&gt; is related to this - :autosave =&amp;gt; true
+ accepts_nested_attributes_for = circular validation &amp;amp; blown
stack.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-16T22:02:23+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-12-16T22:02:25+00:00</updated-at>
      <user-id type="integer">73743</user-id>
      <version type="integer">16</version>
      <user-name>Sai Emrys</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Hey all, could you please verify that this 2.3.x branch fixes the problems? http://github.com/Fingertips/rails/tree/2-3-stable

It contains all the :inverse_of patches applied to master, plus a few.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey all, could you please verify that this 2.3.x branch fixes
the problems? &lt;a href=
&quot;http://github.com/Fingertips/rails/tree/2-3-stable&quot;&gt;http://github.com/Fingertips/rails/tree/2-3-stable&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It contains all the :inverse_of patches applied to master, plus
a few.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-17T14:47:42+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-12-17T14:47:46+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">17</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>The :inverse_of patches have been pushed to 2-3-stable, closing for now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The :inverse_of patches have been pushed to 2-3-stable, closing
for now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-12-28T20:52:52+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2009-12-28T20:52:58+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">18</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>FYI - I added some info about this in docrails. Please feel free to change/remove this new section, but I think having this documented somewhere is a good idea. It took me a couple of hours to sort out what my problem was and how to fix it today ;)

http://github.com/lifo/docrails/commit/99c092d4e875856502946c29a1ae484eab3befb8</body>
      <body-html>&lt;div&gt;&lt;p&gt;FYI - I added some info about this in docrails. Please feel free
to change/remove this new section, but I think having this
documented somewhere is a good idea. It took me a couple of hours
to sort out what my problem was and how to fix it today ;)&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/lifo/docrails/commit/99c092d4e875856502946c29a1ae484eab3befb8&quot;&gt;
http://github.com/lifo/docrails/commit/99c092d4e875856502946c29a1ae...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-19T20:51:46+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">4</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2010-08-19T20:51:49+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">19</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>+1 for that being documented. One point though here http://guides.rubyonrails.org/activerecord_validations_callbacks.html#validates-presence-of its said &quot;If you want to be sure that an association is present, you&#8217;ll need to test whether the foreign key used to map the association is present, and not the associated object itself.&quot; which contradicts your &quot;validates_presence_of :member&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for that being documented. One point though here &lt;a href=
&quot;http://guides.rubyonrails.org/activerecord_validations_callbacks.html#validates-presence-of&quot;&gt;
http://guides.rubyonrails.org/activerecord_validations_callbacks.ht...&lt;/a&gt;
its said &quot;If you want to be sure that an association is present,
you&amp;#8217;ll need to test whether the foreign key used to map the
association is present, and not the associated object itself.&quot;
which contradicts your &quot;validates_presence_of :member&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-20T09:55:01+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">4</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2010-08-20T09:55:05+01:00</updated-at>
      <user-id type="integer">43210</user-id>
      <version type="integer">20</version>
      <user-name>Evgeniy Dolzhenko</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>This bug is not resolved in the 2.x branch (at least as of 2.3.10).</body>
      <body-html>&lt;div&gt;&lt;p&gt;This bug is not resolved in the 2.x branch (at least as of
2.3.10).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-12T05:15:42+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2815</number>
      <permalink>nested-models-build-should-directly-assign-the-parent</permalink>
      <priority type="integer">4</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.4 accepts_nested_attributes_for inverse_of validates_presence_of</tag>
      <title>nested models: build should directly assign the parent</title>
      <updated-at type="datetime">2010-11-12T05:15:51+00:00</updated-at>
      <user-id type="integer">35669</user-id>
      <version type="integer">21</version>
      <user-name>Timothy Jones</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2815</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>68370e140082ea7417d1349c242b1b528032b7e8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-06-29T22:41:58+01:00</created-at>
      <filename>2009-06-29.wa.validates_presence_of_works_for_new_records_and_nested_attributes_with_inverse_of.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">138945</id>
      <size type="integer">2857</size>
      <uploader-id type="integer">25923</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/138945/2009-06-29.wa.validates_presence_of_works_for_new_records_and_nested_attributes_with_inverse_of.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>913849ad292c06bc738eec08cacb6ab62495d37c</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-12T12:12:08+01:00</created-at>
      <filename>2009-07-12.wa.validates_presence_of_works_for_new_records_and_nested_attributes_with_inverse_of.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">219198</id>
      <size type="integer">4631</size>
      <uploader-id type="integer">25923</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/219198/2009-07-12.wa.validates_presence_of_works_for_new_records_and_nested_attributes_with_inverse_of.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>09ddb9728ea4c3cd95d461374f6b2915bc2a199d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-13T06:50:51+01:00</created-at>
      <filename>2009-07-12.wa.validates_presence_of_works_for_new_records_and_nested_attributes_with_inverse_of.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">219538</id>
      <size type="integer">4631</size>
      <uploader-id type="integer">25923</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/219538/2009-07-12.wa.validates_presence_of_works_for_new_records_and_nested_attributes_with_inverse_of.patch</url>
    </attachment>
  </attachments>
</ticket>
