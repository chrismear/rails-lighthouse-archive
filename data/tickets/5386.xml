<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">15316</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-12-28T03:36:14+00:00</created-at>
  <creator-id type="integer">17407</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71470</milestone-id>
  <number type="integer">5386</number>
  <permalink>arbaseunscoped-inconsistency</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>active_record bug default_scope rails3rc unscoped</tag>
  <title>AR::Base#unscoped inconsistency</title>
  <updated-at type="datetime">2011-04-26T23:59:38+01:00</updated-at>
  <user-id type="integer">51411</user-id>
  <version type="integer">14</version>
  <user-name>Brian Bokor</user-name>
  <creator-name>Akira Matsuda</creator-name>
  <assigned-user-name>Aaron Patterson</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
  <milestone-title>3.1</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>AR::Base#unscoped shows strange behaviour.
In short, it works unexpectedly on default_scoped model only when called via method chaining and chains to another named_scope.

Let me show an example. Consider the following model:
@@@
% rails g model post title:string body:string author:string published:boolean
@@@
@@@ ruby
class Post &lt; ActiveRecord::Base
  default_scope where :published =&gt; true
  scope :written_by, lambda {|name| where :author =&gt; name}
end
@@@

Queries are default_scoped like this:
@@@
Post.scoped.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't')
Post.written_by('DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

and unscoped method works as documented:
@@@
Post.unscoped.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
@@@

unscoped + where unscopes the default_scope and adds the where conditions:
@@@
Post.unscoped.where(:author =&gt; 'DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

it works the same with a named_scope given inside a block:
@@@
Post.unscoped { Post.written_by 'DHH' }.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

**BUT**, the unscoped default_scope comes back to life while unscoped are combined with a named_scope via method chaining.
@@@
Post.unscoped.written_by('DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

Is this intentional or a bug?</original-body>
  <latest-body>AR::Base#unscoped shows strange behaviour.
In short, it works unexpectedly on default_scoped model only when called via method chaining and chains to another named_scope.

Let me show an example. Consider the following model:
@@@
% rails g model post title:string body:string author:string published:boolean
@@@
@@@ ruby
class Post &lt; ActiveRecord::Base
  default_scope where :published =&gt; true
  scope :written_by, lambda {|name| where :author =&gt; name}
end
@@@

Queries are default_scoped like this:
@@@
Post.scoped.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't')
Post.written_by('DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

and unscoped method works as documented:
@@@
Post.unscoped.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
@@@

unscoped + where unscopes the default_scope and adds the where conditions:
@@@
Post.unscoped.where(:author =&gt; 'DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

it works the same with a named_scope given inside a block:
@@@
Post.unscoped { Post.written_by 'DHH' }.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

**BUT**, the unscoped default_scope comes back to life while unscoped are combined with a named_scope via method chaining.
@@@
Post.unscoped.written_by('DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

Is this intentional or a bug?</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;AR::Base#unscoped shows strange behaviour.&lt;br&gt;
In short, it works unexpectedly on default_scoped model only when
called via method chaining and chains to another named_scope.&lt;/p&gt;
&lt;p&gt;Let me show an example. Consider the following model:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;% rails g model post title:string body:string author:string published:boolean&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class Post &amp;lt; ActiveRecord::Base
  default_scope where :published =&amp;gt; true
  scope :written_by, lambda {|name| where :author =&amp;gt; name}
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Queries are default_scoped like this:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.scoped.to_sql
=&amp;gt; SELECT     &quot;posts&quot;.&lt;em&gt; FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't')
Post.written_by('DHH').to_sql
=&amp;gt; SELECT     &quot;posts&quot;.&lt;/em&gt; FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and unscoped method works as documented:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped.to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;unscoped + where unscopes the default_scope and adds the where
conditions:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped.where(:author =&amp;gt; 'DHH').to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;it works the same with a named_scope given inside a
block:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped { Post.written_by 'DHH' }.to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;BUT&lt;/strong&gt;, the unscoped default_scope comes back to
life while unscoped are combined with a named_scope via method
chaining.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped.written_by('DHH').to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Is this intentional or a bug?&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>AR::Base#unscoped shows strange behaviour.
In short, it works unexpectedly on default_scoped model only when called via method chaining and chains to another named_scope.

Let me show an example. Consider the following model:
@@@
% rails g model post title:string body:string author:string published:boolean
@@@
@@@ ruby
class Post &lt; ActiveRecord::Base
  default_scope where :published =&gt; true
  scope :written_by, lambda {|name| where :author =&gt; name}
end
@@@

Queries are default_scoped like this:
@@@
Post.scoped.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't')
Post.written_by('DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

and unscoped method works as documented:
@@@
Post.unscoped.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
@@@

unscoped + where unscopes the default_scope and adds the where conditions:
@@@
Post.unscoped.where(:author =&gt; 'DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

it works the same with a named_scope given inside a block:
@@@
Post.unscoped { Post.written_by 'DHH' }.to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

**BUT**, the unscoped default_scope comes back to life while unscoped are combined with a named_scope via method chaining.
@@@
Post.unscoped.written_by('DHH').to_sql
=&gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')
@@@

Is this intentional or a bug?</body>
      <body-html>&lt;div&gt;&lt;p&gt;AR::Base#unscoped shows strange behaviour.&lt;br&gt;
In short, it works unexpectedly on default_scoped model only when
called via method chaining and chains to another named_scope.&lt;/p&gt;
&lt;p&gt;Let me show an example. Consider the following model:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;% rails g model post title:string body:string author:string published:boolean&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class Post &amp;lt; ActiveRecord::Base
  default_scope where :published =&amp;gt; true
  scope :written_by, lambda {|name| where :author =&amp;gt; name}
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Queries are default_scoped like this:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.scoped.to_sql
=&amp;gt; SELECT     &quot;posts&quot;.&lt;em&gt; FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't')
Post.written_by('DHH').to_sql
=&amp;gt; SELECT     &quot;posts&quot;.&lt;/em&gt; FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and unscoped method works as documented:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped.to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;unscoped + where unscopes the default_scope and adds the where
conditions:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped.where(:author =&amp;gt; 'DHH').to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;it works the same with a named_scope given inside a
block:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped { Post.written_by 'DHH' }.to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;BUT&lt;/strong&gt;, the unscoped default_scope comes back to
life while unscoped are combined with a named_scope via method
chaining.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Post.unscoped.written_by('DHH').to_sql
=&amp;gt; SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;  WHERE     (&quot;posts&quot;.&quot;published&quot; = 't') AND (&quot;posts&quot;.&quot;author&quot; = 'DHH')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Is this intentional or a bug?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-16T10:15:07+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-08-16T10:15:10+01:00</updated-at>
      <user-id type="integer">17407</user-id>
      <version type="integer">1</version>
      <user-name>Akira Matsuda</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Yes it is a bug.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes it is a bug.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-16T14:26:19+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-08-16T14:26:22+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">2</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I personally think a design change is needed to fix this issue. In the meantime following code will solve the issue.

@@@ ruby
    Post.unscoped do
      self.written_by('dhh').to_sql
    end

@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I personally think a design change is needed to fix this issue.
In the meantime following code will solve the issue.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;    Post.unscoped do
      self.written_by('dhh').to_sql
    end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-16T14:48:28+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-08-16T14:48:30+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">3</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>&lt;p&gt;Women in summer would like to become beautiful. Everything can grab other's eyes is their best friends.Products make them beauty and confident is their favourite. Look in the street,you can see many different types of make up to show women's personality.&lt;/p&gt;

&lt;p&gt;Welcome to the shop, the following is our products, free shipping.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Soccer Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Cheap Soccer Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Nike Soccer Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Adidas Soccer Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Nike Soccer Shoes sale&lt;/a&gt;  &lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Adidas Soccer Shoes sale&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGG&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGGs&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGG Boot&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGG Boots&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGG Boots Sale&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;Cheap UGG Boots&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGG Boots Cheap&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;Women UGG boots&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;ugg boots cardy&lt;/a&gt;  &lt;a href=&quot;http://www.uggam.com/&quot;&gt;ugg cardy boots&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Air&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Air Max&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Air Max Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike SB&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Dunk&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Dunk SB&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Dunk SB Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Shox &lt;/a&gt;  &lt;a href=&quot;http://www.nikeca.com/&quot;&gt;Nike Shox Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandou.com/&quot;&gt;Timberland&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandou.com/&quot;&gt;Timberland sale&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandou.com/&quot;&gt;Timberland boots&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandou.com/&quot;&gt;Timberland boots online&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandou.com/&quot;&gt;Timberland on sale&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandou.com/&quot;&gt;New timberland boots&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Women Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Women Bags Sale&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Women Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Women Handbags Sale&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Women New Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Cheap Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/&quot;&gt;Cheap Bags On Sale&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;UGG&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;UGG boots&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;UGG boots sale&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;UGG boots short&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;Short ugg&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;Short ugg boots&lt;/a&gt;  &lt;a href=&quot;http://www.ladysugg.com/&quot;&gt;Ugg boots tall&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/&quot;&gt;New women bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/&quot;&gt;New women bags sale&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/&quot;&gt;New women bags sale online&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/&quot;&gt;Louis Vuitton Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/&quot;&gt;Gucci bags&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike Shoes Sale&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike running&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike running shoes&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike trainers&lt;/a&gt;  &lt;a href=&quot;http://www.nikeou.com/&quot;&gt;Nike trainers shoes&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Timberland&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Timberland boots&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Timberland boots sale&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Timberland boot&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Timberland boot sale&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Timberland boots cheap&lt;/a&gt;  &lt;a href=&quot;http://www.timberlandca.com/&quot;&gt;Men timberlands&lt;/a&gt;  &lt;a href=&quot;http://www.mbt-boot.com/&quot;&gt;MBT&lt;/a&gt;  &lt;a href=&quot;http://www.mbt-boot.com/&quot;&gt;MBT Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.mbt-boot.com/&quot;&gt;MBT Chapa GTX&lt;/a&gt;  &lt;a href=&quot;http://www.mbt-boot.com/&quot;&gt;MBT Men Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.mbt-boot.com/&quot;&gt;MBT Women Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.mbt-boot.com/&quot;&gt;Discount MBT Shoes&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/lv-handbags-c-18.html&quot;&gt;LV Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/gucci-handbags-c-8.html&quot;&gt;Gucci Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/chanel-handbags-c-3.html&quot;&gt;Chanel Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/chloe-handbags-c-4.html&quot;&gt;Chloe Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/dg-handbags-c-5.html&quot;&gt;D&amp;G Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/dior-handbags-c-6.html&quot;&gt;Dior Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/fendi-handbags-c-7.html&quot;&gt;Fendi Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/hermes-handbags-c-9.html&quot;&gt;Hermes Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/jimmy-choo-bags-c-10.html&quot;&gt;Jimmy Choo Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/marc-jacobs-bags-c-11.html&quot;&gt;Marc Jacobs Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/miu-miu-handbags-c-12.html&quot;&gt;Miu Miu Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/mulberry-bags-c-15.html&quot;&gt;Mulberry Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/prada-handbags-c-13.html&quot;&gt;Prada Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/versace-handbags-c-17.html&quot;&gt;Versace Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/yves-saint-laurent-c-14.html&quot;&gt;Yves Saint Laurent&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/balenciaga-bags-c-1.html&quot;&gt;Balenciaga Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagsca.com/burberry-handbags-c-2.html&quot;&gt;Burberry Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/lv-handbags-c-18.html&quot;&gt;LV Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/gucci-handbags-c-8.html&quot;&gt;Gucci Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/chanel-handbags-c-3.html&quot;&gt;Chanel Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/chloe-handbags-c-4.html&quot;&gt;Chloe Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/dg-handbags-c-5.html&quot;&gt;D&amp;G Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/dior-handbags-c-6.html&quot;&gt;Dior Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/fendi-handbags-c-7.html&quot;&gt;Fendi Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/hermes-handbags-c-9.html&quot;&gt;Hermes Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/jimmy-choo-bags-c-10.html&quot;&gt;Jimmy Choo Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/marc-jacobs-bags-c-11.html&quot;&gt;Marc Jacobs Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/miu-miu-handbags-c-12.html&quot;&gt;Miu Miu Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/mulberry-bags-c-15.html&quot;&gt;Mulberry Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/prada-handbags-c-13.html&quot;&gt;Prada Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/versace-handbags-c-17.html&quot;&gt;Versace Handbags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/yves-saint-laurent-c-14.html&quot;&gt;Yves Saint Laurent&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/balenciaga-bags-c-1.html&quot;&gt;Balenciaga Bags&lt;/a&gt;  &lt;a href=&quot;http://www.bagca.com/burberry-handbags-c-2.html&quot;&gt;Burberry Handbags&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Those who want to become most beautiful in the world should try them. Just ones can make you different. Girls who want to grab your boyfriends's heart is necessary to use them.&lt;/p&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Women in summer would like to become beautiful. Everything can
grab other's eyes is their best friends.Products make them beauty
and confident is their favourite. Look in the street,you can see
many different types of make up to show women's personality.&lt;/p&gt;
&lt;p&gt;Welcome to the shop, the following is our products, free
shipping.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Soccer Shoes&lt;/a&gt;
&lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Cheap Soccer Shoes&lt;/a&gt;
&lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Nike Soccer Shoes&lt;/a&gt;
&lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Adidas Soccer Shoes&lt;/a&gt;
&lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Nike Soccer Shoes
sale&lt;/a&gt; &lt;a href=&quot;http://www.nike-soccer-shoes.net/&quot;&gt;Adidas Soccer
Shoes sale&lt;/a&gt; &lt;a href=&quot;http://www.uggam.com/&quot;&gt;UGG&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;UGGs&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;UGG Boot&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;UGG Boots&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;UGG Boots Sale&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;Cheap UGG Boots&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;UGG Boots Cheap&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;Women UGG boots&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;ugg boots cardy&lt;/a&gt; &lt;a href=
&quot;http://www.uggam.com/&quot;&gt;ugg cardy boots&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Air&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Air Max&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Air Max Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike SB&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Dunk&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Dunk SB&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Dunk SB Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Shox&lt;/a&gt; &lt;a href=
&quot;http://www.nikeca.com/&quot;&gt;Nike Shox Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandou.com/&quot;&gt;Timberland&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandou.com/&quot;&gt;Timberland sale&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandou.com/&quot;&gt;Timberland boots&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandou.com/&quot;&gt;Timberland boots online&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandou.com/&quot;&gt;Timberland on sale&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandou.com/&quot;&gt;New timberland boots&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Women Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Women Bags Sale&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Women Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Women Handbags Sale&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Women New Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Cheap Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/&quot;&gt;Cheap Bags On Sale&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;UGG&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;UGG boots&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;UGG boots sale&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;UGG boots short&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;Short ugg&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;Short ugg boots&lt;/a&gt; &lt;a href=
&quot;http://www.ladysugg.com/&quot;&gt;Ugg boots tall&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/&quot;&gt;New women bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/&quot;&gt;New women bags sale&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/&quot;&gt;New women bags sale online&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/&quot;&gt;Louis Vuitton Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/&quot;&gt;Gucci bags&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike Shoes Sale&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike running&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike running shoes&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike trainers&lt;/a&gt; &lt;a href=
&quot;http://www.nikeou.com/&quot;&gt;Nike trainers shoes&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Timberland&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Timberland boots&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Timberland boots sale&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Timberland boot&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Timberland boot sale&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Timberland boots cheap&lt;/a&gt; &lt;a href=
&quot;http://www.timberlandca.com/&quot;&gt;Men timberlands&lt;/a&gt; &lt;a href=
&quot;http://www.mbt-boot.com/&quot;&gt;MBT&lt;/a&gt; &lt;a href=
&quot;http://www.mbt-boot.com/&quot;&gt;MBT Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.mbt-boot.com/&quot;&gt;MBT Chapa GTX&lt;/a&gt; &lt;a href=
&quot;http://www.mbt-boot.com/&quot;&gt;MBT Men Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.mbt-boot.com/&quot;&gt;MBT Women Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.mbt-boot.com/&quot;&gt;Discount MBT Shoes&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/lv-handbags-c-18.html&quot;&gt;LV Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagsca.com/gucci-handbags-c-8.html&quot;&gt;Gucci
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/chanel-handbags-c-3.html&quot;&gt;Chanel
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/chloe-handbags-c-4.html&quot;&gt;Chloe Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagsca.com/dg-handbags-c-5.html&quot;&gt;D&amp;amp;G
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/dior-handbags-c-6.html&quot;&gt;Dior Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagsca.com/fendi-handbags-c-7.html&quot;&gt;Fendi
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/hermes-handbags-c-9.html&quot;&gt;Hermes
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/jimmy-choo-bags-c-10.html&quot;&gt;Jimmy Choo
Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/marc-jacobs-bags-c-11.html&quot;&gt;Marc Jacobs
Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/miu-miu-handbags-c-12.html&quot;&gt;Miu Miu
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/mulberry-bags-c-15.html&quot;&gt;Mulberry Bags&lt;/a&gt;
&lt;a href=&quot;http://www.bagsca.com/prada-handbags-c-13.html&quot;&gt;Prada
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/versace-handbags-c-17.html&quot;&gt;Versace
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/yves-saint-laurent-c-14.html&quot;&gt;Yves Saint
Laurent&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/balenciaga-bags-c-1.html&quot;&gt;Balenciaga
Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagsca.com/burberry-handbags-c-2.html&quot;&gt;Burberry
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/lv-handbags-c-18.html&quot;&gt;LV Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagca.com/gucci-handbags-c-8.html&quot;&gt;Gucci
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/chanel-handbags-c-3.html&quot;&gt;Chanel Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagca.com/chloe-handbags-c-4.html&quot;&gt;Chloe
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/dg-handbags-c-5.html&quot;&gt;D&amp;amp;G Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagca.com/dior-handbags-c-6.html&quot;&gt;Dior
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/fendi-handbags-c-7.html&quot;&gt;Fendi Handbags&lt;/a&gt;
&lt;a href=&quot;http://www.bagca.com/hermes-handbags-c-9.html&quot;&gt;Hermes
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/jimmy-choo-bags-c-10.html&quot;&gt;Jimmy Choo
Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/marc-jacobs-bags-c-11.html&quot;&gt;Marc Jacobs
Bags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/miu-miu-handbags-c-12.html&quot;&gt;Miu Miu
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/mulberry-bags-c-15.html&quot;&gt;Mulberry Bags&lt;/a&gt;
&lt;a href=&quot;http://www.bagca.com/prada-handbags-c-13.html&quot;&gt;Prada
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/versace-handbags-c-17.html&quot;&gt;Versace
Handbags&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/yves-saint-laurent-c-14.html&quot;&gt;Yves Saint
Laurent&lt;/a&gt; &lt;a href=
&quot;http://www.bagca.com/balenciaga-bags-c-1.html&quot;&gt;Balenciaga Bags&lt;/a&gt;
&lt;a href=&quot;http://www.bagca.com/burberry-handbags-c-2.html&quot;&gt;Burberry
Handbags&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Those who want to become most beautiful in the world should try
them. Just ones can make you different. Girls who want to grab your
boyfriends's heart is necessary to use them.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-17T03:30:26+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-08-17T16:21:50+01:00</updated-at>
      <user-id type="integer">111887</user-id>
      <version type="integer">4</version>
      <user-name>quentina</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Today, I e-commerce in the Internet find a shop sell all kinds of shoes, such as the recreational of five fingers shoes, leisure sports of the &lt;a href=&quot;http://www.shoeshoot.com&quot;&gt;Jordan shoes&lt;/a&gt; and help our unable to walk pose of &lt;a href=&quot;http://www.comfortoes.com/mbt-tembea&quot;&gt;mbt-tembea&lt;/a&gt;, and fashion &lt;a href=&quot;http://www.ugg-boots-ou.com&quot;&gt;ugg outlet&lt;/a&gt;. The shop not only sells shoes but also sell &lt;a href=&quot;http://www.baguess.com&quot;&gt;Louis vuitton handbags&lt;/a&gt;, finally, I'd like to &lt;a href=&quot;http://www.vibramshoesmall.com&quot;&gt;buy Vibram five finger &lt;/a&gt;, because it cheap and good quality. You are quick to see, affirmation can find you like!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Today, I e-commerce in the Internet find a shop sell all kinds
of shoes, such as the recreational of five fingers shoes, leisure
sports of the &lt;a href=&quot;http://www.shoeshoot.com&quot;&gt;Jordan shoes&lt;/a&gt;
and help our unable to walk pose of &lt;a href=
&quot;http://www.comfortoes.com/mbt-tembea&quot;&gt;mbt-tembea&lt;/a&gt;, and fashion
&lt;a href=&quot;http://www.ugg-boots-ou.com&quot;&gt;ugg outlet&lt;/a&gt;. The shop not
only sells shoes but also sell &lt;a href=
&quot;http://www.baguess.com&quot;&gt;Louis vuitton handbags&lt;/a&gt;, finally, I'd
like to &lt;a href=&quot;http://www.vibramshoesmall.com&quot;&gt;buy Vibram five
finger&lt;/a&gt; , because it cheap and good quality. You are quick to
see, affirmation can find you like!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-17T08:30:37+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-08-17T16:22:24+01:00</updated-at>
      <user-id type="integer">111899</user-id>
      <version type="integer">5</version>
      <user-name>vivian</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Moreover:

@@@
class Organization &lt; ActiveRecord::Base

  default_scope where(&quot;organizations.state = 'active'&quot;).order(&quot;organizations.qs DESC, organizations.title ASC&quot;)

  unscoped do
    scope :latest, lambda { |num| order(&quot;organizations.created_at DESC&quot;).where(&quot;organizations.state = 'active'&quot;).limit(num) }
  end

  def self.latest2(num)
    unscoped.order(&quot;organizations.created_at DESC&quot;).where(&quot;organizations.state = 'active'&quot;).limit(num) 
  end

end
@@@


ruby-1.9.2-p0 &gt; Organization.latest(5).to_sql
 =&gt; &quot;SELECT     `organizations`.* FROM       `organizations`  WHERE     (organizations.state = 'active') ORDER BY  organizations.qs DESC, organizations.title ASC, organizations.created_at DESC LIMIT 5&quot; 

if the named scope is defined inside the unscoped block it's not working. Whereas the following is working as excepted

ruby-1.9.2-p0 &gt; Organization.latest2(5).to_sql
 =&gt; &quot;SELECT     `organizations`.* FROM       `organizations`  WHERE     (organizations.state = 'active') ORDER BY  organizations.created_at DESC LIMIT 5&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Moreover:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Organization &amp;lt; ActiveRecord::Base

  default_scope where(&quot;organizations.state = 'active'&quot;).order(&quot;organizations.qs DESC, organizations.title ASC&quot;)

  unscoped do
    scope :latest, lambda { |num| order(&quot;organizations.created_at DESC&quot;).where(&quot;organizations.state = 'active'&quot;).limit(num) }
  end

  def self.latest2(num)
    unscoped.order(&quot;organizations.created_at DESC&quot;).where(&quot;organizations.state = 'active'&quot;).limit(num) 
  end

end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;ruby-1.9.2-p0 &amp;gt; Organization.latest(5).to_sql&lt;br&gt;
=&amp;gt; &quot;SELECT &lt;code&gt;organizations&lt;/code&gt;.* FROM
&lt;code&gt;organizations&lt;/code&gt; WHERE (organizations.state = 'active')
ORDER BY organizations.qs DESC, organizations.title ASC,
organizations.created_at DESC LIMIT 5&quot;&lt;/p&gt;
&lt;p&gt;if the named scope is defined inside the unscoped block it's not
working. Whereas the following is working as excepted&lt;/p&gt;
&lt;p&gt;ruby-1.9.2-p0 &amp;gt; Organization.latest2(5).to_sql&lt;br&gt;
=&amp;gt; &quot;SELECT &lt;code&gt;organizations&lt;/code&gt;.* FROM
&lt;code&gt;organizations&lt;/code&gt; WHERE (organizations.state = 'active')
ORDER BY organizations.created_at DESC LIMIT 5&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-02T12:14:36+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-09-02T12:14:37+01:00</updated-at>
      <user-id type="integer">10884</user-id>
      <version type="integer">6</version>
      <user-name>Cyrille</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40263</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Cyrille Personally I think &lt;tt&gt;latest&lt;/tt&gt; is working as expected. The latest scope should not be declared inside unscoped.

I will take another look at this defect but as I remember from my first stab at this issue it is kind of hard to fix without some design change. However now that rails2 is released I will look into it with the possibility of some change in design.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Cyrille Personally I think &lt;tt&gt;latest&lt;/tt&gt; is working as
expected. The latest scope should not be declared inside
unscoped.&lt;/p&gt;
&lt;p&gt;I will take another look at this defect but as I remember from
my first stab at this issue it is kind of hard to fix without some
design change. However now that rails2 is released I will look into
it with the possibility of some change in design.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-03T18:34:29+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-09-03T18:34:30+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">7</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Neeraj Singh</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40263</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Neeraj

In rails 2 I think you were allowed to do stuff like

@@@
   with_exclusive_scope do
    named_scope :most_recent ...
    named_scope :cheapest ...
   end
@@@

In order to define all named scope that don't require default_scope

So I was wondering what's the equivalent in Rails 3 as you said it's not unscoped do ?

The only way for now I find in order to defined scope that wouldn't apply default_scope is to create class method for them like my previous latest2 example. I just think with_exclusive_scope was DRYer ;)</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Neeraj&lt;/p&gt;
&lt;p&gt;In rails 2 I think you were allowed to do stuff like&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;   with_exclusive_scope do
    named_scope :most_recent ...
    named_scope :cheapest ...
   end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;In order to define all named scope that don't require
default_scope&lt;/p&gt;
&lt;p&gt;So I was wondering what's the equivalent in Rails 3 as you said
it's not unscoped do ?&lt;/p&gt;
&lt;p&gt;The only way for now I find in order to defined scope that
wouldn't apply default_scope is to create class method for them
like my previous latest2 example. I just think with_exclusive_scope
was DRYer ;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T09:31:07+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-09-11T09:31:11+01:00</updated-at>
      <user-id type="integer">10884</user-id>
      <version type="integer">8</version>
      <user-name>Cyrille</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Neeraj Singh</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40263</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I posted the answer earlier in a comment.

https://rails.lighthouseapp.com/projects/8994/tickets/5386-arbaseunscoped-inconsistency#ticket-5386-3</body>
      <body-html>&lt;div&gt;&lt;p&gt;I posted the answer earlier in a comment.&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/5386-arbaseunscoped-inconsistency#ticket-5386-3&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/5386-arbaseun...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T13:08:57+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-09-11T13:09:00+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">9</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Neeraj Singh</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T11:35:56+00:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 71472
:assigned_user: 40263
</diffable-attributes>
      <milestone-id type="integer">71470</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-11-07T11:36:02+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.1</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>&lt;a href=http://www.beautiful-ugg.com &gt;ugg nederland&lt;/a&gt; with a legendary brand, first glimpse of &lt;a href=http://www.beautiful-ugg.com &gt;goedkope ugg&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg laarzen&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg australia nederland&lt;/a&gt;for both &lt;a href=http://www.beautiful-ugg.com &gt;ugg store rotterdam&lt;/a&gt;
&lt;a href=http://www.beautiful-ugg.com &gt;ugg schoenen&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg kopen&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg amsterdam&lt;/a&gt;beer-drinking cartoon appearance is not too cold, and it is a style boots, since many euramerican star street pats have sufficient terengganu Ugg snow handsome appearance and fashionable boots and the earth, Ugg sweep of popular wind continues to explode, &lt;a href=http://www.beautiful-ugg.com &gt;ugg bestellen&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg online kopen&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg online bestellen&lt;/a&gt; Ugg there are many fans.

About Australia Ugg sheep leather &lt;a href=http://www.beautiful-ugg.com &gt;kinder ugg&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg goedkoop&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg maten&lt;/a&gt; history dates back to 1978, called a Brian Smith Australian young surfing member once took a batch of sheep leather boots to America. In the past years, Australia craftsman people always habits in New Zealand seaside sewing sheep leather boots, however, is the young man with the business mind bold attempt will this Australian traditional products to the United States ugg boots sale.

At that time, he only a few several pairs &lt;a href=http://www.beautiful-ugg.com &gt;ugg nl&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg in nederland&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;nep ugg&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;echte ugg&lt;/a&gt; leather boots, with full of passion and self-confidence, began in New York street hawkers. However, the start, he has not been so good luck, one day come down, did not sell a pair of &lt;a href=http://www.beautiful-ugg.com &gt;goedkoopste ugg&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg goedkoopste&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg voor kids&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;maten ugg&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;online ugg bestellen&lt;/a&gt; However, he did not lose heart, even a little stubborn think sure to succeed. He believes that, in the U.S. market will have a belong to his boots of heaven and earth.

So he decided to go to California western, to find opportunities. When he arrived at the destination and found there has been part of that such a man as he, with similar sheep leather boots at the seaside sale. Here he head round business into five customer sold 48 boots. Of course, can say is California developed surfing market attracted these from Australia boutique sheep leather boots. Australia &lt;a href=http://www.beautiful-ugg.com &gt;laarzen ugg&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg amerika&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;uggs for cheap&lt;/a&gt;&lt;a href=http://www.beautiful-ugg.com &gt;ugg warmer schoenen&lt;/a&gt; sheep leather boots begins to become every surfers landed necessary article.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http:&quot;&gt;ugg nederland with a legendary brand, first
glimpse of &lt;a href=&quot;http:&quot;&gt;goedkope ugg&lt;a href=&quot;http:&quot;&gt;ugg
laarzen&lt;a href=&quot;http:&quot;&gt;ugg australia nederlandfor both &lt;a href=
&quot;http:&quot;&gt;ugg store rotterdam&lt;br&gt;
&lt;a href=&quot;http:&quot;&gt;ugg schoenen&lt;a href=&quot;http:&quot;&gt;ugg kopen&lt;a href=
&quot;http:&quot;&gt;ugg amsterdambeer-drinking cartoon appearance is not too
cold, and it is a style boots, since many euramerican star street
pats have sufficient terengganu Ugg snow handsome appearance and
fashionable boots and the earth, Ugg sweep of popular wind
continues to explode, &lt;a href=&quot;http:&quot;&gt;ugg bestellen&lt;a href=
&quot;http:&quot;&gt;ugg online kopen&lt;a href=&quot;http:&quot;&gt;ugg online bestellen Ugg
there are many fans.&lt;/p&gt;
&lt;p&gt;About Australia Ugg sheep leather &lt;a href=&quot;http:&quot;&gt;kinder
ugg&lt;a href=&quot;http:&quot;&gt;ugg goedkoop&lt;a href=&quot;http:&quot;&gt;ugg maten history
dates back to 1978, called a Brian Smith Australian young surfing
member once took a batch of sheep leather boots to America. In the
past years, Australia craftsman people always habits in New Zealand
seaside sewing sheep leather boots, however, is the young man with
the business mind bold attempt will this Australian traditional
products to the United States ugg boots sale.&lt;/p&gt;
&lt;p&gt;At that time, he only a few several pairs &lt;a href=&quot;http:&quot;&gt;ugg
nl&lt;a href=&quot;http:&quot;&gt;ugg in nederland&lt;a href=&quot;http:&quot;&gt;nep ugg&lt;a href=
&quot;http:&quot;&gt;echte ugg leather boots, with full of passion and
self-confidence, began in New York street hawkers. However, the
start, he has not been so good luck, one day come down, did not
sell a pair of &lt;a href=&quot;http:&quot;&gt;goedkoopste ugg&lt;a href=&quot;http:&quot;&gt;ugg
goedkoopste&lt;a href=&quot;http:&quot;&gt;ugg voor kids&lt;a href=&quot;http:&quot;&gt;maten
ugg&lt;a href=&quot;http:&quot;&gt;online ugg bestellen However, he did not lose
heart, even a little stubborn think sure to succeed. He believes
that, in the U.S. market will have a belong to his boots of heaven
and earth.&lt;/p&gt;
&lt;p&gt;So he decided to go to California western, to find
opportunities. When he arrived at the destination and found there
has been part of that such a man as he, with similar sheep leather
boots at the seaside sale. Here he head round business into five
customer sold 48 boots. Of course, can say is California developed
surfing market attracted these from Australia boutique sheep
leather boots. Australia &lt;a href=&quot;http:&quot;&gt;laarzen ugg&lt;a href=
&quot;http:&quot;&gt;ugg amerika&lt;a href=&quot;http:&quot;&gt;uggs for cheap&lt;a href=
&quot;http:&quot;&gt;ugg warmer schoenen sheep leather boots begins to become
every surfers landed necessary article.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-28T02:58:50+00:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71470</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2010-12-28T03:36:14+00:00</updated-at>
      <user-id type="integer">130424</user-id>
      <version type="integer">11</version>
      <user-name>tdtgrdhg</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.1</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-29T01:00:15+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71470</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2011-03-29T01:02:43+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">12</version>
      <user-name>rails</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.1</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-03-29T01:00:16+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71470</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2011-03-29T01:01:41+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">13</version>
      <user-name>rails</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.1</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I dont' have a solution for this issue but I have noticed that in 3.0.5

Doesn't work
scope :latest, unscoped.order()

Doesn't work
unscoped do
     scope :latest, order()
end

Works
def self.latest
    unscoped.order()
end

Works (although deprecated)
scope :latest, reorder()

I'm not sure I'll have time right now to look into fixing but that is what my tests have proven.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I dont' have a solution for this issue but I have noticed that
in 3.0.5&lt;/p&gt;
&lt;p&gt;Doesn't work&lt;br&gt;
scope :latest, unscoped.order()&lt;/p&gt;
&lt;p&gt;Doesn't work&lt;br&gt;
unscoped do&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; scope :latest, order()&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;p&gt;Works&lt;br&gt;
def self.latest&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;unscoped.order()&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;p&gt;Works (although deprecated)&lt;br&gt;
scope :latest, reorder()&lt;/p&gt;
&lt;p&gt;I'm not sure I'll have time right now to look into fixing but
that is what my tests have proven.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-26T23:59:25+01:00</created-at>
      <creator-id type="integer">17407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71470</milestone-id>
      <number type="integer">5386</number>
      <permalink>arbaseunscoped-inconsistency</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>active_record bug default_scope rails3rc unscoped</tag>
      <title>AR::Base#unscoped inconsistency</title>
      <updated-at type="datetime">2011-04-26T23:59:38+01:00</updated-at>
      <user-id type="integer">51411</user-id>
      <version type="integer">14</version>
      <user-name>Brian Bokor</user-name>
      <creator-name>Akira Matsuda</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5386</url>
      <milestone-title>3.1</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
