<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">5</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-02-15T18:24:17+00:00</created-at>
  <creator-id type="integer">11144</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">1976</number>
  <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
  <priority type="integer">5</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
  <title>Scaffold generator not working well with namespaced resources</title>
  <updated-at type="datetime">2010-03-12T20:35:44+00:00</updated-at>
  <user-id type="integer">19965</user-id>
  <version type="integer">36</version>
  <user-name>Jos&#233; Valim</user-name>
  <creator-name>pablobm</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
  <priority-name nil="true"></priority-name>
  <original-body>Try the following:

./script/generate scaffold admin/something name:string

The generated scaffold does not work out of the box. This happens every time a scaffold is generated within a namespace.

The provided patch solves this problem. It also takes on some refactoring of how the symbols used in the generator templates are generated, using a new Ruby mixin that I have called name_composer.

This name_composer expects to be included in a class with an attribute 'name'. It will then provide methods to generate variants of this name like so:

@@@ Ruby
c = Struct.new(:name).new('admin_space/product_line').extend(NameComposer)
c.name # =&gt; &quot;admin_space/product_line&quot;
c.underscored_name # =&gt; admin_space/product_line
c.plural_base_name # =&gt; product_lines
c.camelized_name # =&gt; AdminSpace::ProductLine
@@@

Available modifiers include: base, camelized, underscored, singular and plural.


There is also the question of how models should work. Since ActiveRecord does not automatically pick up a table name admin_space_product_line for model AdminSpace::ProductLine, I have made the generator assume the table name will be product_line.

This could be changed by explicitly naming the table name in the generated model file, but I have left that for discussion for the moment.</original-body>
  <latest-body>Try the following:

./script/generate scaffold admin/something name:string

The generated scaffold does not work out of the box. This happens every time a scaffold is generated within a namespace.

The provided patch solves this problem. It also takes on some refactoring of how the symbols used in the generator templates are generated, using a new Ruby mixin that I have called name_composer.

This name_composer expects to be included in a class with an attribute 'name'. It will then provide methods to generate variants of this name like so:

@@@ Ruby
c = Struct.new(:name).new('admin_space/product_line').extend(NameComposer)
c.name # =&gt; &quot;admin_space/product_line&quot;
c.underscored_name # =&gt; admin_space/product_line
c.plural_base_name # =&gt; product_lines
c.camelized_name # =&gt; AdminSpace::ProductLine
@@@

Available modifiers include: base, camelized, underscored, singular and plural.


There is also the question of how models should work. Since ActiveRecord does not automatically pick up a table name admin_space_product_line for model AdminSpace::ProductLine, I have made the generator assume the table name will be product_line.

This could be changed by explicitly naming the table name in the generated model file, but I have left that for discussion for the moment.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Try the following:&lt;/p&gt;
&lt;p&gt;./script/generate scaffold admin/something name:string&lt;/p&gt;
&lt;p&gt;The generated scaffold does not work out of the box. This
happens every time a scaffold is generated within a namespace.&lt;/p&gt;
&lt;p&gt;The provided patch solves this problem. It also takes on some
refactoring of how the symbols used in the generator templates are
generated, using a new Ruby mixin that I have called
name_composer.&lt;/p&gt;
&lt;p&gt;This name_composer expects to be included in a class with an
attribute 'name'. It will then provide methods to generate variants
of this name like so:&lt;/p&gt;
&lt;p&gt;@@@ Ruby c =
Struct.new(:name).new('admin_space/product_line').extend(NameComposer)
c.name # =&amp;gt; &quot;admin_space/product_line&quot; c.underscored_name #
=&amp;gt; admin_space/product_line c.plural_base_name # =&amp;gt;
product_lines c.camelized_name # =&amp;gt; AdminSpace::ProductLine&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;

Available modifiers include: base, camelized, underscored, singular and plural.


There is also the question of how models should work. Since ActiveRecord does not automatically pick up a table name admin_space_product_line for model AdminSpace::ProductLine, I have made the generator assume the table name will be product_line.

This could be changed by explicitly naming the table name in the generated model file, but I have left that for discussion for the moment.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Try the following:

./script/generate scaffold admin/something name:string

The generated scaffold does not work out of the box. This happens every time a scaffold is generated within a namespace.

The provided patch solves this problem. It also takes on some refactoring of how the symbols used in the generator templates are generated, using a new Ruby mixin that I have called name_composer.

This name_composer expects to be included in a class with an attribute 'name'. It will then provide methods to generate variants of this name like so:

@@@ Ruby
c = Struct.new(:name).new('admin_space/product_line').extend(NameComposer)
c.name # =&gt; &quot;admin_space/product_line&quot;
c.underscored_name # =&gt; admin_space/product_line
c.plural_base_name # =&gt; product_lines
c.camelized_name # =&gt; AdminSpace::ProductLine
@@@

Available modifiers include: base, camelized, underscored, singular and plural.


There is also the question of how models should work. Since ActiveRecord does not automatically pick up a table name admin_space_product_line for model AdminSpace::ProductLine, I have made the generator assume the table name will be product_line.

This could be changed by explicitly naming the table name in the generated model file, but I have left that for discussion for the moment.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Try the following:&lt;/p&gt;
&lt;p&gt;./script/generate scaffold admin/something name:string&lt;/p&gt;
&lt;p&gt;The generated scaffold does not work out of the box. This
happens every time a scaffold is generated within a namespace.&lt;/p&gt;
&lt;p&gt;The provided patch solves this problem. It also takes on some
refactoring of how the symbols used in the generator templates are
generated, using a new Ruby mixin that I have called
name_composer.&lt;/p&gt;
&lt;p&gt;This name_composer expects to be included in a class with an
attribute 'name'. It will then provide methods to generate variants
of this name like so:&lt;/p&gt;
&lt;p&gt;@@@ Ruby c =
Struct.new(:name).new('admin_space/product_line').extend(NameComposer)
c.name # =&amp;gt; &quot;admin_space/product_line&quot; c.underscored_name #
=&amp;gt; admin_space/product_line c.plural_base_name # =&amp;gt;
product_lines c.camelized_name # =&amp;gt; AdminSpace::ProductLine&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;

Available modifiers include: base, camelized, underscored, singular and plural.


There is also the question of how models should work. Since ActiveRecord does not automatically pick up a table name admin_space_product_line for model AdminSpace::ProductLine, I have made the generator assume the table name will be product_line.

This could be changed by explicitly naming the table name in the generated model file, but I have left that for discussion for the moment.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-15T18:24:17+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>generator master patch resource scaffold</tag>
      <title>[patch] Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-02-15T18:24:19+00:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">1</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Oh, blame Lighthouse's not providing a &quot;preview&quot; button. Let me try that piece of code again:

@@@
c = Struct.new(:name).new('admin_space/product_line').extend(NameComposer) c.name # =&gt; &quot;admin_space/product_line&quot; c.underscored_name # =&gt; admin_space/product_line c.plural_base_name # =&gt; product_lines c.camelized_name # =&gt; AdminSpace::ProductLine
@@@

The other two lines affected should be more or less readable anyway...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oh, blame Lighthouse's not providing a &quot;preview&quot; button. Let me
try that piece of code again:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
c = Struct.new(:name).new('admin_space/product_line').extend(NameComposer) c.name # =&amp;gt; &amp;quot;admin_space/product_line&amp;quot; c.underscored_name # =&amp;gt; admin_space/product_line c.plural_base_name # =&amp;gt; product_lines c.camelized_name # =&amp;gt; AdminSpace::ProductLine
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The other two lines affected should be more or less readable
anyway...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-15T18:27:48+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>generator master patch resource scaffold</tag>
      <title>[patch] Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-02-15T18:27:49+00:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">2</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Updated patch file, as overly namespaced resources weren't being generated properly. Includes new test for this case.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch file, as overly namespaced resources weren't being
generated properly. Includes new test for this case.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-18T20:52:37+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:title: &quot;[patch] Scaffold generator not working well with namespaced resources&quot;
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-02-18T20:52:38+00:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">3</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Even with Admin::Something instead of admin/something it's not working?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Even with Admin::Something instead of admin/something it's not
working?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-08T09:41:02+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: generator master patch resource scaffold
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-08T09:41:03+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">4</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Hey,

Would it be possible to have the refactoring done in a separate ticket/patch if not too much work ?

Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey,&lt;/p&gt;
&lt;p&gt;Would it be possible to have the refactoring done in a separate
ticket/patch if not too much work ?&lt;/p&gt;
&lt;p&gt;Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-09T12:57:51+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-09T12:57:52+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">5</version>
      <user-name>Pratik</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Jos&#233;: It doesn't not work with Admin::Something either.

@Pratik: that makes sense but... I've been working on that today and have concluded that's a bit difficult to do. Or at least it's difficult that the patches make sense separately.

All this boils down to the fact that the bits of code that make use of extract_modules() are very confusing. I did both things in parallel because:

  - If I first refactor and then fix the bug, the code after the first patch is still very confusing.

  - On the other hand, if I first fix the bug and then refactor... well, that's the scenario I wanted to avoid by refactoring in the first place.

Does this sound reasonable?</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Jos&amp;eacute;: It doesn't not work with Admin::Something
either.&lt;/p&gt;
&lt;p&gt;@Pratik: that makes sense but... I've been working on that today
and have concluded that's a bit difficult to do. Or at least it's
difficult that the patches make sense separately.&lt;/p&gt;
&lt;p&gt;All this boils down to the fact that the bits of code that make
use of extract_modules() are very confusing. I did both things in
parallel because:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If I first refactor and then fix the bug, the code after the
first patch is still very confusing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On the other hand, if I first fix the bug and then refactor...
well, that's the scenario I wanted to avoid by refactoring in the
first place.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Does this sound reasonable?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-15T03:27:54+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-15T03:27:58+00:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">6</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Sorry if this is a dumb question, but where is the code for the NameCompser?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry if this is a dumb question, but where is the code for the
NameCompser?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-16T20:50:10+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-16T20:50:15+00:00</updated-at>
      <user-id type="integer">6055</user-id>
      <version type="integer">7</version>
      <user-name>Dinshaw</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Ah.. got it. Updated patch doesn't have the name_composer.rb diff info. First one does. If that is how it was meant to be, sorry. I am new to patching and stuff.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ah.. got it. Updated patch doesn't have the name_composer.rb
diff info. First one does. If that is how it was meant to be,
sorry. I am new to patching and stuff.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-16T21:22:19+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-16T21:22:22+00:00</updated-at>
      <user-id type="integer">6055</user-id>
      <version type="integer">8</version>
      <user-name>Dinshaw</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Dinshaw: no, it's me the one who did it wrong. Thanks for pointing out :P Shit, I don't know why name_composer is not present in the second patch. I'm going to fix that now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Dinshaw: no, it's me the one who did it wrong. Thanks for
pointing out :P Shit, I don't know why name_composer is not present
in the second patch. I'm going to fix that now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-16T23:18:36+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-16T23:18:38+00:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">9</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Now, this is the correct patch. Sorry fellas, this was embarrasing...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Now, this is the correct patch. Sorry fellas, this was
embarrasing...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-16T23:52:58+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-03-16T23:53:02+00:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">10</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-22T19:36:59+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug generator master patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-05-22T19:37:02+01:00</updated-at>
      <user-id type="integer">47289</user-id>
      <version type="integer">11</version>
      <user-name>blythe</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Here goes another version of the patch, built upon v2.3.2.1

This time it's composed of 11 smaller patches, each applying a single (and hopefully fairly simple) change to the code. All tests work after each single patch, and at the end the whole problem is solved.

The first 9 patches undertake the refactoring mentioned on the original description. 

Patch number 10 adds new tests that show us (lo and behold) that the fix to this bug is halfway there after the initial refactoring.

Patch number 11 fixes the generation of routes, which is the only item left before solving the issue.

@Pratik: I hope this is satisfies your request. I didn't create a new ticket because I cannot quite see the refactoring as a ticket (the way I've done it at least), and then the fix as another ticket. Please correct me if wrong.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here goes another version of the patch, built upon v2.3.2.1&lt;/p&gt;
&lt;p&gt;This time it's composed of 11 smaller patches, each applying a
single (and hopefully fairly simple) change to the code. All tests
work after each single patch, and at the end the whole problem is
solved.&lt;/p&gt;
&lt;p&gt;The first 9 patches undertake the refactoring mentioned on the
original description.&lt;/p&gt;
&lt;p&gt;Patch number 10 adds new tests that show us (lo and behold) that
the fix to this bug is halfway there after the initial
refactoring.&lt;/p&gt;
&lt;p&gt;Patch number 11 fixes the generation of routes, which is the
only item left before solving the issue.&lt;/p&gt;
&lt;p&gt;@Pratik: I hope this is satisfies your request. I didn't create
a new ticket because I cannot quite see the refactoring as a ticket
(the way I've done it at least), and then the fix as another
ticket. Please correct me if wrong.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-30T03:29:20+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bug generator master patch resource scaffold
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-05-30T03:29:23+01:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">12</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>+1 - This area of the code is in need of some help, and this set of patches does the trick. I was able to create and use a namespaced scaffold after applying, which was not possible before. The refactoring should also make it possible to tackle some of the other issues in the scaffold generator.

Patches also apply cleanly on master, and generator appears to work, but generated code isn't working under the current state of actionpack.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 - This area of the code is in need of some help, and this set
of patches does the trick. I was able to create and use a
namespaced scaffold after applying, which was not possible before.
The refactoring should also make it possible to tackle some of the
other issues in the scaffold generator.&lt;/p&gt;
&lt;p&gt;Patches also apply cleanly on master, and generator appears to
work, but generated code isn't working under the current state of
actionpack.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-30T14:18:36+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-05-30T14:18:42+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">13</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-31T21:26:35+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 1366
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-05-31T21:26:37+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">14</version>
      <user-name>Pratik</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-09T09:31:21+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-06-09T09:31:25+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">15</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Have a look at #1628 which deals with fixtures and namespaces.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Have a look at &lt;a href=&quot;/projects/8994/tickets/1628&quot; title=
&quot;Ticket #1628&quot;&gt;#1628&lt;/a&gt; which deals with fixtures and
namespaces.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-22T16:22:44+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-22T16:22:46+01:00</updated-at>
      <user-id type="integer">63624</user-id>
      <version type="integer">16</version>
      <user-name>kmpm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>I haven't had a look at the patch at #1628 yet, and I'm not sure when I'll be as I just moved house and I still don't have a proper internet connection at my new place.

However, I shall note that my patches don't generate namespaced models, and therefore don't generate namespaced fixtures either. The way I have chosen to implement it, admin/thing generates a model Thing, as opposed to Admin::Thing.

This is because AR doesn't seem to automatically recognize admin_things as the appropriate table for an Admin::Thing model, so I decided to go for the simplest working solution. Whether this choice is appropriate or not, I'd love to hear.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I haven't had a look at the patch at &lt;a href=
&quot;/projects/8994/tickets/1628&quot; title=&quot;Ticket #1628&quot;&gt;#1628&lt;/a&gt; yet,
and I'm not sure when I'll be as I just moved house and I still
don't have a proper internet connection at my new place.&lt;/p&gt;
&lt;p&gt;However, I shall note that my patches don't generate namespaced
models, and therefore don't generate namespaced fixtures either.
The way I have chosen to implement it, admin/thing generates a
model Thing, as opposed to Admin::Thing.&lt;/p&gt;
&lt;p&gt;This is because AR doesn't seem to automatically recognize
admin_things as the appropriate table for an Admin::Thing model, so
I decided to go for the simplest working solution. Whether this
choice is appropriate or not, I'd love to hear.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-22T17:37:30+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-22T17:37:36+01:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">17</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>you generate a model without namespace if someone wants to generate one with namespace cause you think this is the simplest solution? LOL</body>
      <body-html>&lt;div&gt;&lt;p&gt;you generate a model without namespace if someone wants to
generate one with namespace cause you think this is the simplest
solution? LOL&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-22T18:15:09+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-22T18:15:15+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">18</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>I understand I might not have been entirely clear above, so I'll go into a bit of detail as to what the patches achieve or avoid to do, and why.

After being patched, upon gently asking the scaffold generator to create &quot;namespace/name&quot;, we get:

* The namespaced controller &quot;Namespace::NamesController&quot; and test file at
- app/controllers/namespace/names_controller.rb
- test/functional/namespace/names_controller_test.rb

* With routing to reach it at /namespace/names

* Appropriate views at
- app/views/namespace/names/index.html.erb
- app/views/namespace/names/show.html.erb
- app/views/namespace/names/new.html.erb
- app/views/namespace/names/edit.html.erb
	
* A layout at
- app/views/layouts/namespace/names.html.erb
	
* A helper &quot;Namespace::NamesHelper&quot; and a test file at
- app/helpers/namespace/names_helper.rb
- test/unit/helpers/namespace/names_helper_test.rb

* The model &quot;Name&quot; with tests/fixtures/migration:
- app/models/name.rb
- test/unit/name_test.rb
- test/fixtures/names.yml
- db/migrate/20090723082416_create_names.rb

And that's it.

So, from the list above, we see the ONLY thing that is not namespaced is the MODEL. Controller/Views/Helper ARE namespaced, and can be accessed at a namespaced path /namespace/names through a namespaced route.

Now, why didn't I namespace the model too? Reasons are:

FIRST, ActiveRecord doesn't play nice with namespaced models. It expects Model &quot;Namespace::Name&quot; to have a table name of &quot;name&quot;, instead of &quot;namespace_name&quot;.
The unpatched generator generated the model &quot;Namespace::Name&quot;, with migrations/fixtures expecting it to work with a table &quot;namespace_names&quot;. This wasn't working at all.

SECOND, another course of action would have been patching AR too, but I wanted to restrict this to railties for now, before making it more complicated.
I also could be adding &quot;set_table_name&quot; declarations to any namespaced model, but then that starts to turn ugly.
So the SIMPLEST course of action was coming up with this solution. After that, feedback/debate here could think otherwise, and the patch could be changed.

THIRD, personally, this patch scratches my itch. I normally create admin areas under /admin, where I manage models that are used in the public-facing side of the site. For me (and that's only me, I know) the models I work with in the Admin namespace are the same ones used in the rest of the site, and there is not much point in namespacing them at all.

I hope it is all a little bit more clear now, and less laughable too, for that matter.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I understand I might not have been entirely clear above, so I'll
go into a bit of detail as to what the patches achieve or avoid to
do, and why.&lt;/p&gt;
&lt;p&gt;After being patched, upon gently asking the scaffold generator
to create &quot;namespace/name&quot;, we get:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The namespaced controller &quot;Namespace::NamesController&quot; and test
file at&lt;/li&gt;
&lt;li&gt;app/controllers/namespace/names_controller.rb&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;test/functional/namespace/names_controller_test.rb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;With routing to reach it at /namespace/names&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Appropriate views at&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;app/views/namespace/names/index.html.erb&lt;/li&gt;
&lt;li&gt;app/views/namespace/names/show.html.erb&lt;/li&gt;
&lt;li&gt;app/views/namespace/names/new.html.erb&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;app/views/namespace/names/edit.html.erb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A layout at&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;app/views/layouts/namespace/names.html.erb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A helper &quot;Namespace::NamesHelper&quot; and a test file at&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;app/helpers/namespace/names_helper.rb&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;test/unit/helpers/namespace/names_helper_test.rb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The model &quot;Name&quot; with tests/fixtures/migration:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;app/models/name.rb&lt;/li&gt;
&lt;li&gt;test/unit/name_test.rb&lt;/li&gt;
&lt;li&gt;test/fixtures/names.yml&lt;/li&gt;
&lt;li&gt;db/migrate/20090723082416_create_names.rb&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And that's it.&lt;/p&gt;
&lt;p&gt;So, from the list above, we see the ONLY thing that is not
namespaced is the MODEL. Controller/Views/Helper ARE namespaced,
and can be accessed at a namespaced path /namespace/names through a
namespaced route.&lt;/p&gt;
&lt;p&gt;Now, why didn't I namespace the model too? Reasons are:&lt;/p&gt;
&lt;p&gt;FIRST, ActiveRecord doesn't play nice with namespaced models. It
expects Model &quot;Namespace::Name&quot; to have a table name of &quot;name&quot;,
instead of &quot;namespace_name&quot;.&lt;br&gt;
The unpatched generator generated the model &quot;Namespace::Name&quot;, with
migrations/fixtures expecting it to work with a table
&quot;namespace_names&quot;. This wasn't working at all.&lt;/p&gt;
&lt;p&gt;SECOND, another course of action would have been patching AR
too, but I wanted to restrict this to railties for now, before
making it more complicated.&lt;br&gt;
I also could be adding &quot;set_table_name&quot; declarations to any
namespaced model, but then that starts to turn ugly.&lt;br&gt;
So the SIMPLEST course of action was coming up with this solution.
After that, feedback/debate here could think otherwise, and the
patch could be changed.&lt;/p&gt;
&lt;p&gt;THIRD, personally, this patch scratches my itch. I normally
create admin areas under /admin, where I manage models that are
used in the public-facing side of the site. For me (and that's only
me, I know) the models I work with in the Admin namespace are the
same ones used in the rest of the site, and there is not much point
in namespacing them at all.&lt;/p&gt;
&lt;p&gt;I hope it is all a little bit more clear now, and less laughable
too, for that matter.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-23T09:49:02+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-23T09:49:07+01:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">19</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Crap, lighthouse messing up with the formatting again. Anyway...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Crap, lighthouse messing up with the formatting again.
Anyway...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-23T09:49:35+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-23T09:49:41+01:00</updated-at>
      <user-id type="integer">11144</user-id>
      <version type="integer">20</version>
      <user-name>pablobm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Okey thanks for the clarification, i often work with namespaces, for models too.
I would vote for a seperate patch that fixes the ActiveRecord behaviour, so the generators can be patched accordantly.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Okey thanks for the clarification, i often work with namespaces,
for models too.&lt;br&gt;
I would vote for a seperate patch that fixes the ActiveRecord
behaviour, so the generators can be patched accordantly.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-23T16:34:27+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-23T16:34:31+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">21</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>the behaviour of 2.3.2 is really interesting.. 

ruby script/generate model Site::Article text:text
ruby script/generate model site/article text:text

works both which corresponds with the doc 
&quot;Pass the model name, either CamelCased or under_scored&quot;

but it creates a subfolder and doesnt put the fixtures in it:

create  test/fixtures/site
create  test/fixtures/site_articles.yml


and to the tablenames..
its really strange in my opinion

@@@ ruby
class CreditCard &lt; ActiveRecord::Base
  class PinNumber &lt; ActiveRecord::Base
  end
end

assert_equal &quot;credit_card_pin_numbers&quot;, CreditCard::PinNumber.table_name

module Billing
  class Account &lt; ActiveRecord::Base
  end
end

assert_equal 'accounts', Billing::Account.table_name
@@@ 

and it seems this is intended behaviour, i took this from the test cases.
base_test.rb and modules_test.rb

can someone explain why the module should not go into the tablename?</body>
      <body-html>&lt;div&gt;&lt;p&gt;the behaviour of 2.3.2 is really interesting..&lt;/p&gt;
&lt;p&gt;ruby script/generate model Site::Article text:text&lt;br&gt;
ruby script/generate model site/article text:text&lt;/p&gt;
&lt;p&gt;works both which corresponds with the doc&lt;br&gt;
&quot;Pass the model name, either CamelCased or under_scored&quot;&lt;/p&gt;
&lt;p&gt;but it creates a subfolder and doesnt put the fixtures in
it:&lt;/p&gt;
&lt;p&gt;create test/fixtures/site&lt;br&gt;
create test/fixtures/site_articles.yml&lt;/p&gt;
&lt;p&gt;and to the tablenames..&lt;br&gt;
its really strange in my opinion&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class CreditCard &amp;lt; ActiveRecord::Base
  class PinNumber &amp;lt; ActiveRecord::Base
  end
end

assert_equal &quot;credit_card_pin_numbers&quot;, CreditCard::PinNumber.table_name

module Billing
  class Account &amp;lt; ActiveRecord::Base
  end
end

assert_equal 'accounts', Billing::Account.table_name&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and it seems this is intended behaviour, i took this from the
test cases.&lt;br&gt;
base_test.rb and modules_test.rb&lt;/p&gt;
&lt;p&gt;can someone explain why the module should not go into the
tablename?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-23T23:09:20+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-23T23:09:22+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">22</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>The module doesn't go in the table name as it's intended 'just' for
organisational purposes.

Nesting the class implies ownership, so the table name is prefixed.

This is intentional.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The module doesn't go in the table name as it's intended 'just'
for&lt;br&gt;
organisational purposes.&lt;/p&gt;
&lt;p&gt;Nesting the class implies ownership, so the table name is
prefixed.&lt;/p&gt;
&lt;p&gt;This is intentional.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-23T23:22:45+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-23T23:22:46+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">23</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>so the model generator shouldnt build the namespace into the tablename.
Ive made a patch which adds a test for namespaced model generation and verifies that the migration creats the table correctly.
I fixed also the mentioned bug with fixture creation.</body>
      <body-html>&lt;div&gt;&lt;p&gt;so the model generator shouldnt build the namespace into the
tablename.&lt;br&gt;
Ive made a patch which adds a test for namespaced model generation
and verifies that the migration creats the table correctly.&lt;br&gt;
I fixed also the mentioned bug with fixture creation.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-24T17:49:53+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-24T17:49:59+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">24</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Koz, can I handle this for Rails 3.0?

1) No namespaces in the table name
2) Namespace in fixtures directory

Is it the right way to go?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Koz, can I handle this for Rails 3.0?&lt;/p&gt;
&lt;p&gt;1) No namespaces in the table name&lt;br&gt;
2) Namespace in fixtures directory&lt;/p&gt;
&lt;p&gt;Is it the right way to go?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-27T12:20:36+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-27T12:20:40+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">25</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Kane, your fixed generator looks ok but it can't load it's fixtures neither in development or when runing unit tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Kane, your fixed generator looks ok but it can't load it's
fixtures neither in development or when runing unit tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-28T07:33:00+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-28T07:33:05+01:00</updated-at>
      <user-id type="integer">63624</user-id>
      <version type="integer">26</version>
      <user-name>kmpm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>shouldnt be too much work?

fixtures :all should also load subdirectories

fixtures :table_name has to find a class with this tablename.
I assume this is trying to find a class named table_name.singularize. only have to make him to allow namespace before it.

after this and my patch pablobm can update his patch and the whole story should be history.

kmpm, i looked at #2965. I will use your tests and look into it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;shouldnt be too much work?&lt;/p&gt;
&lt;p&gt;fixtures :all should also load subdirectories&lt;/p&gt;
&lt;p&gt;fixtures :table_name has to find a class with this
tablename.&lt;br&gt;
I assume this is trying to find a class named
table_name.singularize. only have to make him to allow namespace
before it.&lt;/p&gt;
&lt;p&gt;after this and my patch pablobm can update his patch and the
whole story should be history.&lt;/p&gt;
&lt;p&gt;kmpm, i looked at &lt;a href=&quot;/projects/8994/tickets/2965&quot; title=
&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt;. I will use your tests and look into
it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-28T19:37:29+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-28T19:37:33+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">27</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>jose:

1) is a two line delete.

2) i assume if namespaces for models are for organisational purpose and are subdirs in /models, in case of the corresponding fixtures it should be the same. it would be inconsistent if a model is in models/namespace/ but the fixture is in fixtures/.</body>
      <body-html>&lt;div&gt;&lt;p&gt;jose:&lt;/p&gt;
&lt;p&gt;1) is a two line delete.&lt;/p&gt;
&lt;p&gt;2) i assume if namespaces for models are for organisational
purpose and are subdirs in /models, in case of the corresponding
fixtures it should be the same. it would be inconsistent if a model
is in models/namespace/ but the fixture is in fixtures/.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-28T19:44:53+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-07-28T19:44:55+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">28</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Kane, we need first to solve the fixtures issue before applying the patch. Have you had any success in that front?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Kane, we need first to solve the fixtures issue before applying
the patch. Have you had any success in that front?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-10T10:22:35+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 41987
:assigned_user: 85
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-08-10T10:22:40+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">29</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>i had a look at it. the underlying problem is that the fixture code handles everything through the tablename, and so we have no clue about the namespace cause the only thing that specifies it is the folder in which the fixture is placed. 

another problem is the following scenario if we specify the fixture in the test only with the tablename we can only gamble which fixture file is meant.

/fixtures/namespace_a/articles.yml

/fixtures/namespace_b/articles.yml


@@@ ruby  
class NamespaceA::Article &lt; ActiveRecord::Base
end

class NamespaceB::Article &lt; ActiveRecord::Base
end

class WhateverTest &lt; ActiveSupport::TestCase
  fixtures :articles
end
@@@ 

So we have to rethink this. 
There seems to be no way to avoid generating a set_fixture_class line.

fixtures :all shouldnt be a problem so it just have to fill both fixture files in the table.

BUT: what to do if we want to get an article in our tests?
articles(:first).find has also no chance to detect which model it should use.</body>
      <body-html>&lt;div&gt;&lt;p&gt;i had a look at it. the underlying problem is that the fixture
code handles everything through the tablename, and so we have no
clue about the namespace cause the only thing that specifies it is
the folder in which the fixture is placed.&lt;/p&gt;
&lt;p&gt;another problem is the following scenario if we specify the
fixture in the test only with the tablename we can only gamble
which fixture file is meant.&lt;/p&gt;
&lt;p&gt;/fixtures/namespace_a/articles.yml&lt;/p&gt;
&lt;p&gt;/fixtures/namespace_b/articles.yml&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class NamespaceA::Article &amp;lt; ActiveRecord::Base
end

class NamespaceB::Article &amp;lt; ActiveRecord::Base
end

class WhateverTest &amp;lt; ActiveSupport::TestCase
  fixtures :articles
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;So we have to rethink this.&lt;br&gt;
There seems to be no way to avoid generating a set_fixture_class
line.&lt;/p&gt;
&lt;p&gt;fixtures :all shouldnt be a problem so it just have to fill both
fixture files in the table.&lt;/p&gt;
&lt;p&gt;BUT: what to do if we want to get an article in our tests?&lt;br&gt;
articles(:first).find has also no chance to detect which model it
should use.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-13T00:29:52+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-08-13T00:29:58+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">30</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Kane... In #2965 I also mention the fact that when doing *rake db:fixtures:load* there isn't a way to do set_fixture_class so I really don't see that as a good workaround.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Kane... In &lt;a href=&quot;/projects/8994/tickets/2965&quot; title=
&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt; I also mention the fact that when doing
&lt;em&gt;rake db:fixtures:load&lt;/em&gt; there isn't a way to do
set_fixture_class so I really don't see that as a good
workaround.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-13T05:53:42+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-08-13T05:53:45+01:00</updated-at>
      <user-id type="integer">63624</user-id>
      <version type="integer">31</version>
      <user-name>kmpm</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>worked on the patch and it looks good, but:
where are the tests for rake tasks or how to test db:fixtures:load?</body>
      <body-html>&lt;div&gt;&lt;p&gt;worked on the patch and it looks good, but:&lt;br&gt;
where are the tests for rake tasks or how to test
db:fixtures:load?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-15T20:10:12+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-08-15T20:10:14+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">32</version>
      <user-name>Kane</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>The rake tasks usually just invoke a method in a class. The method is properly tested on its framework (for example, fixtures tests on ActiveRecord). And can you please add the patch to another ticket? #2965 already has a patch with tests that you might want to take a look, if it's the same scenario, you could attach it there. :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;The rake tasks usually just invoke a method in a class. The
method is properly tested on its framework (for example, fixtures
tests on ActiveRecord). And can you please add the patch to another
ticket? &lt;a href=&quot;/projects/8994/tickets/2965&quot; title=
&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt; already has a patch with tests that you
might want to take a look, if it's the same scenario, you could
attach it there. :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-15T20:53:48+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-08-15T20:53:53+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">33</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Well, I really think it would have been nice if, for the time being, pablobm's patch had been incorporated in order to make namespaced scaffolding work as, I would guess, 95% of the users expect it to.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well, I really think it would have been nice if, for the time
being, pablobm's patch had been incorporated in order to make
namespaced scaffolding work as, I would guess, 95% of the users
expect it to.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-16T13:26:38+01:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2009-09-16T13:26:40+01:00</updated-at>
      <user-id type="integer">69922</user-id>
      <version type="integer">34</version>
      <user-name>sebwin</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-06T07:20:59+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2010-03-06T07:21:02+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">35</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Marking as stale. If this is still a problem or someone is working on it, I will be glad to reopen.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Marking as stale. If this is still a problem or someone is
working on it, I will be glad to reopen.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-03-12T20:35:42+00:00</created-at>
      <creator-id type="integer">11144</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1976</number>
      <permalink>patch-scaffold-generator-not-working-well-with-namespaced-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>2-3-stable 2.3.2.1 bug generator namespace patch resource scaffold</tag>
      <title>Scaffold generator not working well with namespaced resources</title>
      <updated-at type="datetime">2010-03-12T20:35:44+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">36</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>pablobm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1976</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>3b5c29d82ffc5a0046e5cce5f75365b2e1f18554</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-02-15T18:24:17+00:00</created-at>
      <filename>fix-namespaced-scaffolds-generation.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">88991</id>
      <size type="integer">50006</size>
      <uploader-id type="integer">11144</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/88991/fix-namespaced-scaffolds-generation.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>f741c3b0676010d16be90df9f1fde54c3c529d12</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-02-18T20:52:37+00:00</created-at>
      <filename>fix-namespaced-scaffolds-generation.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">90290</id>
      <size type="integer">46280</size>
      <uploader-id type="integer">11144</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/90290/fix-namespaced-scaffolds-generation.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>5ec713959429ad07c710b2279a21a295cc172194</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-16T23:52:58+00:00</created-at>
      <filename>0001-Make-scaffold-and-resource-generators-work-nice-with.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">100483</id>
      <size type="integer">51429</size>
      <uploader-id type="integer">11144</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/100483/0001-Make-scaffold-and-resource-generators-work-nice-with.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>229d62f412fde56568eac59364804d1c0b1d4698</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-30T03:29:20+01:00</created-at>
      <filename>fixed-generation-of-namespaced-scaffolds-and-resources.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">127922</id>
      <size type="integer">67700</size>
      <uploader-id type="integer">11144</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/127922/fixed-generation-of-namespaced-scaffolds-and-resources.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>1e2489a7963604da1cc1a6c8bc5d2e01ea193d88</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-24T17:49:53+01:00</created-at>
      <filename>fix_generator.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">228899</id>
      <size type="integer">2923</size>
      <uploader-id type="integer">33030</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/228899/fix_generator.diff</url>
    </attachment>
  </attachments>
</ticket>
