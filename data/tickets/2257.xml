<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-03-16T18:59:04+00:00</created-at>
  <creator-id type="integer">11102</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2257</number>
  <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
  <priority type="integer">1435</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>duplicate</state>
  <tag>2.3 activerecord bug default_scope merge named_scope</tag>
  <title>default_scope with named_scope or scoped merge broken on 2.3</title>
  <updated-at type="datetime">2009-05-01T23:03:40+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">9</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Yaroslav Markin</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Failing tests included, don't have a solution ATM.

Reference: #2193

Basically, if you got a default_scope with :order, named_scopes with different :order will NOT override it.</original-body>
  <latest-body>Failing tests included, don't have a solution ATM.

Reference: #2193

Basically, if you got a default_scope with :order, named_scopes with different :order will NOT override it.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Failing tests included, don't have a solution ATM.&lt;/p&gt;
&lt;p&gt;Reference: &lt;a href=&quot;/projects/8994/tickets/2193&quot; title=&quot;Ticket #2193&quot;&gt;#2193&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Basically, if you got a default_scope with :order, named_scopes
with different :order will NOT override it.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Failing tests included, don't have a solution ATM.

Reference: #2193

Basically, if you got a default_scope with :order, named_scopes with different :order will NOT override it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Failing tests included, don't have a solution ATM.&lt;/p&gt;
&lt;p&gt;Reference: &lt;a href=&quot;/projects/8994/tickets/2193&quot; title=&quot;Ticket #2193&quot;&gt;#2193&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Basically, if you got a default_scope with :order, named_scopes
with different :order will NOT override it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-16T18:59:04+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-16T18:59:07+00:00</updated-at>
      <user-id type="integer">11102</user-id>
      <version type="integer">1</version>
      <user-name>Yaroslav Markin</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm noticing this broken behavior too. Haven't had a chance to look into the reasons why yet.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm noticing this broken behavior too. Haven't had a chance to
look into the reasons why yet.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-18T21:20:08+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-18T21:20:13+00:00</updated-at>
      <user-id type="integer">15783</user-id>
      <version type="integer">2</version>
      <user-name>Geoff Buesing</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>It's expected behavior, believe it or not, look at the tests. Default_scope does not behave the same as named_scope. This should be fixed in my patch over here: http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/1812-default_scope-cant-take-procs</body>
      <body-html>&lt;div&gt;&lt;p&gt;It's expected behavior, believe it or not, look at the tests.
Default_scope does not behave the same as named_scope. This should
be fixed in my patch over here: &lt;a href=&quot;http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/1812-default_scope-cant-take-procs&quot;&gt;
http://rails.lighthouseapp.com/p...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-19T14:04:21+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-19T14:04:24+00:00</updated-at>
      <user-id type="integer">19875</user-id>
      <version type="integer">3</version>
      <user-name>Peter Wagenet</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>@Manfred, Pratik: any chance we can rollback #2193? Seems it causes more trouble then fixes things, count with @named_scope(:select =&gt; ...)@ seems to be broken as well.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Manfred, Pratik: any chance we can rollback &lt;a href=&quot;/projects/8994/tickets/2193&quot; title=&quot;Ticket #2193&quot;&gt;#2193&lt;/a&gt;? Seems
it causes more trouble then fixes things, count with
&lt;code&gt;named_scope(:select =&amp;gt; ...)&lt;/code&gt; seems to be broken as
well.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-23T14:03:19+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-23T14:03:20+00:00</updated-at>
      <user-id type="integer">11102</user-id>
      <version type="integer">4</version>
      <user-name>Yaroslav Markin</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Well, the change was a fix for a number of regressions I saw in building instances through an has_many :through association I think. So reverting this would break that.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well, the change was a fix for a number of regressions I saw in
building instances through an has_many :through association I
think. So reverting this would break that.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-23T14:35:11+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-23T14:35:13+00:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">5</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Manfred's commit has actually nothing to do with this bug -- see #1960</body>
      <body-html>&lt;div&gt;&lt;p&gt;Manfred's commit has actually nothing to do with this bug -- see
&lt;a href=&quot;/projects/8994/tickets/1960&quot; title=&quot;Ticket #1960&quot;&gt;#1960&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-26T13:07:24+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-26T13:07:26+00:00</updated-at>
      <user-id type="integer">51971</user-id>
      <version type="integer">6</version>
      <user-name>Alexander Podgorbunsky</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>whoops.. the wrong number of ticket.. see #2346</body>
      <body-html>&lt;div&gt;&lt;p&gt;whoops.. the wrong number of ticket.. see &lt;a href=&quot;/projects/8994/tickets/2346&quot; title=&quot;Ticket #2346&quot;&gt;#2346&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-26T13:09:02+00:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-03-26T13:09:05+00:00</updated-at>
      <user-id type="integer">51971</user-id>
      <version type="integer">7</version>
      <user-name>Alexander Podgorbunsky</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This ticket is totally wrong, #2346 is the correct one. Will wait for cleanup :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;This ticket is totally wrong, &lt;a href=&quot;/projects/8994/tickets/2346&quot; title=&quot;Ticket #2346&quot;&gt;#2346&lt;/a&gt; is the
correct one. Will wait for cleanup :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-15T22:03:55+01:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-04-15T22:04:01+01:00</updated-at>
      <user-id type="integer">11102</user-id>
      <version type="integer">8</version>
      <user-name>Yaroslav Markin</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-01T23:03:34+01:00</created-at>
      <creator-id type="integer">11102</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2257</number>
      <permalink>default_scope-with-named_scope-or-scoped-merge-broken-on-23</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>2.3 activerecord bug default_scope merge named_scope</tag>
      <title>default_scope with named_scope or scoped merge broken on 2.3</title>
      <updated-at type="datetime">2009-05-01T23:03:40+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">9</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Yaroslav Markin</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2257</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>6f9e3d5e75c7a014f4915a2a7d3f0cc1d32c7783</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-16T18:59:04+00:00</created-at>
      <filename>0001-Failing-tests-for-default_scope-vs-named_scope-scope.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">100309</id>
      <size type="integer">2265</size>
      <uploader-id type="integer">11102</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/100309/0001-Failing-tests-for-default_scope-vs-named_scope-scope.patch</url>
    </attachment>
  </attachments>
</ticket>
