<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">14890</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-08-07T11:41:06+01:00</created-at>
  <creator-id type="integer">21652</creator-id>
  <milestone-due-on type="datetime">2009-03-18T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">9901</milestone-id>
  <number type="integer">771</number>
  <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
  <priority type="integer">1</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
  <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
  <updated-at type="datetime">2008-08-25T09:31:31+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">8</version>
  <user-name>Repository</user-name>
  <creator-name>azimux</creator-name>
  <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
  <milestone-title>2.1.1</milestone-title>
  <priority-name>High</priority-name>
  <original-body>postgresql does not like single quoted role names for the OWNER clause

I was unable to create the test database successfully.  To reproduce this simply try running rake test on any rails app while using postgresql.  It might require a recent version to expose the bug.  I am running 8.3.3

The fix is trivial, unquoting the ownername, but I've attatched a patch anyways</original-body>
  <latest-body>postgresql does not like single quoted role names for the OWNER clause

I was unable to create the test database successfully.  To reproduce this simply try running rake test on any rails app while using postgresql.  It might require a recent version to expose the bug.  I am running 8.3.3

The fix is trivial, unquoting the ownername, but I've attatched a patch anyways</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;postgresql does not like single quoted role names for the OWNER clause&lt;/p&gt;

&lt;p&gt;I was unable to create the test database successfully.  To reproduce this simply try running rake test on any rails app while using postgresql.  It might require a recent version to expose the bug.  I am running 8.3.3&lt;/p&gt;

&lt;p&gt;The fix is trivial, unquoting the ownername, but I've attatched a patch anyways&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>postgresql does not like single quoted role names for the OWNER clause

This bug prevents me from being able to create the test database successfully when doing rake test.  To reproduce this simply try running rake test on any rails app while using postgresql.  It might require a recent version to expose the bug.  I am running 8.3.3

The fix is trivial, unquoting the ownername, but I've attatched a patch anyways</body>
      <body-html>&lt;div&gt;&lt;p&gt;postgresql does not like single quoted role names for the OWNER clause&lt;/p&gt;

&lt;p&gt;This bug prevents me from being able to create the test database successfully when doing rake test.  To reproduce this simply try running rake test on any rails app while using postgresql.  It might require a recent version to expose the bug.  I am running 8.3.3&lt;/p&gt;

&lt;p&gt;The fix is trivial, unquoting the ownername, but I've attatched a patch anyways&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-07T12:18:03+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord bug edge patch postgresql</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-07T12:18:03+01:00</updated-at>
      <user-id type="integer">21652</user-id>
      <version type="integer">1</version>
      <user-name>azimux</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The bug applies to 8.2 as well, probably earlier versions too.

Adding &quot;tiny&quot; and &quot;2.1&quot; tags.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The bug applies to 8.2 as well, probably earlier versions too.&lt;/p&gt;

&lt;p&gt;Adding &quot;tiny&quot; and &quot;2.1&quot; tags.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-08T10:07:36+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: activerecord bug edge patch postgresql
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-08T10:07:36+01:00</updated-at>
      <user-id type="integer">28382</user-id>
      <version type="integer">2</version>
      <user-name>isak</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14890</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-22T04:25:15+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-22T04:25:15+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">3</version>
      <user-name>Pratik</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14890</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-22T05:33:31+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">9901</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-22T05:33:31+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">4</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.1.1</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14890</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Actually the values should be quoted, but with double-quotes because they are database name references and not values.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Actually the values should be quoted, but with double-quotes because they are database name references and not values.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-22T07:59:20+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9901</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-22T07:59:20+01:00</updated-at>
      <user-id type="integer">14890</user-id>
      <version type="integer">5</version>
      <user-name>Tarmo T&#228;nav</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.1.1</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14890</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I tried it with double quotes and it worked fine</body>
      <body-html>&lt;div&gt;&lt;p&gt;I tried it with double quotes and it worked fine&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-22T08:14:17+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9901</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-22T08:14:17+01:00</updated-at>
      <user-id type="integer">21652</user-id>
      <version type="integer">6</version>
      <user-name>azimux</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.1.1</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14890</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [d3b894563a114912113b816f07ed16511363fb65]) Properly quote CREATE DATABASE parameters in postgresql [#771 state:resolved]
http://github.com/rails/rails/commit/d3b894563a114912113b816f07ed16511363fb65</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [d3b894563a114912113b816f07ed16511363fb65]) Properly quote CREATE DATABASE parameters in postgresql [&lt;a href=&quot;/projects/8994/tickets/771&quot; title=&quot;Ticket #771&quot;&gt;#771&lt;/a&gt; state:resolved]
&lt;a href=&quot;http://github.com/rails/rails/commit/d3b894563a114912113b816f07ed16511363fb65&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-22T08:58:09+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9901</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-22T08:58:09+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">7</version>
      <user-name>Repository</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.1.1</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14890</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [a6619865d0191c1001d1f25e8f4d111a0e9f78d2]) Properly quote CREATE DATABASE parameters in postgresql [#771 state:resolved]
http://github.com/rails/rails/commit/a6619865d0191c1001d1f25e8f4d111a0e9f78d2</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [a6619865d0191c1001d1f25e8f4d111a0e9f78d2]) Properly quote CREATE DATABASE parameters in postgresql [&lt;a href=&quot;/projects/8994/tickets/771&quot; title=&quot;Ticket #771&quot;&gt;#771&lt;/a&gt; state:resolved]
&lt;a href=&quot;http://github.com/rails/rails/commit/a6619865d0191c1001d1f25e8f4d111a0e9f78d2&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-25T09:31:31+01:00</created-at>
      <creator-id type="integer">21652</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9901</milestone-id>
      <number type="integer">771</number>
      <permalink>postgresql-8-3-doesn-t-like-single-quoted-role-names-in-the-owner-clause</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.1 activerecord bug edge patch postgresql tiny</tag>
      <title>postgresql 8.3 doesn't like single quoted role names in the OWNER clause</title>
      <updated-at type="datetime">2008-08-25T09:31:31+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">8</version>
      <user-name>Repository</user-name>
      <creator-name>azimux</creator-name>
      <assigned-user-name>Tarmo T&#228;nav</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/771</url>
      <milestone-title>2.1.1</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>5265b6c7404186889940b75584ffcd193823cc1f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-07T11:41:06+01:00</created-at>
      <filename>0001-postgresql-does-not-seem-to-like-single-quoted-role.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">37578</id>
      <size type="integer">1040</size>
      <uploader-id type="integer">21652</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/37578/0001-postgresql-does-not-seem-to-like-single-quoted-role.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>3855767a6d3d2eb8aff1db6a35c422f23fd3d9bd</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-22T07:59:19+01:00</created-at>
      <filename>0001-Properly-quote-CREATE-DATABASE-parameters-in-postgre.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">40872</id>
      <size type="integer">1313</size>
      <uploader-id type="integer">14890</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/40872/0001-Properly-quote-CREATE-DATABASE-parameters-in-postgre.patch</url>
    </attachment>
  </attachments>
</ticket>
