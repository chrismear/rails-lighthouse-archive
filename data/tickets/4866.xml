<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-06-15T20:06:58+01:00</created-at>
  <creator-id type="integer">17428</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">4866</number>
  <permalink>slow-development</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag nil="true"></tag>
  <title>Slow Development</title>
  <updated-at type="datetime">2010-10-15T23:01:56+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">11</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Jan De Poorter</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>A patch to improve speed in development, add descendents method to ActiveRecord::Base as suggested by Yehuda</original-body>
  <latest-body>A patch to improve speed in development, add descendents method to ActiveRecord::Base as suggested by Yehuda</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;A patch to improve speed in development, add descendents method
to ActiveRecord::Base as suggested by Yehuda&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>A patch to improve speed in development, add descendents method to ActiveRecord::Base as suggested by Yehuda</body>
      <body-html>&lt;div&gt;&lt;p&gt;A patch to improve speed in development, add descendents method
to ActiveRecord::Base as suggested by Yehuda&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-15T20:06:58+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-15T20:07:07+01:00</updated-at>
      <user-id type="integer">17428</user-id>
      <version type="integer">1</version>
      <user-name>Jan De Poorter</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 works for me</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 works for me&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-17T09:34:47+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-17T09:34:50+01:00</updated-at>
      <user-id type="integer">17102</user-id>
      <version type="integer">2</version>
      <user-name>Stephan Kaag</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>-1 please don't apply these patches in their current form.

Patch 1/2 doesn't actually fix the spelling; it removes the correct spelling and inserts the wrong spelling.

See:

http://dictionary.reference.com/browse/descendant

http://dictionary.reference.com/browse/descendent

&quot;descendent&quot; is an adjective, so could be used to say something like &quot;descendent_classes&quot;.

&quot;descendant&quot; is a noun, which is what we need here.</body>
      <body-html>&lt;div&gt;&lt;p&gt;-1 please don't apply these patches in their current form.&lt;/p&gt;
&lt;p&gt;Patch 1/2 doesn't actually fix the spelling; it removes the
correct spelling and inserts the wrong spelling.&lt;/p&gt;
&lt;p&gt;See:&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://dictionary.reference.com/browse/descendant&quot;&gt;http://dictionary.reference.com/browse/descendant&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://dictionary.reference.com/browse/descendent&quot;&gt;http://dictionary.reference.com/browse/descendent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&quot;descendent&quot; is an adjective, so could be used to say something
like &quot;descendent_classes&quot;.&lt;/p&gt;
&lt;p&gt;&quot;descendant&quot; is a noun, which is what we need here.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-18T15:18:34+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-18T15:18:38+01:00</updated-at>
      <user-id type="integer">12845</user-id>
      <version type="integer">3</version>
      <user-name>Wincent Colaiuta</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Let's switch back to `descendant`</body>
      <body-html>&lt;div&gt;&lt;p&gt;Let's switch back to &lt;code&gt;descendant&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-18T23:59:10+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-18T23:59:18+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">4</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>As requested by Jeremy, assigned to Jos&#233;.
Also Wincent is right, so don't change the name, leave as descendants</body>
      <body-html>&lt;div&gt;&lt;p&gt;As requested by Jeremy, assigned to Jos&amp;eacute;.&lt;br&gt;
Also Wincent is right, so don't change the name, leave as
descendants&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-19T00:16:15+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 12714
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-19T00:16:23+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">5</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I pushed a bunch of commits to solve this issue. Could you please try it out?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I pushed a bunch of commits to solve this issue. Could you
please try it out?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-19T23:20:35+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-19T23:20:42+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">6</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>It still feels a lot slower then on beta4, yet benchmarks show that loading is a lot faster. Are there any good ways in Rails3 to profile a request?

@@@ ruby
jan-wired:Openminds/sock (master*)$ r benchmarker 10 'User; ActionDispatch::Callbacks.new(Proc.new {}, false).call({})'
/Users/jan/.bundle/ruby/1.8/gems/tolk-1.0/lib/tolk/engine.rb:5)
            user     system      total        real
#1      0.840000   0.090000   0.930000 (  1.259372)
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;It still feels a lot slower then on beta4, yet benchmarks show
that loading is a lot faster. Are there any good ways in Rails3 to
profile a request?&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;jan-wired:Openminds/sock (master*)$ r benchmarker 10 'User; ActionDispatch::Callbacks.new(Proc.new {}, false).call({})'
/Users/jan/.bundle/ruby/1.8/gems/tolk-1.0/lib/tolk/engine.rb:5)
            user     system      total        real
#1      0.840000   0.090000   0.930000 (  1.259372)&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-19T23:36:51+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-19T23:36:58+01:00</updated-at>
      <user-id type="integer">17428</user-id>
      <version type="integer">7</version>
      <user-name>Jan De Poorter</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Jan, I'm almost sure that in the benchmark script above, most of the time is spent in loading the class User. Could you confirm? And the current results are two times slower than beta4, right?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jan, I'm almost sure that in the benchmark script above, most of
the time is spent in loading the class User. Could you confirm? And
the current results are two times slower than beta4, right?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-19T23:54:49+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-19T23:54:59+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">8</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Forget my last post, laptop was under lot of IO load which made results a bit off. With current master this is the result from the benchmark.

@@@ ruby
jan-wired:Openminds/sock (master*)$ r benchmarker 10 'User; ActionDispatch::Callbacks.new(Proc.new {}, false).call({})'
/Users/jan/.bundle/ruby/1.8/gems/tolk-1.0/lib/tolk/engine.rb:5)
            user     system      total        real
#1      0.550000   0.020000   0.570000 (  0.585960)
@@@

which is the same speed as with beta4, it's also the same speed when running through the app in a browser. Load times per page of 0.5seconds instead of 3 to 4seconds / request.

Thanks a bunch, for me it is resolved</body>
      <body-html>&lt;div&gt;&lt;p&gt;Forget my last post, laptop was under lot of IO load which made
results a bit off. With current master this is the result from the
benchmark.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;jan-wired:Openminds/sock (master*)$ r benchmarker 10 'User; ActionDispatch::Callbacks.new(Proc.new {}, false).call({})'
/Users/jan/.bundle/ruby/1.8/gems/tolk-1.0/lib/tolk/engine.rb:5)
            user     system      total        real
#1      0.550000   0.020000   0.570000 (  0.585960)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;which is the same speed as with beta4, it's also the same speed
when running through the app in a browser. Load times per page of
0.5seconds instead of 3 to 4seconds / request.&lt;/p&gt;
&lt;p&gt;Thanks a bunch, for me it is resolved&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-20T00:10:16+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-20T00:10:23+01:00</updated-at>
      <user-id type="integer">17428</user-id>
      <version type="integer">9</version>
      <user-name>Jan De Poorter</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Great!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Great!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-20T00:15:58+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-06-20T00:16:08+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">10</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:56+01:00</created-at>
      <creator-id type="integer">17428</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 74033
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4866</number>
      <permalink>slow-development</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Slow Development</title>
      <updated-at type="datetime">2010-10-15T23:01:56+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">11</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jan De Poorter</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4866</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>fad54b8b55d77d2df373896826499df78d4e6441</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-06-15T20:06:58+01:00</created-at>
      <filename>fix_slow_dev.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">560446</id>
      <size type="integer">2267</size>
      <uploader-id type="integer">17428</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/560446/fix_slow_dev.patch</url>
    </attachment>
  </attachments>
</ticket>
