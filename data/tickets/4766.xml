<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-09-06T07:06:49+01:00</created-at>
  <creator-id type="integer">19849</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">82855</milestone-id>
  <number type="integer">4766</number>
  <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>duplicate</state>
  <tag>2.3.8 association_proxy nested_attributes_for</tag>
  <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
  <updated-at type="datetime">2010-10-10T09:01:28+01:00</updated-at>
  <user-id type="integer">94458</user-id>
  <version type="integer">18</version>
  <user-name>Jeff Kreeftmeijer</user-name>
  <creator-name>Luke Melia</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
  <milestone-title>2.3.10</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>Commit 5efb1503dd88b59fe491dade92790c3f06293445 introduced behavior to avoid loading all records of a has_many association when using nested_attributes. This commit causes surprising behavior: if you trigger a load of the association after setting the attributes but before saving, the instances with the changes/mark_for_destruction will be replaced with fresh instances from the DB, thereby losing the desired changes.

I'm not sure if this would be considered a bug, but it is changed behavior from 2.3.5 and is silent and surprising.

I've attached a patch with failing tests, but I am looking for ideas for a solution. In my app, I have hacked around it by forcing the load of the relevant associations before assigning attributes. 

Note: This issue was introduced on the rails-core list here: http://groups.google.com/group/rubyonrails-core/browse_thread/thread/c383dd8f7a5b5a53</original-body>
  <latest-body>Commit 5efb1503dd88b59fe491dade92790c3f06293445 introduced behavior to avoid loading all records of a has_many association when using nested_attributes. This commit causes surprising behavior: if you trigger a load of the association after setting the attributes but before saving, the instances with the changes/mark_for_destruction will be replaced with fresh instances from the DB, thereby losing the desired changes.

I'm not sure if this would be considered a bug, but it is changed behavior from 2.3.5 and is silent and surprising.

I've attached a patch with failing tests, but I am looking for ideas for a solution. In my app, I have hacked around it by forcing the load of the relevant associations before assigning attributes. 

Note: This issue was introduced on the rails-core list here: http://groups.google.com/group/rubyonrails-core/browse_thread/thread/c383dd8f7a5b5a53</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Commit 5efb1503dd88b59fe491dade92790c3f06293445 introduced
behavior to avoid loading all records of a has_many association
when using nested_attributes. This commit causes surprising
behavior: if you trigger a load of the association after setting
the attributes but before saving, the instances with the
changes/mark_for_destruction will be replaced with fresh instances
from the DB, thereby losing the desired changes.&lt;/p&gt;
&lt;p&gt;I'm not sure if this would be considered a bug, but it is
changed behavior from 2.3.5 and is silent and surprising.&lt;/p&gt;
&lt;p&gt;I've attached a patch with failing tests, but I am looking for
ideas for a solution. In my app, I have hacked around it by forcing
the load of the relevant associations before assigning
attributes.&lt;/p&gt;
&lt;p&gt;Note: This issue was introduced on the rails-core list here:
&lt;a href=
&quot;http://groups.google.com/group/rubyonrails-core/browse_thread/thread/c383dd8f7a5b5a53&quot;&gt;
http://groups.google.com/group/rubyonrails-core/browse_thread/threa...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Commit 5efb1503dd88b59fe491dade92790c3f06293445 introduced behavior to avoid loading all records of a has_many association when using nested_attributes. This commit causes surprising behavior: if you trigger a load of the association after setting the attributes but before saving, the instances with the changes/mark_for_destruction will be replaced with fresh instances from the DB, thereby losing the desired changes.

I'm not sure if this would be considered a bug, but it is changed behavior from 2.3.5 and is silent and surprising.

I've attached a patch with failing tests, but I am looking for ideas for a solution. In my app, I have hacked around it by forcing the load of the relevant associations before assigning attributes. 

Note: This issue was introduced on the rails-core list here: http://groups.google.com/group/rubyonrails-core/browse_thread/thread/c383dd8f7a5b5a53</body>
      <body-html>&lt;div&gt;&lt;p&gt;Commit 5efb1503dd88b59fe491dade92790c3f06293445 introduced
behavior to avoid loading all records of a has_many association
when using nested_attributes. This commit causes surprising
behavior: if you trigger a load of the association after setting
the attributes but before saving, the instances with the
changes/mark_for_destruction will be replaced with fresh instances
from the DB, thereby losing the desired changes.&lt;/p&gt;
&lt;p&gt;I'm not sure if this would be considered a bug, but it is
changed behavior from 2.3.5 and is silent and surprising.&lt;/p&gt;
&lt;p&gt;I've attached a patch with failing tests, but I am looking for
ideas for a solution. In my app, I have hacked around it by forcing
the load of the relevant associations before assigning
attributes.&lt;/p&gt;
&lt;p&gt;Note: This issue was introduced on the rails-core list here:
&lt;a href=
&quot;http://groups.google.com/group/rubyonrails-core/browse_thread/thread/c383dd8f7a5b5a53&quot;&gt;
http://groups.google.com/group/rubyonrails-core/browse_thread/threa...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T16:47:03+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T16:47:12+01:00</updated-at>
      <user-id type="integer">19849</user-id>
      <version type="integer">1</version>
      <user-name>Luke Melia</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T16:49:15+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T16:49:17+01:00</updated-at>
      <user-id type="integer">19849</user-id>
      <version type="integer">2</version>
      <user-name>Luke Melia</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T16:50:45+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: association_proxy nested_attributes_for
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T16:50:46+01:00</updated-at>
      <user-id type="integer">19849</user-id>
      <version type="integer">3</version>
      <user-name>Luke Melia</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T22:54:06+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T22:54:14+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">4</version>
      <user-name>Pratik</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T22:54:07+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T22:54:18+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">5</version>
      <user-name>Pratik</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T22:54:23+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T22:54:31+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">6</version>
      <user-name>Pratik</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I think because of this commit, I'm having a related problem where records in a has_many association are not updated at all unless the collection is first loaded from the database.

The following worked before 2.3.8:

    @order.update_attributes {&quot;line_items_attributes&quot;=&gt;{&quot;0&quot;=&gt;{&quot;quantity&quot;=&gt;&quot;2&quot;, &quot;order_id&quot;=&gt;&quot;1069267031&quot;, &quot;id&quot;=&gt;&quot;1070870199&quot;, &quot;variant_id&quot;=&gt;&quot;215054540&quot;}}}

It works now if I do this first:

    @order.line_items(true)</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think because of this commit, I'm having a related problem
where records in a has_many association are not updated at all
unless the collection is first loaded from the database.&lt;/p&gt;
&lt;p&gt;The following worked before 2.3.8:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@order.update_attributes {&quot;line_items_attributes&quot;=&amp;gt;{&quot;0&quot;=&amp;gt;{&quot;quantity&quot;=&amp;gt;&quot;2&quot;, &quot;order_id&quot;=&amp;gt;&quot;1069267031&quot;, &quot;id&quot;=&amp;gt;&quot;1070870199&quot;, &quot;variant_id&quot;=&amp;gt;&quot;215054540&quot;}}}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;It works now if I do this first:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;@order.line_items(true)&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-04T23:05:48+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-04T23:05:56+01:00</updated-at>
      <user-id type="integer">20789</user-id>
      <version type="integer">7</version>
      <user-name>David North</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This also happens in rails 2.3.8</body>
      <body-html>&lt;div&gt;&lt;p&gt;This also happens in rails 2.3.8&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-05T00:12:27+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-05T00:12:34+01:00</updated-at>
      <user-id type="integer">102021</user-id>
      <version type="integer">8</version>
      <user-name>Sharad Jain</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-06T09:08:44+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-06T09:08:53+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">9</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>@David North: You can figure out if the commit mentioned is the first bad commit using git bisect. Here is a rough description of how to do this:
0) open two terminals (one in your rails project, and one in your git version of rails)
1) in terminal 1: Change your project to use your git version of rails:
    ln -s /your/path/to/rails vendor/rails
2) in terminal 2: do a git bisect (see http://www.kernel.org/pub/software/scm/git/docs/git-bisect.html)
    git bisect v2.3.8 v2.3.5
3) in terminal 1: test if the rails version is good or bad
    ruby -I test test/integration/test_that_fails_in_2_3_8.rb --name &quot;test: failing test&quot;
4) in terminal 2: use git bisect to determine next commit depending on result of step 3
    git bisect [good|bad]
5) repeat step 3-4 until step 4 reveals the first bad commit.

Jarl</body>
      <body-html>&lt;div&gt;&lt;p&gt;@David North: You can figure out if the commit mentioned is the
first bad commit using git bisect. Here is a rough description of
how to do this: 0) open two terminals (one in your rails project,
and one in your git version of rails)&lt;br&gt;
1) in terminal 1: Change your project to use your git version of
rails:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ln -s /your/path/to/rails vendor/rails&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2) in terminal 2: do a git bisect (see &lt;a href=
&quot;http://www.kernel.org/pub/software/scm/git/docs/git-bisect.html&quot;&gt;http://www.kernel.org/pub/software/scm/git/docs/git-bisect.html&lt;/a&gt;)&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git bisect v2.3.8 v2.3.5&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;3) in terminal 1: test if the rails version is good or
bad&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ruby -I test test/integration/test_that_fails_in_2_3_8.rb --name &quot;test: failing test&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;4) in terminal 2: use git bisect to determine next commit
depending on result of step 3&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;git bisect [good|bad]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;5) repeat step 3-4 until step 4 reveals the first bad
commit.&lt;/p&gt;
&lt;p&gt;Jarl&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-07T11:19:39+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-07T11:19:48+01:00</updated-at>
      <user-id type="integer">55442</user-id>
      <version type="integer">10</version>
      <user-name>Jarl Friis</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I highly appreciate that milestone is 2.3.x and not 3.x, thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I highly appreciate that milestone is 2.3.x and not 3.x,
thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-07T12:29:28+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-07T12:29:37+01:00</updated-at>
      <user-id type="integer">55442</user-id>
      <version type="integer">11</version>
      <user-name>Jarl Friis</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Duplicate of #4642?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Duplicate of &lt;a href=&quot;/projects/8994/tickets/4642&quot; title=
&quot;Ticket #4642&quot;&gt;#4642&lt;/a&gt;?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-07T16:03:18+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-07T16:03:32+01:00</updated-at>
      <user-id type="integer">18094</user-id>
      <version type="integer">12</version>
      <user-name>Pete Deffendol</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yes, this is the same as my issue. I have proposed a solution that does not involve undoing the commit that broke it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, this is the same as my issue. I have proposed a solution
that does not involve undoing the commit that broke it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-07T21:18:54+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-07T21:19:08+01:00</updated-at>
      <user-id type="integer">10014</user-id>
      <version type="integer">13</version>
      <user-name>James Le Cuirot</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This has now been fixed. See the other ticket.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This has now been fixed. See the other ticket.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-09T13:53:56+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-06-09T13:54:11+01:00</updated-at>
      <user-id type="integer">10014</user-id>
      <version type="integer">14</version>
      <user-name>James Le Cuirot</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/27613)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/27613&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-30T02:28:51+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 73534
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-08-30T02:28:51+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">15</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>On a certain &lt;A href=&quot;http://www.timberland4you.co.uk/Men's-Customize-Waterproof-Boots/Men's_Black_Timberland_Custom_Boot.html&quot;&gt;cheap timberland boots&lt;/A&gt; day  at a certain hour, we will pull into the station. Bands will be playing  and flags &lt;A href=&quot;http://www.timberland4you.co.uk/&quot;&gt;discount timberland boots&lt;/A&gt; waving. Once we get there, so many wonderful &lt;A href=&quot;http://www.timberland4you.co.uk/Women's-Timberland-Premium-Boots/Women's_Timberland_Chocolate_Premium_Boot.html&quot;&gt;timberland   winter boots&lt;/A&gt; dreams will come  true and the pieces of our lives will fit together like a completed  jigsaw puzzle. How restlessly we pace the aisles, &lt;A href=&quot;http://www.timberland4you.co.uk/Women's-Timberland-Premium-Boots/Women's_Timberland_Light_Blue_Premium_Boot.html&quot;&gt;womens timberland boot&lt;/A&gt; the minutes for  loitering --waiting, waiting, waiting for the station.But uppermost in our &lt;A href=&quot;http://www.timberland4you.co.uk/Women's-Timberland-Premium-Boots/Women's_Timberland_Wheat_Premium_Boot.html&quot;&gt;timberland shoes store&lt;/A&gt; minds is the final destination. On a certain day at a certain hour, we will pull into the station. Bands will be playing  and &lt;A href=&quot;http://www.timberland4you.co.uk/Classic_3-Eye_Timberland_Boat.html&quot;&gt;timberland eye boat&lt;/A&gt; flags waving. Tucked away in our &lt;A href=&quot;http://www.timberland4you.co.uk/&quot;&gt;timberland for you&lt;/A&gt; subconscious is an idyllic vision. We see ourselves on a long trip that &lt;A href=&quot;http://www.timberland4you.co.uk/Men's-6-Inch-Timberland-Boots/Men's_Blue_Timberland_6-inch_Boot.html&quot;&gt;timberland 6 inch&lt;/A&gt; spans the continent. We are traveling by train. Out &lt;A href=&quot;http://www.timberland4you.co.uk/about_timberland.html&quot;&gt;timberland hiking boots&lt;/A&gt; windows, we drink in the passing scene of cars on nearby highways, of children &lt;A href=&quot;http://www.timberland4you.co.uk/&quot;&gt;timberland shoe company&lt;/A&gt; waving at a crossing, of cattle grazing on a distant &lt;A href=&quot;http://www.timberland4you.co.uk/&quot;&gt;timberland boots&lt;/A&gt; hillside, of smoke pouring from a power plant, of row upon row of corn and wheat, of flatlands and &lt;A href=&quot;http://www.timberland4you.co.uk/sitemap.html&quot;&gt;timberland wheat shoes&lt;/A&gt; valleys, of mountains and rolling &lt;A href=&quot;http://www.timberland4you.co.uk/Classic-3-Eye-Timberland-Boat/Men's_Black_Classic_3-Eye_Handsewn.html&quot;&gt;classic 3 eye timberland boat&lt;/A&gt; hillsides, of city skylines and village halls.But uppermost in our &lt;A href=&quot;http://www.timberland4you.co.uk/&quot;&gt;black timberland boots&lt;/A&gt; minds is the final destination.</body>
      <body-html>&lt;div&gt;&lt;p&gt;On a certain &lt;a href=
&quot;http://www.timberland4you.co.uk/Men's-Customize-Waterproof-Boots/Men's_Black_Timberland_Custom_Boot.html&quot;&gt;
cheap timberland boots&lt;/a&gt; day at a certain hour, we will pull into
the station. Bands will be playing and flags &lt;a href=
&quot;http://www.timberland4you.co.uk/&quot;&gt;discount timberland boots&lt;/a&gt;
waving. Once we get there, so many wonderful &lt;a href=
&quot;http://www.timberland4you.co.uk/Women's-Timberland-Premium-Boots/Women's_Timberland_Chocolate_Premium_Boot.html&quot;&gt;
timberland winter boots&lt;/a&gt; dreams will come true and the pieces of
our lives will fit together like a completed jigsaw puzzle. How
restlessly we pace the aisles, &lt;a href=
&quot;http://www.timberland4you.co.uk/Women's-Timberland-Premium-Boots/Women's_Timberland_Light_Blue_Premium_Boot.html&quot;&gt;
womens timberland boot&lt;/a&gt; the minutes for loitering --waiting,
waiting, waiting for the station.But uppermost in our &lt;a href=
&quot;http://www.timberland4you.co.uk/Women's-Timberland-Premium-Boots/Women's_Timberland_Wheat_Premium_Boot.html&quot;&gt;
timberland shoes store&lt;/a&gt; minds is the final destination. On a
certain day at a certain hour, we will pull into the station. Bands
will be playing and &lt;a href=
&quot;http://www.timberland4you.co.uk/Classic_3-Eye_Timberland_Boat.html&quot;&gt;
timberland eye boat&lt;/a&gt; flags waving. Tucked away in our &lt;a href=
&quot;http://www.timberland4you.co.uk/&quot;&gt;timberland for you&lt;/a&gt;
subconscious is an idyllic vision. We see ourselves on a long trip
that &lt;a href=
&quot;http://www.timberland4you.co.uk/Men's-6-Inch-Timberland-Boots/Men's_Blue_Timberland_6-inch_Boot.html&quot;&gt;
timberland 6 inch&lt;/a&gt; spans the continent. We are traveling by
train. Out &lt;a href=
&quot;http://www.timberland4you.co.uk/about_timberland.html&quot;&gt;timberland
hiking boots&lt;/a&gt; windows, we drink in the passing scene of cars on
nearby highways, of children &lt;a href=
&quot;http://www.timberland4you.co.uk/&quot;&gt;timberland shoe company&lt;/a&gt;
waving at a crossing, of cattle grazing on a distant &lt;a href=
&quot;http://www.timberland4you.co.uk/&quot;&gt;timberland boots&lt;/a&gt; hillside,
of smoke pouring from a power plant, of row upon row of corn and
wheat, of flatlands and &lt;a href=
&quot;http://www.timberland4you.co.uk/sitemap.html&quot;&gt;timberland wheat
shoes&lt;/a&gt; valleys, of mountains and rolling &lt;a href=
&quot;http://www.timberland4you.co.uk/Classic-3-Eye-Timberland-Boat/Men's_Black_Classic_3-Eye_Handsewn.html&quot;&gt;
classic 3 eye timberland boat&lt;/a&gt; hillsides, of city skylines and
village halls.But uppermost in our &lt;a href=
&quot;http://www.timberland4you.co.uk/&quot;&gt;black timberland boots&lt;/a&gt; minds
is the final destination.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-02T07:07:03+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.8 association_proxy nested_attributes_for
:assigned_user: 1366
:title: nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3 documentation patch review</tag>
      <title>[PATCH] Clean up &quot;omg&quot; comments</title>
      <updated-at type="datetime">2010-09-06T07:06:34+01:00</updated-at>
      <user-id type="integer">114207</user-id>
      <version type="integer">16</version>
      <user-name>timberland6inch</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>These wathces are &lt;a href=&quot;http://www.perboots.com/&quot; title=&quot;women's boots&quot;&gt;women's boots&lt;/a&gt; just a few women's boots of the diamond wathces they design. Tad Heuer Diamond wathces are &lt;a href=&quot;http://www.perboots.com/&quot; title=&quot;womens boots&quot;&gt;womens boots&lt;/a&gt; not only womens boots suitable for women but also fo men. With elegant, durable, sophisticated &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;boots women&quot;&gt;boots women&lt;/a&gt; designs and boots women style of luxury and sports watches, this brand watchmaker has always been a &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;boots&quot;&gt;boots&lt;/a&gt; leading watch boots manufacturer. They are famous for their custommate &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;mens boots&quot;&gt;mens boots&lt;/a&gt; and long-lasting Fashion mens boots Aigner Watches &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;ugg australia&quot;&gt;ugg australia&lt;/a&gt; around the ugg australia world. And their wristwatches are &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;ugg boots sale&quot;&gt;ugg boots sale&lt;/a&gt; reputable in ugg boots sale the selling ranks in the world. The Formula 1 Ladies &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;ugg boots&quot;&gt;ugg boots&lt;/a&gt; Diamond Fashion ugg boots watches are a feminine reinterpretation of &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;ugg&quot;&gt;ugg&lt;/a&gt; Tag Heuer ugg formula 1 series of sporty watches. Such timepiece is very &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;uggs on sale&quot;&gt;uggs on sale&lt;/a&gt; sophisticated uggs on sale in designs and the watch is made of stainless steel which has 120 diamonds. The has a black dial and sapphire crystal glass.</body>
      <body-html>&lt;div&gt;&lt;p&gt;These wathces are &lt;a href=&quot;http://www.perboots.com/&quot; title=
&quot;women's boots&quot;&gt;women's boots&lt;/a&gt; just a few women's boots of the
diamond wathces they design. Tad Heuer Diamond wathces are &lt;a href=
&quot;http://www.perboots.com/&quot; title=&quot;womens boots&quot;&gt;womens boots&lt;/a&gt;
not only womens boots suitable for women but also fo men. With
elegant, durable, sophisticated &lt;a href=&quot;http://www.someboots.com/&quot;
title=&quot;boots women&quot;&gt;boots women&lt;/a&gt; designs and boots women style
of luxury and sports watches, this brand watchmaker has always been
a &lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;boots&quot;&gt;boots&lt;/a&gt;
leading watch boots manufacturer. They are famous for their
custommate &lt;a href=&quot;http://www.someboots.com/&quot; title=
&quot;mens boots&quot;&gt;mens boots&lt;/a&gt; and long-lasting Fashion mens boots
Aigner Watches &lt;a href=&quot;http://www.someboots.com/&quot; title=
&quot;ugg australia&quot;&gt;ugg australia&lt;/a&gt; around the ugg australia world.
And their wristwatches are &lt;a href=&quot;http://www.someboots.com/&quot;
title=&quot;ugg boots sale&quot;&gt;ugg boots sale&lt;/a&gt; reputable in ugg boots
sale the selling ranks in the world. The Formula 1 Ladies &lt;a href=
&quot;http://www.someboots.com/&quot; title=&quot;ugg boots&quot;&gt;ugg boots&lt;/a&gt; Diamond
Fashion ugg boots watches are a feminine reinterpretation of
&lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;ugg&quot;&gt;ugg&lt;/a&gt; Tag Heuer
ugg formula 1 series of sporty watches. Such timepiece is very
&lt;a href=&quot;http://www.someboots.com/&quot; title=&quot;uggs on sale&quot;&gt;uggs on
sale&lt;/a&gt; sophisticated uggs on sale in designs and the watch is
made of stainless steel which has 120 diamonds. The has a black
dial and sapphire crystal glass.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-06T02:05:28+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.8 association_proxy nested_attributes_for
:assigned_user: 1366
:title: nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3 documentation patch review</tag>
      <title>[PATCH] Clean up &quot;omg&quot; comments</title>
      <updated-at type="datetime">2010-09-06T07:06:49+01:00</updated-at>
      <user-id type="integer">114629</user-id>
      <version type="integer">17</version>
      <user-name>lala</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Duplicate of #4642</body>
      <body-html>&lt;div&gt;&lt;p&gt;Duplicate of &lt;a href=&quot;/projects/8994/tickets/4642&quot; title=
&quot;Ticket #4642&quot;&gt;#4642&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-10T09:01:25+01:00</created-at>
      <creator-id type="integer">19849</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">4766</number>
      <permalink>nested_attributes-fails-to-updatedestroy-when-association-is-loaded-between-setting-attributes-and-saving-parent</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>2.3.8 association_proxy nested_attributes_for</tag>
      <title>nested_attributes fails to update/destroy when association is loaded between setting attributes and saving parent</title>
      <updated-at type="datetime">2010-10-10T09:01:28+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">18</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>Luke Melia</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4766</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>9249a5ddfbc3404cb7d579f8c309ec06638f75c0</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-06-04T16:47:03+01:00</created-at>
      <filename>nested_attributes_destroy_failing_test.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">547453</id>
      <size type="integer">2293</size>
      <uploader-id type="integer">19849</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/547453/nested_attributes_destroy_failing_test.diff</url>
    </attachment>
  </attachments>
</ticket>
