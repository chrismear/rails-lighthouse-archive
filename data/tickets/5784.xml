<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-11T16:14:31+01:00</created-at>
  <creator-id type="integer">16169</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5784</number>
  <permalink>showexceptions-renders-original-exceptions</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>middleware patch</tag>
  <title>ShowExceptions renders original exceptions</title>
  <updated-at type="datetime">2010-10-11T23:56:30+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">4</version>
  <user-name>Repository</user-name>
  <creator-name>Les Hill</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5784</url>
  <priority-name>Low</priority-name>
  <original-body>Current ShowExceptions middleware behavior is to use the wrapping exception to set the response.  So all template errors are shown as 500's even when a 404 would be indicated from the wrapped exception.

This patch finds wrapped exceptions which have a response known to ShowExceptions and use that instead.  If the wrapped exception is not known to ShowExceptions, the wrapping exception is used instead.

The original exception (i.e. the wrapping exception) continues to be logged.

Les Hill
Sandro Turriate</original-body>
  <latest-body>Current ShowExceptions middleware behavior is to use the wrapping exception to set the response.  So all template errors are shown as 500's even when a 404 would be indicated from the wrapped exception.

This patch finds wrapped exceptions which have a response known to ShowExceptions and use that instead.  If the wrapped exception is not known to ShowExceptions, the wrapping exception is used instead.

The original exception (i.e. the wrapping exception) continues to be logged.

Les Hill
Sandro Turriate</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Current ShowExceptions middleware behavior is to use the
wrapping exception to set the response. So all template errors are
shown as 500's even when a 404 would be indicated from the wrapped
exception.&lt;/p&gt;
&lt;p&gt;This patch finds wrapped exceptions which have a response known
to ShowExceptions and use that instead. If the wrapped exception is
not known to ShowExceptions, the wrapping exception is used
instead.&lt;/p&gt;
&lt;p&gt;The original exception (i.e. the wrapping exception) continues
to be logged.&lt;/p&gt;
&lt;p&gt;Les Hill&lt;br&gt;
Sandro Turriate&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Current ShowExceptions middleware behavior is to use the wrapping exception to set the response.  So all template errors are shown as 500's even when a 404 would be indicated from the wrapped exception.

This patch finds wrapped exceptions which have a response known to ShowExceptions and use that instead.  If the wrapped exception is not known to ShowExceptions, the wrapping exception is used instead.

The original exception (i.e. the wrapping exception) continues to be logged.

Les Hill
Sandro Turriate</body>
      <body-html>&lt;div&gt;&lt;p&gt;Current ShowExceptions middleware behavior is to use the
wrapping exception to set the response. So all template errors are
shown as 500's even when a 404 would be indicated from the wrapped
exception.&lt;/p&gt;
&lt;p&gt;This patch finds wrapped exceptions which have a response known
to ShowExceptions and use that instead. If the wrapped exception is
not known to ShowExceptions, the wrapping exception is used
instead.&lt;/p&gt;
&lt;p&gt;The original exception (i.e. the wrapping exception) continues
to be logged.&lt;/p&gt;
&lt;p&gt;Les Hill&lt;br&gt;
Sandro Turriate&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T16:14:31+01:00</created-at>
      <creator-id type="integer">16169</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5784</number>
      <permalink>showexceptions-renders-original-exceptions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>middleware patch</tag>
      <title>ShowExceptions renders original exceptions</title>
      <updated-at type="datetime">2010-10-11T16:14:34+01:00</updated-at>
      <user-id type="integer">16169</user-id>
      <version type="integer">1</version>
      <user-name>Les Hill</user-name>
      <creator-name>Les Hill</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5784</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Patch attached.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Patch attached.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T16:20:17+01:00</created-at>
      <creator-id type="integer">16169</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5784</number>
      <permalink>showexceptions-renders-original-exceptions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>middleware patch</tag>
      <title>ShowExceptions renders original exceptions</title>
      <updated-at type="datetime">2010-10-11T16:20:20+01:00</updated-at>
      <user-id type="integer">13200</user-id>
      <version type="integer">2</version>
      <user-name>sandro</user-name>
      <creator-name>Les Hill</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5784</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T16:59:08+01:00</created-at>
      <creator-id type="integer">16169</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5784</number>
      <permalink>showexceptions-renders-original-exceptions</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>middleware patch</tag>
      <title>ShowExceptions renders original exceptions</title>
      <updated-at type="datetime">2010-10-11T16:59:14+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">3</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Les Hill</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5784</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [dde54f00c6c08d1704d011d8108106076e8ea033]) Show exceptions rescues the original exception

[#5784 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/dde54f00c6c08d1704d011d8108106076e8ea033</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/dde54f00c6c08d1704d011d8108106076e8ea033&quot;
title=
&quot;Changeset [dde54f00c6c08d1704d011d8108106076e8ea033]&quot;&gt;[dde54f00c6c08d1704d011d8108106076e8ea033]&lt;/a&gt;)
Show exceptions rescues the original exception&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/5784&quot; title=
&quot;Ticket #5784&quot;&gt;#5784&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/dde54f00c6c08d1704d011d8108106076e8ea033&quot;&gt;
http://github.com/rails/rails/commit/dde54f00c6c08d1704d011d8108106...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-11T23:56:27+01:00</created-at>
      <creator-id type="integer">16169</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5784</number>
      <permalink>showexceptions-renders-original-exceptions</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>middleware patch</tag>
      <title>ShowExceptions renders original exceptions</title>
      <updated-at type="datetime">2010-10-11T23:56:30+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">4</version>
      <user-name>Repository</user-name>
      <creator-name>Les Hill</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5784</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>cafe6f420c17e0bcd88e09d27ef8f7161f9e6bd4</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-10-11T16:20:17+01:00</created-at>
      <filename>show_exceptions_original_exception.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">713377</id>
      <size type="integer">3337</size>
      <uploader-id type="integer">13200</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/713377/show_exceptions_original_exception.diff</url>
    </attachment>
  </attachments>
</ticket>
