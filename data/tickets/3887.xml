<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-02-07T19:20:37+00:00</created-at>
  <creator-id type="integer">3972</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3887</number>
  <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>bug patch testing</tag>
  <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
  <updated-at type="datetime">2011-02-02T19:01:49+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">6</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>will bailey</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
  <priority-name>Low</priority-name>
  <original-body>I discovered this bug while testing file uploading in an app I'm working on.  While accessing the uploaded data I'm differentiating between String and StringIO/TempFile by checking if the object respond_to?(:read).  In testing with TestUploadedFile I discovered that it does not correctly report that it respond_to?(:read) as this is handled through method missing.  This patch runs the respond_to? on the tempfile as well as the TestUploadedFile yielding a result that more closely matches what you see in an actual request.</original-body>
  <latest-body>I discovered this bug while testing file uploading in an app I'm working on.  While accessing the uploaded data I'm differentiating between String and StringIO/TempFile by checking if the object respond_to?(:read).  In testing with TestUploadedFile I discovered that it does not correctly report that it respond_to?(:read) as this is handled through method missing.  This patch runs the respond_to? on the tempfile as well as the TestUploadedFile yielding a result that more closely matches what you see in an actual request.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I discovered this bug while testing file uploading in an app I'm
working on. While accessing the uploaded data I'm differentiating
between String and StringIO/TempFile by checking if the object
respond_to?(:read). In testing with TestUploadedFile I discovered
that it does not correctly report that it respond_to?(:read) as
this is handled through method missing. This patch runs the
respond_to? on the tempfile as well as the TestUploadedFile
yielding a result that more closely matches what you see in an
actual request.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I discovered this bug while testing file uploading in an app I'm working on.  While accessing the uploaded data I'm differentiating between String and StringIO/TempFile by checking if the object respond_to?(:read).  In testing with TestUploadedFile I discovered that it does not correctly report that it respond_to?(:read) as this is handled through method missing.  This patch runs the respond_to? on the tempfile as well as the TestUploadedFile yielding a result that more closely matches what you see in an actual request.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I discovered this bug while testing file uploading in an app I'm
working on. While accessing the uploaded data I'm differentiating
between String and StringIO/TempFile by checking if the object
respond_to?(:read). In testing with TestUploadedFile I discovered
that it does not correctly report that it respond_to?(:read) as
this is handled through method missing. This patch runs the
respond_to? on the tempfile as well as the TestUploadedFile
yielding a result that more closely matches what you see in an
actual request.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-07T19:20:37+00:00</created-at>
      <creator-id type="integer">3972</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3887</number>
      <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
      <updated-at type="datetime">2010-02-07T19:46:31+00:00</updated-at>
      <user-id type="integer">3972</user-id>
      <version type="integer">1</version>
      <user-name>will bailey</user-name>
      <creator-name>will bailey</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This bit me too and I was about to send a similar patch.

+1

Thanks Will</body>
      <body-html>&lt;div&gt;&lt;p&gt;This bit me too and I was about to send a similar patch.&lt;/p&gt;
&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;Thanks Will&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-08T14:26:30+01:00</created-at>
      <creator-id type="integer">3972</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3887</number>
      <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug patch testing</tag>
      <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
      <updated-at type="datetime">2010-06-08T14:26:36+01:00</updated-at>
      <user-id type="integer">12826</user-id>
      <version type="integer">2</version>
      <user-name>Nikos Dimitrakopoulos</user-name>
      <creator-name>will bailey</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>One fix to your patch: you should use original_respond_to instead of respond_to.</body>
      <body-html>&lt;div&gt;&lt;p&gt;One fix to your patch: you should use original_respond_to
instead of respond_to.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-21T10:25:01+01:00</created-at>
      <creator-id type="integer">3972</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3887</number>
      <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug patch testing</tag>
      <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
      <updated-at type="datetime">2010-06-21T10:25:04+01:00</updated-at>
      <user-id type="integer">12826</user-id>
      <version type="integer">3</version>
      <user-name>Nikos Dimitrakopoulos</user-name>
      <creator-name>will bailey</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I believe there is no need to use aliases, you can simply call super.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I believe there is no need to use aliases, you can simply call
super.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-22T16:47:46+01:00</created-at>
      <creator-id type="integer">3972</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3887</number>
      <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug patch testing</tag>
      <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
      <updated-at type="datetime">2010-06-22T16:47:53+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">4</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>will bailey</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T17:02:02+00:00</created-at>
      <creator-id type="integer">3972</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3887</number>
      <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>bug patch testing</tag>
      <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
      <updated-at type="datetime">2011-02-02T19:01:49+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">5</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>will bailey</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T17:02:03+00:00</created-at>
      <creator-id type="integer">3972</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3887</number>
      <permalink>uploadedtestfile-should-respond_to-read-and-other-tempfile-methods</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>bug patch testing</tag>
      <title>UploadedTestFile should respond_to? :read and other tempfile methods</title>
      <updated-at type="datetime">2011-02-02T19:01:39+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">6</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>will bailey</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3887</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>800af5f9ecb70e702f5d20487309f4eb92bf1049</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-02-07T19:20:37+00:00</created-at>
      <filename>uploadtestfile-should-respond-to-read.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">404032</id>
      <size type="integer">1631</size>
      <uploader-id type="integer">3972</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/404032/uploadtestfile-should-respond-to-read.diff</url>
    </attachment>
  </attachments>
</ticket>
