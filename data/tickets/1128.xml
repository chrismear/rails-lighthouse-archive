<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">141</assigned-user-id>
  <attachments-count type="integer">13</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-01-04T16:24:46+00:00</created-at>
  <creator-id type="integer">22589</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">1128</number>
  <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
  <priority type="integer">11</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag nil="true"></tag>
  <title>Fix config.gem bugs and add more tests</title>
  <updated-at type="datetime">2011-01-04T16:24:46+00:00</updated-at>
  <user-id type="integer">123671</user-id>
  <version type="integer">78</version>
  <user-name>Susancai55</user-name>
  <creator-name>Matt Jones</creator-name>
  <assigned-user-name>Michael Koziarski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
  <priority-name nil="true"></priority-name>
  <original-body>Fix a number of errors in the config.gem mechanism.

* Rails::GemDependency was missing definitions for hash and eql?, causing Array#uniq to not work (dependencies were checked/loaded/unpacked more than once).

* If several versions of a gem were unpacked in vendor, selected the first (ie lowest version number)
  rather than the last (highest) version when no version was specified.

* streamlined add_load_path. Now sets up Rubygems correctly to allow 'gem' to find frozen gems.

* Rails::GemDependency#specification would return a spec for the highest installed version, even for
  frozen gems and/or previously loaded lower versions. See in part #1123.

* vendor/gems is now structured as a gem repository (has a 'gem' and a 'specifications' subdir).

* added additional tests for loading frozen gems.


Outstanding issues:

This patch does not address #1107 (gems depending on vendor rails), nor does it address 
the rest of #1123 (rake gems:unpack:dependencies will still unpack rails into vendor/gems).</original-body>
  <latest-body>Fix a number of errors in the config.gem mechanism.

* Rails::GemDependency was missing definitions for hash and eql?, causing Array#uniq to not work (dependencies were checked/loaded/unpacked more than once).

* If several versions of a gem were unpacked in vendor, selected the first (ie lowest version number)
  rather than the last (highest) version when no version was specified.

* streamlined add_load_path. Now sets up Rubygems correctly to allow 'gem' to find frozen gems.

* Rails::GemDependency#specification would return a spec for the highest installed version, even for
  frozen gems and/or previously loaded lower versions. See in part #1123.

* vendor/gems is now structured as a gem repository (has a 'gem' and a 'specifications' subdir).

* added additional tests for loading frozen gems.


Outstanding issues:

This patch does not address #1107 (gems depending on vendor rails), nor does it address 
the rest of #1123 (rake gems:unpack:dependencies will still unpack rails into vendor/gems).</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Fix a number of errors in the config.gem mechanism.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rails::GemDependency was missing definitions for hash and eql?,
causing Array#uniq to not work (dependencies were
checked/loaded/unpacked more than once).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If several versions of a gem were unpacked in vendor, selected
the first (ie lowest version number) rather than the last (highest)
version when no version was specified.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;streamlined add_load_path. Now sets up Rubygems correctly to
allow 'gem' to find frozen gems.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rails::GemDependency#specification would return a spec for the
highest installed version, even for frozen gems and/or previously
loaded lower versions. See in part &lt;a href=&quot;/projects/8994/tickets/1123&quot; title=&quot;Ticket #1123&quot;&gt;#1123&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vendor/gems is now structured as a gem repository (has a 'gem'
and a 'specifications' subdir).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;added additional tests for loading frozen gems.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Outstanding issues:&lt;/p&gt;
&lt;p&gt;This patch does not address &lt;a href=&quot;/projects/8994/tickets/1107&quot; title=&quot;Ticket #1107&quot;&gt;#1107&lt;/a&gt; (gems
depending on vendor rails), nor does it address the rest of
&lt;a href=&quot;/projects/8994/tickets/1123&quot; title=&quot;Ticket #1123&quot;&gt;#1123&lt;/a&gt; (rake gems:unpack:dependencies will still
unpack rails into vendor/gems).&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Fix a number of errors in the config.gem mechanism.

* Rails::GemDependency was missing definitions for hash and eql?, causing Array#uniq to not work (dependencies were checked/loaded/unpacked more than once).

* If several versions of a gem were unpacked in vendor, selected the first (ie lowest version number)
  rather than the last (highest) version when no version was specified.

* streamlined add_load_path. Now sets up Rubygems correctly to allow 'gem' to find frozen gems.

* Rails::GemDependency#specification would return a spec for the highest installed version, even for
  frozen gems and/or previously loaded lower versions. See in part #1123.

* vendor/gems is now structured as a gem repository (has a 'gem' and a 'specifications' subdir).

* added additional tests for loading frozen gems.


Outstanding issues:

This patch does not address #1107 (gems depending on vendor rails), nor does it address 
the rest of #1123 (rake gems:unpack:dependencies will still unpack rails into vendor/gems).</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fix a number of errors in the config.gem mechanism.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rails::GemDependency was missing definitions for hash and eql?,
causing Array#uniq to not work (dependencies were
checked/loaded/unpacked more than once).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If several versions of a gem were unpacked in vendor, selected
the first (ie lowest version number) rather than the last (highest)
version when no version was specified.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;streamlined add_load_path. Now sets up Rubygems correctly to
allow 'gem' to find frozen gems.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rails::GemDependency#specification would return a spec for the
highest installed version, even for frozen gems and/or previously
loaded lower versions. See in part &lt;a href=&quot;/projects/8994/tickets/1123&quot; title=&quot;Ticket #1123&quot;&gt;#1123&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vendor/gems is now structured as a gem repository (has a 'gem'
and a 'specifications' subdir).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;added additional tests for loading frozen gems.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Outstanding issues:&lt;/p&gt;
&lt;p&gt;This patch does not address &lt;a href=&quot;/projects/8994/tickets/1107&quot; title=&quot;Ticket #1107&quot;&gt;#1107&lt;/a&gt; (gems
depending on vendor rails), nor does it address the rest of
&lt;a href=&quot;/projects/8994/tickets/1123&quot; title=&quot;Ticket #1123&quot;&gt;#1123&lt;/a&gt; (rake gems:unpack:dependencies will still
unpack rails into vendor/gems).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-28T07:23:20+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-09-28T07:23:24+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">1</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>We can't really change the structure of vendor/gems without breaking people's apps.  What's the rationale of making that change?

Also, is there a reason that you choose the lowest version, rubygems chooses the highest version in general.

Other than those two questions, this looks good.</body>
      <body-html>&lt;div&gt;&lt;p&gt;We can't really change the structure of vendor/gems without
breaking people's apps. What's the rationale of making that
change?&lt;/p&gt;
&lt;p&gt;Also, is there a reason that you choose the lowest version,
rubygems chooses the highest version in general.&lt;/p&gt;
&lt;p&gt;Other than those two questions, this looks good.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-30T09:39:36+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-09-30T09:39:41+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">2</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The vendor/gems change is to make it a proper Gem repository. This allows the code to simply use 'gem' to add load paths, whether the gem is frozen or not.
Otherwise, you get patches like #362, which ends up re-implementing chunks of Gem.activate needlessly.

Furthermore, using 'gem' to load frozen gems ensures that other, un-frozen gems that depend on the frozen gem don't try to load another copy.

Finally, it ensures that frozen gems are treated exactly as installed gems, so that any fixes (for example, including rake tasks from gems) work identically.

A new patch (replacing the old) follows - see the comment for more details.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The vendor/gems change is to make it a proper Gem repository.
This allows the code to simply use 'gem' to add load paths, whether
the gem is frozen or not. Otherwise, you get patches like &lt;a href=&quot;/projects/8994/tickets/362&quot; title=&quot;Ticket #362&quot;&gt;#362&lt;/a&gt;, which
ends up re-implementing chunks of Gem.activate needlessly.&lt;/p&gt;
&lt;p&gt;Furthermore, using 'gem' to load frozen gems ensures that other,
un-frozen gems that depend on the frozen gem don't try to load
another copy.&lt;/p&gt;
&lt;p&gt;Finally, it ensures that frozen gems are treated exactly as
installed gems, so that any fixes (for example, including rake
tasks from gems) work identically.&lt;/p&gt;
&lt;p&gt;A new patch (replacing the old) follows - see the comment for
more details.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-30T22:05:30+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-09-30T22:05:33+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">3</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Fix a number of errors in the config.gem mechanism.

* Rails::GemDependency was missing definitions for hash and eql?, causing Array#uniq to not work.

* If several versions of a gem are unpacked in vendor, now chooses the highest if no version is specified.

* streamlined add_load_path. Now sets up Rubygems correctly to allow 'gem' to find frozen gems.

* Rails::GemDependency#specification would return a spec for the highest installed version, even for
  frozen gems and/or previously loaded lower versions. See in part ticket #1123.

* vendor/gems is now structured as a gem repository (has a 'gem' and a 'specifications' subdir).

* removed vendor from default_load_paths - it was causing autoloading to append Gems::Gems::&lt;gem-dir&gt; to
  constant names

* added additional tests for loading frozen gems.

* incorporates the fix from #1107 for vendor rails

* defers to freeze:gems for handling the Rails framework. gems:unpack WILL NOT place a copy of Rails
  in vendor/gems. Should close #1123 completely.

* incorporates, via using the gem loader for frozen gems, fixes corresponding to #227, #324, #362, #527, and #742.

* gem plugins now work the same whether frozen or not. Correctness of the behavior is a matter for another ticket...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fix a number of errors in the config.gem mechanism.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rails::GemDependency was missing definitions for hash and eql?,
causing Array#uniq to not work.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If several versions of a gem are unpacked in vendor, now chooses
the highest if no version is specified.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;streamlined add_load_path. Now sets up Rubygems correctly to
allow 'gem' to find frozen gems.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rails::GemDependency#specification would return a spec for the
highest installed version, even for frozen gems and/or previously
loaded lower versions. See in part ticket &lt;a href=&quot;/projects/8994/tickets/1123&quot; title=&quot;Ticket #1123&quot;&gt;#1123&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vendor/gems is now structured as a gem repository (has a 'gem'
and a 'specifications' subdir).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;removed vendor from default_load_paths - it was causing
autoloading to append Gems::Gems::&amp;lt;gem-dir&amp;gt; to constant
names&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;added additional tests for loading frozen gems.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;incorporates the fix from &lt;a href=&quot;/projects/8994/tickets/1107&quot; title=&quot;Ticket #1107&quot;&gt;#1107&lt;/a&gt; for vendor rails&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;defers to freeze:gems for handling the Rails framework.
gems:unpack WILL NOT place a copy of Rails in vendor/gems. Should
close &lt;a href=&quot;/projects/8994/tickets/1123&quot; title=&quot;Ticket #1123&quot;&gt;#1123&lt;/a&gt; completely.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;incorporates, via using the gem loader for frozen gems, fixes
corresponding to &lt;a href=&quot;/projects/8994/tickets/227&quot; title=&quot;Ticket #227&quot;&gt;#227&lt;/a&gt;, &lt;a href=&quot;/projects/8994/tickets/324&quot; title=&quot;Ticket #324&quot;&gt;#324&lt;/a&gt;, &lt;a href=&quot;/projects/8994/tickets/362&quot; title=&quot;Ticket #362&quot;&gt;#362&lt;/a&gt;, &lt;a href=&quot;/projects/8994/tickets/527&quot; title=&quot;Ticket #527&quot;&gt;#527&lt;/a&gt;, and &lt;a href=&quot;/projects/8994/tickets/742&quot; title=&quot;Ticket #742&quot;&gt;#742&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gem plugins now work the same whether frozen or not. Correctness
of the behavior is a matter for another ticket...&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-30T22:06:49+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-09-30T22:06:53+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">4</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 on the need for this.  Was about to work on it myself.

Consider the situation where you use a gem which depends on other gems.  So you unpack them all.  Well, when your gem is loaded, it tries to load its required gems using Kernel#gem.  Kernel#gem in turn either activates locally installed gems or, if the gems aren't installed locally, it produces an error.

Thanks Matt for implementing this!  Hope it makes it into edge soon.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 on the need for this. Was about to work on it myself.&lt;/p&gt;
&lt;p&gt;Consider the situation where you use a gem which depends on
other gems. So you unpack them all. Well, when your gem is loaded,
it tries to load its required gems using Kernel#gem. Kernel#gem in
turn either activates locally installed gems or, if the gems aren't
installed locally, it produces an error.&lt;/p&gt;
&lt;p&gt;Thanks Matt for implementing this! Hope it makes it into edge
soon.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-03T19:44:24+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-03T19:44:26+01:00</updated-at>
      <user-id type="integer">33709</user-id>
      <version type="integer">5</version>
      <user-name>Taylor Barstow</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I definitely like 90% of this stuff.

But the change to the on-disk format is likely to break people's apps or at least cause a pesky upgrade step.

How much of this stuff depends on making that change to vendor/gems?  Because I can't really justify that change this close to 2.2,  however if we can pull out a subset of these changes for 2.2, then i think we may get the best of both worlds?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I definitely like 90% of this stuff.&lt;/p&gt;
&lt;p&gt;But the change to the on-disk format is likely to break people's
apps or at least cause a pesky upgrade step.&lt;/p&gt;
&lt;p&gt;How much of this stuff depends on making that change to
vendor/gems? Because I can't really justify that change this close
to 2.2, however if we can pull out a subset of these changes for
2.2, then i think we may get the best of both worlds?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-03T20:16:20+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-03T20:16:22+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">6</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The on-disk format change is mostly a matter of symmetry.
I also thought it might enable a later version of this mechanism to 
do a 'gem install' *locally*, making life easier for users on shared hosting.

I've got an idea how to make this work with the existing structure
(vendor/gems/gemname-version and .specification YAML files). Will
post a patch this weekend.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The on-disk format change is mostly a matter of symmetry. I also
thought it might enable a later version of this mechanism to do a
'gem install' &lt;em&gt;locally&lt;/em&gt;, making life easier for users on
shared hosting.&lt;/p&gt;
&lt;p&gt;I've got an idea how to make this work with the existing
structure (vendor/gems/gemname-version and .specification YAML
files). Will post a patch this weekend.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-03T20:54:17+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-03T20:54:19+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">7</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I think it's probably worth looking at making the change to support local gem installs later, but for now we should avoid breaking stuff.

Looks great and I look forward to the new version.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think it's probably worth looking at making the change to
support local gem installs later, but for now we should avoid
breaking stuff.&lt;/p&gt;
&lt;p&gt;Looks great and I look forward to the new version.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-03T21:11:00+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-03T21:11:02+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">8</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I've attached a path that uses a modified SourceIndex object to find vendor gems.
It should be compatible with existing setups.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've attached a path that uses a modified SourceIndex object to
find vendor gems. It should be compatible with existing setups.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-04T00:49:55+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 141
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-04T00:50:02+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">9</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>A Few tidyups:

Instead of @@first_run = true, just use ||= begin ...

Encapsulate all the @@framework_gems.has_key?(name) stuff into something like #framework_gem?

I don't follow what the loaded? method is doing, perhaps it needs commenting?

There's no comments for VendorGemSourceIndex and refresh! is a little tough to follow.

Apart from that stuff it's looking really good.  Nice work!</body>
      <body-html>&lt;div&gt;&lt;p&gt;A Few tidyups:&lt;/p&gt;
&lt;p&gt;Instead of @@first_run = true, just use ||= begin ...&lt;/p&gt;
&lt;p&gt;Encapsulate all the @@framework_gems.has_key?(name) stuff into
something like #framework_gem?&lt;/p&gt;
&lt;p&gt;I don't follow what the loaded? method is doing, perhaps it
needs commenting?&lt;/p&gt;
&lt;p&gt;There's no comments for VendorGemSourceIndex and refresh! is a
little tough to follow.&lt;/p&gt;
&lt;p&gt;Apart from that stuff it's looking really good. Nice work!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-04T12:28:55+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-04T12:28:58+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">10</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Tidied up as noted. Also moved a few other conditions into methods, such as the check for vendored Rails.

The loaded? method is now commented in detail, as is the refresh! method.

I forgot to add to the commit message that rake gems will now display the dependency tree rather than just the gems listed explicitly in config.gem.



One note on this: I'm not sure if this will be completely compatible with current installs. The old GemDependency#specification did not always return a spec that matched the gem in use - for example, if version 1.0 was requested while 1.0 and 1.1 were installed, the specification returned would be for 1.1. So currently unpacked gems will have bad .specification files in that case.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Tidied up as noted. Also moved a few other conditions into
methods, such as the check for vendored Rails.&lt;/p&gt;
&lt;p&gt;The loaded? method is now commented in detail, as is the
refresh! method.&lt;/p&gt;
&lt;p&gt;I forgot to add to the commit message that rake gems will now
display the dependency tree rather than just the gems listed
explicitly in config.gem.&lt;/p&gt;
&lt;p&gt;One note on this: I'm not sure if this will be completely
compatible with current installs. The old
GemDependency#specification did not always return a spec that
matched the gem in use - for example, if version 1.0 was requested
while 1.0 and 1.1 were installed, the specification returned would
be for 1.1. So currently unpacked gems will have bad .specification
files in that case.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-04T19:00:19+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-04T19:00:21+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">11</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>OK, assigning this to rick for a final look over</body>
      <body-html>&lt;div&gt;&lt;p&gt;OK, assigning this to rick for a final look over&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-04T19:16:59+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-04T19:17:03+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">12</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Committed, forgot to link the commit to this ticket.  Thanks for the patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Committed, forgot to link the commit to this ticket. Thanks for
the patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-05T18:25:46+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-05T18:25:52+01:00</updated-at>
      <user-id type="integer">1</user-id>
      <version type="integer">13</version>
      <user-name>Rick</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>So, this breaks in the following situation. generate a new project on edge and specify a gem you don't have.  e.g.

@@@
config.gem 'paperclip', :version =&gt; '2.1.5'
@@@

the framework fails with:

@@@
/Users/michaelkoziarski/tmp/foo2/config/../vendor/rails/railties/lib/rails/gem_dependency.rb:114:in `loaded?':NoMethodError: You have a nil object when you didn't expect it!
The error occurred while evaluating nil.files
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;So, this breaks in the following situation. generate a new
project on edge and specify a gem you don't have. e.g.&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
config.gem 'paperclip', :version =&amp;gt; '2.1.5'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the framework fails with:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
/Users/michaelkoziarski/tmp/foo2/config/../vendor/rails/railties/lib/rails/gem_dependency.rb:114:in `loaded?':NoMethodError: You have a nil object when you didn't expect it!
The error occurred while evaluating nil.files
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-07T20:58:10+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-07T20:58:15+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">14</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>See http://gist.github.com/15371 for what I think might be a fix. Works for me with rubygems 1.3.0</body>
      <body-html>&lt;div&gt;&lt;p&gt;See &lt;a href=&quot;http://gist.github.com/15371&quot;&gt;http://gist.github.com/15371&lt;/a&gt; for
what I think might be a fix. Works for me with rubygems 1.3.0&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-07T21:32:39+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-07T21:32:42+01:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">15</version>
      <user-name>Mislav</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Make loaded false if spec not found - patch against master.

Note to mislav: Gem.source_index.search isn't deprecated entirely, 
only in its (name, requirement) form. find_name calls the deprecated 
method. The code in master uses the currently recommended form (one argument of type Gem::Dependency).</body>
      <body-html>&lt;div&gt;&lt;p&gt;Make loaded false if spec not found - patch against master.&lt;/p&gt;
&lt;p&gt;Note to mislav: Gem.source_index.search isn't deprecated
entirely, only in its (name, requirement) form. find_name calls the
deprecated method. The code in master uses the currently
recommended form (one argument of type Gem::Dependency).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-08T04:15:16+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-08T04:15:20+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">16</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Matt: not sure I understand. If we're using the recommended API in current master, why is rubygems complaining?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Matt: not sure I understand. If we're using the recommended API
in current master, why is rubygems complaining?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-08T08:04:08+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-08T08:04:11+01:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">17</version>
      <user-name>Mislav</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Oddly enough, Gem.activate in rubygems.rb still uses the old find_name API. That's where the warning is coming from.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oddly enough, Gem.activate in rubygems.rb still uses the old
find_name API. That's where the warning is coming from.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-08T14:36:30+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-08T14:36:36+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">18</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>I don't know about rubygems API changes, but I know this much: that the warnings are generated in the method I patched in my gistie, and that my patch silences them, leaving the dependencies system still working.

I would welcome any alternative solution that is more correct than mine, but at the present time I think mine should be applied because these warnings make operations like testing a living nightmare (too much noise in the console).</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't know about rubygems API changes, but I know this much:
that the warnings are generated in the method I patched in my
gistie, and that my patch silences them, leaving the dependencies
system still working.&lt;/p&gt;
&lt;p&gt;I would welcome any alternative solution that is more correct
than mine, but at the present time I think mine should be applied
because these warnings make operations like testing a living
nightmare (too much noise in the console).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-08T14:53:10+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-08T14:53:14+01:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">19</version>
      <user-name>Mislav</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Found the problem - VendorGemSourceIndex#find_name (called by the gem loader) was copied from the old version. That's what I get for copy-n-paste... :)

Attached patch to master should finally silence this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Found the problem - VendorGemSourceIndex#find_name (called by
the gem loader) was copied from the old version. That's what I get
for copy-n-paste... :)&lt;/p&gt;
&lt;p&gt;Attached patch to master should finally silence this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-08T15:33:12+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-08T15:33:17+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">20</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>(from [0dea211f44d85e9c28963784286838bfa6c343f9]) Fix definition of find_name

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;
[#1128 state:committed]
http://github.com/rails/rails/commit/0dea211f44d85e9c28963784286838bfa6c343f9</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [0dea211f44d85e9c28963784286838bfa6c343f9]) Fix definition
of find_name&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski &lt;a href=&quot;mailto:michael@koziarski.com&quot;&gt;michael@koziarski.com&lt;/a&gt; [&lt;a href=&quot;/projects/8994/tickets/1128&quot; title=&quot;Ticket #1128&quot;&gt;#1128&lt;/a&gt;
state:committed] &lt;a href=&quot;http://github.com/rails/rails/commit/0dea211f44d85e9c28963784286838bfa6c343f9&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-08T16:37:54+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-08T16:37:58+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">21</version>
      <user-name>Repository</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>This change broke gem loading in plugins, at least for my app. I've got BackgrounDRb installed in vendor/plugins; it depends on the packet gem, which is in vendor/gems. It always worked before, but now it fails with &quot;no such file to load -- packet (MissingSourceFile)&quot; when BackgrounDRb tries to require packet.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This change broke gem loading in plugins, at least for my app.
I've got BackgrounDRb installed in vendor/plugins; it depends on
the packet gem, which is in vendor/gems. It always worked before,
but now it fails with &quot;no such file to load -- packet
(MissingSourceFile)&quot; when BackgrounDRb tries to require packet.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-09T09:05:59+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T09:06:02+01:00</updated-at>
      <user-id type="integer">813</user-id>
      <version type="integer">22</version>
      <user-name>Tom Stuart</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>Can anyone else verify this?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can anyone else verify this?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T09:18:04+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: committed
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T09:18:08+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">23</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>FYI zdennis has reported the same issue (presumably) on http://github.com/rails/rails/commit/2bf58aa.</body>
      <body-html>&lt;div&gt;&lt;p&gt;FYI zdennis has reported the same issue (presumably) on &lt;a href=&quot;http://github.com/rails/rails/commit/2bf58aa.%3C/p&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T09:19:38+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T09:19:41+01:00</updated-at>
      <user-id type="integer">813</user-id>
      <version type="integer">24</version>
      <user-name>Tom Stuart</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>Matt and Mislav, any ideas?

Seems like we'd have to revert the changes if it's broken this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Matt and Mislav, any ideas?&lt;/p&gt;
&lt;p&gt;Seems like we'd have to revert the changes if it's broken
this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T09:35:00+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T09:35:06+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">25</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>Most likely a problem with Gem::GemPathSearcher. Will investigate and (hopefully) patch later today.

The glitch only affects gems that are auto-loaded - BackgrounDRb just does a &quot;require 'packet'&quot; and then gems does the activate.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Most likely a problem with Gem::GemPathSearcher. Will
investigate and (hopefully) patch later today.&lt;/p&gt;
&lt;p&gt;The glitch only affects gems that are auto-loaded - BackgrounDRb
just does a &quot;require 'packet'&quot; and then gems does the activate.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T14:01:41+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T14:01:43+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">26</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>I just tried this, and couldn't get it to reproduce. 

How did you get an unpacked copy of packet in vendor/gems without using config.gem 'packet'? The new code *requires* that the gemspec file be in vendor/gems/gem_name/.specification (in YAML), as produced by rake gems:unpack. Just copying the gem files is not enough.

There should be a warning printed if there are directories in vendor/gems without spec files - will generate a patch later today.

Also, the bogus path in loaded_from in vendor gem specs is bothering me - I'll make a proper Specification subclass.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I just tried this, and couldn't get it to reproduce.&lt;/p&gt;
&lt;p&gt;How did you get an unpacked copy of packet in vendor/gems
without using config.gem 'packet'? The new code &lt;em&gt;requires&lt;/em&gt;
that the gemspec file be in vendor/gems/gem_name/.specification (in
YAML), as produced by rake gems:unpack. Just copying the gem files
is not enough.&lt;/p&gt;
&lt;p&gt;There should be a warning printed if there are directories in
vendor/gems without spec files - will generate a patch later
today.&lt;/p&gt;
&lt;p&gt;Also, the bogus path in loaded_from in vendor gem specs is
bothering me - I'll make a proper Specification subclass.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T19:10:55+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T19:10:56+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">27</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>You're right, it's the absence of the .specification file that's causing the failure. The gems were unpacked (in the past) with Rails 2.1's rake gems:unpack, so didn't have the .specification files.

This creates an unpleasant catch-22 because a Rails application won't bootstrap without its plugins' gem dependencies etc, so you can't run any rake tasks (gems:install, gems:unpack) to fix the problem. I had to manually install the appropriate gems (inconvenient where the depended-upon version of the gem is no longer available, so version numbers in environment.rb need updating and compatibility checked) and only then could I bootstrap Rails and rake gems:unpack, which sorted it out.

So, ultimately fixable, but not super-convenient. A warning about the .specification file would certainly be a first step.</body>
      <body-html>&lt;div&gt;&lt;p&gt;You're right, it's the absence of the .specification file that's
causing the failure. The gems were unpacked (in the past) with
Rails 2.1's rake gems:unpack, so didn't have the .specification
files.&lt;/p&gt;
&lt;p&gt;This creates an unpleasant catch-22 because a Rails application
won't bootstrap without its plugins' gem dependencies etc, so you
can't run any rake tasks (gems:install, gems:unpack) to fix the
problem. I had to manually install the appropriate gems
(inconvenient where the depended-upon version of the gem is no
longer available, so version numbers in environment.rb need
updating and compatibility checked) and only then could I bootstrap
Rails and rake gems:unpack, which sorted it out.&lt;/p&gt;
&lt;p&gt;So, ultimately fixable, but not super-convenient. A warning
about the .specification file would certainly be a first step.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T21:07:55+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T21:08:00+01:00</updated-at>
      <user-id type="integer">813</user-id>
      <version type="integer">28</version>
      <user-name>Tom Stuart</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>The issue with missing .specifications is a mess - I didn't realize that the original code didn't generate them at all.

Maybe we should add a rake task to generate a dummy spec for that case? It would be fairly simple, as the old code didn't handle much besides the basic 'require_paths =&gt; lib, bin'.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The issue with missing .specifications is a mess - I didn't
realize that the original code didn't generate them at all.&lt;/p&gt;
&lt;p&gt;Maybe we should add a rake task to generate a dummy spec for
that case? It would be fairly simple, as the old code didn't handle
much besides the basic 'require_paths =&amp;gt; lib, bin'.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-09T22:00:28+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-09T22:00:31+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">29</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>Well, we need the update cycle to be completely seamless, so it seems that this is a bit of a show stopper?

Perhaps the best bet is to change the freezing code in 2-1-stable to generate the .specification files and add a 'rake gems:gimme_the_specification_files'

Or, change 2.2's freezing but not the gem loading, and make the loading for edge/2.3

Thoughts?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well, we need the update cycle to be completely seamless, so it
seems that this is a bit of a show stopper?&lt;/p&gt;
&lt;p&gt;Perhaps the best bet is to change the freezing code in
2-1-stable to generate the .specification files and add a 'rake
gems:gimme_the_specification_files'&lt;/p&gt;
&lt;p&gt;Or, change 2.2's freezing but not the gem loading, and make the
loading for edge/2.3&lt;/p&gt;
&lt;p&gt;Thoughts?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-10T11:14:17+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-10T11:14:21+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">30</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>New patch attached - VendorGemSourceIndex now tries really hard to load broken/missing spec files. The only case not handled is the one in #553, which has spec-less gems in non-versioned directories. As the gems:unpack code has never produced these structures, it's probably safe to let them (continue to) not work. Note that renaming the git module directory (from 'gem_name' to 'gem_name-version') will work, but complain.

Also added a new rake task, gems:refresh_specs, which can handle many of the specification file errors. It will pull correct specs from installed gems, if possible, or else try to fix a number of common errors.

Added two new tests, to specifically target the handling of malformed specs. dummy-gem-d has no spec, and dummy-gem-e has an incorrect spec version.

Finally, loaded_from now returns a correct filename, rather than the hack from the last version.</body>
      <body-html>&lt;div&gt;&lt;p&gt;New patch attached - VendorGemSourceIndex now tries really hard
to load broken/missing spec files. The only case not handled is the
one in &lt;a href=&quot;/projects/8994/tickets/553&quot; title=&quot;Ticket #553&quot;&gt;#553&lt;/a&gt;, which has spec-less gems in non-versioned
directories. As the gems:unpack code has never produced these
structures, it's probably safe to let them (continue to) not work.
Note that renaming the git module directory (from 'gem_name' to
'gem_name-version') will work, but complain.&lt;/p&gt;
&lt;p&gt;Also added a new rake task, gems:refresh_specs, which can handle
many of the specification file errors. It will pull correct specs
from installed gems, if possible, or else try to fix a number of
common errors.&lt;/p&gt;
&lt;p&gt;Added two new tests, to specifically target the handling of
malformed specs. dummy-gem-d has no spec, and dummy-gem-e has an
incorrect spec version.&lt;/p&gt;
&lt;p&gt;Finally, loaded_from now returns a correct filename, rather than
the hack from the last version.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-11T19:02:02+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-11T19:02:09+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">31</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>Is gems:refresh_specs going to work even when the environment refuses to load because of gems which specs need to be, uh, refreshed?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Is gems:refresh_specs going to work even when the environment
refuses to load because of gems which specs need to be, uh,
refreshed?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-12T04:41:52+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-12T04:41:57+01:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">32</version>
      <user-name>Mislav</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>The new code in VendorGemSourceIndex should be able to load any frozen gem ever produced by previous versions, but it will complain about bad/missing specs. Also, it loads &quot;dummy&quot; specs for gems frozen by very old code which are spec-less.

refresh_specs is a way to bring the specs up to date and silence the warnings. It tries first to load the real specs from local gems, and then creates and/or corrects existing files if nothing more authoritative is available.

The only time we don't load a gem is when the version is *completely* undetermined (no spec, in a directory without a version number); ie, the case referenced in #533.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The new code in VendorGemSourceIndex should be able to load any
frozen gem ever produced by previous versions, but it will complain
about bad/missing specs. Also, it loads &quot;dummy&quot; specs for gems
frozen by very old code which are spec-less.&lt;/p&gt;
&lt;p&gt;refresh_specs is a way to bring the specs up to date and silence
the warnings. It tries first to load the real specs from local
gems, and then creates and/or corrects existing files if nothing
more authoritative is available.&lt;/p&gt;
&lt;p&gt;The only time we don't load a gem is when the version is
&lt;em&gt;completely&lt;/em&gt; undetermined (no spec, in a directory without a
version number); ie, the case referenced in &lt;a href=&quot;/projects/8994/tickets/533&quot; title=&quot;Ticket #533&quot;&gt;#533&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-12T05:00:41+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-12T05:00:43+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">33</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>FWIW I tried rewinding my project and applying this patch; now I get:

    $ ./script/console 
    Loading development environment (Rails 2.2.0)
    config/../vendor/rails/railties/lib/rails/vendor_gem_source_index.rb:67:in `refresh!':NameError: uninitialized class variable @@silence_spec_warnings in Rails::VendorGemSourceIndex
    vendor/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:14:in `included':NameError: uninitialized constant ActiveSupport::Callbacks
    vendor/rails/railties/lib/console_with_helpers.rb:19:NoMethodError: undefined method `require_dependency' for main:Object

    $ rake gems:refresh_specs
    rake aborted!
    uninitialized class variable @@silence_spec_warnings in Rails::VendorGemSourceIndex</body>
      <body-html>&lt;div&gt;&lt;p&gt;FWIW I tried rewinding my project and applying this patch; now I
get:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ ./script/console
Loading development environment (Rails 2.2.0)
config/../vendor/rails/railties/lib/rails/vendor_gem_source_index.rb:67:in `refresh!':NameError: uninitialized class variable @@silence_spec_warnings in Rails::VendorGemSourceIndex
vendor/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:14:in `included':NameError: uninitialized constant ActiveSupport::Callbacks
vendor/rails/railties/lib/console_with_helpers.rb:19:NoMethodError: undefined method `require_dependency' for main:Object

$ rake gems:refresh_specs
rake aborted!
uninitialized class variable @@silence_spec_warnings in Rails::VendorGemSourceIndex
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-12T09:13:11+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-12T09:13:13+01:00</updated-at>
      <user-id type="integer">813</user-id>
      <version type="integer">34</version>
      <user-name>Tom Stuart</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>Oops - forgot to initialize that. Normally would have used cattr_accessor, but ActiveSupport isn't loaded yet there.

Attached patch replaces gem-dep-fix7.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oops - forgot to initialize that. Normally would have used
cattr_accessor, but ActiveSupport isn't loaded yet there.&lt;/p&gt;
&lt;p&gt;Attached patch replaces gem-dep-fix7.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-12T16:27:15+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-12T16:27:18+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">35</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>Tom, can you confirm the latest patch fixes it for you?

Looks good matt, thanks for being so responsive.  If gems:freeze has never produced a format, we don't need to handle it.  Though we should probably consider adding a good chunk of docs on what this upgrade is doing.  Can you put something together?  Pratik can give you tips on how to get it included in the release notes, and what format is expected.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Tom, can you confirm the latest patch fixes it for you?&lt;/p&gt;
&lt;p&gt;Looks good matt, thanks for being so responsive. If gems:freeze
has never produced a format, we don't need to handle it. Though we
should probably consider adding a good chunk of docs on what this
upgrade is doing. Can you put something together? Pratik can give
you tips on how to get it included in the release notes, and what
format is expected.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-12T17:45:15+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-12T17:45:21+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">36</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>Yes, this is now working great: bootstrap succeeds but generates &quot;no specification file, run rake gems:refresh_specs&quot; warnings for every unpacked gem; rake gems:refresh_specs works perfectly and subsequent bootstrap emits no warnings.

The only slight oddity is that the bootstrap during rake gems:refresh_specs naturally still generates the warnings about missing specification files and tells you to run rake gems:refresh_specs (which you are already doing), but that's totally acceptable to me.

Thanks Matt! Nice work.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, this is now working great: bootstrap succeeds but generates
&quot;no specification file, run rake gems:refresh_specs&quot; warnings for
every unpacked gem; rake gems:refresh_specs works perfectly and
subsequent bootstrap emits no warnings.&lt;/p&gt;
&lt;p&gt;The only slight oddity is that the bootstrap during rake
gems:refresh_specs naturally still generates the warnings about
missing specification files and tells you to run rake
gems:refresh_specs (which you are already doing), but that's
totally acceptable to me.&lt;/p&gt;
&lt;p&gt;Thanks Matt! Nice work.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-13T16:23:58+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-13T16:24:02+01:00</updated-at>
      <user-id type="integer">813</user-id>
      <version type="integer">37</version>
      <user-name>Tom Stuart</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>(from [1b44bbff425711d62d81e6565eb3afc2ba77bc4b]) Initialize silence_spec_warnings

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;
[#1128 state:resolved]
http://github.com/rails/rails/commit/1b44bbff425711d62d81e6565eb3afc2ba77bc4b</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [1b44bbff425711d62d81e6565eb3afc2ba77bc4b]) Initialize
silence_spec_warnings&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski &lt;a href=&quot;mailto:michael@koziarski.com&quot;&gt;michael@koziarski.com&lt;/a&gt; [&lt;a href=&quot;/projects/8994/tickets/1128&quot; title=&quot;Ticket #1128&quot;&gt;#1128&lt;/a&gt;
state:resolved] &lt;a href=&quot;http://github.com/rails/rails/commit/1b44bbff425711d62d81e6565eb3afc2ba77bc4b&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-13T16:29:48+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-13T16:29:52+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">38</version>
      <user-name>Repository</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>Argh - tripped on a typo while writing the release notes.
Fix it, and clean up some corner cases involving missing gems and invalid specs (refresh_specs now silences the warnings).

Patch from current master attached.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Argh - tripped on a typo while writing the release notes. Fix
it, and clean up some corner cases involving missing gems and
invalid specs (refresh_specs now silences the warnings).&lt;/p&gt;
&lt;p&gt;Patch from current master attached.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T20:05:14+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T20:05:16+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">39</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>Please see this thread I just started on Google Groups. It could be a mistake on my part, but it looks like gems with native extension may be tripped up by this new stuff. My apologies if I'm just confused, but it seemed worth following-up on. 

http://groups.google.com/group/rubyonrails-core/browse_thread/thread/39fa87a3bf88295c</body>
      <body-html>&lt;div&gt;&lt;p&gt;Please see this thread I just started on Google Groups. It could
be a mistake on my part, but it looks like gems with native
extension may be tripped up by this new stuff. My apologies if I'm
just confused, but it seemed worth following-up on.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://groups.google.com/group/rubyonrails-core/browse_thread/thread/39fa87a3bf88295c&quot;&gt;
http://groups.google.com/group/r...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T20:57:50+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T20:57:51+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">40</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>(Replied via rails-core, but adding here as well for completeness)

If you unpack gems that use native extensions, you'll need to do a 
'rake gems:build' to actually compile them. There's going to be a note about this in the 2.2 release notes.</body>
      <body-html>&lt;div&gt;&lt;p&gt;(Replied via rails-core, but adding here as well for
completeness)&lt;/p&gt;
&lt;p&gt;If you unpack gems that use native extensions, you'll need to do
a 'rake gems:build' to actually compile them. There's going to be a
note about this in the 2.2 release notes.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T21:07:45+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T21:07:51+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">41</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>Matt, I think I've got another issue. I just created a new app (&quot;rails new_app&quot;), froze edge rails (&quot;rake rails:freeze:edge&quot;), added hpricot as a dependency (config.gem &quot;hpricot&quot; in config/environment.rb), and ran &quot;rake gems:unpack&quot;.

This should (I believe) unpack hpricot into vendor/gems, but I don't see any vendor/gems directory. There's no output on the command line either. 

Am I doing something wrong? I swear this is how I unpacked a gem in the past. The weird this that &quot;rake gems&quot; says hpricot is [F] Frozen...

~/working/rails $ rake gems
(in /Users/trevorturk/Working/rails)
 - [F] hpricot = 0.6.161

I = Installed
F = Frozen</body>
      <body-html>&lt;div&gt;&lt;p&gt;Matt, I think I've got another issue. I just created a new app
(&quot;rails new_app&quot;), froze edge rails (&quot;rake rails:freeze:edge&quot;),
added hpricot as a dependency (config.gem &quot;hpricot&quot; in
config/environment.rb), and ran &quot;rake gems:unpack&quot;.&lt;/p&gt;
&lt;p&gt;This should (I believe) unpack hpricot into vendor/gems, but I
don't see any vendor/gems directory. There's no output on the
command line either.&lt;/p&gt;
&lt;p&gt;Am I doing something wrong? I swear this is how I unpacked a gem
in the past. The weird this that &quot;rake gems&quot; says hpricot is [F]
Frozen...&lt;/p&gt;
&lt;p&gt;~/working/rails $ rake gems (in /Users/trevorturk/Working/rails)
- [F] hpricot = 0.6.161&lt;/p&gt;
&lt;p&gt;I = Installed F = Frozen&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T21:36:45+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T21:36:46+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">42</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>(from [326030a1e843245ae493fbdfb1b5eb72d1e59f26]) config.gem: Fix typo in unpack, skip dependencies on unloaded gems, and silence spec warnings on refresh. [#1128]

Signed-off-by: Pratik Naik &lt;pratiknaik@gmail.com&gt;
http://github.com/rails/rails/commit/326030a1e843245ae493fbdfb1b5eb72d1e59f26</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [326030a1e843245ae493fbdfb1b5eb72d1e59f26]) config.gem:
Fix typo in unpack, skip dependencies on unloaded gems, and silence
spec warnings on refresh. [&lt;a href=&quot;/projects/8994/tickets/1128&quot; title=&quot;Ticket #1128&quot;&gt;#1128&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Pratik Naik &lt;a href=&quot;mailto:pratiknaik@gmail.com&quot;&gt;pratiknaik@gmail.com&lt;/a&gt; &lt;a href=&quot;http://github.com/rails/rails/commit/326030a1e843245ae493fbdfb1b5eb72d1e59f26&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T21:51:28+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T21:51:32+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">43</version>
      <user-name>Repository</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>That's very odd. The current version in edge will not unpack (due to the typo fixed in the above patch). I have no idea how 'rake gems' could say a gem was frozen if there wasn't a vendor/gems.

Try doing a git clone of rails into vendor/rails. From the project
root, type:

rm -rf vendor/rails
rm -rf vendor/gems
git clone git://github.com/rails/rails.git vendor/rails

Does the problem still occur?</body>
      <body-html>&lt;div&gt;&lt;p&gt;That's very odd. The current version in edge will not unpack
(due to the typo fixed in the above patch). I have no idea how
'rake gems' could say a gem was frozen if there wasn't a
vendor/gems.&lt;/p&gt;
&lt;p&gt;Try doing a git clone of rails into vendor/rails. From the
project root, type:&lt;/p&gt;
&lt;p&gt;rm -rf vendor/rails rm -rf vendor/gems git clone
git://github.com/rails/rails.git vendor/rails&lt;/p&gt;
&lt;p&gt;Does the problem still occur?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T21:54:58+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T21:55:04+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">44</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>I followed your steps, and I'm still not having luck getting hpricot unpacked. I put this in config/environment.rb:

  config.gem &quot;chronic&quot;
  config.gem 'mislav-will_paginate', :version =&gt; '~&gt; 2.2.3', :lib =&gt; 'will_paginate', :source =&gt; 'http://gems.github.com'
  config.gem &quot;hpricot&quot;

will_paginate and chronic are in vendor/gems, but not hpricot. Is it just that it requires a source or something? The comment example uses a gem from code.whytheluckystiff.net, but a plain old &quot;sudo gem install hpricot&quot; works fine, so I would have thought a plain old &quot;config.gem hpricot&quot; would work as well.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I followed your steps, and I'm still not having luck getting
hpricot unpacked. I put this in config/environment.rb:&lt;/p&gt;
&lt;p&gt;config.gem &quot;chronic&quot; config.gem 'mislav-will_paginate', :version
=&amp;gt; '~&amp;gt; 2.2.3', :lib =&amp;gt; 'will_paginate', :source =&amp;gt;
'http://gems.github.com' config.gem &quot;hpricot&quot;&lt;/p&gt;
&lt;p&gt;will_paginate and chronic are in vendor/gems, but not hpricot.
Is it just that it requires a source or something? The comment
example uses a gem from code.whytheluckystiff.net, but a plain old
&quot;sudo gem install hpricot&quot; works fine, so I would have thought a
plain old &quot;config.gem hpricot&quot; would work as well.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T22:12:10+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T22:12:13+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">45</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">9</attachments-count>
      <body>Another problem in edge, just updated:

- clean new Rails app
- config.gem &quot;mislav-will_paginate&quot; in environment.rb
- gem list shows that I have mislav-will_paginate (2.3.5)
installed
- gem sources shows that I'm pointing to the github source:

*** CURRENT SOURCES ***

http://gems.rubyforge.org/
http://gems.github.com

- Running rake gems in the project gives me a huge ugly stack trace (attached)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Another problem in edge, just updated:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;clean new Rails app&lt;/li&gt;
&lt;li&gt;config.gem &quot;mislav-will_paginate&quot; in environment.rb&lt;/li&gt;
&lt;li&gt;gem list shows that I have mislav-will_paginate (2.3.5)
installed&lt;/li&gt;
&lt;li&gt;gem sources shows that I'm pointing to the github source:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;CURRENT SOURCES&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://gems.rubyforge.org/&quot;&gt;http://gems.rubyforge.org/&lt;/a&gt;
&lt;a href=&quot;http://gems.github.com&quot;&gt;http://gems.github.com&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running rake gems in the project gives me a huge ugly stack
trace (attached)&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T22:14:14+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T22:14:20+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">46</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>@Mike - code that uses mislav-will_paginate loads it with require 'will_paginate'. Change the code in environment.rb to:

@@@ ruby
  config.gem 'mislav-will_paginate', :lib =&gt; 'will_paginate'
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Mike - code that uses mislav-will_paginate loads it with
require 'will_paginate'. Change the code in environment.rb to:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  config.gem 'mislav-will_paginate', :lib =&amp;gt; 'will_paginate'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T23:15:42+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T23:15:46+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">47</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>@Trevor - looking around in the Rubygems source, what versions of hpricot do you have in /usr/local/lib/ruby/gems/1.8/cache ?
It looks like the unpack command will fail silently if you don't have a matching .gem file in the cache directory.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Trevor - looking around in the Rubygems source, what versions
of hpricot do you have in /usr/local/lib/ruby/gems/1.8/cache ? It
looks like the unpack command will fail silently if you don't have
a matching .gem file in the cache directory.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T23:21:34+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T23:21:36+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">48</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>/usr/local/lib/ruby/gems/1.8/cache:
hpricot-0.6.gem

gem list:
hpricot (0.6.161)

Do you think the problem is that those don't match?</body>
      <body-html>&lt;div&gt;&lt;p&gt;/usr/local/lib/ruby/gems/1.8/cache: hpricot-0.6.gem&lt;/p&gt;
&lt;p&gt;gem list: hpricot (0.6.161)&lt;/p&gt;
&lt;p&gt;Do you think the problem is that those don't match?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T23:23:47+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T23:23:52+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">49</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Yep, that's a problem. Looks like there may have been some versions of that gem that didn't ship with the correct version. Try renaming the cached file to hpricot-0.6.161.gem .</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yep, that's a problem. Looks like there may have been some
versions of that gem that didn't ship with the correct version. Try
renaming the cached file to hpricot-0.6.161.gem .&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-20T23:55:00+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-20T23:55:06+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">50</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Sorry, Matt. I changed that file name and I'm still not seeing hpricot. I tried it with a frozen rails edge, and a fresh git clone, as you suggested. I'm not very advanced with my gem knowledge, though. Is there a chance I've got 2 caches or something? I'm using Leopard. Is there a gem command to hard-refresh all caches that I could try?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry, Matt. I changed that file name and I'm still not seeing
hpricot. I tried it with a frozen rails edge, and a fresh git
clone, as you suggested. I'm not very advanced with my gem
knowledge, though. Is there a chance I've got 2 caches or
something? I'm using Leopard. Is there a gem command to
hard-refresh all caches that I could try?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-21T00:20:48+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-21T00:20:54+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">51</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>I should have mentioned - I am able to just run &quot;gem unpack hpricot&quot; in the command line, and this seems to work fine. Sorry for this trouble!</body>
      <body-html>&lt;div&gt;&lt;p&gt;I should have mentioned - I am able to just run &quot;gem unpack
hpricot&quot; in the command line, and this seems to work fine. Sorry
for this trouble!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-21T00:24:39+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-21T00:24:43+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">52</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>To keep Lighthouse traffic down, let's discuss this elsewhere. I've sent an email to the contact info on your website.</body>
      <body-html>&lt;div&gt;&lt;p&gt;To keep Lighthouse traffic down, let's discuss this elsewhere.
I've sent an email to the contact info on your website.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-21T01:02:19+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-21T01:02:25+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">53</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Reopening so we don't cut the RC with it still broken</body>
      <body-html>&lt;div&gt;&lt;p&gt;Reopening so we don't cut the RC with it still broken&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-21T08:50:51+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
:assigned_user: 1
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-21T08:50:55+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">54</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Figured out what Trevor was seeing after much digging via IM - he was using a recent version of hpricot which includes the fast_xs extension.
As described [here](http://blog.nicksieger.com/articles/2008/01/17/next-performance-fix-builder-xchar), builder loads hpricot when that extension is available (via &quot;require 'fast-xs'&quot;). 

When rake runs, it loads builder (not sure from where) before we get to load_gem_paths in initializer.rb. So the code marks it as a framework gem, which means it won't get frozen...

Note that builder *isn't* loaded this way in script/console, making it hard to debug...

Not sure what we should do about this - maybe a note in the release notes? But it shouldn't be show-stopper for the RC.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Figured out what Trevor was seeing after much digging via IM -
he was using a recent version of hpricot which includes the fast_xs
extension. As described &lt;a href=&quot;http://blog.nicksieger.com/articles/2008/01/17/next-performance-fix-builder-xchar&quot;&gt;
here&lt;/a&gt;, builder loads hpricot when that extension is available
(via &quot;require 'fast-xs'&quot;).&lt;/p&gt;
&lt;p&gt;When rake runs, it loads builder (not sure from where) before we
get to load_gem_paths in initializer.rb. So the code marks it as a
framework gem, which means it won't get frozen...&lt;/p&gt;
&lt;p&gt;Note that builder &lt;em&gt;isn't&lt;/em&gt; loaded this way in
script/console, making it hard to debug...&lt;/p&gt;
&lt;p&gt;Not sure what we should do about this - maybe a note in the
release notes? But it shouldn't be show-stopper for the RC.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-22T20:14:14+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-22T20:14:17+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">55</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Thanks to Matt for working on this. I can't say anything about this being a show-stopper or not, but note that a workaround appears to be to cd into vendor/gems and run &quot;gem unpack hpricot&quot;.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks to Matt for working on this. I can't say anything about
this being a show-stopper or not, but note that a workaround
appears to be to cd into vendor/gems and run &quot;gem unpack
hpricot&quot;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-22T20:59:37+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-22T20:59:42+01:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">56</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>I'm seeing an issue where I believe refresh_specs is trying to create a spec for a gem that is installed (but not unpacked), and blowing up because there is no unpacked directory.  I've pasted to a gist (linked below) not that I run rake gems:refresh_specs twice, just to demonstrate that I get the same warnings every time -- so apparently no specs are actually being generated?

https://gist.github.com/dee31da186bd5b9fa605

Note that my app was running (and raking) fine before updating to latest edge rails - I was on a version of edge from a couple months ago or so.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm seeing an issue where I believe refresh_specs is trying to
create a spec for a gem that is installed (but not unpacked), and
blowing up because there is no unpacked directory. I've pasted to a
gist (linked below) not that I run rake gems:refresh_specs twice,
just to demonstrate that I get the same warnings every time -- so
apparently no specs are actually being generated?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/dee31da186bd5b9fa605&quot;&gt;https://gist.github.com/dee31da1...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that my app was running (and raking) fine before updating
to latest edge rails - I was on a version of edge from a couple
months ago or so.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-23T04:16:36+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-23T04:16:44+01:00</updated-at>
      <user-id type="integer">3825</user-id>
      <version type="integer">57</version>
      <user-name>Rob Sanheim</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Commenting out the 'config.gem' line for configatron and rerunning refresh_specs produced better results.  I get spec files for all but 2 of my unpacked gems.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Commenting out the 'config.gem' line for configatron and
rerunning refresh_specs produced better results. I get spec files
for all but 2 of my unpacked gems.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-23T04:23:30+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-23T04:23:32+01:00</updated-at>
      <user-id type="integer">3825</user-id>
      <version type="integer">58</version>
      <user-name>Rob Sanheim</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>@Rob - pull the most recent Edge, as it silences the spec warnings while running refresh_specs. Also, try the attached patch, which
is more defensive about generating specs in wrong places and more informative about &quot;framework&quot; gems, ie gems loaded before add_gem_load_paths in initializer.rb gets called. 

'rake gems' also now marks the framework gems; should be a little easier to see whats going on.

In the long run, this is pointing towards a need to hook into the gem loader even earlier, but I haven't a clue how that would be done. add_gem_load_paths is already before even the Rails core loading.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Rob - pull the most recent Edge, as it silences the spec
warnings while running refresh_specs. Also, try the attached patch,
which is more defensive about generating specs in wrong places and
more informative about &quot;framework&quot; gems, ie gems loaded before
add_gem_load_paths in initializer.rb gets called.&lt;/p&gt;
&lt;p&gt;'rake gems' also now marks the framework gems; should be a
little easier to see whats going on.&lt;/p&gt;
&lt;p&gt;In the long run, this is pointing towards a need to hook into
the gem loader even earlier, but I haven't a clue how that would be
done. add_gem_load_paths is already before even the Rails core
loading.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-23T05:57:11+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-23T05:57:15+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">59</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">10</attachments-count>
      <body>Attaching the patch helps...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attaching the patch helps...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-23T06:00:05+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-23T06:00:07+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">60</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">11</attachments-count>
      <body>Matt: I applied that patch and saw no difference in the output of rake gems -- not sure what I should see?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Matt: I applied that patch and saw no difference in the output
of rake gems -- not sure what I should see?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-26T03:45:14+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-26T03:45:21+00:00</updated-at>
      <user-id type="integer">3825</user-id>
      <version type="integer">61</version>
      <user-name>Rob Sanheim</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">11</attachments-count>
      <body>Hi Matt

I updated to latest edge rails (932dffc559ef188eb31d0223116e9da361833488 committed Oct 25) and get all the same issues I indicated above: it blows up with configatron in my config.gems, and the same two gems don't ever get spec files and continue to generate warnings.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Matt&lt;/p&gt;
&lt;p&gt;I updated to latest edge rails
(932dffc559ef188eb31d0223116e9da361833488 committed Oct 25) and get
all the same issues I indicated above: it blows up with configatron
in my config.gems, and the same two gems don't ever get spec files
and continue to generate warnings.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-26T04:02:08+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-26T04:02:09+00:00</updated-at>
      <user-id type="integer">3825</user-id>
      <version type="integer">62</version>
      <user-name>Rob Sanheim</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">11</attachments-count>
      <body>@Rob: the changes were intended to make rake gems more informative. Double check if any of the 'F's changed to 'R's.

I have some ideas of where some of the problems you're seeing are coming from.

- the current code warns on all frozen gems with missing/broken .specification files, even those not loaded. refresh_specs only looks at gems loaded in the current configuration. This may explain some of the warnings you're seeing (for dan-manges-unit_controller, for instance).

- The configatron gem is getting loaded by *something* before the code in initializer.rb gets called. Is there a require statement for it in environment.rb? I've attached a new patch, which should be bulletproof in the face of this kind of configuration. It will complain in a much more informative way..

- It doesn't appear to be relevant in this case, but note that putting
rake in vendor/gems WILL NOT work. It gets loaded far sooner we can affect with framework code. Old versions of gems:unpack would try anyways, with no effect.

Anyway, try this patch out and let me know what happens.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Rob: the changes were intended to make rake gems more
informative. Double check if any of the 'F's changed to 'R's.&lt;/p&gt;
&lt;p&gt;I have some ideas of where some of the problems you're seeing
are coming from.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the current code warns on all frozen gems with missing/broken
.specification files, even those not loaded. refresh_specs only
looks at gems loaded in the current configuration. This may explain
some of the warnings you're seeing (for dan-manges-unit_controller,
for instance).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The configatron gem is getting loaded by &lt;em&gt;something&lt;/em&gt;
before the code in initializer.rb gets called. Is there a require
statement for it in environment.rb? I've attached a new patch,
which should be bulletproof in the face of this kind of
configuration. It will complain in a much more informative
way..&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It doesn't appear to be relevant in this case, but note that
putting rake in vendor/gems WILL NOT work. It gets loaded far
sooner we can affect with framework code. Old versions of
gems:unpack would try anyways, with no effect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anyway, try this patch out and let me know what happens.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-26T06:41:00+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-26T06:41:06+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">63</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">11</attachments-count>
      <body>Again, attach the patch... *headdesk*.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Again, attach the patch... &lt;em&gt;headdesk&lt;/em&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-26T06:41:44+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-26T06:41:47+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">64</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>Any update on this guys?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any update on this guys?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-27T18:48:42+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-27T18:48:45+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">65</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>You'll have to get the official word from Matt, but I think he determined that my problem with unpacking hpricot was due to a bad release or something out of his control. I wasn't able to use the &quot;rake gems:unpack&quot; task, but I'm just doing a workaround by cd-ing into vendor/gems and &quot;running gem unpack hpricot&quot; instead. I still don't get why that works when the rake task doesn't, but my assumption is that it's something to do with the loading of the Rails stack and some sort of dependency loading weirdness.</body>
      <body-html>&lt;div&gt;&lt;p&gt;You'll have to get the official word from Matt, but I think he
determined that my problem with unpacking hpricot was due to a bad
release or something out of his control. I wasn't able to use the
&quot;rake gems:unpack&quot; task, but I'm just doing a workaround by cd-ing
into vendor/gems and &quot;running gem unpack hpricot&quot; instead. I still
don't get why that works when the rake task doesn't, but my
assumption is that it's something to do with the loading of the
Rails stack and some sort of dependency loading weirdness.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-27T19:16:39+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-27T19:16:42+00:00</updated-at>
      <user-id type="integer">643</user-id>
      <version type="integer">66</version>
      <user-name>Trevor Turk</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>@Koz - we figured out Trevor's issue; rake was loading builder which was loading hpricot (all before the GemDependency stuff gets loaded).

The latest patch (gem-dep-fix-framework-gems2.diff) is more verbose about what is happening in this case, so that it won't be so hard to figure out. We still probably don't want to freeze gems that are loaded like this, (as it will fail when the gem isn't installed on the system).

I *think* Rob's issue is similar; the latest patch also hardens the code against missing directories. Still waiting to hear back.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Koz - we figured out Trevor's issue; rake was loading builder
which was loading hpricot (all before the GemDependency stuff gets
loaded).&lt;/p&gt;
&lt;p&gt;The latest patch (gem-dep-fix-framework-gems2.diff) is more
verbose about what is happening in this case, so that it won't be
so hard to figure out. We still probably don't want to freeze gems
that are loaded like this, (as it will fail when the gem isn't
installed on the system).&lt;/p&gt;
&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; Rob's issue is similar; the latest patch also
hardens the code against missing directories. Still waiting to hear
back.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-27T21:00:17+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-27T21:00:20+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">67</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>I've stumbled on something else that I consider a bug with Rails gems stubs.

I'm testing with &quot;mislav-will_paginate&quot; gem that has a dependency on activesupport. Doing this works fine:

@@@ ruby
config.gem 'mislav-will_paginate', :lib =&gt; 'will_paginate'
@@@

However, if instead of that one does a simple require at the end of environment.rb:

@@@ ruby
require 'will_paginate'
@@@

... we get our ol' error:

@@@
/Library/Ruby/Site/1.8/rubygems.rb:147:in `activate':Gem::Exception:
  can't activate activesupport (&gt;= 1.4.4, runtime),
  already activated activesupport-2.2.0
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've stumbled on something else that I consider a bug with Rails
gems stubs.&lt;/p&gt;
&lt;p&gt;I'm testing with &quot;mislav-will_paginate&quot; gem that has a
dependency on activesupport. Doing this works fine:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
config.gem 'mislav-will_paginate', :lib =&amp;gt; 'will_paginate'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, if instead of that one does a simple require at the end
of environment.rb:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
require 'will_paginate'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;... we get our ol' error:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
/Library/Ruby/Site/1.8/rubygems.rb:147:in `activate':Gem::Exception:
  can't activate activesupport (&amp;gt;= 1.4.4, runtime),
  already activated activesupport-2.2.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-27T21:46:55+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-27T21:46:57+00:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">68</version>
      <user-name>Mislav</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>Most probably something up with GemPathSearcher. Try adding 

@@@ ruby
Gem.clear_paths
@@@

after line 28 in railties/lib/rails/vendor_gem_source_index.rb

That should whack some sense into Rubygems.
Will get a patch together later if it works.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Most probably something up with GemPathSearcher. Try adding&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
Gem.clear_paths
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;after line 28 in
railties/lib/rails/vendor_gem_source_index.rb&lt;/p&gt;
&lt;p&gt;That should whack some sense into Rubygems. Will get a patch
together later if it works.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-28T00:05:59+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-28T00:06:04+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">69</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>Nope :(</body>
      <body-html>&lt;div&gt;&lt;p&gt;Nope :(&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-28T00:23:49+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-28T00:23:54+00:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">70</version>
      <user-name>Mislav</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>@Mislav - I can't reproduce that on my system. Somehow Gem.source_index must not be set up correctly. But all I could get was a 'no such file to load', if I uninstalled the gem and put the require *inside* the Initializer.run block. (which is obviously not going to work)

Can you provide more details? I was running 2.2.0, with Rubygems 1.2.
Maybe this is a 1.3 problem?

Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Mislav - I can't reproduce that on my system. Somehow
Gem.source_index must not be set up correctly. But all I could get
was a 'no such file to load', if I uninstalled the gem and put the
require &lt;em&gt;inside&lt;/em&gt; the Initializer.run block. (which is
obviously not going to work)&lt;/p&gt;
&lt;p&gt;Can you provide more details? I was running 2.2.0, with Rubygems
1.2. Maybe this is a 1.3 problem?&lt;/p&gt;
&lt;p&gt;Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-28T16:05:57+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-28T16:05:59+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">71</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">12</attachments-count>
      <body>@Mislav - Figured it out - I had the 2.2RC gem installed, so it was finding it there. And the code in initializer.rb wasn't calling add_frozen_gem_path when config.gems was *empty*, which meant we were getting the symptoms of #1107 again.

The attached patch incorporates the previous two and the fix for this issue. It also calls Gem.clear_paths for good measure, just in case somebody's loaded the searcher before us.

@Rob - any updates?</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Mislav - Figured it out - I had the 2.2RC gem installed, so it
was finding it there. And the code in initializer.rb wasn't calling
add_frozen_gem_path when config.gems was &lt;em&gt;empty&lt;/em&gt;, which
meant we were getting the symptoms of &lt;a href=&quot;/projects/8994/tickets/1107&quot; title=&quot;Ticket #1107&quot;&gt;#1107&lt;/a&gt;
again.&lt;/p&gt;
&lt;p&gt;The attached patch incorporates the previous two and the fix for
this issue. It also calls Gem.clear_paths for good measure, just in
case somebody's loaded the searcher before us.&lt;/p&gt;
&lt;p&gt;@Rob - any updates?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-29T18:24:29+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-10-29T18:24:33+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">72</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>This latest patch has been applied.  Speak up if it fixes your issues or not.

If we don't hear back in ~48 hours we'll just assume everything's fine :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;This latest patch has been applied. Speak up if it fixes your
issues or not.&lt;/p&gt;
&lt;p&gt;If we don't hear back in ~48 hours we'll just assume
everything's fine :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-01T16:39:03+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-11-01T16:39:07+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">73</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-11T13:34:50+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2008-11-11T13:34:53+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">74</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>I suspect it's still important to eventually change vendor/gems to a standard gem repository. The obvious reason is that it would reduce a lot of duplicate code. The other reason is a little more subtle.

For instance, I use rspec. I want to bundle rspec and rspec-rails as (unloaded) dependencies of Rails. So far, everything's okay.

I also use autotest. Here comes the problem: autospec/autotest look for customization inside of gems. But these gems are installed locally in the Rails repository. If it were a normal Gem-like repository, I could simply point GEM_PATH and be done with it. Since that's not the case, doing this kind of thing is reasonably impossible, and requires a system-wide install of the rspec-rails gem.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I suspect it's still important to eventually change vendor/gems
to a standard gem repository. The obvious reason is that it would
reduce a lot of duplicate code. The other reason is a little more
subtle.&lt;/p&gt;
&lt;p&gt;For instance, I use rspec. I want to bundle rspec and
rspec-rails as (unloaded) dependencies of Rails. So far,
everything's okay.&lt;/p&gt;
&lt;p&gt;I also use autotest. Here comes the problem: autospec/autotest
look for customization inside of gems. But these gems are installed
locally in the Rails repository. If it were a normal Gem-like
repository, I could simply point GEM_PATH and be done with it.
Since that's not the case, doing this kind of thing is reasonably
impossible, and requires a system-wide install of the rspec-rails
gem.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-01-10T00:58:40+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>dependencies patch railties</tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2009-01-10T00:58:42+00:00</updated-at>
      <user-id type="integer">3664</user-id>
      <version type="integer">75</version>
      <user-name>Stephen Touset</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-09T22:03:23+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: dependencies patch railties
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">11</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2010-10-09T22:03:25+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">77</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>These errors are serious. Is there any good way to avoid them? &lt;a href=&quot;http://www.amerisleep.com/adjustable-beds.html&quot;&gt;adjustable beds&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;These errors are serious. Is there any good way to avoid them?
&lt;a href=&quot;http://www.amerisleep.com/adjustable-beds.html&quot;&gt;adjustable
beds&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-06T03:58:52+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">11</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2010-11-06T03:59:00+00:00</updated-at>
      <user-id type="integer">123671</user-id>
      <version type="integer">78</version>
      <user-name>Susancai55</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>This &lt;strong&gt;&lt;a href=&quot;http://www.uk-supra.com&quot;&gt;supra footwear&lt;/a&gt;&lt;/strong&gt; is called a modern vintage and has been since their   introduction in 2003 where they began in Europe. Every &lt;strong&gt;&lt;a href=&quot;http://www.uk-supra.com&quot;&gt;supra shoes&lt;/a&gt;&lt;/strong&gt; has some type of   ornament, adornment or hardware and is comprised of aged leather that is bought   from around the world. These &lt;strong&gt;&lt;a href=&quot;http://www.uk-supra.com&quot;&gt;supra uk&lt;/a&gt;&lt;/strong&gt; are culturally engaging and allow for the woman   wearing them to be enveloped in luxury.With new cuts and styles and hand stitched shoes, these &lt;strong&gt;&lt;a href=&quot;http://www.menstimberlandshoes.com&quot;&gt;timberland boots&lt;/a&gt;&lt;/strong&gt;, heels or flats will make every foot look like it stepped out of vintage Hollywood. This   &lt;strong&gt;&lt;a href=&quot;http://www.menstimberlandshoes.com&quot;&gt;timberland shoes&lt;/a&gt;&lt;/strong&gt; have been worn and coveted by many of the most famous females in   recent history. One such &lt;strong&gt;&lt;a href=&quot;http://www.allofcoach.com&quot;&gt;coach outlet&lt;/a&gt;&lt;/strong&gt;, Jennifer Aniston, wears them in public and at   home.This company makes many different unique styles of &lt;strong&gt;&lt;strong&gt;&lt;a href=&quot;http://www.louisvuittonbagoutlet.com&quot;&gt;&lt;strong&gt;bags outlet&lt;/strong&gt;&lt;/a&gt; from ankle booties   to sandals, pumps, &lt;strong&gt;&lt;a href=&quot;http://www.womenmonclerjackets.com&quot;&gt;&lt;strong&gt;moncler jackets online&lt;/strong&gt;&lt;/a&gt;, platforms and wedges. One &lt;strong&gt;&lt;a href=&quot;http://www.louisvuittonbagoutlet.com&quot;&gt;&lt;strong&gt;louis vuitton bag&lt;/strong&gt;&lt;/a&gt; in particular is ideal   for the gothic style sense; it is patent leather and laces up the front of the   shaft. There are also zippers on each side, and this shoe offers a flat heel of   a half inch.Another great &lt;a href=&quot;http://www.womenmonclerjackets.com&quot;&gt;&lt;strong&gt;moncler jackets sale&lt;/strong&gt;&lt;/a&gt; is featured in People's Style Watch and is called a   platform bootie. This &lt;strong&gt;&lt;a href=&quot;http://www.truereligionjeans-outlet.com&quot;&gt;&lt;strong&gt;ture religion jeans&lt;/strong&gt;&lt;/a&gt; has a raised panel in front of the ankle as well as   a heel that measures 4.5 inches. The front offers a leather bandage appearance   and is considered high fashion.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This &lt;strong&gt;&lt;a href=&quot;http://www.uk-supra.com&quot;&gt;supra
footwear&lt;/a&gt;&lt;/strong&gt; is called a modern vintage and has been since
their introduction in 2003 where they began in Europe. Every
&lt;strong&gt;&lt;a href=&quot;http://www.uk-supra.com&quot;&gt;supra shoes&lt;/a&gt;&lt;/strong&gt;
has some type of ornament, adornment or hardware and is comprised
of aged leather that is bought from around the world. These
&lt;strong&gt;&lt;a href=&quot;http://www.uk-supra.com&quot;&gt;supra uk&lt;/a&gt;&lt;/strong&gt; are
culturally engaging and allow for the woman wearing them to be
enveloped in luxury.With new cuts and styles and hand stitched
shoes, these &lt;strong&gt;&lt;a href=
&quot;http://www.menstimberlandshoes.com&quot;&gt;timberland boots&lt;/a&gt;&lt;/strong&gt;,
heels or flats will make every foot look like it stepped out of
vintage Hollywood. This &lt;strong&gt;&lt;a href=
&quot;http://www.menstimberlandshoes.com&quot;&gt;timberland shoes&lt;/a&gt;&lt;/strong&gt;
have been worn and coveted by many of the most famous females in
recent history. One such &lt;strong&gt;&lt;a href=
&quot;http://www.allofcoach.com&quot;&gt;coach outlet&lt;/a&gt;&lt;/strong&gt;, Jennifer
Aniston, wears them in public and at home.This company makes many
different unique styles of &lt;strong&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.louisvuittonbagoutlet.com&quot;&gt;&lt;strong&gt;bags
outlet&lt;/strong&gt;&lt;/a&gt; from ankle booties to sandals, pumps,
&lt;strong&gt;&lt;a href=
&quot;http://www.womenmonclerjackets.com&quot;&gt;&lt;strong&gt;moncler jackets
online&lt;/strong&gt;&lt;/a&gt;, platforms and wedges. One &lt;strong&gt;&lt;a href=
&quot;http://www.louisvuittonbagoutlet.com&quot;&gt;&lt;strong&gt;louis vuitton
bag&lt;/strong&gt;&lt;/a&gt; in particular is ideal for the gothic style sense;
it is patent leather and laces up the front of the shaft. There are
also zippers on each side, and this shoe offers a flat heel of a
half inch.Another great &lt;a href=
&quot;http://www.womenmonclerjackets.com&quot;&gt;&lt;strong&gt;moncler jackets
sale&lt;/strong&gt;&lt;/a&gt; is featured in People's Style Watch and is called
a platform bootie. This &lt;strong&gt;&lt;a href=
&quot;http://www.truereligionjeans-outlet.com&quot;&gt;&lt;strong&gt;ture religion
jeans&lt;/strong&gt;&lt;/a&gt; has a raised panel in front of the ankle as well
as a heel that measures 4.5 inches. The front offers a leather
bandage appearance and is considered high
fashion.&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-06T07:56:58+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">11</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2010-11-08T23:11:52+00:00</updated-at>
      <user-id type="integer">123546</user-id>
      <version type="integer">79</version>
      <user-name>jim123456</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs the only boot sale&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs for cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap kids uggs&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap classic tall ugg boots 5815 mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uk cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;super cheap ugg classic mini boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots with zips&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg sunburst boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;really cheap ugg classic mini&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for $64&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots for cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg slippers cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap authentic uggs&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for sale in uk&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots mulberry&lt;/a&gt; So You Can Buy It Now!

&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg brand boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots uk&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg australia boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discount ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale authorized&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;us ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;mens ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;australian ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;fur inside ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;kids ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg bailey boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;shopping for ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg mini boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;womens ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;lowest price ugg boots&lt;/a&gt;,&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt; baby ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg style boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;knock off ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots discount&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discounted ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg roseberry boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;purple ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sydney&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots store&lt;/a&gt; SO Cheap With Free Shipping!

&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store Outlet&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UK UGG Store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg factory store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet stores&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet store locations in pa hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg boots store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia sandals kids&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;boot shoes store ugg hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store locater&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia kids&lt;/a&gt; Thats ugg store uk online shop!

&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;tall boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;cardy ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;uggs sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy chocolate&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots cream&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg mosaic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg tall boot sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;cheap classic tall ugg boots 5815 mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;sundance tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots classic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg adirondack tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall wool&lt;/a&gt;. Have You Best Choice, Buy It Now!


&lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Classic Short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Short Boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;Short uggs&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Shop online&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;authentic ugg australia women's classic short #5825 - black sheepskin&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg fern suede classic short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg in grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg short boots fushia&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots 8 short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short black&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;eggplant short ugg&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;short classic ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;short ugg boots chestnut womens&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots black short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short black paisley&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short sku&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg women's classic short&lt;/a&gt;, Buy It Now! 

&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Triplet&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots 5803, UGG Boots 1873&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots USA&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;bailey button ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots at macys&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty- kids grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button crinkle leather&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triplet boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button blackberry wine&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;discount ugg bailey button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button 5803 grey size 10&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boot grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button cheap&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triple&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty&lt;/a&gt;, Buy It Now!</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs the only boot sale&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs for cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap kids uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap classic tall ugg boots 5815
mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs cheap&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uk cheap ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;super cheap ugg classic mini
boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots
with zips&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg
sunburst boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;really
cheap ugg classic mini&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for $64&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots for cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg slippers cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap authentic uggs&lt;/a&gt;,&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for sale in
uk&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots
mulberry&lt;/a&gt; So You Can Buy It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg brand boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots uk&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sale&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg australia boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;discount ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale
authorized&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;us ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;mens ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;australian ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;fur inside ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;kids ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg bailey
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;adirondack tall
ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;shopping for
ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg mini
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;womens ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;lowest price ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;baby ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg style
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;knock off ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
discount&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots
sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discounted ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg roseberry
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;purple ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
sydney&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
cheap&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
store&lt;/a&gt; SO Cheap With Free Shipping!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store Outlet&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;UK UGG Store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;ugg factory store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet stores&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet store locations
in pa hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg
store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg boots
store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg
australia sandals kids&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;boot shoes store ugg hit bg&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store locater&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia
kids&lt;/a&gt; Thats ugg store uk online shop!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;tall boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;cardy ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;uggs sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots on sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy chocolate&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg boots cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots cream&lt;/a&gt;,
&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boot&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg mosaic tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg tall boot sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;cheap classic tall ugg boots 5815
mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic tall ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall
boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;sundance tall ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots classic
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg adirondack
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall
wool&lt;/a&gt;. Have You Best Choice, Buy It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Classic Short&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;UGG Short Boots&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;Short uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;UGG Shop online&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;authentic ugg australia women's classic
short&lt;/a&gt; &lt;a href=&quot;/projects/8994/tickets/5825&quot; title=
&quot;Ticket #5825&quot;&gt;#5825&lt;/a&gt; - black sheepskin,&lt;br&gt;
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg fern suede classic short&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg in grey&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg short boots fushia&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots 8 short&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;ugg ultra short black&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;eggplant short ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;short classic ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;short ugg boots chestnut womens&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots black short&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short black
paisley&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short
boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short sku&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg women's classic short&lt;/a&gt;, Buy
It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Triplet&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Bomber&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots 5803, UGG Boots
1873&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots USA&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;bailey button ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots
bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boots at macys&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots
- bailey button novelty- kids grey&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button crinkle
leather&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey
button triplet boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg
bailey button blackberry wine&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;discount ugg bailey button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button
boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
5803 grey size 10&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg
bailey button boot grey&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triple&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty&lt;/a&gt;,
Buy It Now!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-25T12:13:04+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">11</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2010-11-25T12:13:47+00:00</updated-at>
      <user-id type="integer">126682</user-id>
      <version type="integer">80</version>
      <user-name>sunnyabc</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">13</attachments-count>
      <body>&lt;a href=&quot;http://www.wholesalenflstore.com/&quot;&gt;cheap nfl jerseys&lt;/a&gt;
&lt;a href=&quot;http://www.wholesalenflstore.com/&quot;&gt;discount nfl jerseys&lt;/a&gt;
&lt;a href=&quot;http://www.wholesalenflstore.com/&quot;&gt;wholesale nfl jerseys&lt;/a&gt;&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://www.wholesalenflstore.com/&quot;&gt;cheap nfl
jerseys&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.wholesalenflstore.com/&quot;&gt;discount nfl
jerseys&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.wholesalenflstore.com/&quot;&gt;wholesale nfl
jerseys&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-01-04T09:22:32+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1128</number>
      <permalink>fix-configgem-bugs-and-add-more-tests</permalink>
      <priority type="integer">11</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Fix config.gem bugs and add more tests</title>
      <updated-at type="datetime">2011-01-04T16:24:46+00:00</updated-at>
      <user-id type="integer">131088</user-id>
      <version type="integer">81</version>
      <user-name>icooky</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1128</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>e27a4ad3b1edb02b1440fde492ab6ace55795a70</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-09-28T07:23:20+01:00</created-at>
      <filename>gem-dep-fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">49166</id>
      <size type="integer">18484</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/49166/gem-dep-fix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>84711fc5c050f7881d7bc4831f687fbdc8e79ecd</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-09-30T22:06:49+01:00</created-at>
      <filename>gem-dep-fix2.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">49854</id>
      <size type="integer">22660</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/49854/gem-dep-fix2.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>aca7d542b9445bfa2abf737f9c627fa171dcfc4b</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-04T00:49:55+01:00</created-at>
      <filename>gem-dep-fix3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">51170</id>
      <size type="integer">25617</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/51170/gem-dep-fix3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>55ada8c20e83610ac0e1ce8dca2a4beefa9bf4f9</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-04T19:00:19+01:00</created-at>
      <filename>gem-dep-fix4.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">51290</id>
      <size type="integer">27913</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/51290/gem-dep-fix4.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>1609677d25b5f254568412e31a6408f23b88ca5d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-08T04:15:16+01:00</created-at>
      <filename>gem-dep-fix5.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">52269</id>
      <size type="integer">823</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/52269/gem-dep-fix5.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>67f1044c4ca318084144b1cd933bc9dc9b8c0b27</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-08T15:33:12+01:00</created-at>
      <filename>gem-dep-fix6.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">52358</id>
      <size type="integer">1761</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/52358/gem-dep-fix6.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>626c8f5edd64069905076e07f99fc8b7991f4b85</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-11T19:02:02+01:00</created-at>
      <filename>gem-dep-fix7.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">53333</id>
      <size type="integer">11623</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/53333/gem-dep-fix7.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>af710d20b75d0d3e0f7a0ee09e09b9c225aaa950</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-12T16:27:15+01:00</created-at>
      <filename>gem-dep-fix8.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">53359</id>
      <size type="integer">12414</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/53359/gem-dep-fix8.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>a86a0216758f8ba7a087441ac1634b7b30312160</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-20T20:05:14+01:00</created-at>
      <filename>gem-dep-fix9.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">55490</id>
      <size type="integer">1848</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/55490/gem-dep-fix9.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>14a7ad27f6b3d59b101585b0c27c5c8354195662</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-20T22:14:14+01:00</created-at>
      <filename>stack.txt</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">55526</id>
      <size type="integer">8633</size>
      <uploader-id type="integer">7211</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/55526/stack.txt</url>
    </attachment>
    <attachment type="Attachment">
      <code>03977ebd164615b8cee16e527cba6449f6776839</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-23T06:00:05+01:00</created-at>
      <filename>gem-dep-fix-framework-gems.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">56362</id>
      <size type="integer">1572</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/56362/gem-dep-fix-framework-gems.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>f571eefa1c0f62e37573501bc65a869d1f0743c5</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-26T06:41:44+00:00</created-at>
      <filename>gem-dep-fix-framework-gems2.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">57118</id>
      <size type="integer">3387</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/57118/gem-dep-fix-framework-gems2.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>5b5d8a27ba5c0edaa15b1badf8dbb22310c5f18d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-29T18:24:29+00:00</created-at>
      <filename>gem-dep-fix-for-mislav.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">57961</id>
      <size type="integer">4311</size>
      <uploader-id type="integer">22589</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/57961/gem-dep-fix-for-mislav.diff</url>
    </attachment>
  </attachments>
</ticket>
