<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-10-30T11:04:26+00:00</created-at>
  <creator-id type="integer">36008</creator-id>
  <milestone-due-on type="datetime">2009-01-31T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">1297</number>
  <permalink>make-activerecord-merge_joins-strip-whitespace</permalink>
  <priority type="integer">12</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.2 :joins active activerecord merge_joins patch scope</tag>
  <title>Making ActiveRecord #merge_joins strip whitespace</title>
  <updated-at type="datetime">2009-01-28T20:01:31+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">4</version>
  <user-name>Repository</user-name>
  <creator-name>FiXato</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1297</url>
  <priority-name nil="true"></priority-name>
  <original-body>In edge Rails the joins are nicely merged and duplicate join strings are uniq'ed out.
However, if there is still some whitespace at the start and/or beginning, which is the case when hash-style joins are converted to string joins, they won't be an exact string match and will thus duplicates will not be removed and an ActiveRecord::InvalidStatement will most likely be raised.

Of course other things, such as database specific escaping, can still cause identical joins to not be an exact string match, however this patch will at least improve the chance of matches since it strips all joins of leading/trailing whitespaces.</original-body>
  <latest-body>In edge Rails the joins are nicely merged and duplicate join strings are uniq'ed out.
However, if there is still some whitespace at the start and/or beginning, which is the case when hash-style joins are converted to string joins, they won't be an exact string match and will thus duplicates will not be removed and an ActiveRecord::InvalidStatement will most likely be raised.

Of course other things, such as database specific escaping, can still cause identical joins to not be an exact string match, however this patch will at least improve the chance of matches since it strips all joins of leading/trailing whitespaces.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;In edge Rails the joins are nicely merged and duplicate join
strings are uniq'ed out. However, if there is still some whitespace
at the start and/or beginning, which is the case when hash-style
joins are converted to string joins, they won't be an exact string
match and will thus duplicates will not be removed and an
ActiveRecord::InvalidStatement will most likely be raised.&lt;/p&gt;
&lt;p&gt;Of course other things, such as database specific escaping, can
still cause identical joins to not be an exact string match,
however this patch will at least improve the chance of matches
since it strips all joins of leading/trailing whitespaces.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In edge Rails the joins are nicely merged and duplicate join strings are uniq'ed out.
However, if there is still some whitespace at the start and/or beginning, which is the case when hash-style joins are converted to string joins, they won't be an exact string match and will thus duplicates will not be removed and an ActiveRecord::InvalidStatement will most likely be raised.

Of course other things, such as database specific escaping, can still cause identical joins to not be an exact string match, however this patch will at least improve the chance of matches since it strips all joins of leading/trailing whitespaces.</body>
      <body-html>&lt;div&gt;&lt;p&gt;In edge Rails the joins are nicely merged and duplicate join
strings are uniq'ed out. However, if there is still some whitespace
at the start and/or beginning, which is the case when hash-style
joins are converted to string joins, they won't be an exact string
match and will thus duplicates will not be removed and an
ActiveRecord::InvalidStatement will most likely be raised.&lt;/p&gt;
&lt;p&gt;Of course other things, such as database specific escaping, can
still cause identical joins to not be an exact string match,
however this patch will at least improve the chance of matches
since it strips all joins of leading/trailing whitespaces.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-30T11:04:26+00:00</created-at>
      <creator-id type="integer">36008</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1297</number>
      <permalink>make-activerecord-merge_joins-strip-whitespace</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 :joins active activerecord merge_joins scope</tag>
      <title>make ActiveRecord merge_joins strip whitespace</title>
      <updated-at type="datetime">2008-10-30T11:04:27+00:00</updated-at>
      <user-id type="integer">36008</user-id>
      <version type="integer">1</version>
      <user-name>FiXato</user-name>
      <creator-name>FiXato</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1297</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-31T08:59:24+00:00</created-at>
      <creator-id type="integer">36008</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.2 :joins active activerecord merge_joins scope
:title: make ActiveRecord merge_joins strip whitespace
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1297</number>
      <permalink>make-activerecord-merge_joins-strip-whitespace</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 :joins active activerecord merge_joins patch scope</tag>
      <title>[PATCH] making ActiveRecord #merge_joins strip whitespace</title>
      <updated-at type="datetime">2008-10-31T08:59:27+00:00</updated-at>
      <user-id type="integer">36008</user-id>
      <version type="integer">2</version>
      <user-name>FiXato</user-name>
      <creator-name>FiXato</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1297</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-19T20:09:50+00:00</created-at>
      <creator-id type="integer">36008</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:title: &quot;[PATCH] making ActiveRecord #merge_joins strip whitespace&quot;
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1297</number>
      <permalink>make-activerecord-merge_joins-strip-whitespace</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 :joins active activerecord merge_joins patch scope</tag>
      <title>Making ActiveRecord #merge_joins strip whitespace</title>
      <updated-at type="datetime">2009-01-19T20:09:56+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">3</version>
      <user-name>Pratik</user-name>
      <creator-name>FiXato</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1297</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [a0d8202bb9fa55c328a3170836b0cddb40631e83]) Ensure whitespaces are stripped when merging string joins. [#1297 state:resolved]

Signed-off-by: Pratik Naik &lt;pratiknaik@gmail.com&gt;
http://github.com/rails/rails/commit/a0d8202bb9fa55c328a3170836b0cddb40631e83</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [a0d8202bb9fa55c328a3170836b0cddb40631e83]) Ensure
whitespaces are stripped when merging string joins. [&lt;a href=&quot;/projects/8994/tickets/1297&quot; title=&quot;Ticket #1297&quot;&gt;#1297&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Pratik Naik &lt;a href=&quot;mailto:pratiknaik@gmail.com&quot;&gt;pratiknaik@gmail.com&lt;/a&gt; &lt;a href=&quot;http://github.com/rails/rails/commit/a0d8202bb9fa55c328a3170836b0cddb40631e83&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-01-28T20:01:29+00:00</created-at>
      <creator-id type="integer">36008</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1297</number>
      <permalink>make-activerecord-merge_joins-strip-whitespace</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.2 :joins active activerecord merge_joins patch scope</tag>
      <title>Making ActiveRecord #merge_joins strip whitespace</title>
      <updated-at type="datetime">2009-01-28T20:01:31+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">4</version>
      <user-name>Repository</user-name>
      <creator-name>FiXato</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1297</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>ef10bfd2b398aaba20bf80d3e5699a296df253d3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-30T11:04:26+00:00</created-at>
      <filename>make_merge_joins_strip_trailing_and_leading_whitespace.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">58197</id>
      <size type="integer">2097</size>
      <uploader-id type="integer">36008</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/58197/make_merge_joins_strip_trailing_and_leading_whitespace.diff</url>
    </attachment>
  </attachments>
</ticket>
