<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">8406</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-21T14:04:56+00:00</created-at>
  <creator-id type="integer">31932</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3551</number>
  <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>hold</state>
  <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
  <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
  <updated-at type="datetime">2011-05-05T03:01:39+01:00</updated-at>
  <user-id type="integer">148049</user-id>
  <version type="integer">12</version>
  <user-name>af001</user-name>
  <creator-name>Levin Alexander</creator-name>
  <assigned-user-name>Eloy Duran</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
  <priority-name nil="true"></priority-name>
  <original-body>It should be possible to decide to keep an element that has already been marked for destruction (My use case is that I want do delete everything in an association except a few select elements)

The patch adds a new method `unmark_for_destruction` that clears this flag.

I'm not entirely sure about the name. Maybe `mark_for_destruction(false)` or `mark_for_destruction = false` would be better?

(The Patch is against 2-3-stable but should also cleanly apply on master)</original-body>
  <latest-body>It should be possible to decide to keep an element that has already been marked for destruction (My use case is that I want do delete everything in an association except a few select elements)

The patch adds a new method `unmark_for_destruction` that clears this flag.

I'm not entirely sure about the name. Maybe `mark_for_destruction(false)` or `mark_for_destruction = false` would be better?

(The Patch is against 2-3-stable but should also cleanly apply on master)</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;It should be possible to decide to keep an element that has
already been marked for destruction (My use case is that I want do
delete everything in an association except a few select
elements)&lt;/p&gt;
&lt;p&gt;The patch adds a new method &lt;code&gt;unmark_for_destruction&lt;/code&gt;
that clears this flag.&lt;/p&gt;
&lt;p&gt;I'm not entirely sure about the name. Maybe
&lt;code&gt;mark_for_destruction(false)&lt;/code&gt; or
&lt;code&gt;mark_for_destruction = false&lt;/code&gt; would be better?&lt;/p&gt;
&lt;p&gt;(The Patch is against 2-3-stable but should also cleanly apply
on master)&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It should be possible to decide to keep an element that has already been marked for destruction (My use case is that I want do delete everything in an association except a few select elements)

The patch adds a new method `unmark_for_destruction` that clears this flag.

I'm not entirely sure about the name. Maybe `mark_for_destruction(false)` or `mark_for_destruction = false` would be better?

(The Patch is against 2-3-stable but should also cleanly apply on master)</body>
      <body-html>&lt;div&gt;&lt;p&gt;It should be possible to decide to keep an element that has
already been marked for destruction (My use case is that I want do
delete everything in an association except a few select
elements)&lt;/p&gt;
&lt;p&gt;The patch adds a new method &lt;code&gt;unmark_for_destruction&lt;/code&gt;
that clears this flag.&lt;/p&gt;
&lt;p&gt;I'm not entirely sure about the name. Maybe
&lt;code&gt;mark_for_destruction(false)&lt;/code&gt; or
&lt;code&gt;mark_for_destruction = false&lt;/code&gt; would be better?&lt;/p&gt;
&lt;p&gt;(The Patch is against 2-3-stable but should also cleanly apply
on master)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-08T16:49:27+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction</tag>
      <title>ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-08T16:49:30+00:00</updated-at>
      <user-id type="integer">31932</user-id>
      <version type="integer">1</version>
      <user-name>Levin Alexander</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-08T17:00:38+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.x activerecord autosave_association marked_for_destruction
:title: ActiveRecord::AutosaveAssociation#unmark_for_destruction
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-08T17:00:40+00:00</updated-at>
      <user-id type="integer">31932</user-id>
      <version type="integer">2</version>
      <user-name>Levin Alexander</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Could you give me your use case? I'm missing the context which I need to decide how to handle this. Right now I'm not sure why you would allow the user to marks something for destruction, but in the end remove the mark&#8230;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Could you give me your use case? I'm missing the context which I
need to decide how to handle this. Right now I'm not sure why you
would allow the user to marks something for destruction, but in the
end remove the mark&amp;#8230;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-28T17:16:32+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-28T17:16:35+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">3</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-28T17:16:52+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-28T17:16:56+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">4</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I have a widget with many parts. I am using (something like) nested attributes, but don't want to have to send `_delete`-attributes when a part is deleted. Instead I want to send a new list of updated parts and have the application figure out the rest.

As an example, this Widget:

@@@
  Widget:
    Part: id: 1, color: green, name: dial
    Part: id: 2, color: red, name: switch
    Part: id: 3, color: blue, name: knob
@@@

I am updating this Widget, sending a new list of parts (parts that are not sent should be destroyed):

@@@
  :part_attributes =&gt; [
    { :id =&gt; 2, :color =&gt; :red, :name =&gt; &quot;switch&quot;},
    { :id =&gt; 3, :color =&gt; :blue, :name =&gt; &quot;knob&quot; }
   ], ...
@@@

This should delete the &quot;dial&quot; part, but keep &quot;switch&quot; and &quot;knob&quot; (and not change their IDs)

The simplest way to implement this (with the patch) is to mark every part as deleted and then selectively keep everything that is still used.

The alternative (without the patch) is to keep a list of items that are still used, and then delete everything.

so with the patch:

@@@
  def update_widget_parts
    parts.each do |part| part.mark_for_destruction
    @part_attributes.each do |part_attribute|
      part = parts.find_and_update_or_build_from_attributes(part_attribute)
      part.unmark_for_destruction
    end
  end
@@@

without the patch:

@@@
  def update_widget_parts
    parts_to_keep = []
    @part_attributes.each do |part_attribute|
      part = parts.find_and_update_or_build_from_attributes(part_attribute)
      parts_to_keep &lt;&lt; part.id unless part.new_record?
    end
    parts.each do |part|
      part.mark_for_destruction unless part.new_record? or parts_to_keep.include?(part.id)
    end
  end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have a widget with many parts. I am using (something like)
nested attributes, but don't want to have to send
&lt;code&gt;_delete&lt;/code&gt;-attributes when a part is deleted. Instead I
want to send a new list of updated parts and have the application
figure out the rest.&lt;/p&gt;
&lt;p&gt;As an example, this Widget:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  Widget:
    Part: id: 1, color: green, name: dial
    Part: id: 2, color: red, name: switch
    Part: id: 3, color: blue, name: knob&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I am updating this Widget, sending a new list of parts (parts
that are not sent should be destroyed):&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  :part_attributes =&amp;gt; [
    { :id =&amp;gt; 2, :color =&amp;gt; :red, :name =&amp;gt; &quot;switch&quot;},
    { :id =&amp;gt; 3, :color =&amp;gt; :blue, :name =&amp;gt; &quot;knob&quot; }
   ], ...&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This should delete the &quot;dial&quot; part, but keep &quot;switch&quot; and &quot;knob&quot;
(and not change their IDs)&lt;/p&gt;
&lt;p&gt;The simplest way to implement this (with the patch) is to mark
every part as deleted and then selectively keep everything that is
still used.&lt;/p&gt;
&lt;p&gt;The alternative (without the patch) is to keep a list of items
that are still used, and then delete everything.&lt;/p&gt;
&lt;p&gt;so with the patch:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  def update_widget_parts
    parts.each do |part| part.mark_for_destruction
    @part_attributes.each do |part_attribute|
      part = parts.find_and_update_or_build_from_attributes(part_attribute)
      part.unmark_for_destruction
    end
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;without the patch:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  def update_widget_parts
    parts_to_keep = []
    @part_attributes.each do |part_attribute|
      part = parts.find_and_update_or_build_from_attributes(part_attribute)
      parts_to_keep &amp;lt;&amp;lt; part.id unless part.new_record?
    end
    parts.each do |part|
      part.mark_for_destruction unless part.new_record? or parts_to_keep.include?(part.id)
    end
  end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-28T20:21:41+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-28T20:21:43+00:00</updated-at>
      <user-id type="integer">31932</user-id>
      <version type="integer">5</version>
      <user-name>Levin Alexander</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Joshua White proposed `:destroy_missing` in Ticket #2563 which addresses this use case. (I'd still like this Patch to be applied because I'm not using nested_attributes)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Joshua White proposed &lt;code&gt;:destroy_missing&lt;/code&gt; in Ticket
&lt;a href=&quot;/projects/8994/tickets/2563&quot; title=
&quot;Ticket #2563&quot;&gt;#2563&lt;/a&gt; which addresses this use case. (I'd still
like this Patch to be applied because I'm not using
nested_attributes)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-28T21:05:50+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-28T21:05:51+00:00</updated-at>
      <user-id type="integer">31932</user-id>
      <version type="integer">6</version>
      <user-name>Levin Alexander</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Short version of the above: 

I want to implement :destroy_missing, and `mark_for_destruction = false`/`unmark_for_destruction` would give me a nice way to do this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Short version of the above:&lt;/p&gt;
&lt;p&gt;I want to implement :destroy_missing, and
&lt;code&gt;mark_for_destruction =
false&lt;/code&gt;/&lt;code&gt;unmark_for_destruction&lt;/code&gt; would give me a
nice way to do this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-29T05:02:52+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-29T05:02:53+00:00</updated-at>
      <user-id type="integer">31932</user-id>
      <version type="integer">7</version>
      <user-name>Levin Alexander</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I understand. How about providing a way to do this with nested attributes _and_ without it? (See attached patch)

You could then use AssociationCollection#mark_missing_records_for_destruction to mark the missing records for destruction yourself.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I understand. How about providing a way to do this with nested
attributes &lt;em&gt;and&lt;/em&gt; without it? (See attached patch)&lt;/p&gt;
&lt;p&gt;You could then use
AssociationCollection#mark_missing_records_for_destruction to mark
the missing records for destruction yourself.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-30T15:44:51+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2009-12-30T15:44:53+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">8</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The current patch for destroy_missing can be found on this branch: http://github.com/Fingertips/rails/commits/2-3-experimental

Any update on whether or not you can use this?</body>
      <body-html>&lt;div&gt;&lt;p&gt;The current patch for destroy_missing can be found on this
branch: &lt;a href=
&quot;http://github.com/Fingertips/rails/commits/2-3-experimental&quot;&gt;http://github.com/Fingertips/rails/commits/2-3-experimental&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Any update on whether or not you can use this?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-08T10:58:55+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>hold</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2010-01-08T10:58:57+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">9</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>unmark_for_destruction would also come in handy if you want to prevent destruction in certain cases. I was about to open another bug but this might just be another use case for this feature:

I need a way to prevent destruction of child objects connected to a parent object when certain conditions are met.

For nested records, I want to provide a form to the user with :_delete / :_destroy checkboxes. In some cases the user should not be able to delete a child object, there I omit the checkbox, BUT this also needs to be checked server side, because the user can theoretically modify the HTML code and re-enable the checkbox.</body>
      <body-html>&lt;div&gt;&lt;p&gt;unmark_for_destruction would also come in handy if you want to
prevent destruction in certain cases. I was about to open another
bug but this might just be another use case for this feature:&lt;/p&gt;
&lt;p&gt;I need a way to prevent destruction of child objects connected
to a parent object when certain conditions are met.&lt;/p&gt;
&lt;p&gt;For nested records, I want to provide a form to the user with
:&lt;em&gt;delete / :&lt;/em&gt;destroy checkboxes. In some cases the user
should not be able to delete a child object, there I omit the
checkbox, BUT this also needs to be checked server side, because
the user can theoretically modify the HTML code and re-enable the
checkbox.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-16T06:13:57+01:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>hold</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2010-04-16T06:13:59+01:00</updated-at>
      <user-id type="integer">81520</user-id>
      <version type="integer">10</version>
      <user-name>Jens</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Replica Tag Watches sell at low prices. Buy Tag Heuer Replica Watches, Fake TAG Heuer Watches please come to our &lt;a href=&quot;http://www.replicawatchesi.com/tag-heuer-watches&quot;&gt;Replica Tag Heuer watches&lt;/a&gt;.Look no further for &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica rolex&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches uk&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/breitling-watches&quot;&gt;Replica Breitling watches&lt;/a&gt;, Swiss Replica Rolex, fake watch, and swiss replica watch.Buy Omega Watch, Omega Replicas, Alpha Omega Watches, Ladies Omega Replica Watches from our &lt;a href=&quot;http://www.replicawatchesi.com/omega-watches&quot;&gt;Replica Omega watches&lt;/a&gt; store.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Replica Tag Watches sell at low prices. Buy Tag Heuer Replica
Watches, Fake TAG Heuer Watches please come to our &lt;a href=
&quot;http://www.replicawatchesi.com/tag-heuer-watches&quot;&gt;Replica Tag
Heuer watches&lt;/a&gt;.Look no further for &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica rolex&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches uk&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/breitling-watches&quot;&gt;Replica
Breitling watches&lt;/a&gt;, Swiss Replica Rolex, fake watch, and swiss
replica watch.Buy Omega Watch, Omega Replicas, Alpha Omega Watches,
Ladies Omega Replica Watches from our &lt;a href=
&quot;http://www.replicawatchesi.com/omega-watches&quot;&gt;Replica Omega
watches&lt;/a&gt; store.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-21T13:58:13+00:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>hold</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2011-02-21T14:04:56+00:00</updated-at>
      <user-id type="integer">138022</user-id>
      <version type="integer">11</version>
      <user-name>benben</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>&#31169;&#12398;&#20013;&#12391;&#12289;&#32207;&#21512;&#35413;&#20385;&#12398;&#12392;&#12387;&#12390;&#12418;&#20302;&#12356;&#12450;&#12496;&lt;a href=&quot;http://www.abakuro.co.jp/&quot; rel=&quot;dofollow&quot;&gt;&lt;b&gt;&#12450;&#12496;&#12463;&#12525;&#12507;&#12522;&#12473;&#12479;&#12540;&lt;/b&gt;&lt;/a&gt;&#12463;&#12525;&#37504;&#24231;&#24215;&#12290;&#12450;&#12496;&#12463;&#12525;&#12399;&#22823;&#22909;&#12365;&#12394;&#12435;&#12391;&#12377;&#12369;&#12393;&#12397;&#12290;&#19968;&#26152;&#26085;&#12398;&#26481;&#20140;&#39365;&#20184;&#36817;&#12391;&#12398;&#25171;&#12385;&#21512;&#12431;&#12379;&#12398;&#24460;&#12289;&#25955;&#27497;&#12364;&#12390;&#12425;&#20037;&#12293;&#12395;&#34892;&#12387;&#12390;&#12365;&#12414;&#12375;&#12383;&#12290;&#12381;&#12375;&#12383;&#12425;&#12499;&#12483;&#12463;&#12522;&#65281;&#30456;&#22793;&#12431;&#12425;&lt;a href=&quot;http://www.abakuro.co.jp/&quot; rel=&quot;dofollow&quot;&gt;&lt;b&gt;&#12450;&#12496;&#12463;&#12525;&lt;/b&gt;&lt;/a&gt;&#12378;&#12289;&#36362;&#12387;&#12390;&#12356;&#12427;&#12384;&#12369;&#12398;&#24215;&#21729;&#12373;&#12435;&#12392;&#12363;&#12418;&#12356;&#12414;&#12375;&#12383;&#12364;&#12289;</body>
      <body-html>&lt;div&gt;&lt;p&gt;
&amp;#31169;&amp;#12398;&amp;#20013;&amp;#12391;&amp;#12289;&amp;#32207;&amp;#21512;&amp;#35413;&amp;#20385;&amp;#12398;&amp;#12392;&amp;#12387;&amp;#12390;&amp;#12418;&amp;#20302;&amp;#12356;&amp;#12450;&amp;#12496;&lt;a href=&quot;http://www.abakuro.co.jp/&quot;&gt;&lt;b&gt;&amp;#12450;&amp;#12496;&amp;#12463;&amp;#12525;&amp;#12507;&amp;#12522;&amp;#12473;&amp;#12479;&amp;#12540;&lt;/b&gt;&lt;/a&gt;&amp;#12463;&amp;#12525;&amp;#37504;&amp;#24231;&amp;#24215;&amp;#12290;&amp;#12450;&amp;#12496;&amp;#12463;&amp;#12525;&amp;#12399;&amp;#22823;&amp;#22909;&amp;#12365;&amp;#12394;&amp;#12435;&amp;#12391;&amp;#12377;&amp;#12369;&amp;#12393;&amp;#12397;&amp;#12290;&amp;#19968;&amp;#26152;&amp;#26085;&amp;#12398;&amp;#26481;&amp;#20140;&amp;#39365;&amp;#20184;&amp;#36817;&amp;#12391;&amp;#12398;&amp;#25171;&amp;#12385;&amp;#21512;&amp;#12431;&amp;#12379;&amp;#12398;&amp;#24460;&amp;#12289;&amp;#25955;&amp;#27497;&amp;#12364;&amp;#12390;&amp;#12425;&amp;#20037;&amp;#12293;&amp;#12395;&amp;#34892;&amp;#12387;&amp;#12390;&amp;#12365;&amp;#12414;&amp;#12375;&amp;#12383;&amp;#12290;&amp;#12381;&amp;#12375;&amp;#12383;&amp;#12425;&amp;#12499;&amp;#12483;&amp;#12463;&amp;#12522;&amp;#65281;&amp;#30456;&amp;#22793;&amp;#12431;&amp;#12425;&lt;a href=&quot;http://www.abakuro.co.jp/&quot;&gt;&lt;b&gt;&amp;#12450;&amp;#12496;&amp;#12463;&amp;#12525;&lt;/b&gt;&lt;/a&gt;&amp;#12378;&amp;#12289;&amp;#36362;&amp;#12387;&amp;#12390;&amp;#12356;&amp;#12427;&amp;#12384;&amp;#12369;&amp;#12398;&amp;#24215;&amp;#21729;&amp;#12373;&amp;#12435;&amp;#12392;&amp;#12363;&amp;#12418;&amp;#12356;&amp;#12414;&amp;#12375;&amp;#12383;&amp;#12364;&amp;#12289;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-05-05T03:00:31+01:00</created-at>
      <creator-id type="integer">31932</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3551</number>
      <permalink>activerecordautosaveassociationunmark_for_destruction</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>hold</state>
      <tag>2.3.x activerecord autosave_association marked_for_destruction patch</tag>
      <title>[PATCH] ActiveRecord::AutosaveAssociation#unmark_for_destruction</title>
      <updated-at type="datetime">2011-05-05T03:01:39+01:00</updated-at>
      <user-id type="integer">148049</user-id>
      <version type="integer">12</version>
      <user-name>af001</user-name>
      <creator-name>Levin Alexander</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3551</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>ba7c791c54c57560a5f2261d3f5eff8a0a95bbce</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-12-08T16:49:27+00:00</created-at>
      <filename>unmark_for_destruction.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">345424</id>
      <size type="integer">3075</size>
      <uploader-id type="integer">31932</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/345424/unmark_for_destruction.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>fb252d73798a0cba7ea4b24162d955ef71010cbb</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-12-30T15:44:52+00:00</created-at>
      <filename>destroy_missing.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">364946</id>
      <size type="integer">11784</size>
      <uploader-id type="integer">8406</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/364946/destroy_missing.diff</url>
    </attachment>
  </attachments>
</ticket>
