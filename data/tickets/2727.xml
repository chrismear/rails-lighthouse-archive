<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-19T10:37:12+01:00</created-at>
  <creator-id type="integer">22475</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2727</number>
  <permalink>local-error-page-does-not-show-session</permalink>
  <priority type="integer">1844</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>2-3-stable 30 session</tag>
  <title>local error page does not show session</title>
  <updated-at type="datetime">2011-02-02T17:56:18+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">11</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Morus Walter</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>In rails 2.3.2 the local error page always shows '---' as the session.

I think the error is in 
rails / actionpack / lib / action_controller / templates / rescues / _request_and_response.erb

where the session still is expected to contain a data instance variable:

&lt;%= debug(request.session.instance_variable_get(&quot;@data&quot;)) %&gt;

The same problem exists in the exception_notification plugin.</original-body>
  <latest-body>In rails 2.3.2 the local error page always shows '---' as the session.

I think the error is in 
rails / actionpack / lib / action_controller / templates / rescues / _request_and_response.erb

where the session still is expected to contain a data instance variable:

&lt;%= debug(request.session.instance_variable_get(&quot;@data&quot;)) %&gt;

The same problem exists in the exception_notification plugin.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;In rails 2.3.2 the local error page always shows '---' as the
session.&lt;/p&gt;
&lt;p&gt;I think the error is in rails / actionpack / lib /
action_controller / templates / rescues /
_request_and_response.erb&lt;/p&gt;
&lt;p&gt;where the session still is expected to contain a data instance
variable:&lt;/p&gt;
&lt;p&gt;&amp;lt;%= debug(request.session.instance_variable_get(&quot;@data&quot;))
%&amp;gt;&lt;/p&gt;
&lt;p&gt;The same problem exists in the exception_notification
plugin.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In rails 2.3.2 the local error page always shows '---' as the session.

I think the error is in 
rails / actionpack / lib / action_controller / templates / rescues / _request_and_response.erb

where the session still is expected to contain a data instance variable:

&lt;%= debug(request.session.instance_variable_get(&quot;@data&quot;)) %&gt;

The same problem exists in the exception_notification plugin.</body>
      <body-html>&lt;div&gt;&lt;p&gt;In rails 2.3.2 the local error page always shows '---' as the
session.&lt;/p&gt;
&lt;p&gt;I think the error is in&lt;br&gt;
rails / actionpack / lib / action_controller / templates / rescues
/ _request_and_response.erb&lt;/p&gt;
&lt;p&gt;where the session still is expected to contain a data instance
variable:&lt;/p&gt;
&lt;p&gt;&amp;lt;%= debug(request.session.instance_variable_get(&quot;@data&quot;))
%&amp;gt;&lt;/p&gt;
&lt;p&gt;The same problem exists in the exception_notification
plugin.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-27T14:17:04+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2009-05-27T14:17:06+01:00</updated-at>
      <user-id type="integer">22475</user-id>
      <version type="integer">1</version>
      <user-name>Morus Walter</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-27T14:18:30+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable exception_notification session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2009-05-27T14:18:33+01:00</updated-at>
      <user-id type="integer">22475</user-id>
      <version type="integer">2</version>
      <user-name>Morus Walter</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I fixed a similar issue with the exception_notification plugin by replacing

* session id: &lt;%= @request.session.instance_variable_get(:@session_id).inspect %&gt;
* data: &lt;%= PP.pp(@request.session.instance_variable_get(:@data),&quot;&quot;).gsub(/\n/, &quot;\n  &quot;).strip %&gt;

by

* session id: &lt;%= @request.session_options[:id].inspect %&gt;
* data: &lt;%= PP.pp(@request.session.to_hash,&quot;&quot;).gsub(/\n/, &quot;\n  &quot;).strip %&gt;

in the exception_notification/views/exception_notifier/_session.rhtml file.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I fixed a similar issue with the exception_notification plugin
by replacing&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;session id: &amp;lt;%=
@request.session.instance_variable_get(:@session_id).inspect
%&amp;gt;&lt;/li&gt;
&lt;li&gt;data: &amp;lt;%=
PP.pp(@request.session.instance_variable_get(:@data),&quot;&quot;).gsub(/\n/,
&quot;\n &quot;).strip %&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;by&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;session id: &amp;lt;%= @request.session_options[:id].inspect
%&amp;gt;&lt;/li&gt;
&lt;li&gt;data: &amp;lt;%= PP.pp(@request.session.to_hash,&quot;&quot;).gsub(/\n/, &quot;\n
&quot;).strip %&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;in the
exception_notification/views/exception_notifier/_session.rhtml
file.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-22T15:27:03+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable exception_notification session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2009-07-22T15:27:10+01:00</updated-at>
      <user-id type="integer">23283</user-id>
      <version type="integer">3</version>
      <user-name>Laurent Farcy</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've created a patch for 2-3-stable and tested on my 2.3.4 app.  I rebased to master as well.  There are no tests because testing the output of this template seems too granular, but I'm open to suggestions on a good way to test it if necessary.  My instinct is that it should just be fixed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've created a patch for 2-3-stable and tested on my 2.3.4 app.
I rebased to master as well. There are no tests because testing the
output of this template seems too granular, but I'm open to
suggestions on a good way to test it if necessary. My instinct is
that it should just be fixed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-10T00:41:36+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable exception_notification session
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 exception_notification session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2009-10-10T00:41:38+01:00</updated-at>
      <user-id type="integer">17848</user-id>
      <version type="integer">4</version>
      <user-name>Gabe da Silveira</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>My proposed fix is here -- backward-compatiable -- http://github.com/bkaney/exception_notification/commit/f937cc62d3db262adff22a1bd0e79ceb2b10fe6f</body>
      <body-html>&lt;div&gt;&lt;p&gt;My proposed fix is here -- backward-compatiable -- &lt;a href=
&quot;http://github.com/bkaney/exception_notification/commit/f937cc62d3db262adff22a1bd0e79ceb2b10fe6f&quot;&gt;
http://github.com/bkaney/exception_notification/commit/f937cc62d3db...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-23T16:30:53+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 exception_notification session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2009-10-23T16:30:55+01:00</updated-at>
      <user-id type="integer">25030</user-id>
      <version type="integer">5</version>
      <user-name>Brian Kaney</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This should be fixed in ExceptionNotifiable (http://github.com/rails/exception_notification), for 3.0 and 2.3 branches, actually via a couple other refactors.  Please re-tag and add the appropriate details, if you find that not to be the case.  

Or add a ticket in the Rails plugin project: https://rails.lighthouseapp.com/projects/8995</body>
      <body-html>&lt;div&gt;&lt;p&gt;This should be fixed in ExceptionNotifiable (&lt;a href=
&quot;http://github.com/rails/exception_notification)&quot;&gt;http://github.com/rails/exception_notification)&lt;/a&gt;,
for 3.0 and 2.3 branches, actually via a couple other refactors.
Please re-tag and add the appropriate details, if you find that not
to be the case.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Or add a ticket in the Rails plugin project: &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8995&quot;&gt;https://rails.lighthouseapp.com/projects/8995&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-02T08:41:55+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable 3.0 exception_notification session
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2010-04-02T08:41:58+01:00</updated-at>
      <user-id type="integer">13680</user-id>
      <version type="integer">6</version>
      <user-name>Tim Connor</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I can confirm the original bug is still present in Rails 2.3.5 / actionpack</body>
      <body-html>&lt;div&gt;&lt;p&gt;I can confirm the original bug is still present in Rails 2.3.5 /
actionpack&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T05:30:18+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2010-04-11T05:30:23+01:00</updated-at>
      <user-id type="integer">22164</user-id>
      <version type="integer">7</version>
      <user-name>Roland Moriz</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:50+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 3.0 session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2010-05-04T18:48:50+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">8</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I was unable to reproduce this with edge Rails:

@@@
$ script/rails g controller fails index
      create  app/controllers/fails_controller.rb
       route  get &quot;fails/index&quot;
      invoke  erb
      create    app/views/fails
      create    app/views/fails/index.html.erb
      invoke  test_unit
      create    test/functional/fails_controller_test.rb
      invoke  helper
      create    app/helpers/fails_helper.rb
      invoke    test_unit
      create      test/unit/helpers/fails_helper_test.rb
@@@

`routes.rb`:

@@@
Ticket2727::Application.routes.draw do
  resources :fails
end
@@@

`app/controllers/fails_controller.rb`:

@@@ ruby
class FailsController &lt; ApplicationController
  def index
    session[:foo] = 'bar'
    raise 'fail!'
  end
end
@@@

The error page on `http://localhost:3000/fails` shows this session dump:

@@@
foo: &quot;bar&quot;
session_id: &quot;814bfd9248f48b0c965552e06d63b81b&quot;
@@@

*However,* I was I able to reproduce this using the `2-3-stable` branch:

@@@
$ script/generate controller fails index
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/fails
      exists  test/functional/
      create  test/unit/helpers/
      create  app/controllers/fails_controller.rb
      create  test/functional/fails_controller_test.rb
      create  app/helpers/fails_helper.rb
      create  test/unit/helpers/fails_helper_test.rb
      create  app/views/fails/index.html.erb
@@@

`routes.rb`:

@@@ ruby
ActionController::Routing::Routes.draw do |map|
  map.resources :fails
end
@@@

`app/controllers/fails_controller.rb`:

@@@ ruby
class FailsController &lt; ApplicationController
  def index
    session[:foo] = 'bar'
    raise 'fail!'
  end
end
@@@

The error page shows `---` as session dump, as described.

Please provide a patch (https://rails.lighthouseapp.com/projects/8994/sending-patches) with a fix and/or a failing test.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I was unable to reproduce this with edge Rails:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ script/rails g controller fails index
      create  app/controllers/fails_controller.rb
       route  get &quot;fails/index&quot;
      invoke  erb
      create    app/views/fails
      create    app/views/fails/index.html.erb
      invoke  test_unit
      create    test/functional/fails_controller_test.rb
      invoke  helper
      create    app/helpers/fails_helper.rb
      invoke    test_unit
      create      test/unit/helpers/fails_helper_test.rb&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;routes.rb&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Ticket2727::Application.routes.draw do
  resources :fails
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;app/controllers/fails_controller.rb&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class FailsController &amp;lt; ApplicationController
  def index
    session[:foo] = 'bar'
    raise 'fail!'
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The error page on &lt;code&gt;http://localhost:3000/fails&lt;/code&gt; shows
this session dump:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;foo: &quot;bar&quot;
session_id: &quot;814bfd9248f48b0c965552e06d63b81b&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;However,&lt;/em&gt; I was I able to reproduce this using the
&lt;code&gt;2-3-stable&lt;/code&gt; branch:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ script/generate controller fails index
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/fails
      exists  test/functional/
      create  test/unit/helpers/
      create  app/controllers/fails_controller.rb
      create  test/functional/fails_controller_test.rb
      create  app/helpers/fails_helper.rb
      create  test/unit/helpers/fails_helper_test.rb
      create  app/views/fails/index.html.erb&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;routes.rb&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;ActionController::Routing::Routes.draw do |map|
  map.resources :fails
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;app/controllers/fails_controller.rb&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class FailsController &amp;lt; ApplicationController
  def index
    session[:foo] = 'bar'
    raise 'fail!'
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The error page shows &lt;code&gt;---&lt;/code&gt; as session dump, as
described.&lt;/p&gt;
&lt;p&gt;Please provide a patch (&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/sending-patches&quot;&gt;https://rails.lighthouseapp.com/projects/8994/sending-patches&lt;/a&gt;)
with a fix and/or a failing test.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T10:37:12+01:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">1844</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2-3-stable 3.0 session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2010-10-19T10:38:17+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">9</version>
      <user-name>David Trasbo</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:47:37+00:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable 3.0 session
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">1844</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 30 session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2011-02-02T17:55:38+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:47:38+00:00</created-at>
      <creator-id type="integer">22475</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2727</number>
      <permalink>local-error-page-does-not-show-session</permalink>
      <priority type="integer">1844</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>2-3-stable 30 session</tag>
      <title>local error page does not show session</title>
      <updated-at type="datetime">2011-02-02T17:56:18+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">11</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Morus Walter</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2727</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>c5a0de00342774d22e0ad8cd3708861a53cce425</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-10-10T00:41:36+01:00</created-at>
      <filename>fix_request_response_template.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">292091</id>
      <size type="integer">1171</size>
      <uploader-id type="integer">17848</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/292091/fix_request_response_template.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>4fb17eff0a86487a4951662b7e54fbc7c6fede9f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-10-10T00:41:36+01:00</created-at>
      <filename>fix_request_response_template_master.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">292092</id>
      <size type="integer">1208</size>
      <uploader-id type="integer">17848</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/292092/fix_request_response_template_master.diff</url>
    </attachment>
  </attachments>
</ticket>
