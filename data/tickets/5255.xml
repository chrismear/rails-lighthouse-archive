<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">15159</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-07-30T20:04:21+01:00</created-at>
  <creator-id type="integer">36417</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5255</number>
  <permalink>actionmailer-30-drops-name-part-in-email</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>&quot;rails 3.0.0.beta3&quot;</tag>
  <title>ActionMailer 3.0 drops name part in email</title>
  <updated-at type="datetime">2010-10-07T20:27:21+01:00</updated-at>
  <user-id type="integer">65050</user-id>
  <version type="integer">7</version>
  <user-name>David Trasbo</user-name>
  <creator-name>eydaimon</creator-name>
  <assigned-user-name>Mikel Lindsaar</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
  <priority-name>Low</priority-name>
  <original-body>Example:

@@@ ruby
m = mail to: &quot;Name &lt;address@mail.com&gt;&quot;
m.to.first
#=&gt; &quot;address@mail.com&quot;
@@@

Notice how the to: header drops the &quot;Name&quot; part of the address.

&lt;em&gt;Edited by [Rohit Arondekar](https://rails.lighthouseapp.com/users/89656) for formatting.&lt;/em&gt;</original-body>
  <latest-body>Example:

@@@ ruby
m = mail to: &quot;Name &lt;address@mail.com&gt;&quot;
m.to.first
#=&gt; &quot;address@mail.com&quot;
@@@

Notice how the to: header drops the &quot;Name&quot; part of the address.

&lt;em&gt;Edited by [Rohit Arondekar](https://rails.lighthouseapp.com/users/89656) for formatting.&lt;/em&gt;</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;m = mail to: &quot;Name &amp;lt;address@mail.com&amp;gt;&quot;
m.to.first
#=&amp;gt; &quot;address@mail.com&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Notice how the to: header drops the &quot;Name&quot; part of the
address.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Edited by &lt;a href=
&quot;https://rails.lighthouseapp.com/users/89656&quot;&gt;Rohit Arondekar&lt;/a&gt;
for formatting.&lt;/em&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Example:

@@@ ruby
m = mail to: &quot;Name &lt;address@mail.com&gt;&quot;
m.to.first
#=&gt; &quot;address@mail.com&quot;
@@@

Notice how the to: header drops the &quot;Name&quot; part of the address.

&lt;em&gt;Edited by [Rohit Arondekar](https://rails.lighthouseapp.com/users/89656) for formatting.&lt;/em&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;m = mail to: &quot;Name &amp;lt;address@mail.com&amp;gt;&quot;
m.to.first
#=&amp;gt; &quot;address@mail.com&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Notice how the to: header drops the &quot;Name&quot; part of the
address.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Edited by &lt;a href=
&quot;https://rails.lighthouseapp.com/users/89656&quot;&gt;Rohit Arondekar&lt;/a&gt;
for formatting.&lt;/em&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-30T20:04:21+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails 3.0.rc&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-10-07T06:50:14+01:00</updated-at>
      <user-id type="integer">36417</user-id>
      <version type="integer">1</version>
      <user-name>eydaimon</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-30T20:04:34+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;rails 3.0.rc\&quot;&quot;
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails 3.0.0.beta3&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-07-30T20:04:35+01:00</updated-at>
      <user-id type="integer">36417</user-id>
      <version type="integer">2</version>
      <user-name>eydaimon</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>However the information is not completely lost, it's stored somewhere.

@@@ ruby
    m = mail :to =&gt; &quot;Name &lt;address@mail.com&gt;&quot;
    m.inspect
    #&lt;Mail::Message:26124640, Multipart: false, Headers: &lt;From: from@example.com&gt;, &lt;To: Name &lt;address@mail.com&gt;&gt;, &lt;Subject: Welcome email&gt;, &lt;Mime-Version: 1.0&gt;, &lt;Content-Type: text/plain&gt;&gt;
@@@

Did you have any specific issue or can this ticket be closed?</body>
      <body-html>&lt;div&gt;&lt;p&gt;However the information is not completely lost, it's stored
somewhere.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;    m = mail :to =&amp;gt; &quot;Name &amp;lt;address@mail.com&amp;gt;&quot;
    m.inspect
    #&amp;lt;Mail::Message:26124640, Multipart: false, Headers: &amp;lt;From: from@example.com&amp;gt;, &amp;lt;To: Name &amp;lt;address@mail.com&amp;gt;&amp;gt;, &amp;lt;Subject: Welcome email&amp;gt;, &amp;lt;Mime-Version: 1.0&amp;gt;, &amp;lt;Content-Type: text/plain&amp;gt;&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Did you have any specific issue or can this ticket be
closed?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-07T06:51:41+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails 3.0.0.beta3&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-10-07T06:51:43+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">3</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>E-Mail clients render the name field to display the email better, so it's definitely desired. It's standard, and I'm quite surprised you're suggesting just closing the ticket and ignoring this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;E-Mail clients render the name field to display the email
better, so it's definitely desired. It's standard, and I'm quite
surprised you're suggesting just closing the ticket and ignoring
this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-07T15:59:35+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails 3.0.0.beta3&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-10-07T15:59:36+01:00</updated-at>
      <user-id type="integer">36417</user-id>
      <version type="integer">4</version>
      <user-name>eydaimon</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15159</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@eydaimon , i think what rohit is trying to probably say is that email clients don't do &quot;m.to.first&quot; to display the sender. The mail object within a rails, has sufficiently stored the attributes of the mail message. Mail gem converts it into an email message and transfers it as per the RFC (cant recall the number just now) to the clients.

I too disagree that m.to.first is sufficient evidence that this functionality is not working.

After some introspection, i found that the way you probably want to test it is -

@@@ ruby
  m[:to].formatted == &quot;Name &lt;address@mail.com&gt;&quot;.
@@@

If you indeed think its a bug, you may want to raise it against the mail gem at http://github.com/mikel/mail but i doubt it will stand.

Perhaps, Mikel can chime in since he is the maintainer of that gem as well as ActionMailer.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@eydaimon , i think what rohit is trying to probably say is that
email clients don't do &quot;m.to.first&quot; to display the sender. The mail
object within a rails, has sufficiently stored the attributes of
the mail message. Mail gem converts it into an email message and
transfers it as per the RFC (cant recall the number just now) to
the clients.&lt;/p&gt;
&lt;p&gt;I too disagree that m.to.first is sufficient evidence that this
functionality is not working.&lt;/p&gt;
&lt;p&gt;After some introspection, i found that the way you probably want
to test it is -&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  m[:to].formatted == &quot;Name &amp;lt;address@mail.com&amp;gt;&quot;.&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If you indeed think its a bug, you may want to raise it against
the mail gem at &lt;a href=
&quot;http://github.com/mikel/mail&quot;&gt;http://github.com/mikel/mail&lt;/a&gt; but
i doubt it will stand.&lt;/p&gt;
&lt;p&gt;Perhaps, Mikel can chime in since he is the maintainer of that
gem as well as ActionMailer.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-07T17:31:01+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails 3.0.0.beta3&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-10-07T17:31:06+01:00</updated-at>
      <user-id type="integer">17433</user-id>
      <version type="integer">5</version>
      <user-name>Aditya Sanghi</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name>Mikel Lindsaar</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15159</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@aditya, thanks for the clarification.   I re-read the thread and you're correct. For some reason I thought it wasn't being included in the sent-mail when I responded again which is not true.

Please close this ticket.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@aditya, thanks for the clarification. I re-read the thread and
you're correct. For some reason I thought it wasn't being included
in the sent-mail when I responded again which is not true.&lt;/p&gt;
&lt;p&gt;Please close this ticket.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-07T18:51:05+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails 3.0.0.beta3&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-10-07T18:51:08+01:00</updated-at>
      <user-id type="integer">36417</user-id>
      <version type="integer">6</version>
      <user-name>eydaimon</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name>Mikel Lindsaar</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15159</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Done!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Done!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-07T20:27:19+01:00</created-at>
      <creator-id type="integer">36417</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5255</number>
      <permalink>actionmailer-30-drops-name-part-in-email</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>&quot;rails 3.0.0.beta3&quot;</tag>
      <title>ActionMailer 3.0 drops name part in email</title>
      <updated-at type="datetime">2010-10-07T20:27:21+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">7</version>
      <user-name>David Trasbo</user-name>
      <creator-name>eydaimon</creator-name>
      <assigned-user-name>Mikel Lindsaar</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5255</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
