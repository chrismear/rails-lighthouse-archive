<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-02T10:59:01+01:00</created-at>
  <creator-id type="integer">12218</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5726</number>
  <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>3.0.0 date &quot;load path&quot; ruby-1.9.2</tag>
  <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
  <updated-at type="datetime">2010-10-05T03:43:44+01:00</updated-at>
  <user-id type="integer">14998</user-id>
  <version type="integer">9</version>
  <user-name>Ryan Bigg</user-name>
  <creator-name>Avand</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
  <priority-name>Low</priority-name>
  <original-body>In my Rails 3 app I was able to add a file in lib called date.rb with the following contents:

@@@ ruby
class Date
  def id
    self.to_s
  end
  
  def self.find(id)
    Date.parse(id)
  end
end
@@@

This worked in 1.8.7-p174, however, when doing the upgrade to Rails 1.9.2-p0, it's been failing. When I try to run my tests I get this:

@@@ bash
/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `alias_method': undefined method `+' for class `Date' (NameError)
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `&lt;class:Date&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:7:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `block in &lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `each'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/config/application.rb:3:in `require'
	from /Users/avand/Git/foo/config/application.rb:3:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/config/environment.rb:2:in `require'
	from /Users/avand/Git/foo/config/environment.rb:2:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/test/test_helper.rb:2:in `require'
	from /Users/avand/Git/foo/test/test_helper.rb:2:in `&lt;top (required)&gt;'
	from test/unit/user_test.rb:1:in `require'
	from test/unit/user_test.rb:1:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `load'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `block in &lt;main&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `each'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `&lt;main&gt;'
@@@

I tried commenting the two methods out (leaving the class declaration) to no avail. It seems that simply trying to extend Date causes some conflict within ActiveSupport's core extensions.

Going to try working around this issue for now.</original-body>
  <latest-body>In my Rails 3 app I was able to add a file in lib called date.rb with the following contents:

@@@ ruby
class Date
  def id
    self.to_s
  end
  
  def self.find(id)
    Date.parse(id)
  end
end
@@@

This worked in 1.8.7-p174, however, when doing the upgrade to Rails 1.9.2-p0, it's been failing. When I try to run my tests I get this:

@@@ bash
/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `alias_method': undefined method `+' for class `Date' (NameError)
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `&lt;class:Date&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:7:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `block in &lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `each'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/config/application.rb:3:in `require'
	from /Users/avand/Git/foo/config/application.rb:3:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/config/environment.rb:2:in `require'
	from /Users/avand/Git/foo/config/environment.rb:2:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/test/test_helper.rb:2:in `require'
	from /Users/avand/Git/foo/test/test_helper.rb:2:in `&lt;top (required)&gt;'
	from test/unit/user_test.rb:1:in `require'
	from test/unit/user_test.rb:1:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `load'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `block in &lt;main&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `each'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `&lt;main&gt;'
@@@

I tried commenting the two methods out (leaving the class declaration) to no avail. It seems that simply trying to extend Date causes some conflict within ActiveSupport's core extensions.

Going to try working around this issue for now.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;In my Rails 3 app I was able to add a file in lib called date.rb
with the following contents:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class Date
  def id
    self.to_s
  end
  
  def self.find(id)
    Date.parse(id)
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This worked in 1.8.7-p174, however, when doing the upgrade to
Rails 1.9.2-p0, it's been failing. When I try to run my tests I get
this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;bash&quot;&gt;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `alias_method': undefined method `+' for class `Date' (NameError)
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `&amp;lt;class:Date&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:7:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `block in &amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `each'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/Git/foo/config/application.rb:3:in `require'
    from /Users/avand/Git/foo/config/application.rb:3:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/Git/foo/config/environment.rb:2:in `require'
    from /Users/avand/Git/foo/config/environment.rb:2:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/Git/foo/test/test_helper.rb:2:in `require'
    from /Users/avand/Git/foo/test/test_helper.rb:2:in `&amp;lt;top (required)&amp;gt;'
    from test/unit/user_test.rb:1:in `require'
    from test/unit/user_test.rb:1:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `load'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `block in &amp;lt;main&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `each'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `&amp;lt;main&amp;gt;'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I tried commenting the two methods out (leaving the class
declaration) to no avail. It seems that simply trying to extend
Date causes some conflict within ActiveSupport's core
extensions.&lt;/p&gt;
&lt;p&gt;Going to try working around this issue for now.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In my Rails 3 app I was able to add a file in lib called date.rb with the following contents:

@@@ ruby
class Date
  def id
    self.to_s
  end
  
  def self.find(id)
    Date.parse(id)
  end
end
@@@

This worked in 1.8.7-p174, however, when doing the upgrade to Rails 1.9.2-p0, it's been failing. When I try to run my tests I get this:

@@@ bash
/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `alias_method': undefined method `+' for class `Date' (NameError)
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `&lt;class:Date&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:7:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `require'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `block in &lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `each'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/config/application.rb:3:in `require'
	from /Users/avand/Git/foo/config/application.rb:3:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/config/environment.rb:2:in `require'
	from /Users/avand/Git/foo/config/environment.rb:2:in `&lt;top (required)&gt;'
	from /Users/avand/Git/foo/test/test_helper.rb:2:in `require'
	from /Users/avand/Git/foo/test/test_helper.rb:2:in `&lt;top (required)&gt;'
	from test/unit/user_test.rb:1:in `require'
	from test/unit/user_test.rb:1:in `&lt;top (required)&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `load'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `block in &lt;main&gt;'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `each'
	from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `&lt;main&gt;'
@@@

I tried commenting the two methods out (leaving the class declaration) to no avail. It seems that simply trying to extend Date causes some conflict within ActiveSupport's core extensions.

Going to try working around this issue for now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;In my Rails 3 app I was able to add a file in lib called date.rb
with the following contents:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class Date
  def id
    self.to_s
  end
  
  def self.find(id)
    Date.parse(id)
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This worked in 1.8.7-p174, however, when doing the upgrade to
Rails 1.9.2-p0, it's been failing. When I try to run my tests I get
this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;bash&quot;&gt;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `alias_method': undefined method `+' for class `Date' (NameError)
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:91:in `&amp;lt;class:Date&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/core_ext/date/calculations.rb:7:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib/active_support/ruby/shim.rb:12:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/abstract_controller.rb:6:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller.rb:1:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/railtie.rb:2:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib/active_record/railtie.rb:9:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `require'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:11:in `block in &amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `each'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib/rails/all.rb:5:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/Git/foo/config/application.rb:3:in `require'
    from /Users/avand/Git/foo/config/application.rb:3:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/Git/foo/config/environment.rb:2:in `require'
    from /Users/avand/Git/foo/config/environment.rb:2:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/Git/foo/test/test_helper.rb:2:in `require'
    from /Users/avand/Git/foo/test/test_helper.rb:2:in `&amp;lt;top (required)&amp;gt;'
    from test/unit/user_test.rb:1:in `require'
    from test/unit/user_test.rb:1:in `&amp;lt;top (required)&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `load'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `block in &amp;lt;main&amp;gt;'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `each'
    from /Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5:in `&amp;lt;main&amp;gt;'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I tried commenting the two methods out (leaving the class
declaration) to no avail. It seems that simply trying to extend
Date causes some conflict within ActiveSupport's core
extensions.&lt;/p&gt;
&lt;p&gt;Going to try working around this issue for now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-28T19:58:07+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-09-28T19:58:08+01:00</updated-at>
      <user-id type="integer">12218</user-id>
      <version type="integer">1</version>
      <user-name>Avand</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Amazingly, if I change the file name to date_extensions.rb it works. Odd.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Amazingly, if I change the file name to date_extensions.rb it
works. Odd.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-28T20:23:15+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-09-28T20:23:16+01:00</updated-at>
      <user-id type="integer">12218</user-id>
      <version type="integer">2</version>
      <user-name>Avand</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Could you please put this in the top of the file and paste the extra line it prints? (should begin with `&quot;LOAD PATH: &quot;`)

    puts &quot;LOAD PATH: #{$LOAD_PATH.inspect}&quot;

I think that since this file would be before the ruby core date.rb, it requires your file instead or something.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Could you please put this in the top of the file and paste the
extra line it prints? (should begin with &lt;code&gt;&quot;LOAD PATH:
&quot;&lt;/code&gt;)&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;puts &quot;LOAD PATH: #{$LOAD_PATH.inspect}&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I think that since this file would be before the ruby core
date.rb, it requires your file instead or something.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-29T06:03:31+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-09-29T06:03:33+01:00</updated-at>
      <user-id type="integer">106668</user-id>
      <version type="integer">3</version>
      <user-name>Henrik Hodne</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Not the easiest thing to paste, but here it is:

@@@
LOAD PATH: [&quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/haml-3.0.18/vendor/fssm/lib&quot;, &quot;/Users/avand/Git/sqoot/lib&quot;, &quot;/Users/avand/Git/sqoot/vendor&quot;, &quot;/Users/avand/Git/sqoot/app/controllers&quot;, &quot;/Users/avand/Git/sqoot/app/helpers&quot;, &quot;/Users/avand/Git/sqoot/app/javascripts&quot;, &quot;/Users/avand/Git/sqoot/app/mailers&quot;, &quot;/Users/avand/Git/sqoot/app/models&quot;, &quot;/Users/avand/Git/sqoot/app/stylesheets&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/bitly-0.5.3/lib/bitly&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/bitly-0.5.3/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/twitter-0.9.12/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rturk-2.3.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rest-client-1.6.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rails-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/thor-0.14.2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/pg-0.9.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/pg-0.9.0/ext&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/oauth-0.4.3/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/nokogiri-1.4.3.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/multi_json-0.0.4/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/maruku-0.6.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/syntax-1.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/json-1.4.6/ext/json/ext&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/json-1.4.6/ext&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/json-1.4.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/jsmin-1.0.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/hoptoad_notifier-2.3.8/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/hashie-0.4.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/haml-3.0.18/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/garb-0.8.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/friendly_id-3.1.7/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/delayed_job-2.1.0.pre2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/daemons-1.1.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/httparty-0.6.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/crack-0.1.8/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/babosa-0.2.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/xml-simple-1.0.12/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/ancestry-1.2.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/acts-as-taggable-on-2.0.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activeresource-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/arel-1.0.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionmailer-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/mail-2.2.6.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/treetop-1.4.8/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/polyglot-0.3.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/mime-types-1.16/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/tzinfo-0.3.23/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-test-0.5.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-mount-0.6.13/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/erubis-2.6.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activemodel-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/i18n-0.4.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/builder-2.1.2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/abstract-1.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/bundler-1.0.0/lib&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/site_ruby/1.9.1&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/site_ruby/1.9.1/x86_64-darwin10.4.0&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/site_ruby&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/vendor_ruby/1.9.1&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/vendor_ruby/1.9.1/x86_64-darwin10.4.0&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/vendor_ruby&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/x86_64-darwin10.4.0&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/vendor/html-scanner&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-mount-0.6.13/lib/rack/mount/vendor/multimap&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-mount-0.6.13/lib/rack/mount/vendor/regin&quot;]
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Not the easiest thing to paste, but here it is:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;LOAD PATH: [&quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/haml-3.0.18/vendor/fssm/lib&quot;, &quot;/Users/avand/Git/sqoot/lib&quot;, &quot;/Users/avand/Git/sqoot/vendor&quot;, &quot;/Users/avand/Git/sqoot/app/controllers&quot;, &quot;/Users/avand/Git/sqoot/app/helpers&quot;, &quot;/Users/avand/Git/sqoot/app/javascripts&quot;, &quot;/Users/avand/Git/sqoot/app/mailers&quot;, &quot;/Users/avand/Git/sqoot/app/models&quot;, &quot;/Users/avand/Git/sqoot/app/stylesheets&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/bitly-0.5.3/lib/bitly&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/bitly-0.5.3/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/twitter-0.9.12/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rturk-2.3.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rest-client-1.6.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rails-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/thor-0.14.2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/pg-0.9.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/pg-0.9.0/ext&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/oauth-0.4.3/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/nokogiri-1.4.3.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/multi_json-0.0.4/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/maruku-0.6.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/syntax-1.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/json-1.4.6/ext/json/ext&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/json-1.4.6/ext&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/json-1.4.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/jsmin-1.0.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/hoptoad_notifier-2.3.8/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/hashie-0.4.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/haml-3.0.18/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/garb-0.8.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/friendly_id-3.1.7/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/delayed_job-2.1.0.pre2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/daemons-1.1.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/httparty-0.6.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/crack-0.1.8/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/babosa-0.2.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/xml-simple-1.0.12/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/ancestry-1.2.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/acts-as-taggable-on-2.0.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activeresource-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/arel-1.0.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionmailer-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/mail-2.2.6.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/treetop-1.4.8/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/polyglot-0.3.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/mime-types-1.16/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/tzinfo-0.3.23/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-test-0.5.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-mount-0.6.13/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/erubis-2.6.6/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activemodel-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/i18n-0.4.1/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/builder-2.1.2/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-3.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/abstract-1.0.0/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rake-0.8.7/lib&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/bundler-1.0.0/lib&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/site_ruby/1.9.1&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/site_ruby/1.9.1/x86_64-darwin10.4.0&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/site_ruby&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/vendor_ruby/1.9.1&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/vendor_ruby/1.9.1/x86_64-darwin10.4.0&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/vendor_ruby&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1&quot;, &quot;/Users/avand/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/x86_64-darwin10.4.0&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/actionpack-3.0.0/lib/action_controller/vendor/html-scanner&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-mount-0.6.13/lib/rack/mount/vendor/multimap&quot;, &quot;/Users/avand/.rvm/gems/ruby-1.9.2-p0/gems/rack-mount-0.6.13/lib/rack/mount/vendor/regin&quot;]&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-01T06:02:27+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-10-01T06:02:30+01:00</updated-at>
      <user-id type="integer">12218</user-id>
      <version type="integer">4</version>
      <user-name>Avand</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Henrik I would rather ask $LOADED_FEATURES or $&quot;

Could you please add this in the top of your file and paste the result between BEGIN and END ?

    puts &quot;BEGIN&quot;; puts $&quot;; puts &quot;END&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Henrik I would rather ask $LOADED_FEATURES or $&quot;&lt;/p&gt;
&lt;p&gt;Could you please add this in the top of your file and paste the
result between BEGIN and END ?&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;puts &quot;BEGIN&quot;; puts $&quot;; puts &quot;END&quot;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-02T20:13:47+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-10-02T20:13:50+01:00</updated-at>
      <user-id type="integer">86469</user-id>
      <version type="integer">5</version>
      <user-name>Benoit Daloze</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Benoit Oops, yes. Dunno why I asked for the load path.

Anyways, Avand, I've done some testing and if there's a file in your load path called date.rb, Ruby will load that instead of it's internal one for Date for some odd reason. So I would suggest renaming it to something else (like date_extensions.rb).</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Benoit Oops, yes. Dunno why I asked for the load path.&lt;/p&gt;
&lt;p&gt;Anyways, Avand, I've done some testing and if there's a file in
your load path called date.rb, Ruby will load that instead of it's
internal one for Date for some odd reason. So I would suggest
renaming it to something else (like date_extensions.rb).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-03T01:44:45+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 3.0.0 date ruby-1.9.2
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date &quot;load path&quot; ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-10-03T01:44:46+01:00</updated-at>
      <user-id type="integer">106668</user-id>
      <version type="integer">6</version>
      <user-name>Henrik Hodne</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Henrik Eventually, both are be useful :)

The reason is simple: the lib/ folder is before the stdlib in $LOAD_PATH (lib is 2nd, stdlib is 71st).

The source of the problem is then the lib/ folder to be #unshift to $LOAD_PATH.
Do you know why Rails do this?

This let you override the stdlib libraries, but also prevent you for ever loading them, which does not seems right (except if those were loaded before $: was changed, which should be the case as AS use Date, but this might be a problem of #autoload).

If stdlib was before, you would be forced to load your file with an absolute path, which I think make sense when you use a file with the same name.

@Avand: Rather than renaming it, I would put it in a subfolder of lib/, like &quot;extensions&quot;, and so do a

    require 'extensions/date'

which seems explicit and avoid conflicts.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Henrik Eventually, both are be useful :)&lt;/p&gt;
&lt;p&gt;The reason is simple: the lib/ folder is before the stdlib in
$LOAD_PATH (lib is 2nd, stdlib is 71st).&lt;/p&gt;
&lt;p&gt;The source of the problem is then the lib/ folder to be #unshift
to $LOAD_PATH.&lt;br&gt;
Do you know why Rails do this?&lt;/p&gt;
&lt;p&gt;This let you override the stdlib libraries, but also prevent you
for ever loading them, which does not seems right (except if those
were loaded before $: was changed, which should be the case as AS
use Date, but this might be a problem of #autoload).&lt;/p&gt;
&lt;p&gt;If stdlib was before, you would be forced to load your file with
an absolute path, which I think make sense when you use a file with
the same name.&lt;/p&gt;
&lt;p&gt;@Avand: Rather than renaming it, I would put it in a subfolder
of lib/, like &quot;extensions&quot;, and so do a&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;require 'extensions/date'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;which seems explicit and avoid conflicts.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-03T12:11:49+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date &quot;load path&quot; ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-10-03T12:11:52+01:00</updated-at>
      <user-id type="integer">86469</user-id>
      <version type="integer">7</version>
      <user-name>Benoit Daloze</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Either of those solutions will work for my purposes. Thanks @Henrik and @Benoit.

At a higher level though, it would seem that what I did first, shouldn't have bombed like it did - I would have expected it to just work and re-open the class as defined by Rails.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Either of those solutions will work for my purposes. Thanks
@Henrik and @Benoit.&lt;/p&gt;
&lt;p&gt;At a higher level though, it would seem that what I did first,
shouldn't have bombed like it did - I would have expected it to
just work and re-open the class as defined by Rails.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-04T21:09:36+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0.0 date &quot;load path&quot; ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-10-04T21:09:39+01:00</updated-at>
      <user-id type="integer">12218</user-id>
      <version type="integer">8</version>
      <user-name>Avand</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>When you call a file &quot;date&quot; and place it in the _lib_ directory and attempt to require the ruby +'date'+, you'll get this one instead. It may not be you who's requiring it, but still: best practice is to NOT call your files with the same name as what they are extending. 

An _\_ext.rb_ extension or the _extensions_ directory like Benoit suggested are the best practices.</body>
      <body-html>&lt;div&gt;&lt;p&gt;When you call a file &quot;date&quot; and place it in the &lt;em&gt;lib&lt;/em&gt;
directory and attempt to require the ruby +'date'+, you'll get this
one instead. It may not be you who's requiring it, but still: best
practice is to NOT call your files with the same name as what they
are extending.&lt;/p&gt;
&lt;p&gt;An &lt;em&gt;_ext.rb&lt;/em&gt; extension or the &lt;em&gt;extensions&lt;/em&gt;
directory like Benoit suggested are the best practices.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-05T03:43:42+01:00</created-at>
      <creator-id type="integer">12218</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5726</number>
      <permalink>cant-extend-date-in-rails-3-with-ruby-192-p0</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>3.0.0 date &quot;load path&quot; ruby-1.9.2</tag>
      <title>Can't extend Date in Rails 3 with Ruby 1.9.2-p0</title>
      <updated-at type="datetime">2010-10-05T03:43:44+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">9</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Avand</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5726</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
