<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-04-23T21:30:06+01:00</created-at>
  <creator-id type="integer">18266</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">4432</number>
  <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.3.6 3.0 date_select patch</tag>
  <title>datetime_select and select_datetime inconsistent for various options</title>
  <updated-at type="datetime">2010-10-15T23:01:51+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">16</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Neeraj</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>I tested following case with edge 2-3-stable branch.

discard_hour =&gt; true 
datetime_select #=&gt; yyyy month day
select_datetime #=&gt; yyyy month day minutes
result is inconsistent


discard_minute =&gt; true 
datetime_select #=&gt; yyyy month day hours
select_datetime #=&gt; yyyy month day hours
result is consistent

discard_second =&gt; true 
datetime_select #=&gt; yyyy month day hours minutes
select_datetime #=&gt; yyyy month day hours minutes
result is consistent

ignore_date =&gt; true 
datetime_select #=&gt; hours minutes
select_datetime #=&gt; yyyy month day hours minutes
result is inconsistent

discard_month =&gt; true 
datetime_select #=&gt; yyyy hours minutes
select_datetime #=&gt; yyyy day hours minutes
result is inconsistent


I have not listed a few more cases where the result is inconsistent.

For the methods datetime_select and select_datetime which are mirror image methods, the expected behavior should be as consistent as possible.

Please let me know if it is something that should be fixed. I can put in a patch if I get a go ahead.

I actually wanted to fix ticket #1004 https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime_select-to-accept-ampm-option#ticket-1004-16 . However if this inconsistency is removed then code would be more streamlined and it would easier to patch ticket #1004.</original-body>
  <latest-body>I tested following case with edge 2-3-stable branch.

discard_hour =&gt; true 
datetime_select #=&gt; yyyy month day
select_datetime #=&gt; yyyy month day minutes
result is inconsistent


discard_minute =&gt; true 
datetime_select #=&gt; yyyy month day hours
select_datetime #=&gt; yyyy month day hours
result is consistent

discard_second =&gt; true 
datetime_select #=&gt; yyyy month day hours minutes
select_datetime #=&gt; yyyy month day hours minutes
result is consistent

ignore_date =&gt; true 
datetime_select #=&gt; hours minutes
select_datetime #=&gt; yyyy month day hours minutes
result is inconsistent

discard_month =&gt; true 
datetime_select #=&gt; yyyy hours minutes
select_datetime #=&gt; yyyy day hours minutes
result is inconsistent


I have not listed a few more cases where the result is inconsistent.

For the methods datetime_select and select_datetime which are mirror image methods, the expected behavior should be as consistent as possible.

Please let me know if it is something that should be fixed. I can put in a patch if I get a go ahead.

I actually wanted to fix ticket #1004 https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime_select-to-accept-ampm-option#ticket-1004-16 . However if this inconsistency is removed then code would be more streamlined and it would easier to patch ticket #1004.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I tested following case with edge 2-3-stable branch.&lt;/p&gt;
&lt;p&gt;discard_hour =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day minutes&lt;br&gt;
result is inconsistent&lt;/p&gt;
&lt;p&gt;discard_minute =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day hours&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours&lt;br&gt;
result is consistent&lt;/p&gt;
&lt;p&gt;discard_second =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours minutes&lt;br&gt;
result is consistent&lt;/p&gt;
&lt;p&gt;ignore_date =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours minutes&lt;br&gt;
result is inconsistent&lt;/p&gt;
&lt;p&gt;discard_month =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy day hours minutes&lt;br&gt;
result is inconsistent&lt;/p&gt;
&lt;p&gt;I have not listed a few more cases where the result is
inconsistent.&lt;/p&gt;
&lt;p&gt;For the methods datetime_select and select_datetime which are
mirror image methods, the expected behavior should be as consistent
as possible.&lt;/p&gt;
&lt;p&gt;Please let me know if it is something that should be fixed. I
can put in a patch if I get a go ahead.&lt;/p&gt;
&lt;p&gt;I actually wanted to fix ticket &lt;a href=
&quot;/projects/8994/tickets/1004&quot; title=&quot;Ticket #1004&quot;&gt;#1004&lt;/a&gt;
&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime_select-to-accept-ampm-option#ticket-1004-16&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime...&lt;/a&gt;
. However if this inconsistency is removed then code would be more
streamlined and it would easier to patch ticket &lt;a href=
&quot;/projects/8994/tickets/1004&quot; title=&quot;Ticket #1004&quot;&gt;#1004&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15783</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I tested following case with edge 2-3-stable branch.

discard_hour =&gt; true 
datetime_select #=&gt; yyyy month day
select_datetime #=&gt; yyyy month day minutes
result is inconsistent


discard_minute =&gt; true 
datetime_select #=&gt; yyyy month day hours
select_datetime #=&gt; yyyy month day hours
result is consistent

discard_second =&gt; true 
datetime_select #=&gt; yyyy month day hours minutes
select_datetime #=&gt; yyyy month day hours minutes
result is consistent

ignore_date =&gt; true 
datetime_select #=&gt; hours minutes
select_datetime #=&gt; yyyy month day hours minutes
result is inconsistent

discard_month =&gt; true 
datetime_select #=&gt; yyyy hours minutes
select_datetime #=&gt; yyyy day hours minutes
result is inconsistent


I have not listed a few more cases where the result is inconsistent.

For the methods datetime_select and select_datetime which are mirror image methods, the expected behavior should be as consistent as possible.

Please let me know if it is something that should be fixed. I can put in a patch if I get a go ahead.

I actually wanted to fix ticket #1004 https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime_select-to-accept-ampm-option#ticket-1004-16 . However if this inconsistency is removed then code would be more streamlined and it would easier to patch ticket #1004.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I tested following case with edge 2-3-stable branch.&lt;/p&gt;
&lt;p&gt;discard_hour =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day minutes&lt;br&gt;
result is inconsistent&lt;/p&gt;
&lt;p&gt;discard_minute =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day hours&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours&lt;br&gt;
result is consistent&lt;/p&gt;
&lt;p&gt;discard_second =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours minutes&lt;br&gt;
result is consistent&lt;/p&gt;
&lt;p&gt;ignore_date =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours minutes&lt;br&gt;
result is inconsistent&lt;/p&gt;
&lt;p&gt;discard_month =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy day hours minutes&lt;br&gt;
result is inconsistent&lt;/p&gt;
&lt;p&gt;I have not listed a few more cases where the result is
inconsistent.&lt;/p&gt;
&lt;p&gt;For the methods datetime_select and select_datetime which are
mirror image methods, the expected behavior should be as consistent
as possible.&lt;/p&gt;
&lt;p&gt;Please let me know if it is something that should be fixed. I
can put in a patch if I get a go ahead.&lt;/p&gt;
&lt;p&gt;I actually wanted to fix ticket &lt;a href=
&quot;/projects/8994/tickets/1004&quot; title=&quot;Ticket #1004&quot;&gt;#1004&lt;/a&gt;
&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime_select-to-accept-ampm-option#ticket-1004-16&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/1004-datetime...&lt;/a&gt;
. However if this inconsistency is removed then code would be more
streamlined and it would easier to patch ticket &lt;a href=
&quot;/projects/8994/tickets/1004&quot; title=&quot;Ticket #1004&quot;&gt;#1004&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-18T03:16:27+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.6</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-18T03:16:29+01:00</updated-at>
      <user-id type="integer">18266</user-id>
      <version type="integer">1</version>
      <user-name>Neeraj</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Geoff Buesing</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15783</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>What about this on 3.0?, can you provide the same information for 3.0?</body>
      <body-html>&lt;div&gt;&lt;p&gt;What about this on 3.0?, can you provide the same information
for 3.0?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T20:18:55+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.6</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-22T20:35:33+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">2</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Geoff Buesing</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15783</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>For all the below mentioned options, result between datetime_select and select_datetime is *consistent* in *rails3*. Nice work rails team.

discard_hour =&gt; true
discard_minute =&gt; true
discard_second =&gt; true
ignore_date =&gt; true
discard_month =&gt; true</body>
      <body-html>&lt;div&gt;&lt;p&gt;For all the below mentioned options, result between
datetime_select and select_datetime is &lt;em&gt;consistent&lt;/em&gt; in
&lt;em&gt;rails3&lt;/em&gt;. Nice work rails team.&lt;/p&gt;
&lt;p&gt;discard_hour =&amp;gt; true&lt;br&gt;
discard_minute =&amp;gt; true&lt;br&gt;
discard_second =&amp;gt; true&lt;br&gt;
ignore_date =&amp;gt; true&lt;br&gt;
discard_month =&amp;gt; true&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T21:52:37+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.6</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-22T21:52:40+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">3</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Geoff Buesing</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15783</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Now that it it is clear that this issue is only relevant to 2.3.x branch, if it is something that should be fixed then do let me know. I do see that priority is low. However I looked at code and could provide a patch for 2.3.x.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Now that it it is clear that this issue is only relevant to
2.3.x branch, if it is something that should be fixed then do let
me know. I do see that priority is low. However I looked at code
and could provide a patch for 2.3.x.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T21:53:59+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.6</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-22T21:54:00+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">4</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Geoff Buesing</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ok Neeraj Singh, please provide a patch with tests ;)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ok Neeraj Singh, please provide a patch with tests ;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T22:55:04+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
:assigned_user: 15783
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-22T22:55:09+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">5</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi Santiago,

My previous report on everything working fine in rails3 was wrong. Sorry I was in the wrong rvm path.

Here are the cases where result is inconsistent. I have verified that this case exists in both 2.3.5 and in rails3 edge.

discard_hour =&gt; true
datetime_select #=&gt; yyyy month day
select_datetime #=&gt; yyyy month day minutes

ignore_date =&gt; true
datetime_select #=&gt; hours minutes
select_datetime #=&gt; yyyy month day hours minutes

discard_month =&gt; true
datetime_select #=&gt; yyyy hours minutes
select_datetime #=&gt; yyyy day hours minutes


Working on it. First I will have a patch for 2.3.x and later for rails3. Sorry about the mistake in the previous report regarding rails3.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Santiago,&lt;/p&gt;
&lt;p&gt;My previous report on everything working fine in rails3 was
wrong. Sorry I was in the wrong rvm path.&lt;/p&gt;
&lt;p&gt;Here are the cases where result is inconsistent. I have verified
that this case exists in both 2.3.5 and in rails3 edge.&lt;/p&gt;
&lt;p&gt;discard_hour =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy month day&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day minutes&lt;/p&gt;
&lt;p&gt;ignore_date =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy month day hours minutes&lt;/p&gt;
&lt;p&gt;discard_month =&amp;gt; true&lt;br&gt;
datetime_select #=&amp;gt; yyyy hours minutes&lt;br&gt;
select_datetime #=&amp;gt; yyyy day hours minutes&lt;/p&gt;
&lt;p&gt;Working on it. First I will have a patch for 2.3.x and later for
rails3. Sorry about the mistake in the previous report regarding
rails3.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-23T21:13:36+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-23T21:13:37+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">6</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Can you provide test cases and/or patches for this cases?.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can you provide test cases and/or patches for this cases?.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-23T21:30:06+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.6
:milestone: 50064
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6 3.0 date_select</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-23T21:57:29+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">7</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Attached is a patch against rails edge which brings more consistency between date helper methods.

&lt;pre&gt;
without patch
=============
no options
f.datetime_select : 2010 April 29 - 04 : 21
select_datetime   : 2010 April 29  04  21  ( no dash no colon)

:discard_hour =&gt; true
f.datetime_select : 2010 April 29 
select_datetime   : 2010 April 29  31 

:discard_month =&gt; true
f.datetime_select : 2010 - 04 : 21
select_datetime   : 2010 29 04  21




with patch
=============
no options
f.datetime_select : 2010 April 29 - 04 : 21
select_datetime   : 2010 April 29 - 00 : 21

:discard_hour =&gt; true
f.datetime_select : 2010 April 29 
select_datetime   : 2010 April 29 

:discard_month =&gt; true
f.datetime_select : 2010 - 04 : 21
select_datetime   : 2010 - 00 : 21
&lt;/pre&gt;

Similar type of inconsistencies have been fixed for date_select and time_select.

If you want to test some of these then you can put following code in your erb .
http://gist.github.com/383178

formatting was getting messed up hence I used gist.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached is a patch against rails edge which brings more
consistency between date helper methods.&lt;/p&gt;
&lt;pre&gt;
without patch
=============
no options
f.datetime_select : 2010 April 29 - 04 : 21
select_datetime   : 2010 April 29  04  21  ( no dash no colon)

:discard_hour =&amp;gt; true
f.datetime_select : 2010 April 29 
select_datetime   : 2010 April 29  31 

:discard_month =&amp;gt; true
f.datetime_select : 2010 - 04 : 21
select_datetime   : 2010 29 04  21




with patch
=============
no options
f.datetime_select : 2010 April 29 - 04 : 21
select_datetime   : 2010 April 29 - 00 : 21

:discard_hour =&amp;gt; true
f.datetime_select : 2010 April 29 
select_datetime   : 2010 April 29 

:discard_month =&amp;gt; true
f.datetime_select : 2010 - 04 : 21
select_datetime   : 2010 - 00 : 21
&lt;/pre&gt;
&lt;p&gt;Similar type of inconsistencies have been fixed for date_select
and time_select.&lt;/p&gt;
&lt;p&gt;If you want to test some of these then you can put following
code in your erb .&lt;br&gt;
&lt;a href=
&quot;http://gist.github.com/383178&quot;&gt;http://gist.github.com/383178&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;formatting was getting messed up hence I used gist.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T06:14:28+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.6 3.0 date_select
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T06:14:31+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">8</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [68c96fad55fb13164e339426d7f1cbc88d4ccc8b]) Fix form builder and form helpers inconsistencies [#4432 state:resolved]

* datetime_select and select_datetime should be consistent as much as possible
* date_select and select_date should be consistent as much as possible
* time_select and select_time should be consistent as much as possible

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/68c96fad55fb13164e339426d7f1cbc88d4ccc8b</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/68c96fad55fb13164e339426d7f1cbc88d4ccc8b&quot;
title=
&quot;Changeset [68c96fad55fb13164e339426d7f1cbc88d4ccc8b]&quot;&gt;[68c96fad55fb13164e339426d7f1cbc88d4ccc8b]&lt;/a&gt;)
Fix form builder and form helpers inconsistencies [&lt;a href=
&quot;/projects/8994/tickets/4432&quot; title=&quot;Ticket #4432&quot;&gt;#4432&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;datetime_select and select_datetime should be consistent as
much as possible&lt;/li&gt;
&lt;li&gt;date_select and select_date should be consistent as much as
possible&lt;/li&gt;
&lt;li&gt;time_select and select_time should be consistent as much as
possible&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/68c96fad55fb13164e339426d7f1cbc88d4ccc8b&quot;&gt;
http://github.com/rails/rails/commit/68c96fad55fb13164e339426d7f1cb...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-29T12:44:11+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T12:44:13+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">9</version>
      <user-name>Repository</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Well done Neeraj Singh can you do the same for 2.3 stable?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well done Neeraj Singh can you do the same for 2.3 stable?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T15:27:01+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T15:27:05+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hey Santiago,

Attached is patch back ported for 2-3-stable branch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey Santiago,&lt;/p&gt;
&lt;p&gt;Attached is patch back ported for 2-3-stable branch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T19:55:33+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T19:55:36+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">11</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Neeraj sorry, i didn't know that Jos&#233; said to you to not do the backport.
Perhaps on 2.4 this could be fixed :P.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Neeraj sorry, i didn't know that Jos&amp;eacute; said to you to not
do the backport.&lt;br&gt;
Perhaps on 2.4 this could be fixed :P.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-29T20:18:39+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
:milestone: 50064
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T20:18:41+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">12</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Attached is patch against rails3. I forgot to remove a statement from the last patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached is patch against rails3. I forgot to remove a statement
from the last patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-29T20:22:14+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T20:22:19+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">13</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T21:27:18+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
:assigned_user: 40272
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-29T21:27:21+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">14</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [a003a39bac204b6b2d6425fa3c10891a0cf0149a]) removing the extra assignment statement [#4432 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/a003a39bac204b6b2d6425fa3c10891a0cf0149a</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/a003a39bac204b6b2d6425fa3c10891a0cf0149a&quot;
title=
&quot;Changeset [a003a39bac204b6b2d6425fa3c10891a0cf0149a]&quot;&gt;[a003a39bac204b6b2d6425fa3c10891a0cf0149a]&lt;/a&gt;)
removing the extra assignment statement [&lt;a href=
&quot;/projects/8994/tickets/4432&quot; title=&quot;Ticket #4432&quot;&gt;#4432&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/a003a39bac204b6b2d6425fa3c10891a0cf0149a&quot;&gt;
http://github.com/rails/rails/commit/a003a39bac204b6b2d6425fa3c1089...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-30T13:28:25+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-04-30T13:28:28+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">15</version>
      <user-name>Repository</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:52+01:00</created-at>
      <creator-id type="integer">18266</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4432</number>
      <permalink>datetime_select-and-select_datetime-inconsistent-for-various-options</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.6 3.0 date_select patch</tag>
      <title>datetime_select and select_datetime inconsistent for various options</title>
      <updated-at type="datetime">2010-10-15T23:01:52+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">16</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Neeraj</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4432</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>df92d4860e564135ed8b5319643a947d4369f38f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-29T06:14:28+01:00</created-at>
      <filename>date_helper_consistency_against_rails3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">503036</id>
      <size type="integer">61848</size>
      <uploader-id type="integer">40263</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/503036/date_helper_consistency_against_rails3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>393bdcf99c307b887ff6fd6c7e1dad776705cee2</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-29T19:55:33+01:00</created-at>
      <filename>datetime_select_fix_against_2-3-branch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">504146</id>
      <size type="integer">62294</size>
      <uploader-id type="integer">40263</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/504146/datetime_select_fix_against_2-3-branch.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>c6de5d046c9b35552c149437bf82e313fb5f4a18</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-29T20:22:14+01:00</created-at>
      <filename>remove_extra_statement_against_rails3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">504201</id>
      <size type="integer">1000</size>
      <uploader-id type="integer">40263</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/504201/remove_extra_statement_against_rails3.diff</url>
    </attachment>
  </attachments>
</ticket>
