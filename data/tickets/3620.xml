<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-12-27T00:29:43+00:00</created-at>
  <creator-id type="integer">78404</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3620</number>
  <permalink>objectnonblank-analogous-to-rubys-numericnonzero</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>activesupport blank empty nonblank</tag>
  <title>Object#nonblank? (analogous to Ruby's Numeric#nonzero?)</title>
  <updated-at type="datetime">2009-12-28T01:55:10+00:00</updated-at>
  <user-id type="integer">83</user-id>
  <version type="integer">4</version>
  <user-name>DHH</user-name>
  <creator-name>Colin Kelley</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3620</url>
  <priority-name nil="true"></priority-name>
  <original-body>About a year ago we built on Rails' blank? method with a nonblank? method that is analogous to Ruby's Numeric#nonzero? method:  it either returns the object itself (if not blank) or nil (if blank).  This makes it easy to treat blank parameters the same as missing ones, and allows chaining.

For example, this:

  state   = params[:state]   unless params[:state].blank?
  country = params[:country] unless params[:country].blank?
  region  = state || country || 'US'

becomes:

  region = params[:state].nonblank? || params[:country].nonblank? || 'US'

This has been working well for us and hopefully others will find it useful to too.

The attached patch has full documentation and tests.</original-body>
  <latest-body>About a year ago we built on Rails' blank? method with a nonblank? method that is analogous to Ruby's Numeric#nonzero? method:  it either returns the object itself (if not blank) or nil (if blank).  This makes it easy to treat blank parameters the same as missing ones, and allows chaining.

For example, this:

  state   = params[:state]   unless params[:state].blank?
  country = params[:country] unless params[:country].blank?
  region  = state || country || 'US'

becomes:

  region = params[:state].nonblank? || params[:country].nonblank? || 'US'

This has been working well for us and hopefully others will find it useful to too.

The attached patch has full documentation and tests.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;About a year ago we built on Rails' blank? method with a
nonblank? method that is analogous to Ruby's Numeric#nonzero?
method: it either returns the object itself (if not blank) or nil
(if blank). This makes it easy to treat blank parameters the same
as missing ones, and allows chaining.&lt;/p&gt;
&lt;p&gt;For example, this:&lt;/p&gt;
&lt;p&gt;state = params[:state] unless params[:state].blank? country =
params[:country] unless params[:country].blank? region = state ||
country || 'US'&lt;/p&gt;
&lt;p&gt;becomes:&lt;/p&gt;
&lt;p&gt;region = params[:state].nonblank? || params[:country].nonblank?
|| 'US'&lt;/p&gt;
&lt;p&gt;This has been working well for us and hopefully others will find
it useful to too.&lt;/p&gt;
&lt;p&gt;The attached patch has full documentation and tests.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>About a year ago we built on Rails' blank? method with a nonblank? method that is analogous to Ruby's Numeric#nonzero? method:  it either returns the object itself (if not blank) or nil (if blank).  This makes it easy to treat blank parameters the same as missing ones, and allows chaining.

For example, this:

  state   = params[:state]   unless params[:state].blank?
  country = params[:country] unless params[:country].blank?
  region  = state || country || 'US'

becomes:

  region = params[:state].nonblank? || params[:country].nonblank? || 'US'

This has been working well for us and hopefully others will find it useful to too.

The attached patch has full documentation and tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;About a year ago we built on Rails' blank? method with a
nonblank? method that is analogous to Ruby's Numeric#nonzero?
method: it either returns the object itself (if not blank) or nil
(if blank). This makes it easy to treat blank parameters the same
as missing ones, and allows chaining.&lt;/p&gt;
&lt;p&gt;For example, this:&lt;/p&gt;
&lt;p&gt;state = params[:state] unless params[:state].blank? country =
params[:country] unless params[:country].blank? region = state ||
country || 'US'&lt;/p&gt;
&lt;p&gt;becomes:&lt;/p&gt;
&lt;p&gt;region = params[:state].nonblank? || params[:country].nonblank?
|| 'US'&lt;/p&gt;
&lt;p&gt;This has been working well for us and hopefully others will find
it useful to too.&lt;/p&gt;
&lt;p&gt;The attached patch has full documentation and tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-27T00:29:43+00:00</created-at>
      <creator-id type="integer">78404</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3620</number>
      <permalink>objectnonblank-analogous-to-rubys-numericnonzero</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activesupport blank empty nonblank</tag>
      <title>Object#nonblank? (analogous to Ruby's Numeric#nonzero?)</title>
      <updated-at type="datetime">2009-12-27T00:29:53+00:00</updated-at>
      <user-id type="integer">78404</user-id>
      <version type="integer">1</version>
      <user-name>Colin Kelley</user-name>
      <creator-name>Colin Kelley</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3620</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[oops, reformatting]

For example, this:

@@@ ruby
state   = params[:state]   unless params[:state].blank?
country = params[:country] unless params[:country].blank?
region  = state || country || 'US'
@@@

becomes:

@@@ ruby
region = params[:state].nonblank? || params[:country].nonblank? || 'US'
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;[oops, reformatting]&lt;/p&gt;
&lt;p&gt;For example, this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;state   = params[:state]   unless params[:state].blank?
country = params[:country] unless params[:country].blank?
region  = state || country || 'US'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;becomes:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;region = params[:state].nonblank? || params[:country].nonblank? || 'US'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-27T00:34:51+00:00</created-at>
      <creator-id type="integer">78404</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3620</number>
      <permalink>objectnonblank-analogous-to-rubys-numericnonzero</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activesupport blank empty nonblank</tag>
      <title>Object#nonblank? (analogous to Ruby's Numeric#nonzero?)</title>
      <updated-at type="datetime">2009-12-27T00:34:53+00:00</updated-at>
      <user-id type="integer">78404</user-id>
      <version type="integer">2</version>
      <user-name>Colin Kelley</user-name>
      <creator-name>Colin Kelley</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3620</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I have some suggestion. Since we already have `present?` method which would do almost the same thing. Should we modify `present?` method return object itself if it's not `blank?` instead?

    region = params[:state].present? || params[:country].present? || 'US'</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have some suggestion. Since we already have
&lt;code&gt;present?&lt;/code&gt; method which would do almost the same thing.
Should we modify &lt;code&gt;present?&lt;/code&gt; method return object itself
if it's not &lt;code&gt;blank?&lt;/code&gt; instead?&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;region = params[:state].present? || params[:country].present? || 'US'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-27T16:36:03+00:00</created-at>
      <creator-id type="integer">78404</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3620</number>
      <permalink>objectnonblank-analogous-to-rubys-numericnonzero</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activesupport blank empty nonblank</tag>
      <title>Object#nonblank? (analogous to Ruby's Numeric#nonzero?)</title>
      <updated-at type="datetime">2009-12-27T16:36:10+00:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">3</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>Colin Kelley</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3620</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Committed as Object#presence.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Committed as Object#presence.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-12-28T01:55:05+00:00</created-at>
      <creator-id type="integer">78404</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3620</number>
      <permalink>objectnonblank-analogous-to-rubys-numericnonzero</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activesupport blank empty nonblank</tag>
      <title>Object#nonblank? (analogous to Ruby's Numeric#nonzero?)</title>
      <updated-at type="datetime">2009-12-28T01:55:10+00:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">4</version>
      <user-name>DHH</user-name>
      <creator-name>Colin Kelley</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3620</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>1a1496836206e877989d5f734ee266af13948dd9</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-12-27T00:29:43+00:00</created-at>
      <filename>nonblank_patch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">361757</id>
      <size type="integer">2539</size>
      <uploader-id type="integer">78404</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/361757/nonblank_patch.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>25512e490b6ca776772fcb60e2a4e3bdb4089e7e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-12-27T16:36:04+00:00</created-at>
      <filename>patch_present_to_return_object_itself_when_not_blank.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">361801</id>
      <size type="integer">798</size>
      <uploader-id type="integer">25293</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/361801/patch_present_to_return_object_itself_when_not_blank.diff</url>
    </attachment>
  </attachments>
</ticket>
