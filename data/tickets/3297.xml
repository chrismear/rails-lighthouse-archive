<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-09-28T18:47:22+01:00</created-at>
  <creator-id type="integer">69082</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3297</number>
  <permalink>seedsrb-isnt-executed-within-database-resets-run-by-tests</permalink>
  <priority type="integer">154665</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.3.4 database seed test</tag>
  <title>seeds.rb isn't executed within database resets run by tests</title>
  <updated-at type="datetime">2010-07-29T15:01:07+01:00</updated-at>
  <user-id type="integer">102763</user-id>
  <version type="integer">2</version>
  <user-name>Mike Riley</user-name>
  <creator-name>Nathan Beyer</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3297</url>
  <priority-name nil="true"></priority-name>
  <original-body>I've attempted to use the seeds.rb to setup some low-level data in the database, which my code depends upon. In this specific case, I'm setting up a reference data table that backs a model, then I'm using this model and the assumed content to perform a join in a named_scope query of another model.

My tests are failing to run, as the seed data isn't available, so when the model is loaded and the named_scope is evaluated, the reference data isn't available to fulfill the setup of the query.</original-body>
  <latest-body>I've attempted to use the seeds.rb to setup some low-level data in the database, which my code depends upon. In this specific case, I'm setting up a reference data table that backs a model, then I'm using this model and the assumed content to perform a join in a named_scope query of another model.

My tests are failing to run, as the seed data isn't available, so when the model is loaded and the named_scope is evaluated, the reference data isn't available to fulfill the setup of the query.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I've attempted to use the seeds.rb to setup some low-level data
in the database, which my code depends upon. In this specific case,
I'm setting up a reference data table that backs a model, then I'm
using this model and the assumed content to perform a join in a
named_scope query of another model.&lt;/p&gt;
&lt;p&gt;My tests are failing to run, as the seed data isn't available,
so when the model is loaded and the named_scope is evaluated, the
reference data isn't available to fulfill the setup of the
query.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've attempted to use the seeds.rb to setup some low-level data in the database, which my code depends upon. In this specific case, I'm setting up a reference data table that backs a model, then I'm using this model and the assumed content to perform a join in a named_scope query of another model.

My tests are failing to run, as the seed data isn't available, so when the model is loaded and the named_scope is evaluated, the reference data isn't available to fulfill the setup of the query.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've attempted to use the seeds.rb to setup some low-level data
in the database, which my code depends upon. In this specific case,
I'm setting up a reference data table that backs a model, then I'm
using this model and the assumed content to perform a join in a
named_scope query of another model.&lt;/p&gt;
&lt;p&gt;My tests are failing to run, as the seed data isn't available,
so when the model is loaded and the named_scope is evaluated, the
reference data isn't available to fulfill the setup of the
query.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-28T18:47:22+01:00</created-at>
      <creator-id type="integer">69082</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3297</number>
      <permalink>seedsrb-isnt-executed-within-database-resets-run-by-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.4 database seed test</tag>
      <title>seeds.rb isn't executed within database resets run by tests</title>
      <updated-at type="datetime">2009-09-28T18:47:28+01:00</updated-at>
      <user-id type="integer">69082</user-id>
      <version type="integer">1</version>
      <user-name>Nathan Beyer</user-name>
      <creator-name>Nathan Beyer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3297</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hello Nathan,

Not sure if you saw the following information:

http://railscasts.com/episodes/179-seed-data
http://www.robbyonrails.com/articles/2009/09/05/planting-the-seeds
http://ryandaigle.com/articles/2009/5/13/what-s-new-in-edge-rails-database-seeding
http://railsforum.com/viewtopic.php?id=38748

Did you have any errors when you run rake db:seed?  Due to how old this ticket is, I am going to mark this issue as resolved.  However, if you need more help on this feel free to update it so we can help.

Mike Riley</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hello Nathan,&lt;/p&gt;
&lt;p&gt;Not sure if you saw the following information:&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://railscasts.com/episodes/179-seed-data&quot;&gt;http://railscasts.com/episodes/179-seed-data&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.robbyonrails.com/articles/2009/09/05/planting-the-seeds&quot;&gt;
http://www.robbyonrails.com/articles/2009/09/05/planting-the-seeds&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://ryandaigle.com/articles/2009/5/13/what-s-new-in-edge-rails-database-seeding&quot;&gt;
http://ryandaigle.com/articles/2009/5/13/what-s-new-in-edge-rails-d...&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://railsforum.com/viewtopic.php?id=38748&quot;&gt;http://railsforum.com/viewtopic.php?id=38748&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Did you have any errors when you run rake db:seed? Due to how
old this ticket is, I am going to mark this issue as resolved.
However, if you need more help on this feel free to update it so we
can help.&lt;/p&gt;
&lt;p&gt;Mike Riley&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-29T15:01:04+01:00</created-at>
      <creator-id type="integer">69082</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3297</number>
      <permalink>seedsrb-isnt-executed-within-database-resets-run-by-tests</permalink>
      <priority type="integer">154665</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.4 database seed test</tag>
      <title>seeds.rb isn't executed within database resets run by tests</title>
      <updated-at type="datetime">2010-07-29T15:01:07+01:00</updated-at>
      <user-id type="integer">102763</user-id>
      <version type="integer">2</version>
      <user-name>Mike Riley</user-name>
      <creator-name>Nathan Beyer</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3297</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
