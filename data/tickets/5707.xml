<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-19T17:52:54+01:00</created-at>
  <creator-id type="integer">25407</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5707</number>
  <permalink>configobservers-breaks-rake-tasks</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag nil="true"></tag>
  <title>config.observers breaks rake tasks</title>
  <updated-at type="datetime">2011-04-29T12:31:32+01:00</updated-at>
  <user-id type="integer">147424</user-id>
  <version type="integer">10</version>
  <user-name>Marcin Wyszynski</user-name>
  <creator-name>Justin Smestad</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
  <priority-name>Low</priority-name>
  <original-body>If you have config.active_record.observers enabled and try to run a rake task with :environment there will be an error stating that it &quot;Expected account.rb to define Account&quot;

I created a gist as a test case: http://gist.github.com/597695</original-body>
  <latest-body>If you have config.active_record.observers enabled and try to run a rake task with :environment there will be an error stating that it &quot;Expected account.rb to define Account&quot;

I created a gist as a test case: http://gist.github.com/597695</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;If you have config.active_record.observers enabled and try to
run a rake task with :environment there will be an error stating
that it &quot;Expected account.rb to define Account&quot;&lt;/p&gt;
&lt;p&gt;I created a gist as a test case: &lt;a href=
&quot;http://gist.github.com/597695&quot;&gt;http://gist.github.com/597695&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If you have config.active_record.observers enabled and try to run a rake task with :environment there will be an error stating that it &quot;Expected account.rb to define Account&quot;

I created a gist as a test case: http://gist.github.com/597695</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you have config.active_record.observers enabled and try to
run a rake task with :environment there will be an error stating
that it &quot;Expected account.rb to define Account&quot;&lt;/p&gt;
&lt;p&gt;I created a gist as a test case: &lt;a href=
&quot;http://gist.github.com/597695&quot;&gt;http://gist.github.com/597695&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-26T08:38:26+01:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;observers rake rails3&quot;</tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2010-09-26T08:38:29+01:00</updated-at>
      <user-id type="integer">25407</user-id>
      <version type="integer">1</version>
      <user-name>Justin Smestad</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I do get this error.

when i try a rake task like  

task :sometask =&gt; :environment do
   User.create(:someattribute=&gt;&quot;somevalue)
end


I get error 

expected user.rb to define User</body>
      <body-html>&lt;div&gt;&lt;p&gt;I do get this error.&lt;/p&gt;
&lt;p&gt;when i try a rake task like&lt;br&gt;&lt;/p&gt;
&lt;p&gt;task :sometask =&amp;gt; :environment do&lt;br&gt;
User.create(:someattribute=&amp;gt;&quot;somevalue) end&lt;/p&gt;
&lt;p&gt;I get error&lt;/p&gt;
&lt;p&gt;expected user.rb to define User&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-26T08:59:16+01:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;observers rake rails3&quot;</tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2010-09-26T08:59:18+01:00</updated-at>
      <user-id type="integer">75004</user-id>
      <version type="integer">2</version>
      <user-name>lakshmanan</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Any update on this?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any update on this?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-16T08:23:28+01:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;observers rake rails3&quot;</tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2010-10-16T08:23:31+01:00</updated-at>
      <user-id type="integer">25407</user-id>
      <version type="integer">3</version>
      <user-name>Justin Smestad</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Just adding that works correctly on 2-3-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Just adding that works correctly on 2-3-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-16T10:14:33+01:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;observers rake rails3&quot;</tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2010-10-16T10:14:38+01:00</updated-at>
      <user-id type="integer">1075</user-id>
      <version type="integer">4</version>
      <user-name>Claudio Poli</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It is a matter of simple &lt;a href=&quot;http://www.weddinginthebox.com/blog/hot-evening-dresses.html&quot;&gt;hot evening dresses&lt;/a&gt;... but we have not designed that advertisement. It had been given to us for release by the concerned department,&quot; he told AFP.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It is a matter of simple &lt;a href=
&quot;http://www.weddinginthebox.com/blog/hot-evening-dresses.html&quot;&gt;hot
evening dresses&lt;/a&gt;... but we have not designed that advertisement.
It had been given to us for release by the concerned department,&quot;
he told AFP.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T06:34:33+01:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;observers rake rails3&quot;</tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2010-10-19T17:52:54+01:00</updated-at>
      <user-id type="integer">120610</user-id>
      <version type="integer">5</version>
      <user-name>koukou</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-08T08:53:56+00:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;observers rake rails3\&quot;&quot;
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2010-11-08T08:54:02+00:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">7</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-09T00:31:54+00:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2011-02-09T00:37:50+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">8</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-09T00:31:54+00:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag nil="true"></tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2011-02-09T00:36:53+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">9</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I am able to reproduce it using Rails 3.0.3 stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I am able to reproduce it using Rails 3.0.3 stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-29T12:31:11+01:00</created-at>
      <creator-id type="integer">25407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5707</number>
      <permalink>configobservers-breaks-rake-tasks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag nil="true"></tag>
      <title>config.observers breaks rake tasks</title>
      <updated-at type="datetime">2011-04-29T12:31:32+01:00</updated-at>
      <user-id type="integer">147424</user-id>
      <version type="integer">10</version>
      <user-name>Marcin Wyszynski</user-name>
      <creator-name>Justin Smestad</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5707</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
