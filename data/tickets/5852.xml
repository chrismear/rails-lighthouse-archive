<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-21T16:26:10+01:00</created-at>
  <creator-id type="integer">60464</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5852</number>
  <permalink>please-dont-hide-test-framework-generators</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>generator help rspec_rails testunit</tag>
  <title>please don't hide test framework generators</title>
  <updated-at type="datetime">2011-05-07T01:00:19+01:00</updated-at>
  <user-id type="integer">136779</user-id>
  <version type="integer">7</version>
  <user-name>rails</user-name>
  <creator-name>sarah (at ultrasaurus)</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
  <priority-name nil="true"></priority-name>
  <original-body>In order to do test-driven development with rspec, I like to use the rspec:model, rspec:controller, etc. generators.  These don't show up in the docs and I'd like to see them there for when I'm teaching newbies.

Steps:
$ rails new app


then edit gem file to include
  gem 'rspec-rails', '&gt;= 2.0.0'


$ bundle
$ rails generate rspec:install
$ rails generate

in the list of generators I see:
Rspec:
  rspec:install

TestUnit:
  test_unit:controller
  test_unit:helper
  test_unit:integration
  test_unit:mailer
  test_unit:model
  test_unit:observer
  test_unit:performance
  test_unit:plugin
  test_unit:scaffold


I don't quite understand why rspec generators are hidden and testunit generators are not.  I can see where this is happening, and someone seems to have taken extra care to hide them, which doesn't make sense to me.

In railties (3.0.1)  lib/rails/generators.rb, the self.hidden_namespaces method appears to specifically exclude the generators for the test framework that is being used.  (Before I do rails rspec:install, the testunit generators are hidden.)

seems to be related to: https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/5111-hide-test_unit-generators-when-other-frameworks-are-assigned-as-test_framework#ticket-5111-7</original-body>
  <latest-body>In order to do test-driven development with rspec, I like to use the rspec:model, rspec:controller, etc. generators.  These don't show up in the docs and I'd like to see them there for when I'm teaching newbies.

Steps:
$ rails new app


then edit gem file to include
  gem 'rspec-rails', '&gt;= 2.0.0'


$ bundle
$ rails generate rspec:install
$ rails generate

in the list of generators I see:
Rspec:
  rspec:install

TestUnit:
  test_unit:controller
  test_unit:helper
  test_unit:integration
  test_unit:mailer
  test_unit:model
  test_unit:observer
  test_unit:performance
  test_unit:plugin
  test_unit:scaffold


I don't quite understand why rspec generators are hidden and testunit generators are not.  I can see where this is happening, and someone seems to have taken extra care to hide them, which doesn't make sense to me.

In railties (3.0.1)  lib/rails/generators.rb, the self.hidden_namespaces method appears to specifically exclude the generators for the test framework that is being used.  (Before I do rails rspec:install, the testunit generators are hidden.)

seems to be related to: https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/5111-hide-test_unit-generators-when-other-frameworks-are-assigned-as-test_framework#ticket-5111-7</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;In order to do test-driven development with rspec, I like to use
the rspec:model, rspec:controller, etc. generators. These don't
show up in the docs and I'd like to see them there for when I'm
teaching newbies.&lt;/p&gt;
&lt;p&gt;Steps:&lt;br&gt;
$ rails new app&lt;/p&gt;
&lt;p&gt;then edit gem file to include&lt;br&gt;
gem 'rspec-rails', '&amp;gt;= 2.0.0'&lt;/p&gt;
&lt;p&gt;$ bundle $ rails generate rspec:install $ rails generate&lt;/p&gt;
&lt;p&gt;in the list of generators I see:&lt;br&gt;
Rspec:&lt;br&gt;
rspec:install&lt;/p&gt;
&lt;p&gt;TestUnit:&lt;br&gt;
test_unit:controller test_unit:helper test_unit:integration
test_unit:mailer test_unit:model test_unit:observer
test_unit:performance test_unit:plugin test_unit:scaffold&lt;/p&gt;
&lt;p&gt;I don't quite understand why rspec generators are hidden and
testunit generators are not. I can see where this is happening, and
someone seems to have taken extra care to hide them, which doesn't
make sense to me.&lt;/p&gt;
&lt;p&gt;In railties (3.0.1) lib/rails/generators.rb, the
self.hidden_namespaces method appears to specifically exclude the
generators for the test framework that is being used. (Before I do
rails rspec:install, the testunit generators are hidden.)&lt;/p&gt;
&lt;p&gt;seems to be related to: &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/5111-hide-test_unit-generators-when-other-frameworks-are-assigned-as-test_framework#ticket-5111-7&quot;&gt;
https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In order to do test-driven development with rspec, I like to use the rspec:model, rspec:controller, etc. generators.  These don't show up in the docs and I'd like to see them there for when I'm teaching newbies.

Steps:
$ rails new app


then edit gem file to include
  gem 'rspec-rails', '&gt;= 2.0.0'


$ bundle
$ rails generate rspec:install
$ rails generate

in the list of generators I see:
Rspec:
  rspec:install

TestUnit:
  test_unit:controller
  test_unit:helper
  test_unit:integration
  test_unit:mailer
  test_unit:model
  test_unit:observer
  test_unit:performance
  test_unit:plugin
  test_unit:scaffold


I don't quite understand why rspec generators are hidden and testunit generators are not.  I can see where this is happening, and someone seems to have taken extra care to hide them, which doesn't make sense to me.

In railties (3.0.1)  lib/rails/generators.rb, the self.hidden_namespaces method appears to specifically exclude the generators for the test framework that is being used.  (Before I do rails rspec:install, the testunit generators are hidden.)

seems to be related to: https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/5111-hide-test_unit-generators-when-other-frameworks-are-assigned-as-test_framework#ticket-5111-7</body>
      <body-html>&lt;div&gt;&lt;p&gt;In order to do test-driven development with rspec, I like to use
the rspec:model, rspec:controller, etc. generators. These don't
show up in the docs and I'd like to see them there for when I'm
teaching newbies.&lt;/p&gt;
&lt;p&gt;Steps:&lt;br&gt;
$ rails new app&lt;/p&gt;
&lt;p&gt;then edit gem file to include&lt;br&gt;
gem 'rspec-rails', '&amp;gt;= 2.0.0'&lt;/p&gt;
&lt;p&gt;$ bundle $ rails generate rspec:install $ rails generate&lt;/p&gt;
&lt;p&gt;in the list of generators I see:&lt;br&gt;
Rspec:&lt;br&gt;
rspec:install&lt;/p&gt;
&lt;p&gt;TestUnit:&lt;br&gt;
test_unit:controller test_unit:helper test_unit:integration
test_unit:mailer test_unit:model test_unit:observer
test_unit:performance test_unit:plugin test_unit:scaffold&lt;/p&gt;
&lt;p&gt;I don't quite understand why rspec generators are hidden and
testunit generators are not. I can see where this is happening, and
someone seems to have taken extra care to hide them, which doesn't
make sense to me.&lt;/p&gt;
&lt;p&gt;In railties (3.0.1) lib/rails/generators.rb, the
self.hidden_namespaces method appears to specifically exclude the
generators for the test framework that is being used. (Before I do
rails rspec:install, the testunit generators are hidden.)&lt;/p&gt;
&lt;p&gt;seems to be related to: &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/5111-hide-test_unit-generators-when-other-frameworks-are-assigned-as-test_framework#ticket-5111-7&quot;&gt;
https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-21T16:26:10+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-02-06T00:59:48+00:00</updated-at>
      <user-id type="integer">60464</user-id>
      <version type="integer">1</version>
      <user-name>sarah (at ultrasaurus)</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:28:30+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-02-02T16:33:08+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">2</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:28:31+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-02-02T16:33:20+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">3</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>this is still a problem in Rails 3.0.3:

$ rails -v
Rails 3.0.3

$ rails generate
Usage: rails generate GENERATOR [args] [options]

General options:
  -h, [--help]     # Print generator's options and usage
  -p, [--pretend]  # Run but do not make any changes
  -f, [--force]    # Overwrite files that already exist
  -s, [--skip]     # Skip files that already exist
  -q, [--quiet]    # Suppress status output

Please choose a generator below.

Rails:
  controller
  generator
  helper
  integration_test
  mailer
  migration
  model
  observer
  performance_test
  plugin
  resource
  scaffold
  scaffold_controller
  session_migration
  stylesheets

Rspec:
  rspec:install

TestUnit:
  test_unit:controller
  test_unit:helper
  test_unit:integration
  test_unit:mailer
  test_unit:model
  test_unit:observer
  test_unit:performance
  test_unit:plugin
  test_unit:scaffold

$ rails generate rspec:integration messages
      create  spec/requests/messages_spec.rb

I can use the rspec generators, but I can't see them in the help.</body>
      <body-html>&lt;div&gt;&lt;p&gt;this is still a problem in Rails 3.0.3:&lt;/p&gt;
&lt;p&gt;$ rails -v Rails 3.0.3&lt;/p&gt;
&lt;p&gt;$ rails generate Usage: rails generate GENERATOR &lt;a href=
&quot;/projects/8994/changesets/args&quot; title=
&quot;Changeset [args]&quot;&gt;[args]&lt;/a&gt; [options]&lt;/p&gt;
&lt;p&gt;General options:&lt;br&gt;
-h, [--help] # Print generator's options and usage -p, [--pretend]
# Run but do not make any changes -f, [--force] # Overwrite files
that already exist -s, [--skip] # Skip files that already exist -q,
[--quiet] # Suppress status output&lt;/p&gt;
&lt;p&gt;Please choose a generator below.&lt;/p&gt;
&lt;p&gt;Rails:&lt;br&gt;
controller generator helper integration_test mailer migration model
observer performance_test plugin resource scaffold
scaffold_controller session_migration stylesheets&lt;/p&gt;
&lt;p&gt;Rspec:&lt;br&gt;
rspec:install&lt;/p&gt;
&lt;p&gt;TestUnit:&lt;br&gt;
test_unit:controller test_unit:helper test_unit:integration
test_unit:mailer test_unit:model test_unit:observer
test_unit:performance test_unit:plugin test_unit:scaffold&lt;/p&gt;
&lt;p&gt;$ rails generate rspec:integration messages&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  create  spec/requests/messages_spec.rb&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I can use the rspec generators, but I can't see them in the
help.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-06T00:58:34+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-02-06T00:58:36+00:00</updated-at>
      <user-id type="integer">60464</user-id>
      <version type="integer">4</version>
      <user-name>sarah (at ultrasaurus)</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[state:open] The current behavior is very confusing for people new to Rails who are using rspec. It seems like there was a real effort in Rails 3 to treat all test frameworks as first class citizens, but this is a step backwards.  It seems like someone did this on purpose, but I don't understand why.</body>
      <body-html>&lt;div&gt;&lt;p&gt;[state:open] The current behavior is very confusing for people
new to Rails who are using rspec. It seems like there was a real
effort in Rails 3 to treat all test frameworks as first class
citizens, but this is a step backwards. It seems like someone did
this on purpose, but I don't understand why.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-06T01:03:43+00:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:state: stale
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-02-06T01:03:45+00:00</updated-at>
      <user-id type="integer">60464</user-id>
      <version type="integer">5</version>
      <user-name>sarah (at ultrasaurus)</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-05-07T01:00:08+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-05-07T01:00:16+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">6</version>
      <user-name>rails</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-05-07T01:00:09+01:00</created-at>
      <creator-id type="integer">60464</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5852</number>
      <permalink>please-dont-hide-test-framework-generators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>generator help rspec_rails testunit</tag>
      <title>please don't hide test framework generators</title>
      <updated-at type="datetime">2011-05-07T01:00:19+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">7</version>
      <user-name>rails</user-name>
      <creator-name>sarah (at ultrasaurus)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5852</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
