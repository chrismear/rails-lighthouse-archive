<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">22589</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-03-11T17:47:22+00:00</created-at>
  <creator-id type="integer">47360</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2215</number>
  <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
  <priority type="integer">1406</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.x gems jruby patch rake</tag>
  <title>JRuby platform support for gem tasks.</title>
  <updated-at type="datetime">2009-03-13T10:25:39+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">7</version>
  <user-name>Repository</user-name>
  <creator-name>Zack Hobson</creator-name>
  <assigned-user-name>Matt Jones</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>In a Rails project that uses JRuby, the rake task gems:install doesn't use the correct rubygems binary to install dependencies. The correct solution is to use the Gem API to run the install command rather than spawning the rubygems command in a shell.</original-body>
  <latest-body>In a Rails project that uses JRuby, the rake task gems:install doesn't use the correct rubygems binary to install dependencies. The correct solution is to use the Gem API to run the install command rather than spawning the rubygems command in a shell.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;In a Rails project that uses JRuby, the rake task gems:install
doesn't use the correct rubygems binary to install dependencies.
The correct solution is to use the Gem API to run the install
command rather than spawning the rubygems command in a shell.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In a Rails project that uses JRuby, the rake task gems:install doesn't use the correct rubygems binary to install dependencies. The correct solution is to use the Gem API to run the install command rather than spawning the rubygems command in a shell.</body>
      <body-html>&lt;div&gt;&lt;p&gt;In a Rails project that uses JRuby, the rake task gems:install
doesn't use the correct rubygems binary to install dependencies.
The correct solution is to use the Gem API to run the install
command rather than spawning the rubygems command in a shell.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T17:47:23+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>Use the Gem API to install gem dependencies instead of a shell command.</title>
      <updated-at type="datetime">2009-03-11T18:02:39+00:00</updated-at>
      <user-id type="integer">47360</user-id>
      <version type="integer">1</version>
      <user-name>Zack Hobson</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T19:19:48+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>Use the Gem API to install gem dependencies instead of a shell command.</title>
      <updated-at type="datetime">2009-03-11T20:01:23+00:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This is trickier than it seems - the GemRunner version of install exits the process after the first gem is installed (see #210).

Is it possible to just pick the correct executable in gem_command?</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is trickier than it seems - the GemRunner version of
install exits the process after the first gem is installed (see
&lt;a href=&quot;/projects/8994/tickets/210&quot; title=&quot;Ticket #210&quot;&gt;#210&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Is it possible to just pick the correct executable in
gem_command?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-11T21:59:44+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>Use the Gem API to install gem dependencies instead of a shell command.</title>
      <updated-at type="datetime">2009-03-11T22:08:08+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">3</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Thanks Matt, I wasn't aware of the purpose of the current implementation. A new patch is attached that just checks for the java platform and selects an appropriate command.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks Matt, I wasn't aware of the purpose of the current
implementation. A new patch is attached that just checks for the
java platform and selects an appropriate command.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T00:55:55+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>Use the Gem API to install gem dependencies instead of a shell command.</title>
      <updated-at type="datetime">2009-03-12T00:55:57+00:00</updated-at>
      <user-id type="integer">47360</user-id>
      <version type="integer">4</version>
      <user-name>Zack Hobson</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T00:59:33+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- 
:title: Use the Gem API to install gem dependencies instead of a shell command.
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>JRuby platform support for gem tasks.</title>
      <updated-at type="datetime">2009-03-12T00:59:34+00:00</updated-at>
      <user-id type="integer">47360</user-id>
      <version type="integer">5</version>
      <user-name>Zack Hobson</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This looks reasonable to me, but I don't have a JRuby setup to test on. I've posted a request to rails-core to get some feedback.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This looks reasonable to me, but I don't have a JRuby setup to
test on. I've posted a request to rails-core to get some
feedback.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T07:50:17+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>JRuby platform support for gem tasks.</title>
      <updated-at type="datetime">2009-03-12T07:50:20+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">6</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [5b751ae0b3f6c10a1053e4a2e04fd92d228d787f]) Execute the appropriate gem command when using JRuby [#2215 state:resolved]

Signed-off-by: Pratik Naik &lt;pratiknaik@gmail.com&gt;
http://github.com/rails/rails/commit/5b751ae0b3f6c10a1053e4a2e04fd92d228d787f</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [5b751ae0b3f6c10a1053e4a2e04fd92d228d787f]) Execute the
appropriate gem command when using JRuby [&lt;a href=&quot;/projects/8994/tickets/2215&quot; title=&quot;Ticket #2215&quot;&gt;#2215&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Pratik Naik &lt;a href=&quot;mailto:pratiknaik@gmail.com&quot;&gt;pratiknaik@gmail.com&lt;/a&gt; &lt;a href=&quot;http://github.com/rails/rails/commit/5b751ae0b3f6c10a1053e4a2e04fd92d228d787f&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-13T10:25:37+00:00</created-at>
      <creator-id type="integer">47360</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2215</number>
      <permalink>use-the-gem-api-to-install-gem-dependencies-instead-of-a-shell-command</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.x gems jruby patch rake</tag>
      <title>JRuby platform support for gem tasks.</title>
      <updated-at type="datetime">2009-03-13T10:25:39+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">7</version>
      <user-name>Repository</user-name>
      <creator-name>Zack Hobson</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2215</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>24e8e12a2db9b80cd3e281c6b57cb7899b817c34</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-12T00:55:55+00:00</created-at>
      <filename>0001-Execute-the-appropriate-gem-command-when-using-JRuby.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">98887</id>
      <size type="integer">891</size>
      <uploader-id type="integer">47360</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/98887/0001-Execute-the-appropriate-gem-command-when-using-JRuby.patch</url>
    </attachment>
  </attachments>
</ticket>
