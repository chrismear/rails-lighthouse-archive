<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">12714</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-01-09T18:23:26+00:00</created-at>
  <creator-id type="integer">22589</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">1721</number>
  <permalink>unify-approach-to-gem-dependencies</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>gems railties</tag>
  <title>Unify approach to gem dependencies</title>
  <updated-at type="datetime">2010-10-15T23:01:29+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">34</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Matt Jones</creator-name>
  <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Medium</priority-name>
  <original-body>For Rails 3, we need to come up with a unified strategy for handling vendored/bundled gems. 

Issues include:
- repository structure; Merb uses a gems directory that's structured like the regular gem repo. The current Rails implementation uses vendor/gems, with YAML specification in .specification files.

- where are dependencies configured? Merb uses dependencies.rb, Rails has config.gem statements inside the Initializer block in environment.rb.

There's also some outstanding interest in using git repos of gems during development; see #553 for more info.</original-body>
  <latest-body>For Rails 3, we need to come up with a unified strategy for handling vendored/bundled gems. 

Issues include:
- repository structure; Merb uses a gems directory that's structured like the regular gem repo. The current Rails implementation uses vendor/gems, with YAML specification in .specification files.

- where are dependencies configured? Merb uses dependencies.rb, Rails has config.gem statements inside the Initializer block in environment.rb.

There's also some outstanding interest in using git repos of gems during development; see #553 for more info.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;For Rails 3, we need to come up with a unified strategy for
handling vendored/bundled gems.&lt;/p&gt;
&lt;p&gt;Issues include: - repository structure; Merb uses a gems
directory that's structured like the regular gem repo. The current
Rails implementation uses vendor/gems, with YAML specification in
.specification files.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;where are dependencies configured? Merb uses dependencies.rb,
Rails has config.gem statements inside the Initializer block in
environment.rb.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There's also some outstanding interest in using git repos of
gems during development; see &lt;a href=&quot;/projects/8994/tickets/553&quot; title=&quot;Ticket #553&quot;&gt;#553&lt;/a&gt; for more info.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>For Rails 3, we need to come up with a unified strategy for handling vendored/bundled gems. 

Issues include:

- repository structure; Merb uses a gems directory that's structured like the regular gem repo. The current Rails implementation uses vendor/gems, with YAML specification in .specification files.

- where are dependencies configured? Merb uses dependencies.rb, Rails has config.gem statements inside the Initializer block in environment.rb.

There's also some outstanding interest in using git repos of gems during development; see #553 for more info.</body>
      <body-html>&lt;div&gt;&lt;p&gt;For Rails 3, we need to come up with a unified strategy for
handling vendored/bundled gems.&lt;/p&gt;
&lt;p&gt;Issues include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;repository structure; Merb uses a gems directory that's
structured like the regular gem repo. The current Rails
implementation uses vendor/gems, with YAML specification in
.specification files.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;where are dependencies configured? Merb uses dependencies.rb,
Rails has config.gem statements inside the Initializer block in
environment.rb.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There's also some outstanding interest in using git repos of
gems during development; see &lt;a href=&quot;/projects/8994/tickets/553&quot; title=&quot;Ticket #553&quot;&gt;#553&lt;/a&gt; for more info.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-09T18:23:26+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-01-09T18:23:53+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">1</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I think the way Rails handles gem dependencies, *inside* its own environment, is flawed and leads to problems.  rake gems:install doesn't work for me because the environment fails to load due to a gem requirement.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think the way Rails handles gem dependencies, &lt;em&gt;inside&lt;/em&gt;
its own environment, is flawed and leads to problems. rake
gems:install doesn't work for me because the environment fails to
load due to a gem requirement.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-15T05:03:16+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-01-15T05:03:20+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">2</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Steven - That shouldn't be happening as of 2.2; which gem was giving you this problem?</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Steven - That shouldn't be happening as of 2.2; which gem was
giving you this problem?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-15T06:02:29+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-01-15T06:02:32+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">3</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ahh, my mistake.  This project is still running 2.1.0.  Will have to upgrade; thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ahh, my mistake. This project is still running 2.1.0. Will have
to upgrade; thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-15T15:41:56+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-01-15T15:41:58+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">4</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Note to self: consider this issue as well.

http://rubyforge.org/tracker/index.php?func=detail&amp;aid=22965&amp;group_id=126&amp;atid=575</body>
      <body-html>&lt;div&gt;&lt;p&gt;Note to self: consider this issue as well.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://rubyforge.org/tracker/index.php?func=detail&amp;amp;aid=22965&amp;amp;group_id=126&amp;amp;atid=575&quot;&gt;
http://rubyforge.org/tracker/ind...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-14T21:46:01+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-14T21:46:03+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">5</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>What about adopting Merb's dependency manager? It runs outside the environment and has no such load-order/dependency/etc issues that seem to plague rails &amp; gem management.

The problem is while trying to load the environment, any code that starts requiring other code (cache_classes, observers, etc), and eventually gems, will always catastrophically fail.  The whole problem would be gone if gem management wasn't inside the environment.</body>
      <body-html>&lt;div&gt;&lt;p&gt;What about adopting Merb's dependency manager? It runs outside
the environment and has no such load-order/dependency/etc issues
that seem to plague rails &amp;amp; gem management.&lt;/p&gt;
&lt;p&gt;The problem is while trying to load the environment, any code
that starts requiring other code (cache_classes, observers, etc),
and eventually gems, will always catastrophically fail. The whole
problem would be gone if gem management wasn't inside the
environment.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-19T17:14:38+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-19T17:14:43+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">6</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>We should consider at this point also making the vendor/gems structure a full gem repository. Instead of having Rails do its own management. Just set GEM_PATH, and everything would work.</body>
      <body-html>&lt;div&gt;&lt;p&gt;We should consider at this point also making the vendor/gems
structure a full gem repository. Instead of having Rails do its own
management. Just set GEM_PATH, and everything would work.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-26T22:47:15+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-26T22:47:16+00:00</updated-at>
      <user-id type="integer">29778</user-id>
      <version type="integer">7</version>
      <user-name>Stephen Touset</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>re: switching to Merb's dependency manager

It's a good idea, but there's a lot of legacy cruft in Rails that Merb doesn't have. For instance:

- vendor/rails: this requires special handling to make gems that depend on Rails load correctly.

- plugins: Merb has the advantage here, as they have always just used gems as plugins. Rails plugins (in vendor/plugins) can add gem dependencies during the load process. I somewhat doubt that the core team will want to break every non-gem plugin in 3.0.

- bin files: Merb drops unpacked gem executables into a bin directory under the project. This lets Merb freeze gems that we currently aren't able to, such as rake (for merb, thor).

The fixes are straightforward for some of these, but will break any hope of backward compatibility. 

Sorry for adding so many people, but I'd like to get some feedback from the core team if possible - thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;re: switching to Merb's dependency manager&lt;/p&gt;
&lt;p&gt;It's a good idea, but there's a lot of legacy cruft in Rails
that Merb doesn't have. For instance:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;vendor/rails: this requires special handling to make gems that
depend on Rails load correctly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;plugins: Merb has the advantage here, as they have always just
used gems as plugins. Rails plugins (in vendor/plugins) can add gem
dependencies during the load process. I somewhat doubt that the
core team will want to break every non-gem plugin in 3.0.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bin files: Merb drops unpacked gem executables into a bin
directory under the project. This lets Merb freeze gems that we
currently aren't able to, such as rake (for merb, thor).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The fixes are straightforward for some of these, but will break
any hope of backward compatibility.&lt;/p&gt;
&lt;p&gt;Sorry for adding so many people, but I'd like to get some
feedback from the core team if possible - thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-28T00:10:53+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-28T00:10:58+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">8</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Fundamentally I think the fact that two (previously) seperate projects
came up with different solutions to the same problem, kinda indicates
that this work could take place inside rubygems itself.  This would
obviously be more work, and require the coordination of more people,
but if our gem freezing and loading code could all just be 'natural
rubygems usage' then I think everyone would be better off.

Does anyone have a feel for what kind of solution we could send to the
rubygems guys?

Also, yeah, not keen on breaking non gems plugins ;)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fundamentally I think the fact that two (previously) seperate
projects came up with different solutions to the same problem,
kinda indicates that this work could take place inside rubygems
itself. This would obviously be more work, and require the
coordination of more people, but if our gem freezing and loading
code could all just be 'natural rubygems usage' then I think
everyone would be better off.&lt;/p&gt;
&lt;p&gt;Does anyone have a feel for what kind of solution we could send
to the rubygems guys?&lt;/p&gt;
&lt;p&gt;Also, yeah, not keen on breaking non gems plugins ;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-28T01:55:48+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-28T01:55:49+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">9</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In my opinion, the merb code is extremely viable as a stand-alone library that could be partially integration with rubygems. Specifically, the parts of the Merb bundler that deal with multiple private repositories, as well as the installer extensions could be moved in.

In the long run, I'm not sure that the entire solution could be moved into rubygems, but who knows. In the meantime, the first step would be to fully separate the merb code from merb (it's basically done already with the exception of the code that reads in the dependencies in the first place) and make it available to Rails folks as a standalone library.</body>
      <body-html>&lt;div&gt;&lt;p&gt;In my opinion, the merb code is extremely viable as a
stand-alone library that could be partially integration with
rubygems. Specifically, the parts of the Merb bundler that deal
with multiple private repositories, as well as the installer
extensions could be moved in.&lt;/p&gt;
&lt;p&gt;In the long run, I'm not sure that the entire solution could be
moved into rubygems, but who knows. In the meantime, the first step
would be to fully separate the merb code from merb (it's basically
done already with the exception of the code that reads in the
dependencies in the first place) and make it available to Rails
folks as a standalone library.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-28T02:08:47+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-28T02:08:51+00:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">10</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Right, if rubygems could nicely handle multiple private repositories
with fallback to system repositories, then the stuff left in rails
could just be the way that config.gems works, and some glue stuff for
handling the installation.

If it's a seperate library at first, that's fine too.  Just seems like
a really natural fit for rubygems inclusion to me ;)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Right, if rubygems could nicely handle multiple private
repositories with fallback to system repositories, then the stuff
left in rails could just be the way that config.gems works, and
some glue stuff for handling the installation.&lt;/p&gt;
&lt;p&gt;If it's a seperate library at first, that's fine too. Just seems
like a really natural fit for rubygems inclusion to me ;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-28T02:13:54+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-02-28T02:13:56+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">11</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've gotten most of this working in the past as a Rails plugin, mostly a direct port from merb's dependency system with slight changes.

http://github.com/ddollar/dependencies/tree/master

That being said, I'm a bit more of a fan of configuring the gems through config.gem as then you can take advantage of existing Rails systems (such as putting config.gem lines in environments/test.rb)

The rest of the system from merb I like a lot more. I like that merb removes gems you no longer need, and can keep things 'up to date' as opposed to just littering your app with new versions as upgrades happen. I also like the fact that merb has a bin/ directory to handle the binaries installed by gems.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've gotten most of this working in the past as a Rails plugin,
mostly a direct port from merb's dependency system with slight
changes.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/ddollar/dependencies/tree/master&quot;&gt;http://github.com/ddollar/depend...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;That being said, I'm a bit more of a fan of configuring the gems
through config.gem as then you can take advantage of existing Rails
systems (such as putting config.gem lines in
environments/test.rb)&lt;/p&gt;
&lt;p&gt;The rest of the system from merb I like a lot more. I like that
merb removes gems you no longer need, and can keep things 'up to
date' as opposed to just littering your app with new versions as
upgrades happen. I also like the fact that merb has a bin/
directory to handle the binaries installed by gems.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T18:09:30+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T18:09:33+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">12</version>
      <user-name>David Dollar</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The counterpoint to using config.gem is definitely that loading the entire rails initializer for gems leads to some serious chicken/egg issues.

It would definitely be helpful, though, if any final solution could help me avoid loading rspec in production :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;The counterpoint to using config.gem is definitely that loading
the entire rails initializer for gems leads to some serious
chicken/egg issues.&lt;/p&gt;
&lt;p&gt;It would definitely be helpful, though, if any final solution
could help me avoid loading rspec in production :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T19:10:12+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T19:10:19+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">13</version>
      <user-name>David Dollar</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The chicken-and-egg config.gem problem is a killer imho.

The canonical way to avoid running rspec in production mode with Merb is to do:

dependency &quot;rspec&quot;, :require_as =&gt; nil</body>
      <body-html>&lt;div&gt;&lt;p&gt;The chicken-and-egg config.gem problem is a killer imho.&lt;/p&gt;
&lt;p&gt;The canonical way to avoid running rspec in production mode with
Merb is to do:&lt;/p&gt;
&lt;p&gt;dependency &quot;rspec&quot;, :require_as =&amp;gt; nil&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T19:21:31+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T19:21:34+00:00</updated-at>
      <user-id type="integer">7560</user-id>
      <version type="integer">14</version>
      <user-name>Yehuda Katz</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>That definitely works for Rspec because it loads itself in its rake tasks, but I can envision other cases where you want a gem to be loaded in development/test but not in production (shoulda comes to mind as an example, but I'm sure there are others)</body>
      <body-html>&lt;div&gt;&lt;p&gt;That definitely works for Rspec because it loads itself in its
rake tasks, but I can envision other cases where you want a gem to
be loaded in development/test but not in production (shoulda comes
to mind as an example, but I'm sure there are others)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T19:23:36+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T19:23:42+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">15</version>
      <user-name>David Dollar</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@@@ ruby
  dependency &quot;rspec&quot;, :env =&gt; %w(test staging)
@@@

Would work great. ;)</body>
      <body-html>&lt;div&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  dependency &amp;quot;rspec&amp;quot;, :env =&amp;gt; %w(test staging)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Would work great. ;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T19:42:23+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T19:42:25+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">16</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I added :env support to the above-linked Rails plugin.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I added :env support to the above-linked Rails plugin.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T20:28:23+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T20:28:25+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">17</version>
      <user-name>David Dollar</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I strongly prefer:

@@@ ruby
dependency &quot;rspec&quot;, :only =&gt; %w(test staging)
dependency &quot;rspec&quot;, :only =&gt; :test
dependency &quot;rspec&quot;, :except =&gt; :production
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I strongly prefer:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
dependency &amp;quot;rspec&amp;quot;, :only =&amp;gt; %w(test staging)
dependency &amp;quot;rspec&amp;quot;, :only =&amp;gt; :test
dependency &amp;quot;rspec&amp;quot;, :except =&amp;gt; :production
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T20:56:12+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T20:56:15+00:00</updated-at>
      <user-id type="integer">7560</user-id>
      <version type="integer">18</version>
      <user-name>Yehuda Katz</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Modified aforementioned rails plugin to use :only and :except</body>
      <body-html>&lt;div&gt;&lt;p&gt;Modified aforementioned rails plugin to use :only and
:except&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T21:08:48+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-03-27T21:08:50+00:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">19</version>
      <user-name>David Dollar</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>While I do understand the motivations here, it seems unfortunate that the 'normal' way of restricting some configuration to  a particular environment is to use the config/environments/{test,production,development}.rb files, but we have to introduce another mechanism to satisfy this need when working with gems.

I feel like this inconsistency is hinting at the need to be able to treat the environment files in two different ways - sometimes as executable initialization instructions, and other times as very lightweight definition of application configuration.

So, would it makes sense to be able to evaluate 'environment.rb' in the second mode, to gather information about the configuration without actually loading the environment? There's some potential to do this already, hinted at by the first argument to Rails::Initializer#run.

This kind of approach has secondary benefits - it could possibly assist in finding rake tasks from non-vendored gems, without having to load the whole environment.

Any thoughts appreciated.</body>
      <body-html>&lt;div&gt;&lt;p&gt;While I do understand the motivations here, it seems unfortunate
that the 'normal' way of restricting some configuration to a
particular environment is to use the
config/environments/{test,production,development}.rb files, but we
have to introduce another mechanism to satisfy this need when
working with gems.&lt;/p&gt;
&lt;p&gt;I feel like this inconsistency is hinting at the need to be able
to treat the environment files in two different ways - sometimes as
executable initialization instructions, and other times as very
lightweight definition of application configuration.&lt;/p&gt;
&lt;p&gt;So, would it makes sense to be able to evaluate 'environment.rb'
in the second mode, to gather information about the configuration
without actually loading the environment? There's some potential to
do this already, hinted at by the first argument to
Rails::Initializer#run.&lt;/p&gt;
&lt;p&gt;This kind of approach has secondary benefits - it could possibly
assist in finding rake tasks from non-vendored gems, without having
to load the whole environment.&lt;/p&gt;
&lt;p&gt;Any thoughts appreciated.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-03T17:14:53+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-04-03T17:14:58+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">20</version>
      <user-name>James Adam</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@James: I'm not a CS guy, but isn't this idea a variation of something
turing proved impossible?

My initializers at present do things which rely on bits of the
environment being set up already, authenticate with a CC gateway,
verify a database is configured for utf-8 correctly etc.  Seems that
faking this out won't ever work right...</body>
      <body-html>&lt;div&gt;&lt;p&gt;@James: I'm not a CS guy, but isn't this idea a variation of
something turing proved impossible?&lt;/p&gt;
&lt;p&gt;My initializers at present do things which rely on bits of the
environment being set up already, authenticate with a CC gateway,
verify a database is configured for utf-8 correctly etc. Seems that
faking this out won't ever work right...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-04T00:10:48+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-04-04T00:10:50+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">21</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Having a simple dependencies manifest (a la Merb) with the added support for specified the mode(s) to use is significantly simpler than trying to solve the environments problem, and clearer too (imho) for the problem at hand.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Having a simple dependencies manifest (a la Merb) with the added
support for specified the mode(s) to use is significantly simpler
than trying to solve the environments problem, and clearer too
(imho) for the problem at hand.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-04T00:16:57+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-04-04T00:17:03+01:00</updated-at>
      <user-id type="integer">7560</user-id>
      <version type="integer">22</version>
      <user-name>Yehuda Katz</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@koz - ultimately, I think you're right. If there's momentum behind declaring dependencies in the way that Yehuda et al. are describing, that's great :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;@koz - ultimately, I think you're right. If there's momentum
behind declaring dependencies in the way that Yehuda et al. are
describing, that's great :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-01T20:43:05+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-05-01T20:43:11+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">23</version>
      <user-name>James Adam</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>david dollar and I have been working on the (merb inspired?) dependencies gem.  I'm using it in a large project and it's been working really well for me.  http://github.com/ddollar/dependencies/tree/master

I'd love to see it get some attention from the core team.</body>
      <body-html>&lt;div&gt;&lt;p&gt;david dollar and I have been working on the (merb inspired?)
dependencies gem. I'm using it in a large project and it's been
working really well for me. &lt;a href=&quot;http://github.com/ddollar/dependencies/tree/master&quot;&gt;http://github.com/ddollar/depend...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I'd love to see it get some attention from the core team.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-01T22:40:30+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-05-01T22:40:36+01:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">24</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hey Steven,

 Are you going to RailsConf by any chance? Few people worked on different
solutions and Yehuda has been looking/helping some projects. We are
seriously trying to improve the current situation.

- Matt</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey Steven,&lt;/p&gt;
&lt;p&gt;Are you going to RailsConf by any chance? Few people worked on
different solutions and Yehuda has been looking/helping some
projects. We are seriously trying to improve the current
situation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Matt&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-01T23:10:02+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-05-01T23:10:04+01:00</updated-at>
      <user-id type="integer">3890</user-id>
      <version type="integer">25</version>
      <user-name>Matt Aimonetti (mattetti)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I think both Steven and I will be at Railsconf, I'd love to talk to some folks about solutions to the gem problem, it's been near to my heart for a while now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think both Steven and I will be at Railsconf, I'd love to talk
to some folks about solutions to the gem problem, it's been near to
my heart for a while now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-01T23:11:44+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-05-01T23:11:50+01:00</updated-at>
      <user-id type="integer">8721</user-id>
      <version type="integer">26</version>
      <user-name>David Dollar</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'd love to meet you guys. Yehuda and Carl will also be there and I think
Jacques worked on a new bundler, so we should all get together and try to
look at this deps situation.

- Matt</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'd love to meet you guys. Yehuda and Carl will also be there
and I think Jacques worked on a new bundler, so we should all get
together and try to look at this deps situation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Matt&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-01T23:15:49+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-05-01T23:15:51+01:00</updated-at>
      <user-id type="integer">3890</user-id>
      <version type="integer">27</version>
      <user-name>Matt Aimonetti (mattetti)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>We're going to be taking a fresh look at plugin/gem management in 3.0 and will make sure to address all open concerns. We're also working on moving some of the important elements of local bundling into Rubygems proper (to make virtualenvs something Rubygems itself knows about).</body>
      <body-html>&lt;div&gt;&lt;p&gt;We're going to be taking a fresh look at plugin/gem management
in 3.0 and will make sure to address all open concerns. We're also
working on moving some of the important elements of local bundling
into Rubygems proper (to make virtualenvs something Rubygems itself
knows about).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-22T16:27:04+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 22589
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-06-22T16:27:09+01:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">28</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've been planning to add multiple configurable gem paths to ddollar dependencies plugin. This is needed to keep a clean tree hierachy when a plugin has its own vcs'd gem dependencies. If we are also going to improve the rails-gems code for 3.0 please consider multiple, configurable gem locations rather than hard coding a single path, like 'vendor/gems' was in the old code. Or if using a fixed relative path then please search it also within each subordinate gem or plugin. Thank you.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've been planning to add multiple configurable gem paths to
ddollar dependencies plugin. This is needed to keep a clean tree
hierachy when a plugin has its own vcs'd gem dependencies. If we
are also going to improve the rails-gems code for 3.0 please
consider multiple, configurable gem locations rather than hard
coding a single path, like 'vendor/gems' was in the old code. Or if
using a fixed relative path then please search it also within each
subordinate gem or plugin. Thank you.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-22T20:20:28+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-06-22T20:20:30+01:00</updated-at>
      <user-id type="integer">59034</user-id>
      <version type="integer">29</version>
      <user-name>dreamcat4 (at gmail)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Some of you may be interested in this patch (ticket #2834) for the existing 2.3 code.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Some of you may be interested in this patch (ticket &lt;a href=
&quot;/projects/8994/tickets/2834&quot; title=&quot;Ticket #2834&quot;&gt;#2834&lt;/a&gt;) for
the existing 2.3 code.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-24T23:38:37+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-06-24T23:38:40+01:00</updated-at>
      <user-id type="integer">59034</user-id>
      <version type="integer">30</version>
      <user-name>dreamcat4 (at gmail)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-02T19:47:39+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: verified
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-07-02T19:47:42+01:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">31</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>There's some code up for free in moonshine. With the moonshine rails plugin and the command `rake moonshine:gems` will generate a `config/gems.yml` file from the `config/environment.rb`. 

Good for migrating the gem config in existing projects. 

http://github.com/railsmachine/moonshine/blob/master/lib/moonshine/tasks/gems.rake</body>
      <body-html>&lt;div&gt;&lt;p&gt;There's some code up for free in moonshine. With the moonshine
rails plugin and the command &lt;code&gt;rake moonshine:gems&lt;/code&gt; will
generate a &lt;code&gt;config/gems.yml&lt;/code&gt; file from the
&lt;code&gt;config/environment.rb&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Good for migrating the gem config in existing projects.&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/railsmachine/moonshine/blob/master/lib/moonshine/tasks/gems.rake&quot;&gt;
http://github.com/railsmachine/moonshine/blob/master/lib/moonshine/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-29T20:21:38+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2009-07-29T20:21:42+01:00</updated-at>
      <user-id type="integer">59034</user-id>
      <version type="integer">32</version>
      <user-name>dreamcat4 (at gmail)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-23T21:40:51+00:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2010-02-23T21:40:54+00:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">33</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:29+01:00</created-at>
      <creator-id type="integer">22589</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">1721</number>
      <permalink>unify-approach-to-gem-dependencies</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>gems railties</tag>
      <title>Unify approach to gem dependencies</title>
      <updated-at type="datetime">2010-10-15T23:01:29+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">34</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Matt Jones</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1721</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
  </versions>
</ticket>
