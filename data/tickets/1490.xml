<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-11-28T12:48:37+00:00</created-at>
  <creator-id type="integer">13227</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">1490</number>
  <permalink>assert_redirected_to-is-too-strict</permalink>
  <priority type="integer">854</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>23 230 assertions tests</tag>
  <title>assert_redirected_to is too strict</title>
  <updated-at type="datetime">2011-02-02T19:01:09+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">14</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Ivan</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>We've had several tests broken after the update to Rails 2.2 because of the new behavior of assert_redirected_to.
The new version doesn't allow to match:
@@@ ruby
redirect_to '/categories/new'
@@@
or
@@@ ruby
redirect_to :action =&gt; 'new'
@@@
with:
@@@ ruby
assert_redirected_to :controller =&gt; 'categories', :action =&gt; 'new'
@@@

It's also not tolerant anymore to String / Symbol differences:
@@@ ruby
assert_redirected_to :controller =&gt; 'categories', :action =&gt; 'new'
@@@
won't match:
@@@ ruby
redirected_to :controller =&gt; 'categories', :action =&gt; :new
@@@</original-body>
  <latest-body>We've had several tests broken after the update to Rails 2.2 because of the new behavior of assert_redirected_to.
The new version doesn't allow to match:
@@@ ruby
redirect_to '/categories/new'
@@@
or
@@@ ruby
redirect_to :action =&gt; 'new'
@@@
with:
@@@ ruby
assert_redirected_to :controller =&gt; 'categories', :action =&gt; 'new'
@@@

It's also not tolerant anymore to String / Symbol differences:
@@@ ruby
assert_redirected_to :controller =&gt; 'categories', :action =&gt; 'new'
@@@
won't match:
@@@ ruby
redirected_to :controller =&gt; 'categories', :action =&gt; :new
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;We've had several tests broken after the update to Rails 2.2
because of the new behavior of assert_redirected_to. The new
version doesn't allow to match:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
redirect_to '/categories/new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
redirect_to :action =&amp;gt; 'new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
assert_redirected_to :controller =&amp;gt; 'categories', :action =&amp;gt; 'new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It's also not tolerant anymore to String / Symbol
differences:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
assert_redirected_to :controller =&amp;gt; 'categories', :action =&amp;gt; 'new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;won't match:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
redirected_to :controller =&amp;gt; 'categories', :action =&amp;gt; :new
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>We've had several tests broken after the update to Rails 2.2 because of the new behavior of assert_redirected_to.
The new version doesn't allow to match:
@@@ ruby
redirect_to '/categories/new'
@@@
or
@@@ ruby
redirect_to :action =&gt; 'new'
@@@
with:
@@@ ruby
assert_redirected_to :controller =&gt; 'categories', :action =&gt; 'new'
@@@

It's also not tolerant anymore to String / Symbol differences:
@@@ ruby
assert_redirected_to :controller =&gt; 'categories', :action =&gt; 'new'
@@@
won't match:
@@@ ruby
redirected_to :controller =&gt; 'categories', :action =&gt; :new
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;We've had several tests broken after the update to Rails 2.2
because of the new behavior of assert_redirected_to. The new
version doesn't allow to match:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
redirect_to '/categories/new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
redirect_to :action =&amp;gt; 'new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
assert_redirected_to :controller =&amp;gt; 'categories', :action =&amp;gt; 'new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It's also not tolerant anymore to String / Symbol
differences:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
assert_redirected_to :controller =&amp;gt; 'categories', :action =&amp;gt; 'new'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;won't match:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
redirected_to :controller =&amp;gt; 'categories', :action =&amp;gt; :new
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-28T12:48:37+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-11-28T12:48:41+00:00</updated-at>
      <user-id type="integer">13227</user-id>
      <version type="integer">1</version>
      <user-name>Ivan</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-28T12:54:35+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-11-28T12:54:37+00:00</updated-at>
      <user-id type="integer">36391</user-id>
      <version type="integer">2</version>
      <user-name>Jessy</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1 !</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 !&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-02T16:13:59+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-12-02T16:14:03+00:00</updated-at>
      <user-id type="integer">5867</user-id>
      <version type="integer">3</version>
      <user-name>Tom</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Sounds like a problem, got patch?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sounds like a problem, got patch?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-03T15:40:37+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-12-03T15:40:42+00:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">4</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I don't have a patch, but have a slew of tests that are affected by the new behavior of the assert_redirected_to.  It is more than just being too strict, it appears to not match routes correctly from the routes.rb as well.  I can post examples if it will help?  I'd love to help if I can!</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't have a patch, but have a slew of tests that are affected
by the new behavior of the assert_redirected_to. It is more than
just being too strict, it appears to not match routes correctly
from the routes.rb as well. I can post examples if it will help?
I'd love to help if I can!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-03T16:11:50+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-12-03T16:11:55+00:00</updated-at>
      <user-id type="integer">5867</user-id>
      <version type="integer">5</version>
      <user-name>Tom</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Just trying to help:

routes.rb:
@@@ ruby
map.connect '/:address', :controller =&gt; 'page', :action =&gt; 'show'
@@@

Unit Test:
@@@ ruby
assert_generates  &quot;/page-name&quot;, {:controller =&gt; &quot;page&quot;, :action =&gt; &quot;show&quot;, :address =&gt; 'page-name'}
assert_recognizes &quot;/page-name&quot;, {:controller =&gt; 'page', :action =&gt; 'show', :address =&gt; 'page-name'}
@@@

This will not work in Rails 2.2.2</body>
      <body-html>&lt;div&gt;&lt;p&gt;Just trying to help:&lt;/p&gt;
&lt;p&gt;routes.rb:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
map.connect '/:address', :controller =&amp;gt; 'page', :action =&amp;gt; 'show'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Unit Test:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
assert_generates  &amp;quot;/page-name&amp;quot;, {:controller =&amp;gt; &amp;quot;page&amp;quot;, :action =&amp;gt; &amp;quot;show&amp;quot;, :address =&amp;gt; 'page-name'}
assert_recognizes &amp;quot;/page-name&amp;quot;, {:controller =&amp;gt; 'page', :action =&amp;gt; 'show', :address =&amp;gt; 'page-name'}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will not work in Rails 2.2.2&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-23T22:24:25+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-12-23T22:24:29+00:00</updated-at>
      <user-id type="integer">5867</user-id>
      <version type="integer">6</version>
      <user-name>Tom</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Okay, disregard my last post.  This is a better way to capture the issue:

routes.rb
@@@ ruby
 map.connect '/:address', :controller =&gt; 'page', :action =&gt; 'show'
@@@

controller
@@@ ruby
 redirect_to('/page-name')
@@@

test
@@@ ruby
assert_redirected_to(ActionController::Routing::Routes.recognize_path(@response.redirected_to), @response.redirected_to)
@@@

That test should always pass, since the recognize_path method will return the params hash of the redirected_to url.  BUT

@@@ ruby
Test::Unit::AssertionFailedError Exception: Expected response to be a redirect to &lt;http://www.gracechurch.org/admin/display/show?address=page-name&gt; but was a redirect to &lt;http://www.gracechurch.org/page-name&gt;.
@@@

So, the assert_redirected_to is not assembling the correct route for the hash options provided in the first parameter.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Okay, disregard my last post. This is a better way to capture
the issue:&lt;/p&gt;
&lt;p&gt;routes.rb&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
 map.connect '/:address', :controller =&amp;gt; 'page', :action =&amp;gt; 'show'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;controller&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
 redirect_to('/page-name')
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;test&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
assert_redirected_to(ActionController::Routing::Routes.recognize_path(@response.redirected_to), @response.redirected_to)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That test should always pass, since the recognize_path method
will return the params hash of the redirected_to url. BUT&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
Test::Unit::AssertionFailedError Exception: Expected response to be a redirect to &amp;lt;http://www.gracechurch.org/admin/display/show?address=page-name&amp;gt; but was a redirect to &amp;lt;http://www.gracechurch.org/page-name&amp;gt;.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, the assert_redirected_to is not assembling the correct route
for the hash options provided in the first parameter.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T00:24:08+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2008-12-24T00:24:12+00:00</updated-at>
      <user-id type="integer">5867</user-id>
      <version type="integer">7</version>
      <user-name>Tom</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1


Expected response to be a redirect to &lt;http://Kete/site&gt; but was a redirect to &lt;http://Kete/site/&gt;.


I think the new functionality is better, but a trailing slash?!? Common!</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;Expected response to be a redirect to &lt;a href=&quot;http://Kete/site&quot;&gt;http://Kete/site&lt;/a&gt; but was a redirect to
&lt;a href=&quot;http://Kete/site/&quot;&gt;http://Kete/site/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I think the new functionality is better, but a trailing slash?!?
Common!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-16T08:27:12+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: assertions tests
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3 2.3.0 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2009-02-16T08:27:17+00:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">8</version>
      <user-name>Kieran P</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>i have experienced a bunch of new failing tests also upon upgrading to 2.2.2 but it would appear that the issue isn't exactly a bug, but rather intentionally reduced functionality while increasing simplicity of the code for both the assert and redirect_to itself.

i think this is the breaking commit: http://github.com/rails/rails/commit/c3aaba0180f0710094d974b4ba4659bce81446df

and this seems to be related: http://rails.lighthouseapp.com/projects/8994/tickets/584-route-matching-in-assert_redirected_to

my particular case is 

controller:

@@@
redirect_to :controller =&gt; :patients, :action =&gt; :show, :id =&gt; @patient 
@@@

test:

@@@
assert_redirected_to :controller =&gt; :patients, :action =&gt; :show
@@@

works, but if i change controller to

@@@
redirect_to patient_path(@patient)
@@@

i get 

@@@
response to be a redirect to &lt;http://test.host/patients/996333082&gt; but was a redirect to &lt;http://test.host/patients/979761894&gt;
@@@

i didn't specify an ID in my assert at all - so something is wrong. this asserted fine in 2.1.

the workaround for me is to use the patient_path approach in the controller and use

@@@
assert_redirected_to assigns(:patient)
@@@

in the test, as suggested by the maintainer in the second link posted above. which does work, and is actually cleaner in a way .. fine for my small site, but maybe this is less fine for others</body>
      <body-html>&lt;div&gt;&lt;p&gt;i have experienced a bunch of new failing tests also upon
upgrading to 2.2.2 but it would appear that the issue isn't exactly
a bug, but rather intentionally reduced functionality while
increasing simplicity of the code for both the assert and
redirect_to itself.&lt;/p&gt;
&lt;p&gt;i think this is the breaking commit: &lt;a href=&quot;http://github.com/rails/rails/commit/c3aaba0180f0710094d974b4ba4659bce81446df&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and this seems to be related: &lt;a href=&quot;http://rails.lighthouseapp.com/projects/8994/tickets/584-route-matching-in-assert_redirected_to&quot;&gt;
http://rails.lighthouseapp.com/p...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;my particular case is&lt;/p&gt;
&lt;p&gt;controller:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
redirect_to :controller =&amp;gt; :patients, :action =&amp;gt; :show, :id =&amp;gt; @patient 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;test:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
assert_redirected_to :controller =&amp;gt; :patients, :action =&amp;gt; :show
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;works, but if i change controller to&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
redirect_to patient_path(@patient)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;i get&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
response to be a redirect to &amp;lt;http://test.host/patients/996333082&amp;gt; but was a redirect to &amp;lt;http://test.host/patients/979761894&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;i didn't specify an ID in my assert at all - so something is
wrong. this asserted fine in 2.1.&lt;/p&gt;
&lt;p&gt;the workaround for me is to use the patient_path approach in the
controller and use&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
assert_redirected_to assigns(:patient)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in the test, as suggested by the maintainer in the second link
posted above. which does work, and is actually cleaner in a way ..
fine for my small site, but maybe this is less fine for others&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-23T07:06:44+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3 2.3.0 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2009-02-23T07:06:47+00:00</updated-at>
      <user-id type="integer">48363</user-id>
      <version type="integer">9</version>
      <user-name>James S</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Using symbols / strings inconsistently is not quite a Rails bug. Nonetheless, if you wish to see this fixed, please submit a failing test case.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Using symbols / strings inconsistently is not quite a Rails bug.
Nonetheless, if you wish to see this fixed, please submit a failing
test case.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T22:55:25+01:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3 2.3.0 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2010-04-11T22:55:29+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">10</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:36+01:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3 2.3.0 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2010-05-04T18:48:36+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">11</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Any updates to this ticket? This is still an issue on Rails master?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any updates to this ticket? This is still an issue on Rails
master?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-23T03:01:52+01:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.3 2.3.0 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2010-06-23T03:02:01+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">12</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T17:01:54+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3 2.3.0 assertions tests
:priority: 0
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">854</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>23 230 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2011-02-02T19:00:43+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">13</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T17:01:56+00:00</created-at>
      <creator-id type="integer">13227</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1490</number>
      <permalink>assert_redirected_to-is-too-strict</permalink>
      <priority type="integer">854</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>23 230 assertions tests</tag>
      <title>assert_redirected_to is too strict</title>
      <updated-at type="datetime">2011-02-02T19:01:09+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">14</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Ivan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1490</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
