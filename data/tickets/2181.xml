<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-03-29T02:29:21+01:00</created-at>
  <creator-id type="integer">17260</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2181</number>
  <permalink>default-scope-with-conditions-on-create</permalink>
  <priority type="integer">1385</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>scope</tag>
  <title>Default Scope with conditions on create</title>
  <updated-at type="datetime">2011-03-29T02:29:21+01:00</updated-at>
  <user-id type="integer">107928</user-id>
  <version type="integer">12</version>
  <user-name>laiji</user-name>
  <creator-name>Sam Granieri</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I noticed something really weird with default scope. 

In one scenario, imagine if you have a model named Car, with a string attribute called color. 

By default, you'd want to search on blue or red cars

The class would look like this

class Car
  default_scope :conditions=&gt;{:color=&gt;&quot;Red&quot;..&quot;Blue&quot;}
end

If you run this through a controller, you wont be able to create a new car. 

Is this something that merits a patch?</original-body>
  <latest-body>I noticed something really weird with default scope. 

In one scenario, imagine if you have a model named Car, with a string attribute called color. 

By default, you'd want to search on blue or red cars

The class would look like this

class Car
  default_scope :conditions=&gt;{:color=&gt;&quot;Red&quot;..&quot;Blue&quot;}
end

If you run this through a controller, you wont be able to create a new car. 

Is this something that merits a patch?</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I noticed something really weird with default scope.&lt;/p&gt;
&lt;p&gt;In one scenario, imagine if you have a model named Car, with a
string attribute called color.&lt;/p&gt;
&lt;p&gt;By default, you'd want to search on blue or red cars&lt;/p&gt;
&lt;p&gt;The class would look like this&lt;/p&gt;
&lt;p&gt;class Car default_scope
:conditions=&amp;gt;{:color=&amp;gt;&quot;Red&quot;..&quot;Blue&quot;} end&lt;/p&gt;
&lt;p&gt;If you run this through a controller, you wont be able to create
a new car.&lt;/p&gt;
&lt;p&gt;Is this something that merits a patch?&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I noticed something really weird with default scope. 

In one scenario, imagine if you have a model named Car, with a string attribute called color. 

By default, you'd want to search on blue or red cars

The class would look like this
@@@ ruby
class Car
  default_scope :conditions=&gt;{:color=&gt;&quot;Red&quot;..&quot;Blue&quot;}
end
@@@
If you run this through a controller, you wont be able to create a new car. 

Also, I've seen default scope complain if you pass in sql

Is this something that merits a patch?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I noticed something really weird with default scope.&lt;/p&gt;
&lt;p&gt;In one scenario, imagine if you have a model named Car, with a
string attribute called color.&lt;/p&gt;
&lt;p&gt;By default, you'd want to search on blue or red cars&lt;/p&gt;
&lt;p&gt;The class would look like this&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
class Car
  default_scope :conditions=&amp;gt;{:color=&amp;gt;&amp;quot;Red&amp;quot;..&amp;quot;Blue&amp;quot;}
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you run this through a controller, you wont be able to create
a new car.&lt;/p&gt;
&lt;p&gt;Also, I've seen default scope complain if you pass in sql&lt;/p&gt;
&lt;p&gt;Is this something that merits a patch?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-09T16:30:07+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-09T16:34:00+00:00</updated-at>
      <user-id type="integer">17260</user-id>
      <version type="integer">1</version>
      <user-name>Sam Granieri</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Does the following work ?

@@@ ruby
default_scope :conditions=&gt;{ :color =&gt; [&quot;Red&quot;, &quot;Blue&quot;] }
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Does the following work ?&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
default_scope :conditions=&amp;gt;{ :color =&amp;gt; [&amp;quot;Red&amp;quot;, &amp;quot;Blue&amp;quot;] }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-09T16:45:19+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-09T16:45:25+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">2</version>
      <user-name>Pratik</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Attached a patch for a proposed fix</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached a patch for a proposed fix&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-09T16:46:04+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 1366
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-09T16:46:08+00:00</updated-at>
      <user-id type="integer">17260</user-id>
      <version type="integer">3</version>
      <user-name>Sam Granieri</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Missing tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Missing tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-09T16:47:34+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-09T16:47:39+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">4</version>
      <user-name>Pratik</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I noticed the same thing and it made me uneasy.

@@@ ruby
class Event &lt; ActiveRecord::Base
  default_scope :conditions =&gt; &quot;id = 1&quot;
end

Event.new
@@@

@@@ ruby
NoMethodError: undefined method `id = 1=' for #&lt;Event:0xb6dc2cf4&gt;
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/attribute_methods.rb:255:in `method_missing'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `send'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `initialize'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `each'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `initialize'
	from (irb):3:in `new'
	from (irb):3
@@@

Is this the same issue?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I noticed the same thing and it made me uneasy.&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
class Event &amp;lt; ActiveRecord::Base
  default_scope :conditions =&amp;gt; &amp;quot;id = 1&amp;quot;
end

Event.new
&lt;/code&gt;&lt;/pre&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
NoMethodError: undefined method `id = 1=' for #&amp;lt;Event:0xb6dc2cf4&amp;gt;
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/attribute_methods.rb:255:in `method_missing'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `send'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `initialize'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `each'
	from /home/david/Sites/azurrofashion.com/azurrofashion/vendor/rails/activerecord/lib/active_record/base.rb:2440:in `initialize'
	from (irb):3:in `new'
	from (irb):3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Is this the same issue?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-16T16:08:54+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-16T16:13:38+00:00</updated-at>
      <user-id type="integer">17127</user-id>
      <version type="integer">5</version>
      <user-name>David Beckwith</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Default_scopes do not currently behave the same as named_scopes which is weird. I've added a patch that helps to improve consistency. It may be able to help with your problem. http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/1812-default_scope-cant-take-procs</body>
      <body-html>&lt;div&gt;&lt;p&gt;Default_scopes do not currently behave the same as named_scopes
which is weird. I've added a patch that helps to improve
consistency. It may be able to help with your problem. &lt;a href=&quot;http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/1812-default_scope-cant-take-procs&quot;&gt;
http://rails.lighthouseapp.com/p...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-19T14:15:58+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-19T14:16:03+00:00</updated-at>
      <user-id type="integer">19875</user-id>
      <version type="integer">6</version>
      <user-name>Peter Wagenet</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Regarding the example posted by David, this is happening because default_scope should be checking whether :conditions is a hash. Instead it is checking whether options is a hash, as well as merely checking whether :conditions exists. The check on options seems pointless as it would always be a hash, right?

I came up with the following patch but it got me wondering what named_scope does about this. It turns out named_scope.rb does exactly the same thing as my patch! I'm not sure why default_scope was done any differently.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Regarding the example posted by David, this is happening because
default_scope should be checking whether :conditions is a hash.
Instead it is checking whether options is a hash, as well as merely
checking whether :conditions exists. The check on options seems
pointless as it would always be a hash, right?&lt;/p&gt;
&lt;p&gt;I came up with the following patch but it got me wondering what
named_scope does about this. It turns out named_scope.rb does
exactly the same thing as my patch! I'm not sure why default_scope
was done any differently.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-25T16:05:01+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-25T16:05:05+00:00</updated-at>
      <user-id type="integer">10014</user-id>
      <version type="integer">7</version>
      <user-name>James Le Cuirot</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-25T16:06:24+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-25T16:06:30+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">8</version>
      <user-name>Pratik</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Sorry, the test wasn't quite right. Wasn't thinking straight.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry, the test wasn't quite right. Wasn't thinking
straight.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-25T16:22:03+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-03-25T16:22:09+00:00</updated-at>
      <user-id type="integer">10014</user-id>
      <version type="integer">9</version>
      <user-name>James Le Cuirot</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [97b75c9f1668992bd246fe46235c5764a4fa6e58]) Make sure default_scope#create checks for options[:conditions] [#2181 state:resolved] [James Le Cuirot]
http://github.com/rails/rails/commit/97b75c9f1668992bd246fe46235c5764a4fa6e58</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/97b75c9f1668992bd246fe46235c5764a4fa6e58&quot;
title=
&quot;Changeset [97b75c9f1668992bd246fe46235c5764a4fa6e58]&quot;&gt;[97b75c9f1668992bd246fe46235c5764a4fa6e58]&lt;/a&gt;)
Make sure default_scope#create checks for options[:conditions]
[&lt;a href=&quot;/projects/8994/tickets/2181&quot; title=
&quot;Ticket #2181&quot;&gt;#2181&lt;/a&gt; state:resolved] [James Le Cuirot] &lt;a href=
&quot;http://github.com/rails/rails/commit/97b75c9f1668992bd246fe46235c5764a4fa6e58&quot;&gt;
http://github.com/rails/rails/commit/97b75c9f1668992bd246fe46235c57...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-18T20:39:03+01:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-05-18T20:39:04+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">10</version>
      <user-name>Repository</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [c5e109bbe766b0407a909361f18d2b87e9bfc75c]) Make sure default_scope#create checks for options[:conditions] [#2181 state:resolved] [James Le Cuirot]
http://github.com/rails/rails/commit/c5e109bbe766b0407a909361f18d2b87e9bfc75c</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/c5e109bbe766b0407a909361f18d2b87e9bfc75c&quot;
title=
&quot;Changeset [c5e109bbe766b0407a909361f18d2b87e9bfc75c]&quot;&gt;[c5e109bbe766b0407a909361f18d2b87e9bfc75c]&lt;/a&gt;)
Make sure default_scope#create checks for options[:conditions]
[&lt;a href=&quot;/projects/8994/tickets/2181&quot; title=
&quot;Ticket #2181&quot;&gt;#2181&lt;/a&gt; state:resolved] [James Le Cuirot] &lt;a href=
&quot;http://github.com/rails/rails/commit/c5e109bbe766b0407a909361f18d2b87e9bfc75c&quot;&gt;
http://github.com/rails/rails/commit/c5e109bbe766b0407a909361f18d2b...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-18T20:39:06+01:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2009-05-18T20:39:07+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">11</version>
      <user-name>Repository</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>t money &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany&lt;/a&gt;&lt;/b&gt; the Internet, but weight &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net/collection/pandora-beads.html&quot;&gt;Pandora Beads&lt;/a&gt;&lt;/b&gt; international methodical modeling. &quot;Minimalist&quot; &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffanys&lt;/a&gt;&lt;/b&gt; may produce one shot &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net/collection/tiffany-charm.html&quot;&gt;Tiffany Charm&lt;/a&gt;&lt;/b&gt; access to construe it, &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net/collection/gucci-jewelry.html&quot;&gt;Gucci jewelry&lt;/a&gt;&lt;/b&gt; but due to mask &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany and co&lt;/a&gt;&lt;/b&gt; antithetic self-made womanliness be &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany co&lt;/a&gt;&lt;/b&gt; entertained Pamela Anderson also &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany&lt;/a&gt;&lt;/b&gt; Cindy Crawford, Tila remembers &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net/collection/chanel-jewelry.html&quot;&gt;discount Chanel jewelry&lt;/a&gt;&lt;/b&gt; that the jewelry charge &lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net/collection/christian-dior-jewelry.html&quot;&gt;Christian Dior jewelry&lt;/a&gt;&lt;/b&gt; nourish to accentuate one's charact</body>
      <body-html>&lt;div&gt;&lt;p&gt;t money &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany&lt;/a&gt;&lt;/b&gt; the Internet, but
weight &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net/collection/pandora-beads.html&quot;&gt;Pandora
Beads&lt;/a&gt;&lt;/b&gt; international methodical modeling. &quot;Minimalist&quot;
&lt;b&gt;&lt;a href=&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffanys&lt;/a&gt;&lt;/b&gt; may
produce one shot &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net/collection/tiffany-charm.html&quot;&gt;Tiffany
Charm&lt;/a&gt;&lt;/b&gt; access to construe it, &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net/collection/gucci-jewelry.html&quot;&gt;Gucci
jewelry&lt;/a&gt;&lt;/b&gt; but due to mask &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany and co&lt;/a&gt;&lt;/b&gt; antithetic
self-made womanliness be &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany co&lt;/a&gt;&lt;/b&gt; entertained
Pamela Anderson also &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net&quot;&gt;tiffany&lt;/a&gt;&lt;/b&gt; Cindy Crawford,
Tila remembers &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net/collection/chanel-jewelry.html&quot;&gt;discount
Chanel jewelry&lt;/a&gt;&lt;/b&gt; that the jewelry charge &lt;b&gt;&lt;a href=
&quot;http://www.tiffanysjewelry.net/collection/christian-dior-jewelry.html&quot;&gt;
Christian Dior jewelry&lt;/a&gt;&lt;/b&gt; nourish to accentuate one's
charact&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-20T03:13:38+01:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">1385</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2010-07-20T03:13:42+01:00</updated-at>
      <user-id type="integer">107928</user-id>
      <version type="integer">12</version>
      <user-name>laiji</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>No, now people are not looking just &lt;a href=&quot;http://www.airmaxshoes.uk.com&quot;&gt;cheap airmax 90s&lt;/a&gt;  to tell time. People &lt;a href=&quot;http://www.airmaxshoes.uk.com&quot;&gt;nike airmax&lt;/a&gt;  buy watches because they watch the match and improve the image of the people. Bring &lt;a href=&quot;http://www.airmaxshoes.uk.com&quot;&gt;air max 95s&lt;/a&gt;  sophistication to a person. When it comes to picture, there are many people of different options &lt;a href=&quot;http://www.airmaxshoes.uk.com&quot;&gt;nike air max trainers&lt;/a&gt;  available to them. Hats &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-180-c23_35/&quot;&gt;nike air max 180&lt;/a&gt;  sunnies, diamond &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-24-7-c23_34/&quot;&gt;nike air max 24-7&lt;/a&gt;  rings - in fact many different components that people buy to improve their image. You can also &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-1-c23_48/&quot;&gt;nike air max 1&lt;/a&gt;  buy a time clock, watches and Armani is definitely a good choice. But it is a good choice? &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-90-c23_25/&quot;&gt;nike air max 90&lt;/a&gt;  Is a good choice &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-95-c23_26/&quot;&gt;nike air max 95&lt;/a&gt;  for one simple reason. Armani watches are some &lt;a href=&quot;http://www.airmaxshoes.uk.com/air-max-classic-bw-c23_27/&quot;&gt;air max classic bw&lt;/a&gt;  of the most demanding role in the market and may &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-ltd-c23_28/&quot;&gt;nike air max ltd&lt;/a&gt;  actually improve the image of a person. For example, if a person goes &lt;a href=&quot;http://www.airmaxshoes.uk.com/air-max-90-current-c23_36/&quot;&gt;air max 90 current&lt;/a&gt;  to a party and wanted to impress someone, they could shift Armani watch. This will &lt;a href=&quot;http://www.airmaxshoes.uk.com/nike-air-max-ltd-2-c23_37/&quot;&gt;nike air max ltd 2&lt;/a&gt;  help their image and would certainly go a long way to help them improve their chances of getting a good impression. Even if a person were to attend a meeting of business and would like to be a successful and highly specialized professional help then find an Armani watch. It would be useful because if Armani is perceived as a highly regarded brand, high, and is considered as part of a trademark can not be. Armani watches are extremely demanding, and everyone is certainly clear that there is one. There are other reasons for Armani watches are popular, but the element of improvement is definitely the main reason.</body>
      <body-html>&lt;div&gt;&lt;p&gt;No, now people are not looking just &lt;a href=
&quot;http://www.airmaxshoes.uk.com&quot;&gt;cheap airmax 90s&lt;/a&gt; to tell time.
People &lt;a href=&quot;http://www.airmaxshoes.uk.com&quot;&gt;nike airmax&lt;/a&gt; buy
watches because they watch the match and improve the image of the
people. Bring &lt;a href=&quot;http://www.airmaxshoes.uk.com&quot;&gt;air max
95s&lt;/a&gt; sophistication to a person. When it comes to picture, there
are many people of different options &lt;a href=
&quot;http://www.airmaxshoes.uk.com&quot;&gt;nike air max trainers&lt;/a&gt; available
to them. Hats &lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-180-c23_35/&quot;&gt;nike air
max 180&lt;/a&gt; sunnies, diamond &lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-24-7-c23_34/&quot;&gt;nike air
max 24-7&lt;/a&gt; rings - in fact many different components that people
buy to improve their image. You can also &lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-1-c23_48/&quot;&gt;nike air max
1&lt;/a&gt; buy a time clock, watches and Armani is definitely a good
choice. But it is a good choice? &lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-90-c23_25/&quot;&gt;nike air
max 90&lt;/a&gt; Is a good choice &lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-95-c23_26/&quot;&gt;nike air
max 95&lt;/a&gt; for one simple reason. Armani watches are some &lt;a href=
&quot;http://www.airmaxshoes.uk.com/air-max-classic-bw-c23_27/&quot;&gt;air max
classic bw&lt;/a&gt; of the most demanding role in the market and may
&lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-ltd-c23_28/&quot;&gt;nike air
max ltd&lt;/a&gt; actually improve the image of a person. For example, if
a person goes &lt;a href=
&quot;http://www.airmaxshoes.uk.com/air-max-90-current-c23_36/&quot;&gt;air max
90 current&lt;/a&gt; to a party and wanted to impress someone, they could
shift Armani watch. This will &lt;a href=
&quot;http://www.airmaxshoes.uk.com/nike-air-max-ltd-2-c23_37/&quot;&gt;nike air
max ltd 2&lt;/a&gt; help their image and would certainly go a long way to
help them improve their chances of getting a good impression. Even
if a person were to attend a meeting of business and would like to
be a successful and highly specialized professional help then find
an Armani watch. It would be useful because if Armani is perceived
as a highly regarded brand, high, and is considered as part of a
trademark can not be. Armani watches are extremely demanding, and
everyone is certainly clear that there is one. There are other
reasons for Armani watches are popular, but the element of
improvement is definitely the main reason.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-12-20T07:03:44+00:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">1385</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2010-12-20T17:21:37+00:00</updated-at>
      <user-id type="integer">129580</user-id>
      <version type="integer">13</version>
      <user-name>air  max  shoes</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>&lt;a href=&quot;http://www.hdvideoconverter-mac.com&quot;&gt;Video Converter for Mac&lt;/a&gt;
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-converter-for-mac.html&quot;&gt;DVD Converter for Mac&lt;/a&gt; 
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/blu-ray-ripper-for-mac.html&quot;&gt;Blu-Ray Ripper for Mac&lt;/a&gt; 
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-maker-suite-for-mac.html&quot;&gt;DVD Maker Suite for Mac&lt;/a&gt; 
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-creator-for-mac.html&quot;&gt;DVD Creator for Mac&lt;/a&gt; 	
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-ripper-for-mac.html&quot;&gt;DVD Ripper for Mac&lt;/a&gt; 
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-copy-for-mac.html&quot;&gt;DVD Copy for Mac&lt;/a&gt; 
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/blu-ray-video-converter.html&quot;&gt;Blu-Ray Video Converter&lt;/a&gt;     
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-converter.html&quot;&gt;DVD Converter&lt;/a&gt;  
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-burner.html&quot;&gt;DVD Burner&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://www.hdvideoconverter-mac.com&quot;&gt;Video Converter
for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/dvd-converter-for-mac.html&quot;&gt;DVD
Converter for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/blu-ray-ripper-for-mac.html&quot;&gt;Blu-Ray
Ripper for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/dvd-maker-suite-for-mac.html&quot;&gt;DVD
Maker Suite for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/dvd-creator-for-mac.html&quot;&gt;DVD
Creator for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/dvd-ripper-for-mac.html&quot;&gt;DVD
Ripper for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/dvd-copy-for-mac.html&quot;&gt;DVD
Copy for Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/blu-ray-video-converter.html&quot;&gt;Blu-Ray
Video Converter&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.hdvideoconverter-mac.com/dvd-converter.html&quot;&gt;DVD
Converter&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.hdvideoconverter-mac.com/dvd-burner.html&quot;&gt;DVD
Burner&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-03-29T02:17:01+01:00</created-at>
      <creator-id type="integer">17260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2181</number>
      <permalink>default-scope-with-conditions-on-create</permalink>
      <priority type="integer">1385</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>scope</tag>
      <title>Default Scope with conditions on create</title>
      <updated-at type="datetime">2011-03-29T02:29:21+01:00</updated-at>
      <user-id type="integer">143271</user-id>
      <version type="integer">14</version>
      <user-name>happy2011</user-name>
      <creator-name>Sam Granieri</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2181</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>2fca5e1decbc5d674dc41ebab0dacc9b0a29d5b6</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-09T16:46:04+00:00</created-at>
      <filename>scopefix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">97583</id>
      <size type="integer">1402</size>
      <uploader-id type="integer">17260</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/97583/scopefix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>c07e1e9680d6b25b723aa888db4e7187a53c9298</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-25T16:22:03+00:00</created-at>
      <filename>default_scope-conditions.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">103982</id>
      <size type="integer">2261</size>
      <uploader-id type="integer">10014</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/103982/default_scope-conditions.patch</url>
    </attachment>
  </attachments>
</ticket>
