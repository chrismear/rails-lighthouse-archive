<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-12-01T00:38:29+00:00</created-at>
  <creator-id type="integer">111576</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6095</number>
  <permalink>nested-routing-in-rails-30-results-in-route-set-not-finalized-error</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>&quot;nested resources&quot; &quot;rails 3.0.0 routing&quot; resources &quot;routing url_for dots dot routing_error&quot; routingerror</tag>
  <title>Nested Routing in Rails 3.0 results in &quot;route set not finalized&quot; error</title>
  <updated-at type="datetime">2010-12-01T07:52:28+00:00</updated-at>
  <user-id type="integer">17433</user-id>
  <version type="integer">3</version>
  <user-name>Aditya Sanghi</user-name>
  <creator-name>Karl Adam</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6095</url>
  <priority-name>Low</priority-name>
  <original-body>Created a new project and in it two models: conferences and events. I then nested events below conferences in my routes.rb file and in testing it all seemed to work until I tried creating any new events or editing existing events below conferences and would repeatedly get &quot;route not found&quot; errors for the POST request. None of the member functions for update or create were even being reached.

Since |resources| takes care of the generation of all those paths, this made no sense. Afterward I used 'rake routes' to determine all the known routes of which |update| and |create| did appear correctly.

I went further and entered the 'rails console' and assigned the router to a variable to interrogate the known paths. Printing the known routes was successful however any use of |recognize_path| or |generate| on the Routing object resulted in a &quot;route set not finalized&quot; error.

There's something in the bowels of the routing system that is not working properly but is working well enough until you need to do create/update operations or introspect the object.

Gists:
Routes.rb : https://gist.github.com/bf397c20f129c248887c
Rails Console Session : https://gist.github.com/722548</original-body>
  <latest-body>Created a new project and in it two models: conferences and events. I then nested events below conferences in my routes.rb file and in testing it all seemed to work until I tried creating any new events or editing existing events below conferences and would repeatedly get &quot;route not found&quot; errors for the POST request. None of the member functions for update or create were even being reached.

Since |resources| takes care of the generation of all those paths, this made no sense. Afterward I used 'rake routes' to determine all the known routes of which |update| and |create| did appear correctly.

I went further and entered the 'rails console' and assigned the router to a variable to interrogate the known paths. Printing the known routes was successful however any use of |recognize_path| or |generate| on the Routing object resulted in a &quot;route set not finalized&quot; error.

There's something in the bowels of the routing system that is not working properly but is working well enough until you need to do create/update operations or introspect the object.

Gists:
Routes.rb : https://gist.github.com/bf397c20f129c248887c
Rails Console Session : https://gist.github.com/722548</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Created a new project and in it two models: conferences and
events. I then nested events below conferences in my routes.rb file
and in testing it all seemed to work until I tried creating any new
events or editing existing events below conferences and would
repeatedly get &quot;route not found&quot; errors for the POST request. None
of the member functions for update or create were even being
reached.&lt;/p&gt;
&lt;p&gt;Since |resources| takes care of the generation of all those
paths, this made no sense. Afterward I used 'rake routes' to
determine all the known routes of which |update| and |create| did
appear correctly.&lt;/p&gt;
&lt;p&gt;I went further and entered the 'rails console' and assigned the
router to a variable to interrogate the known paths. Printing the
known routes was successful however any use of |recognize_path| or
|generate| on the Routing object resulted in a &quot;route set not
finalized&quot; error.&lt;/p&gt;
&lt;p&gt;There's something in the bowels of the routing system that is
not working properly but is working well enough until you need to
do create/update operations or introspect the object.&lt;/p&gt;
&lt;p&gt;Gists:&lt;br&gt;
Routes.rb : &lt;a href=
&quot;https://gist.github.com/bf397c20f129c248887c&quot;&gt;https://gist.github.com/bf397c20f129c248887c&lt;/a&gt;&lt;br&gt;
Rails Console Session : &lt;a href=
&quot;https://gist.github.com/722548&quot;&gt;https://gist.github.com/722548&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Created a new project and in it two models: conferences and events. I then nested events below conferences in my routes.rb file and in testing it all seemed to work until I tried creating any new events or editing existing events below conferences and would repeatedly get &quot;route not found&quot; errors for the POST request. None of the member functions for update or create were even being reached.

Since |resources| takes care of the generation of all those paths, this made no sense. Afterward I used 'rake routes' to determine all the known routes of which |update| and |create| did appear correctly.

I went further and entered the 'rails console' and assigned the router to a variable to interrogate the known paths. Printing the known routes was successful however any use of |recognize_path| or |generate| on the Routing object resulted in a &quot;route set not finalized&quot; error.

There's something in the bowels of the routing system that is not working properly but is working well enough until you need to do create/update operations or introspect the object.

Gists:
Routes.rb : https://gist.github.com/bf397c20f129c248887c
Rails Console Session : https://gist.github.com/722548</body>
      <body-html>&lt;div&gt;&lt;p&gt;Created a new project and in it two models: conferences and
events. I then nested events below conferences in my routes.rb file
and in testing it all seemed to work until I tried creating any new
events or editing existing events below conferences and would
repeatedly get &quot;route not found&quot; errors for the POST request. None
of the member functions for update or create were even being
reached.&lt;/p&gt;
&lt;p&gt;Since |resources| takes care of the generation of all those
paths, this made no sense. Afterward I used 'rake routes' to
determine all the known routes of which |update| and |create| did
appear correctly.&lt;/p&gt;
&lt;p&gt;I went further and entered the 'rails console' and assigned the
router to a variable to interrogate the known paths. Printing the
known routes was successful however any use of |recognize_path| or
|generate| on the Routing object resulted in a &quot;route set not
finalized&quot; error.&lt;/p&gt;
&lt;p&gt;There's something in the bowels of the routing system that is
not working properly but is working well enough until you need to
do create/update operations or introspect the object.&lt;/p&gt;
&lt;p&gt;Gists:&lt;br&gt;
Routes.rb : &lt;a href=
&quot;https://gist.github.com/bf397c20f129c248887c&quot;&gt;https://gist.github.com/bf397c20f129c248887c&lt;/a&gt;&lt;br&gt;
Rails Console Session : &lt;a href=
&quot;https://gist.github.com/722548&quot;&gt;https://gist.github.com/722548&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-01T00:38:29+00:00</created-at>
      <creator-id type="integer">111576</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6095</number>
      <permalink>nested-routing-in-rails-30-results-in-route-set-not-finalized-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;nested resources&quot; &quot;rails 3.0.0 routing&quot; resources &quot;routing url_for dots dot routing_error&quot; routingerror</tag>
      <title>Nested Routing in Rails 3.0 results in &quot;route set not finalized&quot; error</title>
      <updated-at type="datetime">2010-12-01T00:38:32+00:00</updated-at>
      <user-id type="integer">111576</user-id>
      <version type="integer">1</version>
      <user-name>Karl Adam</user-name>
      <creator-name>Karl Adam</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6095</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thanks to some excellent help in the #rubyOnRails channel on freenode, it was pointed out to me that this was in fact user error. The original problem was in my form partial not passing both objects as an array to form_for and the 'route set not finalized' error was due to not first calling finalize on the Router.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks to some excellent help in the #rubyOnRails channel on
freenode, it was pointed out to me that this was in fact user
error. The original problem was in my form partial not passing both
objects as an array to form_for and the 'route set not finalized'
error was due to not first calling finalize on the Router.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-01T00:52:36+00:00</created-at>
      <creator-id type="integer">111576</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6095</number>
      <permalink>nested-routing-in-rails-30-results-in-route-set-not-finalized-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;nested resources&quot; &quot;rails 3.0.0 routing&quot; resources &quot;routing url_for dots dot routing_error&quot; routingerror</tag>
      <title>Nested Routing in Rails 3.0 results in &quot;route set not finalized&quot; error</title>
      <updated-at type="datetime">2010-12-01T00:52:39+00:00</updated-at>
      <user-id type="integer">111576</user-id>
      <version type="integer">2</version>
      <user-name>Karl Adam</user-name>
      <creator-name>Karl Adam</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6095</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Closing.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Closing.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-12-01T07:52:20+00:00</created-at>
      <creator-id type="integer">111576</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6095</number>
      <permalink>nested-routing-in-rails-30-results-in-route-set-not-finalized-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>&quot;nested resources&quot; &quot;rails 3.0.0 routing&quot; resources &quot;routing url_for dots dot routing_error&quot; routingerror</tag>
      <title>Nested Routing in Rails 3.0 results in &quot;route set not finalized&quot; error</title>
      <updated-at type="datetime">2010-12-01T07:52:28+00:00</updated-at>
      <user-id type="integer">17433</user-id>
      <version type="integer">3</version>
      <user-name>Aditya Sanghi</user-name>
      <creator-name>Karl Adam</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6095</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
