<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-04-02T08:15:30+01:00</created-at>
  <creator-id type="integer">24538</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2395</number>
  <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
  <priority type="integer">1554</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>active_record bugmash conditions count patch</tag>
  <title>count method doesn't work with specified conditions</title>
  <updated-at type="datetime">2010-07-13T21:05:10+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">13</version>
  <user-name>Repository</user-name>
  <creator-name>Jan Xie</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>AssociationCollection#count method won't take conditions in arguments into account if there is finder_sql or counter_sql. e.g.

class User
  has_many :photos, :finder_sql =&gt; '...'
end

&gt;some_user.photos.count(:conditions =&gt; ['photos.created_at &gt; ?', Time.today]) # all user photos will be returned, not only those created today

I wrote a patch to fix this (compatible with older implementation)</original-body>
  <latest-body>AssociationCollection#count method won't take conditions in arguments into account if there is finder_sql or counter_sql. e.g.

class User
  has_many :photos, :finder_sql =&gt; '...'
end

&gt;some_user.photos.count(:conditions =&gt; ['photos.created_at &gt; ?', Time.today]) # all user photos will be returned, not only those created today

I wrote a patch to fix this (compatible with older implementation)</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;AssociationCollection#count method won't take conditions in
arguments into account if there is finder_sql or counter_sql.
e.g.&lt;/p&gt;
&lt;p&gt;class User has_many :photos, :finder_sql =&amp;gt; '...' end&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;some_user.photos.count(:conditions =&amp;gt; ['photos.created_at
&amp;gt; ?', Time.today]) # all user photos will be returned, not only
those created today&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I wrote a patch to fix this (compatible with older
implementation)&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>AssociationCollection#count method won't take conditions in arguments into account if there is finder_sql or counter_sql. e.g.

class User
  has_many :photos, :finder_sql =&gt; '...'
end

&gt;some_user.photos.count(:conditions =&gt; ['photos.created_at &gt; ?', Time.today]) # all user photos will be returned, not only those created today

I wrote a patch to fix this (compatible with older implementation)</body>
      <body-html>&lt;div&gt;&lt;p&gt;AssociationCollection#count method won't take conditions in
arguments into account if there is finder_sql or counter_sql.
e.g.&lt;/p&gt;
&lt;p&gt;class User has_many :photos, :finder_sql =&amp;gt; '...' end&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;some_user.photos.count(:conditions =&amp;gt; ['photos.created_at
&amp;gt; ?', Time.today]) # all user photos will be returned, not only
those created today&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I wrote a patch to fix this (compatible with older
implementation)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-02T08:15:30+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2009-04-02T08:15:32+01:00</updated-at>
      <user-id type="integer">24538</user-id>
      <version type="integer">1</version>
      <user-name>Jan Xie</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-11T09:11:38+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2009-05-11T09:11:39+01:00</updated-at>
      <user-id type="integer">24538</user-id>
      <version type="integer">2</version>
      <user-name>Jan Xie</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>We avoid touching custom finder_sql since appending &quot; AND conditions&quot; may just break the query.

The patch has a passing test case. Does it fail for other uses of finder_ or counter_sql?</body>
      <body-html>&lt;div&gt;&lt;p&gt;We avoid touching custom finder_sql since appending &quot; AND
conditions&quot; may just break the query.&lt;/p&gt;
&lt;p&gt;The patch has a passing test case. Does it fail for other uses
of finder_ or counter_sql?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-11T19:34:00+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2009-05-11T19:34:06+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">3</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Though I think it will work at most time, yes it will break some finder_sql. To make it works in all cases, a mini sql parser need to be introduced, which doesn't look like a good option :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Though I think it will work at most time, yes it will break some
finder_sql. To make it works in all cases, a mini sql parser need
to be introduced, which doesn't look like a good option :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-12T04:19:16+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2009-05-12T04:19:20+01:00</updated-at>
      <user-id type="integer">24538</user-id>
      <version type="integer">4</version>
      <user-name>Jan Xie</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:44+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-05-04T18:48:44+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">5</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-09T18:00:51+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: active_record conditions count
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record bugmash conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-05-09T18:00:56+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">6</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>If modifications to the conditions of an association using a finder_sql are not allowed, then they should not be silently ignored. Perhaps an exception could be raised which would at least tell the developer something rather than executing and returning unexpected results?</body>
      <body-html>&lt;div&gt;&lt;p&gt;If modifications to the conditions of an association using a
finder_sql are not allowed, then they should not be silently
ignored. Perhaps an exception could be raised which would at least
tell the developer something rather than executing and returning
unexpected results?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T00:40:59+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record bugmash conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-05-16T00:41:02+01:00</updated-at>
      <user-id type="integer">78116</user-id>
      <version type="integer">7</version>
      <user-name>Gavin Stark</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Any updates to this ticket?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any updates to this ticket?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-23T03:39:30+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record bugmash conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-06-23T03:39:36+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">8</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>After this ticket was created Jeremy said &quot;We avoid touching custom finder_sql since appending &quot; AND conditions&quot; may just break the query.&quot;

+1 for that.

I would agree with Gavin that raising an exception should be a reasonable compromise.  

Jeremy any thoughts on how we should proceed on this one.</body>
      <body-html>&lt;div&gt;&lt;p&gt;After this ticket was created Jeremy said &quot;We avoid touching
custom finder_sql since appending &quot; AND conditions&quot; may just break
the query.&quot;&lt;/p&gt;
&lt;p&gt;+1 for that.&lt;/p&gt;
&lt;p&gt;I would agree with Gavin that raising an exception should be a
reasonable compromise.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Jeremy any thoughts on how we should proceed on this one.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-01T18:31:21+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">1554</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_record bugmash conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-07-01T18:31:26+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">9</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Failing fast -- raising an exception -- would be great. Patch + test welcome!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Failing fast -- raising an exception -- would be great. Patch +
test welcome!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-01T18:48:50+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">1554</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bugmash conditions count</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-07-01T18:48:55+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">10</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Attached is patch with test.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached is patch with test.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-02T02:45:20+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: active_record bugmash conditions count
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">1554</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bugmash conditions count patch</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-07-02T02:45:42+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">11</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-13T20:04:17+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 85
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">1554</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>active_record bugmash conditions count patch</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-07-13T20:04:19+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">12</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [edb5401039ee15c37b201244c5dbf660bed51fb4]) count method should not take options if it is operated on has_many association which has finder_sql or counter_sql

[#2395 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/edb5401039ee15c37b201244c5dbf660bed51fb4</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/edb5401039ee15c37b201244c5dbf660bed51fb4&quot;
title=
&quot;Changeset [edb5401039ee15c37b201244c5dbf660bed51fb4]&quot;&gt;[edb5401039ee15c37b201244c5dbf660bed51fb4]&lt;/a&gt;)
count method should not take options if it is operated on has_many
association which has finder_sql or counter_sql&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/2395&quot; title=
&quot;Ticket #2395&quot;&gt;#2395&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/edb5401039ee15c37b201244c5dbf660bed51fb4&quot;&gt;
http://github.com/rails/rails/commit/edb5401039ee15c37b201244c5dbf6...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-13T21:05:07+01:00</created-at>
      <creator-id type="integer">24538</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2395</number>
      <permalink>count-method-doesnt-work-with-specified-conditions</permalink>
      <priority type="integer">1554</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>active_record bugmash conditions count patch</tag>
      <title>count method doesn't work with specified conditions</title>
      <updated-at type="datetime">2010-07-13T21:05:10+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">13</version>
      <user-name>Repository</user-name>
      <creator-name>Jan Xie</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2395</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>20a8efdc4ece8475cf7d7c2ce6981f74b359adea</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-04-02T08:15:30+01:00</created-at>
      <filename>conditional_count_sql.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">107005</id>
      <size type="integer">1689</size>
      <uploader-id type="integer">24538</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/107005/conditional_count_sql.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>f0e0da5188bacaf80ea65fe04eaa8fbf8136be05</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-07-02T02:45:20+01:00</created-at>
      <filename>2395_fix_against_rails_master.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">584645</id>
      <size type="integer">3180</size>
      <uploader-id type="integer">40263</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/584645/2395_fix_against_rails_master.diff</url>
    </attachment>
  </attachments>
</ticket>
