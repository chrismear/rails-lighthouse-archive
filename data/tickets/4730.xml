<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">40272</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-05-30T01:59:08+01:00</created-at>
  <creator-id type="integer">1998</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">4730</number>
  <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>activesupport json patch rails3</tag>
  <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
  <updated-at type="datetime">2010-10-15T23:01:54+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">8</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>August Lilleaas</creator-name>
  <assigned-user-name>Santiago Pastorino</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Medium</priority-name>
  <original-body>Hashes with time objects in them will cause an error when `to_json` is called on it.

@@@ ruby
{:date =&gt; Time.utc(2008, 5, 17)}.to_json
@@@

The stack trace is rather peculiar as well. Here's a snippet from a irb session, with backtrace silencers removed.

@@@
ruby-1.8.7-p249 &gt;  {:foo =&gt; Time.now}.to_json
ArgumentError: wrong number of arguments (2 for 0)
      from (irb):1:in `to_json'
      from (irb):1
@@@

Attached a patch with a simple test case that will demonstrate the breakage.</original-body>
  <latest-body>Hashes with time objects in them will cause an error when `to_json` is called on it.

@@@ ruby
{:date =&gt; Time.utc(2008, 5, 17)}.to_json
@@@

The stack trace is rather peculiar as well. Here's a snippet from a irb session, with backtrace silencers removed.

@@@
ruby-1.8.7-p249 &gt;  {:foo =&gt; Time.now}.to_json
ArgumentError: wrong number of arguments (2 for 0)
      from (irb):1:in `to_json'
      from (irb):1
@@@

Attached a patch with a simple test case that will demonstrate the breakage.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Hashes with time objects in them will cause an error when
&lt;code&gt;to_json&lt;/code&gt; is called on it.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;{:date =&amp;gt; Time.utc(2008, 5, 17)}.to_json&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The stack trace is rather peculiar as well. Here's a snippet
from a irb session, with backtrace silencers removed.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ruby-1.8.7-p249 &amp;gt;  {:foo =&amp;gt; Time.now}.to_json
ArgumentError: wrong number of arguments (2 for 0)
      from (irb):1:in `to_json'
      from (irb):1&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Attached a patch with a simple test case that will demonstrate
the breakage.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hashes with time objects in them will cause an error when `to_json` is called on it.

@@@ ruby
{:date =&gt; Time.utc(2008, 5, 17)}.to_json
@@@

The stack trace is rather peculiar as well. Here's a snippet from a irb session, with backtrace silencers removed.

@@@
ruby-1.8.7-p249 &gt;  {:foo =&gt; Time.now}.to_json
ArgumentError: wrong number of arguments (2 for 0)
      from (irb):1:in `to_json'
      from (irb):1
@@@

Attached a patch with a simple test case that will demonstrate the breakage.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hashes with time objects in them will cause an error when
&lt;code&gt;to_json&lt;/code&gt; is called on it.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;{:date =&amp;gt; Time.utc(2008, 5, 17)}.to_json&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The stack trace is rather peculiar as well. Here's a snippet
from a irb session, with backtrace silencers removed.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;ruby-1.8.7-p249 &amp;gt;  {:foo =&amp;gt; Time.now}.to_json
ArgumentError: wrong number of arguments (2 for 0)
      from (irb):1:in `to_json'
      from (irb):1&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Attached a patch with a simple test case that will demonstrate
the breakage.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-30T01:59:08+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activesupport json rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-05-30T01:59:17+01:00</updated-at>
      <user-id type="integer">1998</user-id>
      <version type="integer">1</version>
      <user-name>August Lilleaas</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I tested it with rails edge.

I am not able to produce this problem with script/console.

@@@ ruby
ruby-1.8.7-p249 &gt; {:date =&gt; Time.utc(2008, 5, 17)}.to_json
 =&gt; &quot;{\&quot;date\&quot;:\&quot;2008-05-17T00:00:00Z\&quot;}&quot; 
ruby-1.8.7-p249 &gt; {:date =&gt; Time.utc(2008, 5, 17)}.to_json
 =&gt; &quot;{\&quot;date\&quot;:\&quot;2008-05-17T00:00:00Z\&quot;}&quot; 
@@@

I am not able to produce problem with rails runner

@@@ ruby
$ rails runner 'User.lab'
{&quot;date1&quot;:&quot;2008-05-17T00:00:00Z&quot;}

class User &lt; ActiveRecord::Base
  def self.lab
    t = Time.utc(2008, 5, 17)
    real = {:date1 =&gt; t}.to_json
    puts real
  end
end
@@@

However the attached test code is indeed failing which is really weird. Without digging dip into it I have a feeling that in test somewhere something is getting changed which is messing up to_json.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I tested it with rails edge.&lt;/p&gt;
&lt;p&gt;I am not able to produce this problem with script/console.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;ruby-1.8.7-p249 &amp;gt; {:date =&amp;gt; Time.utc(2008, 5, 17)}.to_json
 =&amp;gt; &quot;{\&quot;date\&quot;:\&quot;2008-05-17T00:00:00Z\&quot;}&quot; 
ruby-1.8.7-p249 &amp;gt; {:date =&amp;gt; Time.utc(2008, 5, 17)}.to_json
 =&amp;gt; &quot;{\&quot;date\&quot;:\&quot;2008-05-17T00:00:00Z\&quot;}&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I am not able to produce problem with rails runner&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;$ rails runner 'User.lab'
{&quot;date1&quot;:&quot;2008-05-17T00:00:00Z&quot;}

class User &amp;lt; ActiveRecord::Base
  def self.lab
    t = Time.utc(2008, 5, 17)
    real = {:date1 =&amp;gt; t}.to_json
    puts real
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;However the attached test code is indeed failing which is really
weird. Without digging dip into it I have a feeling that in test
somewhere something is getting changed which is messing up
to_json.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-30T04:33:54+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activesupport json rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-05-30T04:33:58+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">2</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Neeraj try this and you will see the failure ...

&lt;pre&gt;&gt;&gt; santiago@debian:/tmp/myapp$ rails c
Loading development environment (Rails 3.0.0.beta3)
&gt;&gt; {:date =&gt; Time.utc(2008, 5, 17)}.to_json
NoMethodError: undefined method `to_json' for {:date=&gt;Sat May 17 00:00:00 UTC 2008}:Hash
	from (irb):1&lt;/pre&gt;

Here is a fix i think the code regarding to json on AS is not properly organized, i will refactor this at some point.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Neeraj try this and you will see the failure ...&lt;/p&gt;
&lt;pre&gt;
&amp;gt;&amp;gt; santiago@debian:/tmp/myapp$ rails c
Loading development environment (Rails 3.0.0.beta3)
&amp;gt;&amp;gt; {:date =&amp;gt; Time.utc(2008, 5, 17)}.to_json
NoMethodError: undefined method `to_json' for {:date=&amp;gt;Sat May 17 00:00:00 UTC 2008}:Hash
    from (irb):1
&lt;/pre&gt;
Here is a fix i think the code regarding to json on AS is not
properly organized, i will refactor this at some point.&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-30T05:39:26+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: activesupport json rails3
:state: new
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activesupport json patch rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-05-30T05:39:36+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">3</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Neeraj Singh: Perhaps you have the json gem vendored elsewhere, or directly in the Gemfile, causing Rails to use that one instead of the bundled one? I'm also on edge rails, btw: `gem 'rails', :git =&gt; 'git://github.com/rails/rails.git'`.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Neeraj Singh: Perhaps you have the json gem vendored elsewhere,
or directly in the Gemfile, causing Rails to use that one instead
of the bundled one? I'm also on edge rails, btw: &lt;code&gt;gem 'rails',
:git =&amp;gt; 'git://github.com/rails/rails.git'&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-30T12:22:01+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activesupport json patch rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-05-30T12:22:05+01:00</updated-at>
      <user-id type="integer">1998</user-id>
      <version type="integer">4</version>
      <user-name>August Lilleaas</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This is what I have in my Gemfile.

@@@ ruby
$ cat Gemfile 

source 'http://rubygems.org'
#gem 'rails', '3.0.0.beta3'
gem 'rails', :git =&gt; 'git://github.com/rails/rails.git'
gem 'sqlite3-ruby', :require =&gt; 'sqlite3'
@@@

in console

@@@ ruby
ruby-1.8.7-p249 &gt; {:date =&gt; Time.utc(2008, 5, 17)}.to_json
 =&gt; &quot;{\&quot;date\&quot;:\&quot;2008-05-17T00:00:00Z\&quot;}&quot; 
@@@

Really weird that I'm not able to reproduce it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is what I have in my Gemfile.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;$ cat Gemfile 

source 'http://rubygems.org'
#gem 'rails', '3.0.0.beta3'
gem 'rails', :git =&amp;gt; 'git://github.com/rails/rails.git'
gem 'sqlite3-ruby', :require =&amp;gt; 'sqlite3'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;in console&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;ruby-1.8.7-p249 &amp;gt; {:date =&amp;gt; Time.utc(2008, 5, 17)}.to_json
 =&amp;gt; &quot;{\&quot;date\&quot;:\&quot;2008-05-17T00:00:00Z\&quot;}&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Really weird that I'm not able to reproduce it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-30T14:50:49+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activesupport json patch rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-05-30T14:50:57+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">5</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [926ca9c102db5034d4eb1ab0f915ea643145e284]) Load JSON additions (as to_json) on active_support/all.

[#4730 state:committed]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/926ca9c102db5034d4eb1ab0f915ea643145e284</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/926ca9c102db5034d4eb1ab0f915ea643145e284&quot;
title=
&quot;Changeset [926ca9c102db5034d4eb1ab0f915ea643145e284]&quot;&gt;[926ca9c102db5034d4eb1ab0f915ea643145e284]&lt;/a&gt;)
Load JSON additions (as to_json) on active_support/all.&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/4730&quot; title=
&quot;Ticket #4730&quot;&gt;#4730&lt;/a&gt; state:committed]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/926ca9c102db5034d4eb1ab0f915ea643145e284&quot;&gt;
http://github.com/rails/rails/commit/926ca9c102db5034d4eb1ab0f915ea...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-26T20:15:54+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activesupport json patch rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-06-26T20:16:00+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">6</version>
      <user-name>Repository</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>che Santiago,

I think the original problem remains:

    $ gem list json

    *** LOCAL GEMS ***

    json (1.4.3)
    json_pure (1.4.3)
    $ gem list activesupport

    *** LOCAL GEMS ***

    activesupport (3.0.0.beta4, 2.3.8, 2.3.5)
    $ irb
    ruby-1.8.7-head &gt; require 'rubygems'
     =&gt; true 
    ruby-1.8.7-head &gt; require 'active_support/json'
     =&gt; true 
    ruby-1.8.7-head &gt; { :hello =&gt; Time.now }.to_json
    ArgumentError: wrong number of arguments (2 for 1)
    	from (irb):3:in `to_json'
    	from (irb):3

Best,
Seamus</body>
      <body-html>&lt;div&gt;&lt;p&gt;che Santiago,&lt;/p&gt;
&lt;p&gt;I think the original problem remains:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ gem list json

*** LOCAL GEMS ***

json (1.4.3)
json_pure (1.4.3)
$ gem list activesupport

*** LOCAL GEMS ***

activesupport (3.0.0.beta4, 2.3.8, 2.3.5)
$ irb
ruby-1.8.7-head &amp;gt; require 'rubygems'
 =&amp;gt; true 
ruby-1.8.7-head &amp;gt; require 'active_support/json'
 =&amp;gt; true 
ruby-1.8.7-head &amp;gt; { :hello =&amp;gt; Time.now }.to_json
ArgumentError: wrong number of arguments (2 for 1)
    from (irb):3:in `to_json'
    from (irb):3&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Best,&lt;br&gt;
Seamus&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-16T14:31:42+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 12714
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activesupport json patch rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-07-16T14:31:47+01:00</updated-at>
      <user-id type="integer">33412</user-id>
      <version type="integer">7</version>
      <user-name>seamusabshere</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:54+01:00</created-at>
      <creator-id type="integer">1998</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4730</number>
      <permalink>hashes-with-time-instances-in-it-breaks-when-to_json-is-called-on-it</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activesupport json patch rails3</tag>
      <title>Hashes with Time instances in it breaks when to_json is called on it.</title>
      <updated-at type="datetime">2010-10-15T23:01:54+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">8</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>August Lilleaas</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4730</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>6148be33921ea48e606824d8d1d91acddf5f1d83</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-30T01:59:09+01:00</created-at>
      <filename>hashes_with_time_objects.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">540089</id>
      <size type="integer">950</size>
      <uploader-id type="integer">1998</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/540089/hashes_with_time_objects.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>f0bb8fcf8c69fe398e50b997d321fe6065f6a83a</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-30T05:39:26+01:00</created-at>
      <filename>json.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">540111</id>
      <size type="integer">703</size>
      <uploader-id type="integer">40272</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/540111/json.patch</url>
    </attachment>
  </attachments>
</ticket>
