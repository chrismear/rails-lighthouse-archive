<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">52142</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-04-24T10:55:05+01:00</created-at>
  <creator-id type="integer">52142</creator-id>
  <milestone-due-on type="datetime">2010-01-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">50064</milestone-id>
  <number type="integer">4466</number>
  <permalink>actionpack-2-3-stable-tests-fail-in-ruby-19-with-k-options</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>&quot;encoding utf8&quot; patch</tag>
  <title>ActionPack: 2-3-stable tests fail in Ruby 1.9 ( with -K options )</title>
  <updated-at type="datetime">2010-04-25T02:52:17+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">4</version>
  <user-name>Repository</user-name>
  <creator-name>Cezary Baginski</creator-name>
  <assigned-user-name>Cezary Baginski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4466</url>
  <milestone-title>2.3.6</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>Running the attached shell script shows the problem, e.g.:


@@@ shell
cd actionpack
RUBYOPT=-Ke rake
@@@

@@@
actionmailer/lib/action_mailer/vendor/tmail-1.2.7/tmail/utils.rb:117:in `&lt;module:TextUtils&gt;': invalid multibyte character (ArgumentError)
@@@

This is trivial to fix and getting this to work on all tests will allow to find and solve many encoding issues before they are even reported.

The fix is adding:

@@@ ruby
# encoding: us-ascii
@@@

to the files with escaped characters.</original-body>
  <latest-body>Running the attached shell script shows the problem, e.g.:


@@@ shell
cd actionpack
RUBYOPT=-Ke rake
@@@

@@@
actionmailer/lib/action_mailer/vendor/tmail-1.2.7/tmail/utils.rb:117:in `&lt;module:TextUtils&gt;': invalid multibyte character (ArgumentError)
@@@

This is trivial to fix and getting this to work on all tests will allow to find and solve many encoding issues before they are even reported.

The fix is adding:

@@@ ruby
# encoding: us-ascii
@@@

to the files with escaped characters.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Running the attached shell script shows the problem, e.g.:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;shell&quot;&gt;cd actionpack
RUBYOPT=-Ke rake&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;actionmailer/lib/action_mailer/vendor/tmail-1.2.7/tmail/utils.rb:117:in `&amp;lt;module:TextUtils&amp;gt;': invalid multibyte character (ArgumentError)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This is trivial to fix and getting this to work on all tests
will allow to find and solve many encoding issues before they are
even reported.&lt;/p&gt;
&lt;p&gt;The fix is adding:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;# encoding: us-ascii&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;to the files with escaped characters.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">52142</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Running the attached shell script shows the problem, e.g.:


@@@ shell
cd actionpack
RUBYOPT=-Ke rake
@@@

@@@
actionmailer/lib/action_mailer/vendor/tmail-1.2.7/tmail/utils.rb:117:in `&lt;module:TextUtils&gt;': invalid multibyte character (ArgumentError)
@@@

This is trivial to fix and getting this to work on all tests will allow to find and solve many encoding issues before they are even reported.

The fix is adding:

@@@ ruby
# encoding: us-ascii
@@@

to the files with escaped characters.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Running the attached shell script shows the problem, e.g.:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;shell&quot;&gt;cd actionpack
RUBYOPT=-Ke rake&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;actionmailer/lib/action_mailer/vendor/tmail-1.2.7/tmail/utils.rb:117:in `&amp;lt;module:TextUtils&amp;gt;': invalid multibyte character (ArgumentError)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This is trivial to fix and getting this to work on all tests
will allow to find and solve many encoding issues before they are
even reported.&lt;/p&gt;
&lt;p&gt;The fix is adding:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;# encoding: us-ascii&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;to the files with escaped characters.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-24T10:55:05+01:00</created-at>
      <creator-id type="integer">52142</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4466</number>
      <permalink>actionpack-2-3-stable-tests-fail-in-ruby-19-with-k-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>&quot;encoding utf8&quot;</tag>
      <title>ActionPack: 2-3-stable tests fail in Ruby 1.9 ( with -K options )</title>
      <updated-at type="datetime">2010-04-24T10:57:30+01:00</updated-at>
      <user-id type="integer">52142</user-id>
      <version type="integer">1</version>
      <user-name>Cezary Baginski</user-name>
      <creator-name>Cezary Baginski</creator-name>
      <assigned-user-name>Cezary Baginski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4466</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">52142</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Patch for 2-3-stable attached.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Patch for 2-3-stable attached.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-24T11:06:11+01:00</created-at>
      <creator-id type="integer">52142</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;encoding utf8\&quot;&quot;
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4466</number>
      <permalink>actionpack-2-3-stable-tests-fail-in-ruby-19-with-k-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>&quot;encoding utf8&quot; patch</tag>
      <title>ActionPack: 2-3-stable tests fail in Ruby 1.9 ( with -K options )</title>
      <updated-at type="datetime">2010-04-24T11:06:12+01:00</updated-at>
      <user-id type="integer">52142</user-id>
      <version type="integer">2</version>
      <user-name>Cezary Baginski</user-name>
      <creator-name>Cezary Baginski</creator-name>
      <assigned-user-name>Cezary Baginski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4466</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">52142</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Fixed the runner script.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fixed the runner script.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-24T16:50:52+01:00</created-at>
      <creator-id type="integer">52142</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4466</number>
      <permalink>actionpack-2-3-stable-tests-fail-in-ruby-19-with-k-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>&quot;encoding utf8&quot; patch</tag>
      <title>ActionPack: 2-3-stable tests fail in Ruby 1.9 ( with -K options )</title>
      <updated-at type="datetime">2010-04-24T16:50:55+01:00</updated-at>
      <user-id type="integer">52142</user-id>
      <version type="integer">3</version>
      <user-name>Cezary Baginski</user-name>
      <creator-name>Cezary Baginski</creator-name>
      <assigned-user-name>Cezary Baginski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4466</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">52142</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [ec7716abcdaa79082a32ee087391eac31859a522]) actionpack: added missing encoding comments [#4466 state:resolved]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/ec7716abcdaa79082a32ee087391eac31859a522</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/ec7716abcdaa79082a32ee087391eac31859a522&quot;
title=
&quot;Changeset [ec7716abcdaa79082a32ee087391eac31859a522]&quot;&gt;[ec7716abcdaa79082a32ee087391eac31859a522]&lt;/a&gt;)
actionpack: added missing encoding comments [&lt;a href=
&quot;/projects/8994/tickets/4466&quot; title=&quot;Ticket #4466&quot;&gt;#4466&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a href=
&quot;mailto:jeremy@bitsweat.net&quot;&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/ec7716abcdaa79082a32ee087391eac31859a522&quot;&gt;
http://github.com/rails/rails/commit/ec7716abcdaa79082a32ee087391ea...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-25T02:52:16+01:00</created-at>
      <creator-id type="integer">52142</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">4466</number>
      <permalink>actionpack-2-3-stable-tests-fail-in-ruby-19-with-k-options</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>&quot;encoding utf8&quot; patch</tag>
      <title>ActionPack: 2-3-stable tests fail in Ruby 1.9 ( with -K options )</title>
      <updated-at type="datetime">2010-04-25T02:52:17+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">4</version>
      <user-name>Repository</user-name>
      <creator-name>Cezary Baginski</creator-name>
      <assigned-user-name>Cezary Baginski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4466</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>cc50a5ab3bf0877d64416f2c1dc182f515be13d5</code>
      <content-type>application/x-shellscript</content-type>
      <created-at type="datetime">2010-04-24T10:55:05+01:00</created-at>
      <filename>run_tests.sh</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">495714</id>
      <size type="integer">299</size>
      <uploader-id type="integer">52142</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/495714/run_tests.sh</url>
    </attachment>
    <attachment type="Attachment">
      <code>0fc085ef2c7b8255d4dbbaa01a901f4efee06701</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-24T11:06:11+01:00</created-at>
      <filename>actionpack_encoding.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">495715</id>
      <size type="integer">11541</size>
      <uploader-id type="integer">52142</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/495715/actionpack_encoding.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>7399abf61b9bbc6e08773d6a386ed38d60f79f3c</code>
      <content-type>application/x-shellscript</content-type>
      <created-at type="datetime">2010-04-24T16:50:52+01:00</created-at>
      <filename>run_tests.sh</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">495766</id>
      <size type="integer">371</size>
      <uploader-id type="integer">52142</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/495766/run_tests.sh</url>
    </attachment>
  </attachments>
</ticket>
