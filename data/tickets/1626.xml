<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-08-04T08:54:54+01:00</created-at>
  <creator-id type="integer">2171</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">1626</number>
  <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>wontfix</state>
  <tag nil="true"></tag>
  <title>fieldWithErrors shouldn't use a div</title>
  <updated-at type="datetime">2011-04-10T23:43:57+01:00</updated-at>
  <user-id type="integer">16383</user-id>
  <version type="integer">55</version>
  <user-name>Dmitry Polushkin</user-name>
  <creator-name>Alex MacCaw</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
  <milestone-title>3.x</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>ActiveRecordHelper shouldn't generate form items in a div (with a class of fieldWithErrors) since a lot of the time these form elements are in a 'p' element (even the Rails scaffolding generates it so) and, since you can't have a block element in an inline one, the page breaks in many browsers (it's standards uncompliant).

In other words, the pages that the Rails scaffold generates at the moment are broken html when they're displaying ActiveRecord errors.

This fixes just changes it to a span element.</original-body>
  <latest-body>ActiveRecordHelper shouldn't generate form items in a div (with a class of fieldWithErrors) since a lot of the time these form elements are in a 'p' element (even the Rails scaffolding generates it so) and, since you can't have a block element in an inline one, the page breaks in many browsers (it's standards uncompliant).

In other words, the pages that the Rails scaffold generates at the moment are broken html when they're displaying ActiveRecord errors.

This fixes just changes it to a span element.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;ActiveRecordHelper shouldn't generate form items in a div (with
a class of fieldWithErrors) since a lot of the time these form
elements are in a 'p' element (even the Rails scaffolding generates
it so) and, since you can't have a block element in an inline one,
the page breaks in many browsers (it's standards uncompliant).&lt;/p&gt;
&lt;p&gt;In other words, the pages that the Rails scaffold generates at
the moment are broken html when they're displaying ActiveRecord
errors.&lt;/p&gt;
&lt;p&gt;This fixes just changes it to a span element.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>ActiveRecordHelper shouldn't generate form items in a div (with a class of fieldWithErrors) since a lot of the time these form elements are in a 'p' element (even the Rails scaffolding generates it so) and, since you can't have a block element in an inline one, the page breaks in many browsers (it's standards uncompliant).

In other words, the pages that the Rails scaffold generates at the moment are broken html when they're displaying ActiveRecord errors.

This fixes just changes it to a span element.</body>
      <body-html>&lt;div&gt;&lt;p&gt;ActiveRecordHelper shouldn't generate form items in a div (with
a class of fieldWithErrors) since a lot of the time these form
elements are in a 'p' element (even the Rails scaffolding generates
it so) and, since you can't have a block element in an inline one,
the page breaks in many browsers (it's standards uncompliant).&lt;/p&gt;
&lt;p&gt;In other words, the pages that the Rails scaffold generates at
the moment are broken html when they're displaying ActiveRecord
errors.&lt;/p&gt;
&lt;p&gt;This fixes just changes it to a span element.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T09:39:43+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-24T09:39:45+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">1</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The &lt;p&gt; element is a block element, not an inline element. Nesting a &lt;div&gt; inside a &lt;p&gt; is perfectly fine.

Sorry, but I don't really see a point in changing this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The&lt;/p&gt;
&lt;p&gt;element is a block element, not an inline element. Nesting a&lt;/p&gt;
&lt;div&gt;inside a
&lt;p&gt;is perfectly fine.&lt;/p&gt;
&lt;p&gt;Sorry, but I don't really see a point in changing this.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T16:09:41+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-24T16:09:42+00:00</updated-at>
      <user-id type="integer">8560</user-id>
      <version type="integer">2</version>
      <user-name>Arthur Schreiber</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Great. Stupid lighthouse formatting.

---

The p element is a block element, not an inline element. Nesting a p inside a div is perfectly fine.

Sorry, but I don't really see a point in changing this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Great. Stupid lighthouse formatting.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;The p element is a block element, not an inline element. Nesting
a p inside a div is perfectly fine.&lt;/p&gt;
&lt;p&gt;Sorry, but I don't really see a point in changing this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T16:11:02+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-24T16:11:05+00:00</updated-at>
      <user-id type="integer">8560</user-id>
      <version type="integer">3</version>
      <user-name>Arthur Schreiber</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yes, perhaps my terminology is at fault.
However, it is an issue. Firefox doesn't like DIVs inside Ps, it moves the p outside the div. Just try it in a plain file.
It also fails validation.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, perhaps my terminology is at fault. However, it is an
issue. Firefox doesn't like DIVs inside Ps, it moves the p outside
the div. Just try it in a plain file. It also fails validation.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T16:17:20+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-24T16:17:22+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">4</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Arthur, nesting a P inside a DIV is fine, agreed. But what's happening here is a DIV is being nestled inside a P, which isn't allowed.

The code looks like this:

&lt;p&gt;&lt;div class=&quot;fieldWithErrors&quot;&gt;&lt;input /&gt;&lt;/div&gt;&lt;/p&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Arthur, nesting a P inside a DIV is fine, agreed. But what's
happening here is a DIV is being nestled inside a P, which isn't
allowed.&lt;/p&gt;
&lt;p&gt;The code looks like this:&lt;/p&gt;
&lt;div class=&quot;fieldWithErrors&quot;&gt;&lt;/div&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T17:49:36+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-24T17:49:41+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">5</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'll try again (lighthouse formatting):
&amp;lt;p&amp;gt;&amp;lt;div class=&amp;quot;fieldWithErrors&amp;quot;&amp;gt;&amp;lt;input /&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/p&amp;gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'll try again (lighthouse formatting): &amp;lt;p&amp;gt;&amp;lt;div
class=&quot;fieldWithErrors&quot;&amp;gt;&amp;lt;input
/&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T17:50:49+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-24T17:50:53+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">6</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I just ran into this today, for the Nth time. I've always disliked adding the extra div.  I'd rather see it just add the class to the proper elements, or structure the elements so that the div or span or whatnot is always there, instead of coming and going.  Guess it's time to look at how Merb does this...</body>
      <body-html>&lt;div&gt;&lt;p&gt;I just ran into this today, for the Nth time. I've always
disliked adding the extra div. I'd rather see it just add the class
to the proper elements, or structure the elements so that the div
or span or whatnot is always there, instead of coming and going.
Guess it's time to look at how Merb does this...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-25T04:17:55+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-25T04:17:58+00:00</updated-at>
      <user-id type="integer">11372</user-id>
      <version type="integer">7</version>
      <user-name>Josh Susser</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Alex, I looked this up in the HTML 4 and HTML 5 specs. You're right. The P element is only allowed to contain inline elements, no block elements. As DIV is a block element, things start to go bad.

So, +1 from me for your patch. :)

In the long term, this should be fixed by setting the class attribute on invalid input elements directly, instead on wrapping them into SPAN tags.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Alex, I looked this up in the HTML 4 and HTML 5 specs. You're
right. The P element is only allowed to contain inline elements, no
block elements. As DIV is a block element, things start to go
bad.&lt;/p&gt;
&lt;p&gt;So, +1 from me for your patch. :)&lt;/p&gt;
&lt;p&gt;In the long term, this should be fixed by setting the class
attribute on invalid input elements directly, instead on wrapping
them into SPAN tags.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-27T18:21:36+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-27T18:21:40+00:00</updated-at>
      <user-id type="integer">8560</user-id>
      <version type="integer">8</version>
      <user-name>Arthur Schreiber</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I agree with Josh and Arthur that the correct behavior would be setting the class attribute on the invalid input element.  I also believe that there's no time like the present, so here's a patch that does exactly that.

I left the #field_errors_proc class accessor on ActionView::Base, but set it to nil by default.  I added a separate #field_error_options class accessor that defaults to { :class =&gt; 'fieldWithErrors }.  This options hash gets merged (carefully) into the HTML options for the invalid input tag.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I agree with Josh and Arthur that the correct behavior would be
setting the class attribute on the invalid input element. I also
believe that there's no time like the present, so here's a patch
that does exactly that.&lt;/p&gt;
&lt;p&gt;I left the #field_errors_proc class accessor on
ActionView::Base, but set it to nil by default. I added a separate
#field_error_options class accessor that defaults to { :class =&amp;gt;
'fieldWithErrors }. This options hash gets merged (carefully) into
the HTML options for the invalid input tag.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-27T21:56:07+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionview helper
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-27T21:56:08+00:00</updated-at>
      <user-id type="integer">29892</user-id>
      <version type="integer">9</version>
      <user-name>Adam Milligan</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Adam, brilliant - that's definitely the way forward. I'll check out the patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Adam, brilliant - that's definitely the way forward. I'll check
out the patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-27T22:47:53+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-27T22:47:55+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">10</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for adam's approach (that's how it should be imho)</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for adam's approach (that's how it should be imho)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-28T08:44:31+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-28T08:44:33+00:00</updated-at>
      <user-id type="integer">29212</user-id>
      <version type="integer">11</version>
      <user-name>Michael Siebert</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch. :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch. :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-28T10:16:15+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-28T10:16:20+00:00</updated-at>
      <user-id type="integer">8560</user-id>
      <version type="integer">12</version>
      <user-name>Arthur Schreiber</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Awesome. I always wanted this :D</body>
      <body-html>&lt;div&gt;&lt;p&gt;Awesome. I always wanted this :D&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-29T02:53:03+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-29T02:53:07+00:00</updated-at>
      <user-id type="integer">20005</user-id>
      <version type="integer">13</version>
      <user-name>Carlos J&#250;nior (xjunior)</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-29T02:53:14+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-29T02:53:18+00:00</updated-at>
      <user-id type="integer">20005</user-id>
      <version type="integer">14</version>
      <user-name>Carlos J&#250;nior (xjunior)</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-30T11:53:46+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2008-12-30T11:53:49+00:00</updated-at>
      <user-id type="integer">944</user-id>
      <version type="integer">15</version>
      <user-name>Erin Staniland</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 This or adding the a class right on the elements</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 This or adding the a class right on the elements&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-01T11:33:03+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-01T11:33:08+00:00</updated-at>
      <user-id type="integer">9692</user-id>
      <version type="integer">16</version>
      <user-name>Will</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch. Have always been tweaking field_errors_proc on most projects to achieve the same thing.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch. Have always been tweaking field_errors_proc
on most projects to achieve the same thing.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-01T23:33:27+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-01T23:33:31+00:00</updated-at>
      <user-id type="integer">38998</user-id>
      <version type="integer">17</version>
      <user-name>Jason Cheow</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Just to be Devil's Advocate - here's a reason why you'd want the extra markup rather than adding the class name to the element:

IE6 doesn't support double classes properly - so lets say you were trying to style an error marked checkbox differently from a textinput, for example, you wouldn't be able to do it if the checkbox had a class of fieldWithErrors, but you would if there was was a span with a class of fieldWithErrors containing that checkbox.

Maybe this is why extra markup was implemented in the first place?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Just to be Devil's Advocate - here's a reason why you'd want the
extra markup rather than adding the class name to the element:&lt;/p&gt;
&lt;p&gt;IE6 doesn't support double classes properly - so lets say you
were trying to style an error marked checkbox differently from a
textinput, for example, you wouldn't be able to do it if the
checkbox had a class of fieldWithErrors, but you would if there was
was a span with a class of fieldWithErrors containing that
checkbox.&lt;/p&gt;
&lt;p&gt;Maybe this is why extra markup was implemented in the first
place?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-07T15:44:01+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-07T15:44:04+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">18</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Good point Alex!
I agree that IE6 sucks, but unfortunately this is still a good reason to still use SPAN, imho.

So +1 for the first patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Good point Alex! I agree that IE6 sucks, but unfortunately this
is still a good reason to still use SPAN, imho.&lt;/p&gt;
&lt;p&gt;So +1 for the first patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-07T16:04:05+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-07T16:04:10+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">19</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>What I'd do in such a case might be to attach class names on the form elements' parent node, specifying the type of form input it encapsulates. For example:

@@@ html
&lt;p class=&quot;input&quot;&gt;
  &lt;label&gt;...&lt;/label&gt;
  &lt;input type=&quot;text&quot; /&gt;
&lt;/p&gt;
&lt;p class=&quot;checkbox&quot;&gt;
  &lt;input type=&quot;checkbox&quot; /&gt;
  &lt;label&gt;...&lt;/label&gt;
&lt;/p&gt;
@@@

And style the error marked checkbox using:

@@@ css
p.checkbox input.fieldWithErrors {
  ...
}
@@@

IMO, adding additional markup might interrupt with the styling of a page. As such, I'd still push for Adam's patch instead of replacing divs with spans.</body>
      <body-html>&lt;div&gt;&lt;p&gt;What I'd do in such a case might be to attach class names on the
form elements' parent node, specifying the type of form input it
encapsulates. For example:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;
&amp;lt;p class=&amp;quot;input&amp;quot;&amp;gt;
  &amp;lt;label&amp;gt;...&amp;lt;/label&amp;gt;
  &amp;lt;input type=&amp;quot;text&amp;quot; /&amp;gt;
&amp;lt;/p&amp;gt;
&amp;lt;p class=&amp;quot;checkbox&amp;quot;&amp;gt;
  &amp;lt;input type=&amp;quot;checkbox&amp;quot; /&amp;gt;
  &amp;lt;label&amp;gt;...&amp;lt;/label&amp;gt;
&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And style the error marked checkbox using:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;css&quot;&gt;
p.checkbox input.fieldWithErrors {
  ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;IMO, adding additional markup might interrupt with the styling
of a page. As such, I'd still push for Adam's patch instead of
replacing divs with spans.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-08T04:17:02+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-08T04:17:05+00:00</updated-at>
      <user-id type="integer">38998</user-id>
      <version type="integer">20</version>
      <user-name>Jason Cheow</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Jason,
Good point 
+1 for Adam's patch

We must have enough +1's by now</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jason, Good point +1 for Adam's patch&lt;/p&gt;
&lt;p&gt;We must have enough +1's by now&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-08T09:21:32+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionview helper patch tested
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-08T09:21:35+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">21</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 - very annoying problem</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 - very annoying problem&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-12T22:17:01+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-12T22:17:05+00:00</updated-at>
      <user-id type="integer">26942</user-id>
      <version type="integer">22</version>
      <user-name>Wiktor Schmidt</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Oh, so we would have also to change scaffold.css in the patch, right?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oh, so we would have also to change scaffold.css in the patch,
right?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-18T08:36:50+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-18T08:36:56+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">23</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Jos&#233;:
No, I don't think you do. The class .fieldWithErrors is not element specific and should work find on the input, rather than (as currently) the div.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jos&amp;eacute;: No, I don't think you do. The class
.fieldWithErrors is not element specific and should work find on
the input, rather than (as currently) the div.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-18T10:22:02+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-18T10:22:06+00:00</updated-at>
      <user-id type="integer">2171</user-id>
      <version type="integer">24</version>
      <user-name>Alex MacCaw</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-19T12:28:12+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-19T12:28:14+00:00</updated-at>
      <user-id type="integer">23609</user-id>
      <version type="integer">25</version>
      <user-name>Chris Barnett</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 to this and #1760</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 to this and &lt;a href=&quot;/projects/8994/tickets/1760&quot; title=&quot;Ticket #1760&quot;&gt;#1760&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-19T14:19:08+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-19T14:19:10+00:00</updated-at>
      <user-id type="integer">192</user-id>
      <version type="integer">26</version>
      <user-name>Mislav</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-27T15:54:56+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-01-27T15:55:00+00:00</updated-at>
      <user-id type="integer">10656</user-id>
      <version type="integer">27</version>
      <user-name>joost baaij</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-05T20:11:32+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-02-05T20:11:36+00:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">28</version>
      <user-name>DHH</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-05T22:00:01+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-02-05T22:00:04+00:00</updated-at>
      <user-id type="integer">20686</user-id>
      <version type="integer">29</version>
      <user-name>Tor Erik</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-09T21:32:17+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-02-09T21:32:21+00:00</updated-at>
      <user-id type="integer">46476</user-id>
      <version type="integer">30</version>
      <user-name>Jonas Schneider</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This is a great addition. I have looked at adding the class on the actual element in the past, but using a span around works for me just fine. +1 for sure. We have struggled with this faulty markup in every project I have been on.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is a great addition. I have looked at adding the class on
the actual element in the past, but using a span around works for
me just fine. +1 for sure. We have struggled with this faulty
markup in every project I have been on.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-24T20:09:04+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-03-24T20:09:09+00:00</updated-at>
      <user-id type="integer">50020</user-id>
      <version type="integer">31</version>
      <user-name>tonycoco</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>There's another reason for the extra element around the the field -- some form elements can't take a big fat red border cleanly -- try that with a Select, especially in Safari -- having the wrapper makes it easy to style the error with padding and a background color so it pops out of the page.</body>
      <body-html>&lt;div&gt;&lt;p&gt;There's another reason for the extra element around the the
field -- some form elements can't take a big fat red border cleanly
-- try that with a Select, especially in Safari -- having the
wrapper makes it easy to style the error with padding and a
background color so it pops out of the page.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-24T20:25:35+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-03-24T20:25:38+00:00</updated-at>
      <user-id type="integer">42850</user-id>
      <version type="integer">32</version>
      <user-name>Walter</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>i think the simplest approach would be to do something like this

http://drawohara.com/post/95192074/rails-control-actionview-error-mark-up-and-css

which is to say

1) just switch from div to span
2) allow overriding the error explanation classes (optional)

by moving div -&gt; span the benefits of wrapping with another element remain and the html output is mostly backwards compatible.

my 2 cts.</body>
      <body-html>&lt;div&gt;&lt;p&gt;i think the simplest approach would be to do something like
this&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://drawohara.com/post/95192074/rails-control-actionview-error-mark-up-and-css&quot;&gt;
http://drawohara.com/post/951920...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;which is to say&lt;/p&gt;
&lt;p&gt;1) just switch from div to span 2) allow overriding the error
explanation classes (optional)&lt;/p&gt;
&lt;p&gt;by moving div -&amp;gt; span the benefits of wrapping with another
element remain and the html output is mostly backwards
compatible.&lt;/p&gt;
&lt;p&gt;my 2 cts.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-11T19:38:39+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-04-11T19:38:42+01:00</updated-at>
      <user-id type="integer">52870</user-id>
      <version type="integer">33</version>
      <user-name>ara.t.howard</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-17T16:19:36+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-04-17T16:19:40+01:00</updated-at>
      <user-id type="integer">54403</user-id>
      <version type="integer">34</version>
      <user-name>Jim Neath</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I'm looking at the tests in Adam's patch to get the general idea... and I'm not sure I'm in agreement. There's  certainly room for improvement over the default output, but I don't think this patch addresses the real problem:

Currently errors get flagged by a fieldWithErrors wrapper div that encloses only the input element, and it comes and goes based on the status of the field... The patch nils out the field_error_proc, so we can avoid the transitory div, and moves the error class directly on the input element itself: but I think that's moving in the wrong direction.

(Also, I wonder how this patch handles composite inputs like date_select, would that mean 3 separate fieldWithErrors, thus 3 separate red borders on the select fields?)

I think everyone agrees there's a clear notion of a &quot;field&quot; which groups elements together: the input and the label, just to start! (One might also want inline error messages, hints, etc. on a field but that's custom). The point is these elements should be semantically part of the invalid field together.

I would rather propose a standard div element that wraps the pieces that make up a field, and conditionally apply the invalid class to that, just a little higher up in the DOM. From there it's easy to select invalid inputs or labels, or whatever other element of the field, using a descendant selector.

Here's what I would prefer to see as default behaviour:

@@@ html
&lt;!-- valid field --&gt;
&lt;div class=&quot;field&quot;&gt;
&lt;label for=&quot;post[author_name]&quot;&gt;Author Name&lt;/label&gt;
&lt;input name=&quot;post[author_name]&quot; id=&quot;post_author_name&quot; size=&quot;30&quot; type=&quot;text&quot; value=&quot;&quot; /&gt;
&lt;/div&gt;

&lt;!-- invalid field: the only diff is the outer wrapper --&gt;
&lt;div class=&quot;field with_errors&quot;&gt;
&lt;label for=&quot;post[author_name]&quot;&gt;Author Name&lt;/label&gt;
&lt;input name=&quot;post[author_name]&quot; id=&quot;post_author_name&quot; size=&quot;30&quot; type=&quot;text&quot; value=&quot;&quot; /&gt;
&lt;/div&gt;
@@@

This would obviously require another helper, but I think most of us already enclose our fields in a div, p, or li tag by convention anyway so a little ERB would just take the place of the HTML wrapper, something like this:

@@@
&lt;% f.field_tag(:author_name, :as =&gt; :div) do %&gt;
&lt;%= f.label :author_name %&gt;
&lt;%= f.text_field :author_name %&gt;
&lt;% end %&gt;
@@@

There could also be an option for having the error class on the input element like in Adam's patch without needing to use the field_tag, but I think that usage without a label should be more the exception than the rule.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm looking at the tests in Adam's patch to get the general
idea... and I'm not sure I'm in agreement. There's certainly room
for improvement over the default output, but I don't think this
patch addresses the real problem:&lt;/p&gt;
&lt;p&gt;Currently errors get flagged by a fieldWithErrors wrapper div
that encloses only the input element, and it comes and goes based
on the status of the field... The patch nils out the
field_error_proc, so we can avoid the transitory div, and moves the
error class directly on the input element itself: but I think
that's moving in the wrong direction.&lt;/p&gt;
&lt;p&gt;(Also, I wonder how this patch handles composite inputs like
date_select, would that mean 3 separate fieldWithErrors, thus 3
separate red borders on the select fields?)&lt;/p&gt;
&lt;p&gt;I think everyone agrees there's a clear notion of a &quot;field&quot;
which groups elements together: the input and the label, just to
start! (One might also want inline error messages, hints, etc. on a
field but that's custom). The point is these elements should be
semantically part of the invalid field together.&lt;/p&gt;
&lt;p&gt;I would rather propose a standard div element that wraps the
pieces that make up a field, and conditionally apply the invalid
class to that, just a little higher up in the DOM. From there it's
easy to select invalid inputs or labels, or whatever other element
of the field, using a descendant selector.&lt;/p&gt;
&lt;p&gt;Here's what I would prefer to see as default behaviour:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;
&amp;lt;!-- valid field --&amp;gt;
&amp;lt;div class=&amp;quot;field&amp;quot;&amp;gt;
&amp;lt;label for=&amp;quot;post[author_name]&amp;quot;&amp;gt;Author Name&amp;lt;/label&amp;gt;
&amp;lt;input name=&amp;quot;post[author_name]&amp;quot; id=&amp;quot;post_author_name&amp;quot; size=&amp;quot;30&amp;quot; type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;!-- invalid field: the only diff is the outer wrapper --&amp;gt;
&amp;lt;div class=&amp;quot;field with_errors&amp;quot;&amp;gt;
&amp;lt;label for=&amp;quot;post[author_name]&amp;quot;&amp;gt;Author Name&amp;lt;/label&amp;gt;
&amp;lt;input name=&amp;quot;post[author_name]&amp;quot; id=&amp;quot;post_author_name&amp;quot; size=&amp;quot;30&amp;quot; type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This would obviously require another helper, but I think most of
us already enclose our fields in a div, p, or li tag by convention
anyway so a little ERB would just take the place of the HTML
wrapper, something like this:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
&amp;lt;% f.field_tag(:author_name, :as =&amp;gt; :div) do %&amp;gt;
&amp;lt;%= f.label :author_name %&amp;gt;
&amp;lt;%= f.text_field :author_name %&amp;gt;
&amp;lt;% end %&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There could also be an option for having the error class on the
input element like in Adam's patch without needing to use the
field_tag, but I think that usage without a label should be more
the exception than the rule.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-17T19:08:55+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-04-17T19:08:59+01:00</updated-at>
      <user-id type="integer">17505</user-id>
      <version type="integer">35</version>
      <user-name>Andrew Vit</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 on Adam's patch.

For the time being, I'm just redefining ActionView::Base.field_error_proc on an initializer.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 on Adam's patch.&lt;/p&gt;
&lt;p&gt;For the time being, I'm just redefining
ActionView::Base.field_error_proc on an initializer.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-12T17:45:42+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-06-12T17:45:42+01:00</updated-at>
      <user-id type="integer">55673</user-id>
      <version type="integer">36</version>
      <user-name>Jose Otavio R. Ferreira</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>What if we apply a 'display: inline' to the div inside the p? Wouldn't that make the markup valid?</body>
      <body-html>&lt;div&gt;&lt;p&gt;What if we apply a 'display: inline' to the div inside the p?
Wouldn't that make the markup valid?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-18T19:45:32+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-06-18T19:45:39+01:00</updated-at>
      <user-id type="integer">52980</user-id>
      <version type="integer">37</version>
      <user-name>Gustavo Delfino</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Gustavo what would be the point of that when you could just change it to a span, which is already an inline element?

+1 for Adam's patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Gustavo what would be the point of that when you could just
change it to a span, which is already an inline element?&lt;/p&gt;
&lt;p&gt;+1 for Adam's patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-19T20:20:55+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-06-19T20:20:58+01:00</updated-at>
      <user-id type="integer">31718</user-id>
      <version type="integer">38</version>
      <user-name>jduff</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam's patch. I've had to use a Proc in an initializer to sub out the div for a span on several projects in the last few days.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam's patch. I've had to use a Proc in an initializer to
sub out the div for a span on several projects in the last few
days.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-18T19:31:00+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-08-18T19:31:05+01:00</updated-at>
      <user-id type="integer">34493</user-id>
      <version type="integer">39</version>
      <user-name>Jess Martin</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1, I'm voting for Adam's patch.  It might not be IE6-compatible but to be honest this should not mean that there can't be a solid implementation in Rails (which Adam's patch certainly supplies).

Also, I think this has been open for long enough to finally make it into a release.  Very annoying to still have this around with everybody rolling their own workaround.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1, I'm voting for Adam's patch. It might not be IE6-compatible
but to be honest this should not mean that there can't be a solid
implementation in Rails (which Adam's patch certainly
supplies).&lt;/p&gt;
&lt;p&gt;Also, I think this has been open for long enough to finally make
it into a release. Very annoying to still have this around with
everybody rolling their own workaround.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-11-04T13:36:47+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-11-04T13:36:52+00:00</updated-at>
      <user-id type="integer">75041</user-id>
      <version type="integer">40</version>
      <user-name>Frank Luithle</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I'm not normally one to rudely bump a ticket but really, what's the hold up here? There was a ticket for the exact same issue in Trac dating back to 2005 and yet it still hasn't been applied despite strong support and a lack of any convincing counter-argument.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm not normally one to rudely bump a ticket but really, what's
the hold up here? There was a ticket for the exact same issue in
Trac dating back to 2005 and yet it still hasn't been applied
despite strong support and a lack of any convincing
counter-argument.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-11-11T15:46:47+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-11-11T15:46:51+00:00</updated-at>
      <user-id type="integer">10014</user-id>
      <version type="integer">41</version>
      <user-name>James Le Cuirot</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for Adam, lets fix this please! What's the hold up?</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Adam, lets fix this please! What's the hold up?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-13T07:51:08+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-12-13T07:51:14+00:00</updated-at>
      <user-id type="integer">79548</user-id>
      <version type="integer">42</version>
      <user-name>Harry Brundage</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I think neither approach solves the real problem. (Which still exists in Rails 3 as of now)
Being able to customize field_error_proc on an request by request basis.

I currently use the following code in an initializer that gets around that:

@@@
# Problem:
# We want to customize field_error_proc for each action.
# We also want field_error_proc to remain threadsafe.
# Solution:
# We can access the controller inside of the proc. We check is the controller has an
# instance variable @field_error_proc. If so we invoke it. If not we invoke the default proc.
def override_field_error_proc
  pre = ActionView::Base.field_error_proc
  ActionView::Base.field_error_proc = proc { |input, instance|
    proc = instance.instance_variable_get('@template_object').controller.instance_variable_get('@field_error_proc')
    if proc.nil?
      pre.call(input, instance)
    else
      proc.call(input, instance)
    end
  }
end

override_field_error_proc
@@@

&lt;em&gt;Edited by Rohit Arondekar for formating.&lt;/em&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think neither approach solves the real problem. (Which still
exists in Rails 3 as of now)&lt;br&gt;
Being able to customize field_error_proc on an request by request
basis.&lt;/p&gt;
&lt;p&gt;I currently use the following code in an initializer that gets
around that:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# Problem:
# We want to customize field_error_proc for each action.
# We also want field_error_proc to remain threadsafe.
# Solution:
# We can access the controller inside of the proc. We check is the controller has an
# instance variable @field_error_proc. If so we invoke it. If not we invoke the default proc.
def override_field_error_proc
  pre = ActionView::Base.field_error_proc
  ActionView::Base.field_error_proc = proc { |input, instance|
    proc = instance.instance_variable_get('@template_object').controller.instance_variable_get('@field_error_proc')
    if proc.nil?
      pre.call(input, instance)
    else
      proc.call(input, instance)
    end
  }
end

override_field_error_proc&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Edited by Rohit Arondekar for formating.&lt;/em&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-15T10:09:33+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-06-23T14:25:20+01:00</updated-at>
      <user-id type="integer">15295</user-id>
      <version type="integer">43</version>
      <user-name>Martin Schuerrer</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Sorry for the formatting error, maybe someone could fix that. It seems I can't edit my comment.

Here's the code I wanted to display: http://pastie.org/743863</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry for the formatting error, maybe someone could fix that. It
seems I can't edit my comment.&lt;/p&gt;
&lt;p&gt;Here's the code I wanted to display: &lt;a href=
&quot;http://pastie.org/743863&quot;&gt;http://pastie.org/743863&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-15T10:11:07+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-12-15T10:11:12+00:00</updated-at>
      <user-id type="integer">15295</user-id>
      <version type="integer">44</version>
      <user-name>Martin Schuerrer</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 on this. In all my projects I have the fix_fields_with_errors.rb file in initializers to change div for span.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 on this. In all my projects I have the
fix_fields_with_errors.rb file in initializers to change div for
span.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-26T22:59:45+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2009-12-26T22:59:50+00:00</updated-at>
      <user-id type="integer">12475</user-id>
      <version type="integer">45</version>
      <user-name>Henrique</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1

In every project I do the below to change div to span:
@@@
config.action_view.field_error_proc = Proc.new{ |html_tag, instance| &quot;&lt;span class=\&quot;fieldWithErrors\&quot;&gt;#{html_tag}&lt;/span&gt;&quot; }
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;In every project I do the below to change div to span:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;config.action_view.field_error_proc = Proc.new{ |html_tag, instance| &quot;&amp;lt;span class=&amp;amp;quot;fieldWithErrors&amp;amp;quot;&amp;gt;#{html_tag}&amp;lt;/span&amp;gt;&quot; }&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-20T08:46:55+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-04-20T08:47:03+01:00</updated-at>
      <user-id type="integer">95746</user-id>
      <version type="integer">46</version>
      <user-name>Sharagoz</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:37+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-05-04T18:48:37+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">47</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The methods in question I believe have been extracted into a plugin http://github.com/rails/dynamic_form Can somebody check if the issue still exists and update the ticket?</body>
      <body-html>&lt;div&gt;&lt;p&gt;The methods in question I believe have been extracted into a
plugin &lt;a href=
&quot;http://github.com/rails/dynamic_form&quot;&gt;http://github.com/rails/dynamic_form&lt;/a&gt;
Can somebody check if the issue still exists and update the
ticket?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-15T11:28:10+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-06-15T11:28:44+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">48</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The error_proc and error wrapping code is still part of core so the issue still exists.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The error_proc and error wrapping code is still part of core so
the issue still exists.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-15T14:00:00+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-06-15T14:00:44+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">49</version>
      <user-name>Andrew White</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Having said that, it'd probably better if they were moved to the dynamic_form plugin.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Having said that, it'd probably better if they were moved to the
dynamic_form plugin.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-15T14:03:54+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-06-15T14:04:33+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">50</version>
      <user-name>Andrew White</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The main issue was that we had a div inside a &lt;p&gt; element. Since scaffold now defaults to &lt;div&gt; instead of &lt;p&gt; this is no longer an issue. And I don't think we should move this to dynamic_form. dynamic_form just holds the very old `form` method and error_messages_for.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The main issue was that we had a div inside a&lt;/p&gt;
&lt;p&gt;element. Since scaffold now defaults to&lt;/p&gt;
&lt;div&gt;instead of
&lt;p&gt;this is no longer an issue. And I don't think we should move
this to dynamic_form. dynamic_form just holds the very old
&lt;code&gt;form&lt;/code&gt; method and error_messages_for.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-23T16:24:03+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>actionview helper patch tested verified</tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-06-23T16:24:28+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">51</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-08T08:25:08+00:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionview helper patch tested verified
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag nil="true"></tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2010-11-08T08:25:17+00:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">53</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The issue still impacts people who we want to wrap forms in &amp;lt;p&amp;gt;s. As long as the markup wrapped by the .field_with_errors class consists of inline elements, it would still be better to wrap it with &amp;lt;span&amp;gt;s. Good defaults FTW?</body>
      <body-html>&lt;div&gt;&lt;p&gt;The issue still impacts people who we want to wrap forms in
&amp;lt;p&amp;gt;s. As long as the markup wrapped by the .field_with_errors
class consists of inline elements, it would still be better to wrap
it with &amp;lt;span&amp;gt;s. Good defaults FTW?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-10T22:35:53+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 83
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag nil="true"></tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2011-04-10T22:36:51+01:00</updated-at>
      <user-id type="integer">33110</user-id>
      <version type="integer">54</version>
      <user-name>Victor Costan</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>error_messages_for no more in the rails core, it's separate plugin. So you may try to contact with maintainer, add pull request from your fork or something like that. Or better to use simple_form or formtastic (in formtastic there are good `semantic_errors` method).</body>
      <body-html>&lt;div&gt;&lt;p&gt;error_messages_for no more in the rails core, it's separate
plugin. So you may try to contact with maintainer, add pull request
from your fork or something like that. Or better to use simple_form
or formtastic (in formtastic there are good
&lt;code&gt;semantic_errors&lt;/code&gt; method).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-10T23:42:59+01:00</created-at>
      <creator-id type="integer">2171</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1626</number>
      <permalink>fieldwitherrors-shouldnt-use-a-div</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag nil="true"></tag>
      <title>fieldWithErrors shouldn't use a div</title>
      <updated-at type="datetime">2011-04-10T23:43:57+01:00</updated-at>
      <user-id type="integer">16383</user-id>
      <version type="integer">55</version>
      <user-name>Dmitry Polushkin</user-name>
      <creator-name>Alex MacCaw</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1626</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>2f860327e398305e02ae922800e7f3330c0c8273</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-12-24T09:39:44+00:00</created-at>
      <filename>fix_ar_errors_helper.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">73743</id>
      <size type="integer">9446</size>
      <uploader-id type="integer">2171</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/73743/fix_ar_errors_helper.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>9490f04fae150dc5eee6c670b3abe11d747c5cb2</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-12-27T21:56:07+00:00</created-at>
      <filename>error_tags.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">74078</id>
      <size type="integer">13405</size>
      <uploader-id type="integer">29892</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/74078/error_tags.patch</url>
    </attachment>
  </attachments>
</ticket>
