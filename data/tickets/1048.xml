<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">85</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-09-15T09:38:37+01:00</created-at>
  <creator-id type="integer">7400</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">1048</number>
  <permalink>i18n-introduce-i18nload_path-in-favor-of-i18nload_translations-and-change-simple-backend-to-load-translations-lazily</permalink>
  <priority type="integer">461</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>i18n patch</tag>
  <title>I18n: introduce I18n.load_path in favor of I18n.load_translations and change Simple backend to load translations lazily</title>
  <updated-at type="datetime">2008-09-20T19:39:39+01:00</updated-at>
  <user-id type="integer">7400</user-id>
  <version type="integer">3</version>
  <user-name>Sven Fuchs</user-name>
  <creator-name>Sven Fuchs</creator-name>
  <assigned-user-name>Jeremy Kemper</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1048</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Rails libraries announce their translation files to the I18n library when they're loaded during Rails init process. So far the translations are immediately loaded by the backend which makes it hard to swap the backend after the Rails libraries have been loaded (e.g. custom initializer or plugin).

We've discussed various options to solve this and we believe that the best solution is to remove #load_translations from I18n in favor of a #load_path array which only collects the announced translation sources. The Simple backend can then lazy-load the translations at the latest possible point, i.e. before the first lookup happens.

The attached patch should apply but might rely on #1044 being applied. Maybe it's easier to pull from my fork instead: http://github.com/svenfuchs/rails/tree/master</original-body>
  <latest-body>Rails libraries announce their translation files to the I18n library when they're loaded during Rails init process. So far the translations are immediately loaded by the backend which makes it hard to swap the backend after the Rails libraries have been loaded (e.g. custom initializer or plugin).

We've discussed various options to solve this and we believe that the best solution is to remove #load_translations from I18n in favor of a #load_path array which only collects the announced translation sources. The Simple backend can then lazy-load the translations at the latest possible point, i.e. before the first lookup happens.

The attached patch should apply but might rely on #1044 being applied. Maybe it's easier to pull from my fork instead: http://github.com/svenfuchs/rails/tree/master</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Rails libraries announce their translation files to the I18n
library when they're loaded during Rails init process. So far the
translations are immediately loaded by the backend which makes it
hard to swap the backend after the Rails libraries have been loaded
(e.g. custom initializer or plugin).&lt;/p&gt;
&lt;p&gt;We've discussed various options to solve this and we believe
that the best solution is to remove #load_translations from I18n in
favor of a #load_path array which only collects the announced
translation sources. The Simple backend can then lazy-load the
translations at the latest possible point, i.e. before the first
lookup happens.&lt;/p&gt;
&lt;p&gt;The attached patch should apply but might rely on &lt;a href=&quot;/projects/8994/tickets/1044&quot; title=&quot;Ticket #1044&quot;&gt;#1044&lt;/a&gt; being
applied. Maybe it's easier to pull from my fork instead: &lt;a href=&quot;http://github.com/svenfuchs/rails/tree/master&quot;&gt;http://github.com/svenfuchs/rail...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Rails libraries announce their translation files to the I18n library when they're loaded during Rails init process. So far the translations are immediately loaded by the backend which makes it hard to swap the backend after the Rails libraries have been loaded (e.g. custom initializer or plugin).

We've discussed various options to solve this and we believe that the best solution is to remove #load_translations from I18n in favor of a #load_path array which only collects the announced translation sources. The Simple backend can then lazy-load the translations at the latest possible point, i.e. before the first lookup happens.

The attached patch should apply but might rely on #1044 being applied. Maybe it's easier to pull from my fork instead: http://github.com/svenfuchs/rails/tree/master</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rails libraries announce their translation files to the I18n
library when they're loaded during Rails init process. So far the
translations are immediately loaded by the backend which makes it
hard to swap the backend after the Rails libraries have been loaded
(e.g. custom initializer or plugin).&lt;/p&gt;
&lt;p&gt;We've discussed various options to solve this and we believe
that the best solution is to remove #load_translations from I18n in
favor of a #load_path array which only collects the announced
translation sources. The Simple backend can then lazy-load the
translations at the latest possible point, i.e. before the first
lookup happens.&lt;/p&gt;
&lt;p&gt;The attached patch should apply but might rely on &lt;a href=&quot;/projects/8994/tickets/1044&quot; title=&quot;Ticket #1044&quot;&gt;#1044&lt;/a&gt; being
applied. Maybe it's easier to pull from my fork instead: &lt;a href=&quot;http://github.com/svenfuchs/rails/tree/master&quot;&gt;http://github.com/svenfuchs/rail...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-15T09:38:37+01:00</created-at>
      <creator-id type="integer">7400</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1048</number>
      <permalink>i18n-introduce-i18nload_path-in-favor-of-i18nload_translations-and-change-simple-backend-to-load-translations-lazily</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>i18n patch</tag>
      <title>I18n: introduce I18n.load_path in favor of I18n.load_translations and change Simple backend to load translations lazily</title>
      <updated-at type="datetime">2008-09-15T12:05:59+01:00</updated-at>
      <user-id type="integer">7400</user-id>
      <version type="integer">1</version>
      <user-name>Sven Fuchs</user-name>
      <creator-name>Sven Fuchs</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1048</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [a3b7fa78bfdc33e45e39c095b67e02d50a2c7bea]) I18n: Introduce I18n.load_path in favor of I18n.load_translations and change Simple backend to load translations lazily. [#1048 state:resolved]

Signed-off-by: Pratik Naik &lt;pratiknaik@gmail.com&gt;
http://github.com/rails/rails/commit/a3b7fa78bfdc33e45e39c095b67e02d50a2c7bea</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [a3b7fa78bfdc33e45e39c095b67e02d50a2c7bea]) I18n:
Introduce I18n.load_path in favor of I18n.load_translations and
change Simple backend to load translations lazily. [&lt;a href=&quot;/projects/8994/tickets/1048&quot; title=&quot;Ticket #1048&quot;&gt;#1048&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Pratik Naik &lt;a href=&quot;mailto:pratiknaik@gmail.com&quot;&gt;pratiknaik@gmail.com&lt;/a&gt; &lt;a href=&quot;http://github.com/rails/rails/commit/a3b7fa78bfdc33e45e39c095b67e02d50a2c7bea&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-09-20T19:27:28+01:00</created-at>
      <creator-id type="integer">7400</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:tag: i18n patch
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1048</number>
      <permalink>i18n-introduce-i18nload_path-in-favor-of-i18nload_translations-and-change-simple-backend-to-load-translations-lazily</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>i18n patch</tag>
      <title>I18n: introduce I18n.load_path in favor of I18n.load_translations and change Simple backend to load translations lazily</title>
      <updated-at type="datetime">2008-09-20T19:27:30+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">2</version>
      <user-name>Repository</user-name>
      <creator-name>Sven Fuchs</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1048</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>thanks lifo :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;thanks lifo :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-09-20T19:39:38+01:00</created-at>
      <creator-id type="integer">7400</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1048</number>
      <permalink>i18n-introduce-i18nload_path-in-favor-of-i18nload_translations-and-change-simple-backend-to-load-translations-lazily</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>i18n patch</tag>
      <title>I18n: introduce I18n.load_path in favor of I18n.load_translations and change Simple backend to load translations lazily</title>
      <updated-at type="datetime">2008-09-20T19:39:39+01:00</updated-at>
      <user-id type="integer">7400</user-id>
      <version type="integer">3</version>
      <user-name>Sven Fuchs</user-name>
      <creator-name>Sven Fuchs</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1048</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>19049a07ed50758627f2336158cafe0ab0afa4c7</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-09-15T09:38:53+01:00</created-at>
      <filename>0001-I18n-introduce-I18n.load_path-in-favor-of-I18n.load.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">45914</id>
      <size type="integer">6713</size>
      <uploader-id type="integer">7400</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/45914/0001-I18n-introduce-I18n.load_path-in-favor-of-I18n.load.patch</url>
    </attachment>
  </attachments>
</ticket>
