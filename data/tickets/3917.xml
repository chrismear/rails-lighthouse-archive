<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">12714</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-02-10T03:58:43+00:00</created-at>
  <creator-id type="integer">1300</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3917</number>
  <permalink>uninitialized-constant-rackruntime-error</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
  <title>uninitialized constant Rack::Runtime error</title>
  <updated-at type="datetime">2010-10-08T15:46:37+01:00</updated-at>
  <user-id type="integer">19965</user-id>
  <version type="integer">14</version>
  <user-name>Jos&#233; Valim</user-name>
  <creator-name>Anil Wadghule</creator-name>
  <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
  <priority-name>Low</priority-name>
  <original-body>I am running http://planetrubyonrails.net/ with Rails 3.0 beta.  (code available at http://github.com/anildigital/planet/commits/master)

During the day I get the passenger error page 
with message. It goes when I restart apache .. But it comes again sometime in the day.

Error message:
uninitialized constant Rack::Runtime
Exception class:
NameError
Application root:
/home/anil/public_html/planetrails.digitalcodes.org/current
Backtrace:
#	File	Line	Location
0	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	456	in `load_missing_constant'
1	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	91	in `const_missing'
2	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	101	in `constantize'
3	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	100	in `each'
4	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	100	in `constantize'
5	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	37	in `klass'
6	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	42	in `active?'
7	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	122	in `active'
8	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	158	in `find_all'
9	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	122	in `each'</original-body>
  <latest-body>I am running http://planetrubyonrails.net/ with Rails 3.0 beta.  (code available at http://github.com/anildigital/planet/commits/master)

During the day I get the passenger error page 
with message. It goes when I restart apache .. But it comes again sometime in the day.

Error message:
uninitialized constant Rack::Runtime
Exception class:
NameError
Application root:
/home/anil/public_html/planetrails.digitalcodes.org/current
Backtrace:
#	File	Line	Location
0	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	456	in `load_missing_constant'
1	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	91	in `const_missing'
2	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	101	in `constantize'
3	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	100	in `each'
4	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	100	in `constantize'
5	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	37	in `klass'
6	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	42	in `active?'
7	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	122	in `active'
8	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	158	in `find_all'
9	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	122	in `each'</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I am running &lt;a href=
&quot;http://planetrubyonrails.net/&quot;&gt;http://planetrubyonrails.net/&lt;/a&gt;
with Rails 3.0 beta. (code available at &lt;a href=
&quot;http://github.com/anildigital/planet/commits/master&quot;&gt;http://github.com/anildigital/planet/commits/master&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;During the day I get the passenger error page&lt;br&gt;
with message. It goes when I restart apache .. But it comes again
sometime in the day.&lt;/p&gt;
&lt;p&gt;Error message:&lt;br&gt;
uninitialized constant Rack::Runtime&lt;br&gt;
Exception class:&lt;br&gt;
NameError&lt;br&gt;
Application root:&lt;br&gt;
/home/anil/public_html/planetrails.digitalcodes.org/current
Backtrace:&lt;br&gt;&lt;/p&gt;
&lt;h1&gt;File Line Location&lt;/h1&gt;
&lt;p&gt;0
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb
456 in &lt;code&gt;load_missing_constant'&amp;lt;br/&amp;gt; 1
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb
91 in&lt;/code&gt;const_missing'&lt;br&gt;
2
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb
101 in &lt;code&gt;constantize'&amp;lt;br/&amp;gt; 3
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb
100 in&lt;/code&gt;each'&lt;br&gt;
4
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb
100 in &lt;code&gt;constantize'&amp;lt;br/&amp;gt; 5
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
37 in&lt;/code&gt;klass'&lt;br&gt;
6
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
42 in &lt;code&gt;active?'&amp;lt;br/&amp;gt; 7
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
122 in&lt;/code&gt;active'&lt;br&gt;
8
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb
158 in &lt;code&gt;find_all'&amp;lt;br/&amp;gt; 9
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
122 in&lt;/code&gt;each'&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I am running http://planetrubyonrails.net/ with Rails 3.0 beta.  (code available at http://github.com/anildigital/planet/commits/master)

During the day I get the passenger error page 
with message. It goes when I restart apache .. But it comes again sometime in the day.

Error message:
uninitialized constant Rack::Runtime
Exception class:
NameError
Application root:
/home/anil/public_html/planetrails.digitalcodes.org/current
Backtrace:
#	File	Line	Location
0	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	456	in `load_missing_constant'
1	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	91	in `const_missing'
2	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	101	in `constantize'
3	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	100	in `each'
4	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb	100	in `constantize'
5	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	37	in `klass'
6	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	42	in `active?'
7	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	122	in `active'
8	/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb	158	in `find_all'
9	/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb	122	in `each'</body>
      <body-html>&lt;div&gt;&lt;p&gt;I am running &lt;a href=
&quot;http://planetrubyonrails.net/&quot;&gt;http://planetrubyonrails.net/&lt;/a&gt;
with Rails 3.0 beta. (code available at &lt;a href=
&quot;http://github.com/anildigital/planet/commits/master&quot;&gt;http://github.com/anildigital/planet/commits/master&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;During the day I get the passenger error page&lt;br&gt;
with message. It goes when I restart apache .. But it comes again
sometime in the day.&lt;/p&gt;
&lt;p&gt;Error message:&lt;br&gt;
uninitialized constant Rack::Runtime&lt;br&gt;
Exception class:&lt;br&gt;
NameError&lt;br&gt;
Application root:&lt;br&gt;
/home/anil/public_html/planetrails.digitalcodes.org/current
Backtrace:&lt;br&gt;&lt;/p&gt;
&lt;h1&gt;File Line Location&lt;/h1&gt;
&lt;p&gt;0
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb
456 in &lt;code&gt;load_missing_constant'&amp;lt;br/&amp;gt; 1
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb
91 in&lt;/code&gt;const_missing'&lt;br&gt;
2
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb
101 in &lt;code&gt;constantize'&amp;lt;br/&amp;gt; 3
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb
100 in&lt;/code&gt;each'&lt;br&gt;
4
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/inflector/methods.rb
100 in &lt;code&gt;constantize'&amp;lt;br/&amp;gt; 5
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
37 in&lt;/code&gt;klass'&lt;br&gt;
6
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
42 in &lt;code&gt;active?'&amp;lt;br/&amp;gt; 7
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
122 in&lt;/code&gt;active'&lt;br&gt;
8
/usr/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta/lib/active_support/dependencies.rb
158 in &lt;code&gt;find_all'&amp;lt;br/&amp;gt; 9
/usr/lib/ruby/gems/1.8/gems/actionpack-3.0.0.beta/lib/action_dispatch/middleware/stack.rb
122 in&lt;/code&gt;each'&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-10T03:58:43+00:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-02-10T03:58:45+00:00</updated-at>
      <user-id type="integer">1300</user-id>
      <version type="integer">1</version>
      <user-name>Anil Wadghule</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Which passenger version? You need 2.2.9.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Which passenger version? You need 2.2.9.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-10T06:42:31+00:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-02-10T06:42:35+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">2</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Are you running ruby 1.8?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Are you running ruby 1.8?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-10T06:51:01+00:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-02-10T06:51:05+00:00</updated-at>
      <user-id type="integer">84262</user-id>
      <version type="integer">3</version>
      <user-name>westoque</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>ruby 1.8.7 (2008-08-11 patchlevel 72) [x86_64-linux]
passenger 2.2.4</body>
      <body-html>&lt;div&gt;&lt;p&gt;ruby 1.8.7 (2008-08-11 patchlevel 72) [x86_64-linux]&lt;br&gt;
passenger 2.2.4&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-10T07:00:25+00:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-02-10T07:00:28+00:00</updated-at>
      <user-id type="integer">1300</user-id>
      <version type="integer">4</version>
      <user-name>Anil Wadghule</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>That is it, you need passenger 2.2.9. Reopen if you have find issues in newest version.</body>
      <body-html>&lt;div&gt;&lt;p&gt;That is it, you need passenger 2.2.9. Reopen if you have find
issues in newest version.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-10T07:03:29+00:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-02-10T07:03:30+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">5</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This problem seems to be occurring again. I am using passenger 2.2.9, rails3 beta3 and bundler 0.9.21 and I am getting the `uninitialized constant Rack::Runtime` error. Can anyone else confirm whether or not this is broken in rails 3 beta3?</body>
      <body-html>&lt;div&gt;&lt;p&gt;This problem seems to be occurring again. I am using passenger
2.2.9, rails3 beta3 and bundler 0.9.21 and I am getting the
&lt;code&gt;uninitialized constant Rack::Runtime&lt;/code&gt; error. Can anyone
else confirm whether or not this is broken in rails 3 beta3?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-19T11:45:52+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-04-19T11:45:54+01:00</updated-at>
      <user-id type="integer">94718</user-id>
      <version type="integer">6</version>
      <user-name>Alex Sharp</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Nevermind my last comment; was an error on my part w/ passenger config. My apologies.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Nevermind my last comment; was an error on my part w/ passenger
config. My apologies.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-05T00:47:14+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-05-05T00:47:16+01:00</updated-at>
      <user-id type="integer">94718</user-id>
      <version type="integer">7</version>
      <user-name>Alex Sharp</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I have the same problem on my production environment.

Error message:
uninitialized constant Rack::Runtime

phusion passenger 2.2.11
ruby 1.8.7 (2009-06-12 patchlevel 174) [x86_64-linux], MBARI 0x6770, Ruby Enterprise Edition 20090928

Strange thing is the same config works on my Mac with same ruby.
Is this a phusion passenger thing? Tried all versions and searched for info. Nothing other than this problem seems to pop out in google.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have the same problem on my production environment.&lt;/p&gt;
&lt;p&gt;Error message:&lt;br&gt;
uninitialized constant Rack::Runtime&lt;/p&gt;
&lt;p&gt;phusion passenger 2.2.11&lt;br&gt;
ruby 1.8.7 (2009-06-12 patchlevel 174) [x86_64-linux], MBARI
0x6770, Ruby Enterprise Edition 20090928&lt;/p&gt;
&lt;p&gt;Strange thing is the same config works on my Mac with same
ruby.&lt;br&gt;
Is this a phusion passenger thing? Tried all versions and searched
for info. Nothing other than this problem seems to pop out in
google.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-07T23:47:50+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-07T23:47:52+01:00</updated-at>
      <user-id type="integer">46877</user-id>
      <version type="integer">8</version>
      <user-name>YavorIvanov</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Noticed the same problem.
I have ported an app from rails 2.3 to 3.0 
No problems in integration environment.
On production this error occurs.

phusion passenger 2.2.15
ruby 1.8.7 (2010-04-19 patchlevel 253) [i486-linux], MBARI 0x8770, Ruby Enterprise Edition 2010.02

Error message:
    uninitialized constant Rack::Runtime
Exception class:
    NameError
Backtrace:
    # 	File 	Line 	Location
    0 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	192 	in `default_middleware_stack'
    1 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	189 	in `tap'
    2 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	189 	in `default_middleware_stack'
    3 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	161 	in `build_middleware_stack'
    4 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application/finisher.rb 	35 	
    5 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb 	25 	in `instance_exec'
    6 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb 	25 	in `run'
    7 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb 	50 	in `run_initializers'
    8 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb 	49 	in `each'
    9 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb 	49 	in `run_initializers'
    10 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	134 	in `initialize!'
    11 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	77 	in `send'
    12 	/home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb 	77 	in `method_missing'
    13 	/home/rails/backoffice/releases/20101008131952/config/environment.rb 	5 	
    14 	/usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb 	318 	in `require'
    15 	/usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb 	318 	in `preload_application'
    16 	/usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb 	267 	in `initialize_server'
    17 	/usr/lib/ruby/1.8/phusion_passenger/utils.rb 	323 	in `report_app_init_status'
    18 	/usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb 	246 	in `initialize_server'
    19 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb 	194 	in `start_synchronously'
    20 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb 	163 	in `start'
    21 	/usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb 	222 	in `start'
    22 	/usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb 	253 	in `spawn_rails_application'
    23 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server_collection.rb 	126 	in `lookup_or_add'
    24 	/usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb 	247 	in `spawn_rails_application'
    25 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server_collection.rb 	80 	in `synchronize'
    26 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server_collection.rb 	79 	in `synchronize'
    27 	/usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb 	246 	in `spawn_rails_application'
    28 	/usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb 	145 	in `spawn_application'
    29 	/usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb 	278 	in `handle_spawn_application'
    30 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb 	352 	in `__send__'
    31 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb 	352 	in `main_loop'
    32 	/usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb 	196 	in `start_synchronously'
    33 	/usr/lib/phusion_passenger/passenger-spawn-server 	61</body>
      <body-html>&lt;div&gt;&lt;p&gt;Noticed the same problem.&lt;br&gt;
I have ported an app from rails 2.3 to 3.0&lt;br&gt;
No problems in integration environment.&lt;br&gt;
On production this error occurs.&lt;/p&gt;
&lt;p&gt;phusion passenger 2.2.15&lt;br&gt;
ruby 1.8.7 (2010-04-19 patchlevel 253) [i486-linux], MBARI 0x8770,
Ruby Enterprise Edition 2010.02&lt;/p&gt;
&lt;p&gt;Error message:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;uninitialized constant Rack::Runtime&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Exception class:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;NameError&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Backtrace:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;#   File    Line    Location
0   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  192     in `default_middleware_stack'
1   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  189     in `tap'
2   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  189     in `default_middleware_stack'
3   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  161     in `build_middleware_stack'
4   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application/finisher.rb     35  
5   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb    25  in `instance_exec'
6   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb    25  in `run'
7   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb    50  in `run_initializers'
8   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb    49  in `each'
9   /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/initializable.rb    49  in `run_initializers'
10  /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  134     in `initialize!'
11  /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  77  in `send'
12  /home/rails/backoffice/shared/bundle/ruby/1.8/gems/railties-3.0.0/lib/rails/application.rb  77  in `method_missing'
13  /home/rails/backoffice/releases/20101008131952/config/environment.rb    5   
14  /usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb    318     in `require'
15  /usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb    318     in `preload_application'
16  /usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb    267     in `initialize_server'
17  /usr/lib/ruby/1.8/phusion_passenger/utils.rb    323     in `report_app_init_status'
18  /usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb    246     in `initialize_server'
19  /usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb  194     in `start_synchronously'
20  /usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb  163     in `start'
21  /usr/lib/ruby/1.8/phusion_passenger/railz/application_spawner.rb    222     in `start'
22  /usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb    253     in `spawn_rails_application'
23  /usr/lib/ruby/1.8/phusion_passenger/abstract_server_collection.rb   126     in `lookup_or_add'
24  /usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb    247     in `spawn_rails_application'
25  /usr/lib/ruby/1.8/phusion_passenger/abstract_server_collection.rb   80  in `synchronize'
26  /usr/lib/ruby/1.8/phusion_passenger/abstract_server_collection.rb   79  in `synchronize'
27  /usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb    246     in `spawn_rails_application'
28  /usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb    145     in `spawn_application'
29  /usr/lib/ruby/1.8/phusion_passenger/spawn_manager.rb    278     in `handle_spawn_application'
30  /usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb  352     in `__send__'
31  /usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb  352     in `main_loop'
32  /usr/lib/ruby/1.8/phusion_passenger/abstract_server.rb  196     in `start_synchronously'
33  /usr/lib/phusion_passenger/passenger-spawn-server   61&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-08T15:21:28+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; server
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-08T15:21:32+01:00</updated-at>
      <user-id type="integer">119179</user-id>
      <version type="integer">9</version>
      <user-name>Adrian Halamoda</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Yep! Same Error and Backtrace. I have gotten to a point where I will try upgrading Ruby.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yep! Same Error and Backtrace. I have gotten to a point where I
will try upgrading Ruby.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-08T15:26:24+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-08T15:26:29+01:00</updated-at>
      <user-id type="integer">46877</user-id>
      <version type="integer">10</version>
      <user-name>YavorIvanov</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If you try to use webrat or thin for booting, does it work? Have you talked to phusion guys?</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you try to use webrat or thin for booting, does it work? Have
you talked to phusion guys?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-08T15:27:43+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-08T15:27:45+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">11</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Had Mongrel and Unicorn installed ... also don't work with them.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Had Mongrel and Unicorn installed ... also don't work with
them.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-08T15:39:06+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-08T15:39:08+01:00</updated-at>
      <user-id type="integer">46877</user-id>
      <version type="integer">12</version>
      <user-name>YavorIvanov</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>RAILS_ENV=production rails s - works just fine.

I tracked it little bit It seems passenger is using
/home/rails/backoffice/releases/20101008131952/config/environment.rb  	5  	
14 	config.ru 	3 	in `require'
15 	config.ru 	3 	
16 	/usr/lib/ruby/1.8/rack/builder.rb 	29 	in `instance_eval'
17 	/usr/lib/ruby/1.8/rack/builder.rb 	29 	in `initialize'
18 	config.ru 	1 	in `new'
19 	config.ru

which is a false (old) rack version 1.0.1 and not the bundler version.

Is it passeneger or bundler issue?</body>
      <body-html>&lt;div&gt;&lt;p&gt;RAILS_ENV=production rails s - works just fine.&lt;/p&gt;
&lt;p&gt;I tracked it little bit It seems passenger is using&lt;br&gt;
/home/rails/backoffice/releases/20101008131952/config/environment.rb
5&lt;br&gt;
14 config.ru 3 in &lt;code&gt;require'&amp;lt;br/&amp;gt; 15 config.ru
3&amp;lt;br/&amp;gt; 16 /usr/lib/ruby/1.8/rack/builder.rb 29
in&lt;/code&gt;instance_eval'&lt;br&gt;
17 /usr/lib/ruby/1.8/rack/builder.rb 29 in
&lt;code&gt;initialize'&amp;lt;br/&amp;gt; 18 config.ru 1 in&lt;/code&gt;new'&lt;br&gt;
19 config.ru&lt;/p&gt;
&lt;p&gt;which is a false (old) rack version 1.0.1 and not the bundler
version.&lt;/p&gt;
&lt;p&gt;Is it passeneger or bundler issue?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-08T15:39:24+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-08T15:39:29+01:00</updated-at>
      <user-id type="integer">119179</user-id>
      <version type="integer">13</version>
      <user-name>Adrian Halamoda</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Passenger.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Passenger.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-08T15:46:35+01:00</created-at>
      <creator-id type="integer">1300</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3917</number>
      <permalink>uninitialized-constant-rackruntime-error</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>error passenger rack rack::runtime rails &quot;rails 3.0 beta&quot; &quot;rails 3.0.0&quot; server</tag>
      <title>uninitialized constant Rack::Runtime error</title>
      <updated-at type="datetime">2010-10-08T15:46:37+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">14</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Anil Wadghule</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3917</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
