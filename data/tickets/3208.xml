<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">4</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-09-15T11:01:50+01:00</created-at>
  <creator-id type="integer">25489</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">73534</milestone-id>
  <number type="integer">3208</number>
  <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>duplicate</state>
  <tag>2-3-stable :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
  <title>belongs_to with :primary_key does not work with find's :include</title>
  <updated-at type="datetime">2010-10-16T23:40:52+01:00</updated-at>
  <user-id type="integer">81551</user-id>
  <version type="integer">31</version>
  <user-name>Andrea Campi</user-name>
  <creator-name>Tomash</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
  <milestone-title>2.3.9</milestone-title>
  <priority-name>Medium</priority-name>
  <original-body>Since 2.3.3 Rails supports both :foreign_key and :primary_key for belongs_to association.
Using both (or only :primary_key) works great for simple instance.owner.
However, when using Owned.find(..., :include =&gt; [:owner]) the owner gets joined using it's ID (model's own primary key) column instead of the :primary_key defined within Owned's (which is the expected behaviour) belongs_to :owner association.

Thus
owned.owner yields different results based on whether owned was pulled using Owned.find(id, :include =&gt; [:owner])  or Owned.find(id) (and of course .owner gets pulled when owned.owner gets called in the view).

It was pretty hard to stumble upon this error, as one needs to have some overlapping values in both columns. In our case it was
regions table has column &quot;zip&quot; (5-digit numbers)
users table has column &quot;postal_code&quot;, User belongs_to(:region, :foreign_key =&gt; :postal_code, :primary_key =&gt; :zip)
It turned out that when using @user=User.find(id, :include =&gt; [:region]) the region was joined using regions.id instead of regions.zip:
@@@
SELECT &quot;users&quot;.* FROM &quot;users&quot; LEFT OUTER JOIN &quot;regions&quot; ON &quot;regions&quot;.id = &quot;users&quot;.postal_code WHERE (&quot;users&quot;.&quot;id&quot; = 1))
@@@</original-body>
  <latest-body>Since 2.3.3 Rails supports both :foreign_key and :primary_key for belongs_to association.
Using both (or only :primary_key) works great for simple instance.owner.
However, when using Owned.find(..., :include =&gt; [:owner]) the owner gets joined using it's ID (model's own primary key) column instead of the :primary_key defined within Owned's (which is the expected behaviour) belongs_to :owner association.

Thus
owned.owner yields different results based on whether owned was pulled using Owned.find(id, :include =&gt; [:owner])  or Owned.find(id) (and of course .owner gets pulled when owned.owner gets called in the view).

It was pretty hard to stumble upon this error, as one needs to have some overlapping values in both columns. In our case it was
regions table has column &quot;zip&quot; (5-digit numbers)
users table has column &quot;postal_code&quot;, User belongs_to(:region, :foreign_key =&gt; :postal_code, :primary_key =&gt; :zip)
It turned out that when using @user=User.find(id, :include =&gt; [:region]) the region was joined using regions.id instead of regions.zip:
@@@
SELECT &quot;users&quot;.* FROM &quot;users&quot; LEFT OUTER JOIN &quot;regions&quot; ON &quot;regions&quot;.id = &quot;users&quot;.postal_code WHERE (&quot;users&quot;.&quot;id&quot; = 1))
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Since 2.3.3 Rails supports both :foreign_key and :primary_key
for belongs_to association.&lt;br&gt;
Using both (or only :primary_key) works great for simple
instance.owner.&lt;br&gt;
However, when using Owned.find(..., :include =&amp;gt; [:owner]) the
owner gets joined using it's ID (model's own primary key) column
instead of the :primary_key defined within Owned's (which is the
expected behaviour) belongs_to :owner association.&lt;/p&gt;
&lt;p&gt;Thus&lt;br&gt;
owned.owner yields different results based on whether owned was
pulled using Owned.find(id, :include =&amp;gt; [:owner]) or
Owned.find(id) (and of course .owner gets pulled when owned.owner
gets called in the view).&lt;/p&gt;
&lt;p&gt;It was pretty hard to stumble upon this error, as one needs to
have some overlapping values in both columns. In our case it
was&lt;br&gt;
regions table has column &quot;zip&quot; (5-digit numbers)&lt;br&gt;
users table has column &quot;postal_code&quot;, User belongs_to(:region,
:foreign_key =&amp;gt; :postal_code, :primary_key =&amp;gt; :zip)&lt;br&gt;
It turned out that when using @user=User.find(id, :include =&amp;gt;
[:region]) the region was joined using regions.id instead of
regions.zip:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;SELECT &quot;users&quot;.* FROM &quot;users&quot; LEFT OUTER JOIN &quot;regions&quot; ON &quot;regions&quot;.id = &quot;users&quot;.postal_code WHERE (&quot;users&quot;.&quot;id&quot; = 1))&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Since 2.3.3 Rails supports both :foreign_key and :primary_key for belongs_to association.
Using both (or only :primary_key) works great for simple instance.owner.
However, when using Owned.find(..., :include =&gt; [:owner]) the owner gets joined using it's ID (model's own primary key) column instead of the :primary_key defined within Owned's (which is the expected behaviour) belongs_to :owner association.

Thus
owned.owner yields different results based on whether owned was pulled using Owned.find(id, :include =&gt; [:owner])  or Owned.find(id) (and of course .owner gets pulled when owned.owner gets called in the view).

It was pretty hard to stumble upon this error, as one needs to have some overlapping values in both columns. In our case it was
regions table has column &quot;zip&quot; (5-digit numbers)
users table has column &quot;postal_code&quot;, User belongs_to(:region, :foreign_key =&gt; :postal_code, :primary_key =&gt; :zip)
It turned out that when using @user=User.find(id, :include =&gt; [:region]) the region was joined using regions.id instead of regions.zip:
@@@
SELECT &quot;users&quot;.* FROM &quot;users&quot; LEFT OUTER JOIN &quot;regions&quot; ON &quot;regions&quot;.id = &quot;users&quot;.postal_code WHERE (&quot;users&quot;.&quot;id&quot; = 1))
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Since 2.3.3 Rails supports both :foreign_key and :primary_key
for belongs_to association.&lt;br&gt;
Using both (or only :primary_key) works great for simple
instance.owner.&lt;br&gt;
However, when using Owned.find(..., :include =&amp;gt; [:owner]) the
owner gets joined using it's ID (model's own primary key) column
instead of the :primary_key defined within Owned's (which is the
expected behaviour) belongs_to :owner association.&lt;/p&gt;
&lt;p&gt;Thus&lt;br&gt;
owned.owner yields different results based on whether owned was
pulled using Owned.find(id, :include =&amp;gt; [:owner]) or
Owned.find(id) (and of course .owner gets pulled when owned.owner
gets called in the view).&lt;/p&gt;
&lt;p&gt;It was pretty hard to stumble upon this error, as one needs to
have some overlapping values in both columns. In our case it
was&lt;br&gt;
regions table has column &quot;zip&quot; (5-digit numbers)&lt;br&gt;
users table has column &quot;postal_code&quot;, User belongs_to(:region,
:foreign_key =&amp;gt; :postal_code, :primary_key =&amp;gt; :zip)&lt;br&gt;
It turned out that when using @user=User.find(id, :include =&amp;gt;
[:region]) the region was joined using regions.id instead of
regions.zip:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;SELECT &quot;users&quot;.* FROM &quot;users&quot; LEFT OUTER JOIN &quot;regions&quot; ON &quot;regions&quot;.id = &quot;users&quot;.postal_code WHERE (&quot;users&quot;.&quot;id&quot; = 1))&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-15T11:01:50+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 :include associations belongs_to</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2009-09-15T11:01:53+01:00</updated-at>
      <user-id type="integer">25489</user-id>
      <version type="integer">1</version>
      <user-name>Tomash</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-25T12:09:40+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 :include associations belongs_to
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 :include associations belongs_to bugmash</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2009-09-25T12:48:19+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm uploading a patch here. The JoinAssociation.associtation_join method now first checks for the reflection.options[:primary_key] and then defaults to reflection.klass.primary_key if the option is missing. This is my first patch so please let me know if this isn't the way to do it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm uploading a patch here. The
JoinAssociation.associtation_join method now first checks for the
reflection.options[:primary_key] and then defaults to
reflection.klass.primary_key if the option is missing. This is my
first patch so please let me know if this isn't the way to do
it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-29T19:07:42+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 :include associations belongs_to bugmash</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2009-09-29T19:07:50+01:00</updated-at>
      <user-id type="integer">29988</user-id>
      <version type="integer">3</version>
      <user-name>Matt Mitchell</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm using Rails 2.3.4, and I'm seeing this behaviour too.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm using Rails 2.3.4, and I'm seeing this behaviour too.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-15T08:24:09+00:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 :include associations belongs_to bugmash
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 :include associations belongs_to bugmash</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2009-12-15T08:24:11+00:00</updated-at>
      <user-id type="integer">34151</user-id>
      <version type="integer">4</version>
      <user-name>Paul Cortens</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">17477</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1.

Rails 2.3.5, before the patch I was having horrible problems with ThinkingSphinx indexing belongs_to association with :primary_key. Applied it, works just fine.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rails 2.3.5, before the patch I was having horrible problems
with ThinkingSphinx indexing belongs_to association with
:primary_key. Applied it, works just fine.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-11T12:44:26+00:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 :include associations belongs_to bugmash</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-02-11T12:44:28+00:00</updated-at>
      <user-id type="integer">11102</user-id>
      <version type="integer">5</version>
      <user-name>Yaroslav Markin</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Frederick Cheung</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">17477</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The bug confirmed at 2.3.5. However patch works fine.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The bug confirmed at 2.3.5. However patch works fine.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-11T12:47:27+00:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 :include associations belongs_to bugmash</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-02-11T12:47:30+00:00</updated-at>
      <user-id type="integer">86215</user-id>
      <version type="integer">6</version>
      <user-name>Alexey Nayden</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Frederick Cheung</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">17477</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/13645)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/13645&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-12T12:46:18+00:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2 :include associations belongs_to bugmash
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 :include associations belongs_to</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-02-12T12:46:18+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">7</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Frederick Cheung</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">17477</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I just stumbled upon this bug in Rails 2.3.5 too :(</body>
      <body-html>&lt;div&gt;&lt;p&gt;I just stumbled upon this bug in Rails 2.3.5 too :(&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-12T16:17:46+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 :include associations belongs_to</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-04-12T16:17:49+01:00</updated-at>
      <user-id type="integer">49857</user-id>
      <version type="integer">8</version>
      <user-name>humanzz</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Frederick Cheung</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Requesting committer attention :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Requesting committer attention :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-12T16:20:40+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2 :include associations belongs_to
:assigned_user: 17477
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 :include activerecord associations belongs_to bug patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-04-12T16:20:42+01:00</updated-at>
      <user-id type="integer">11102</user-id>
      <version type="integer">9</version>
      <user-name>Yaroslav Markin</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Needs a test.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Needs a test.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-24T22:27:57+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-04-24T22:28:01+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">10</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T11:53:21+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 19965
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-04-29T11:53:23+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">11</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Still pending tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Still pending tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-29T16:56:42+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-04-29T16:56:47+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">12</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-30T15:17:06+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2 :include activerecord associations belongs_to bug patch
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-04-30T15:17:08+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">13</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Jeremy, isn't that fixed and tested with this commit?

http://github.com/rails/rails/commit/00b95eb265ff606ae0a7b650265aa3c6fd43a1da

Personally I think the test is week.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jeremy, isn't that fixed and tested with this commit?&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/rails/rails/commit/00b95eb265ff606ae0a7b650265aa3c6fd43a1da&quot;&gt;
http://github.com/rails/rails/commit/00b95eb265ff606ae0a7b650265aa3...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Personally I think the test is week.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T19:38:20+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-05T19:38:24+01:00</updated-at>
      <user-id type="integer">21342</user-id>
      <version type="integer">14</version>
      <user-name>&#321;ukasz Strza&#322;kowski</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Definitely needs a better test.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Definitely needs a better test.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T20:08:49+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-05T20:08:54+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">15</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'll cook something better up.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'll cook something better up.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T20:35:32+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-05T20:35:38+01:00</updated-at>
      <user-id type="integer">24325</user-id>
      <version type="integer">16</version>
      <user-name>Ernie Miller</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Quick one</body>
      <body-html>&lt;div&gt;&lt;p&gt;Quick one&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T21:17:25+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-05T21:17:28+01:00</updated-at>
      <user-id type="integer">21342</user-id>
      <version type="integer">17</version>
      <user-name>&#321;ukasz Strza&#322;kowski</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Updated tests for 2-3-stable and master</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated tests for 2-3-stable and master&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T21:54:13+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-05T21:54:19+01:00</updated-at>
      <user-id type="integer">24325</user-id>
      <version type="integer">18</version>
      <user-name>Ernie Miller</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T23:35:51+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2 :include activerecord associations belongs_to bug bugmash patch
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-05T23:35:56+01:00</updated-at>
      <user-id type="integer">24325</user-id>
      <version type="integer">19</version>
      <user-name>Ernie Miller</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20088)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20088&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T02:41:10+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-16T02:41:10+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">20</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>try this

class Region
  set_primary_key :zip
end</body>
      <body-html>&lt;div&gt;&lt;p&gt;try this&lt;/p&gt;
&lt;p&gt;class Region&lt;br&gt;
set_primary_key :zip end&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T07:12:32+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 85
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-16T07:12:33+01:00</updated-at>
      <user-id type="integer">99450</user-id>
      <version type="integer">21</version>
      <user-name>HBpencil</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>try this

@@@ ruby
class Region
  set_primary_key :zip 
end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;try this&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class Region
  set_primary_key :zip 
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T07:13:25+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-16T07:13:28+01:00</updated-at>
      <user-id type="integer">99450</user-id>
      <version type="integer">22</version>
      <user-name>HBpencil</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>+1 

Verified both patches of tests on rails 3 master and 2-3 stable. HBpencil what are you trying to say? If possible more tests would be good.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;Verified both patches of tests on rails 3 master and 2-3 stable.
HBpencil what are you trying to say? If possible more tests would
be good.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T12:24:03+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-16T12:24:07+01:00</updated-at>
      <user-id type="integer">1300</user-id>
      <version type="integer">23</version>
      <user-name>Anil Wadghule</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T16:59:27+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2 :include activerecord associations belongs_to bug bugmash patch tests
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-16T16:59:32+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">25</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20606)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20606&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-23T17:54:44+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 50064
</diffable-attributes>
      <milestone-id type="integer">73241</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-23T17:54:44+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">26</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.7</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20631)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20631&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-24T09:40:52+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73241
</diffable-attributes>
      <milestone-id type="integer">73273</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-24T09:40:52+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">27</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.8</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20816)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20816&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-25T23:45:39+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73273
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-05-25T23:45:39+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">28</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>This ticket actually can be closed. It's duplicate of https://rails.lighthouseapp.com/projects/8994/tickets/765

and this is solved by this commit: http://github.com/rails/rails/commit/63026541b209cc11ffd74cf3ca04b89d1e437737</body>
      <body-html>&lt;div&gt;&lt;p&gt;This ticket actually can be closed. It's duplicate of &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/765&quot;&gt;https://rails.lighthouseapp.com/projects/8994/tickets/765&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and this is solved by this commit: &lt;a href=
&quot;http://github.com/rails/rails/commit/63026541b209cc11ffd74cf3ca04b89d1e437737&quot;&gt;
http://github.com/rails/rails/commit/63026541b209cc11ffd74cf3ca04b8...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-28T18:58:10+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-06-28T18:58:27+01:00</updated-at>
      <user-id type="integer">21342</user-id>
      <version type="integer">29</version>
      <user-name>&#321;ukasz Strza&#322;kowski</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name>Medium</priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Awesome, thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Awesome, thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-28T18:59:54+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:state: verified
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>2 :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-06-28T19:00:16+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">30</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name>Medium</priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-16T23:40:46+01:00</created-at>
      <creator-id type="integer">25489</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2 :include activerecord associations belongs_to bug bugmash-review patch tests
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">3208</number>
      <permalink>belongs_to-with-primary_key-does-not-work-with-finds-include</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>2-3-stable :include activerecord associations belongs_to bug bugmash-review patch tests</tag>
      <title>belongs_to with :primary_key does not work with find's :include</title>
      <updated-at type="datetime">2010-10-16T23:40:52+01:00</updated-at>
      <user-id type="integer">81551</user-id>
      <version type="integer">31</version>
      <user-name>Andrea Campi</user-name>
      <creator-name>Tomash</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3208</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name>Medium</priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>4b4a774b136f2d6ab7d497e777dd9b21b6640a01</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-09-29T19:07:42+01:00</created-at>
      <filename>belongs_to_primary_key_lazy_load.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">281558</id>
      <size type="integer">1214</size>
      <uploader-id type="integer">29988</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/281558/belongs_to_primary_key_lazy_load.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>5c7642600a3daa6d0f5289d95569a0b427d00a9f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-05T21:17:25+01:00</created-at>
      <filename>better_test.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">510998</id>
      <size type="integer">1189</size>
      <uploader-id type="integer">21342</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/510998/better_test.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>999214e91f59ce3b96c811011570a3dad4350ffd</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-05T21:54:13+01:00</created-at>
      <filename>belongs_to_primary_key_test_master.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">511095</id>
      <size type="integer">1249</size>
      <uploader-id type="integer">24325</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/511095/belongs_to_primary_key_test_master.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>ca70281b588f7afb8e742c9710ac0f337b0a4888</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-05T21:54:14+01:00</created-at>
      <filename>belongs_to_primary_key_test_2-3-stable.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">511096</id>
      <size type="integer">1234</size>
      <uploader-id type="integer">24325</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/511096/belongs_to_primary_key_test_2-3-stable.diff</url>
    </attachment>
  </attachments>
</ticket>
