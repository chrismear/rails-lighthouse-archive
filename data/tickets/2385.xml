<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-04-11T03:04:56+01:00</created-at>
  <creator-id type="integer">32604</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2385</number>
  <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>mysql</tag>
  <title>Change instructions for installing mysql ruby bindings.</title>
  <updated-at type="datetime">2010-04-11T03:05:24+01:00</updated-at>
  <user-id type="integer">14998</user-id>
  <version type="integer">6</version>
  <user-name>Ryan Bigg</user-name>
  <creator-name>Joseph Palermo</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>If you don't have the mysql ruby bindings installed, you get the following error:

!!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the mysql gem and try again: gem install mysql.

The problem with telling people to install the gem, is that the latest version of the gem is old (2.7.0) and known to leak memory:

version 2.7.4
    * BUG: Mysql::Stmt#execute memory leak.

This patch would change the message to the following:

!!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the ruby mysql bindings from http://www.tmtm.org/en/mysql/ruby/ and try again.


Somebody will probably suggest creating an updated gem, but installing bindings from a gem is a really bad idea anyway.
 -It gives you the impression that you can have multiple versions of the binding, which is probably not the case, installing one will overwrite the existing binding, but it will still look like you have both gems installed.
 -It gives you the impression that you can remove the binding by uninstalling the gem, I'm not sure if this is actually possible or not, but I know the current version of the mysql gem does NOT work this way.</original-body>
  <latest-body>If you don't have the mysql ruby bindings installed, you get the following error:

!!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the mysql gem and try again: gem install mysql.

The problem with telling people to install the gem, is that the latest version of the gem is old (2.7.0) and known to leak memory:

version 2.7.4
    * BUG: Mysql::Stmt#execute memory leak.

This patch would change the message to the following:

!!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the ruby mysql bindings from http://www.tmtm.org/en/mysql/ruby/ and try again.


Somebody will probably suggest creating an updated gem, but installing bindings from a gem is a really bad idea anyway.
 -It gives you the impression that you can have multiple versions of the binding, which is probably not the case, installing one will overwrite the existing binding, but it will still look like you have both gems installed.
 -It gives you the impression that you can remove the binding by uninstalling the gem, I'm not sure if this is actually possible or not, but I know the current version of the mysql gem does NOT work this way.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;If you don't have the mysql ruby bindings installed, you get the
following error:&lt;/p&gt;
&lt;p&gt;!!! The bundled mysql.rb driver has been removed from Rails 2.2.
Please install the mysql gem and try again: gem install mysql.&lt;/p&gt;
&lt;p&gt;The problem with telling people to install the gem, is that the
latest version of the gem is old (2.7.0) and known to leak
memory:&lt;/p&gt;
&lt;p&gt;version 2.7.4&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;* BUG: Mysql::Stmt#execute memory leak.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This patch would change the message to the following:&lt;/p&gt;
&lt;p&gt;!!! The bundled mysql.rb driver has been removed from Rails 2.2.
Please install the ruby mysql bindings from &lt;a href=&quot;http://www.tmtm.org/en/mysql/ruby/&quot;&gt;http://www.tmtm.org/en/mysql/ruby/&lt;/a&gt;
and try again.&lt;/p&gt;
&lt;p&gt;Somebody will probably suggest creating an updated gem, but
installing bindings from a gem is a really bad idea anyway. -It
gives you the impression that you can have multiple versions of the
binding, which is probably not the case, installing one will
overwrite the existing binding, but it will still look like you
have both gems installed. -It gives you the impression that you can
remove the binding by uninstalling the gem, I'm not sure if this is
actually possible or not, but I know the current version of the
mysql gem does NOT work this way.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If you don't have the mysql ruby bindings installed, you get the following error:

!!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the mysql gem and try again: gem install mysql.

The problem with telling people to install the gem, is that the latest version of the gem is old (2.7.0) and known to leak memory:

version 2.7.4
    * BUG: Mysql::Stmt#execute memory leak.

This patch would change the message to the following:

!!! The bundled mysql.rb driver has been removed from Rails 2.2. Please install the ruby mysql bindings from http://www.tmtm.org/en/mysql/ruby/ and try again.


Somebody will probably suggest creating an updated gem, but installing bindings from a gem is a really bad idea anyway.
 -It gives you the impression that you can have multiple versions of the binding, which is probably not the case, installing one will overwrite the existing binding, but it will still look like you have both gems installed.
 -It gives you the impression that you can remove the binding by uninstalling the gem, I'm not sure if this is actually possible or not, but I know the current version of the mysql gem does NOT work this way.</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you don't have the mysql ruby bindings installed, you get the
following error:&lt;/p&gt;
&lt;p&gt;!!! The bundled mysql.rb driver has been removed from Rails 2.2.
Please install the mysql gem and try again: gem install mysql.&lt;/p&gt;
&lt;p&gt;The problem with telling people to install the gem, is that the
latest version of the gem is old (2.7.0) and known to leak
memory:&lt;/p&gt;
&lt;p&gt;version 2.7.4&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;* BUG: Mysql::Stmt#execute memory leak.
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This patch would change the message to the following:&lt;/p&gt;
&lt;p&gt;!!! The bundled mysql.rb driver has been removed from Rails 2.2.
Please install the ruby mysql bindings from &lt;a href=&quot;http://www.tmtm.org/en/mysql/ruby/&quot;&gt;http://www.tmtm.org/en/mysql/ruby/&lt;/a&gt;
and try again.&lt;/p&gt;
&lt;p&gt;Somebody will probably suggest creating an updated gem, but
installing bindings from a gem is a really bad idea anyway. -It
gives you the impression that you can have multiple versions of the
binding, which is probably not the case, installing one will
overwrite the existing binding, but it will still look like you
have both gems installed. -It gives you the impression that you can
remove the binding by uninstalling the gem, I'm not sure if this is
actually possible or not, but I know the current version of the
mysql gem does NOT work this way.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-31T18:05:26+01:00</created-at>
      <creator-id type="integer">32604</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2385</number>
      <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>mysql</tag>
      <title>Change instructions for installing mysql ruby bindings.</title>
      <updated-at type="datetime">2009-03-31T18:05:30+01:00</updated-at>
      <user-id type="integer">32604</user-id>
      <version type="integer">1</version>
      <user-name>Joseph Palermo</user-name>
      <creator-name>Joseph Palermo</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 for changing the message to not point to the bad gem.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for changing the message to not point to the bad gem.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-31T18:18:56+01:00</created-at>
      <creator-id type="integer">32604</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2385</number>
      <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>mysql</tag>
      <title>Change instructions for installing mysql ruby bindings.</title>
      <updated-at type="datetime">2009-03-31T18:19:01+01:00</updated-at>
      <user-id type="integer">17482</user-id>
      <version type="integer">2</version>
      <user-name>Chad Woolley</user-name>
      <creator-name>Joseph Palermo</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-31T23:31:14+01:00</created-at>
      <creator-id type="integer">32604</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2385</number>
      <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>mysql</tag>
      <title>Change instructions for installing mysql ruby bindings.</title>
      <updated-at type="datetime">2009-03-31T23:31:19+01:00</updated-at>
      <user-id type="integer">46764</user-id>
      <version type="integer">3</version>
      <user-name>Zach Brock</user-name>
      <creator-name>Joseph Palermo</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>So in the meantime the gem was updated on rubygems and looks to be maintained again. 

I think this issue is resolved now:

Users without any mysql extension installed need an easy to follow instruction how to install mysql support: 
This happens only when no mysql gem is available, right? So there's no version missmatch.

I really don't see your &quot;can have only one binding installed at the same time&quot; issue here. 
Sure, it's a limitation but it's not relevant when the message is shown because no mysql extension is installed at all?

Or am I wrong?

Besides that: What if the tmtm.org site goes down? It's a single point of failiure and a maintenance mess to care about external URLs imho.


-1</body>
      <body-html>&lt;div&gt;&lt;p&gt;So in the meantime the gem was updated on rubygems and looks to
be maintained again.&lt;/p&gt;
&lt;p&gt;I think this issue is resolved now:&lt;/p&gt;
&lt;p&gt;Users without any mysql extension installed need an easy to
follow instruction how to install mysql support:&lt;br&gt;
This happens only when no mysql gem is available, right? So there's
no version missmatch.&lt;/p&gt;
&lt;p&gt;I really don't see your &quot;can have only one binding installed at
the same time&quot; issue here.&lt;br&gt;
Sure, it's a limitation but it's not relevant when the message is
shown because no mysql extension is installed at all?&lt;/p&gt;
&lt;p&gt;Or am I wrong?&lt;/p&gt;
&lt;p&gt;Besides that: What if the tmtm.org site goes down? It's a single
point of failiure and a maintenance mess to care about external
URLs imho.&lt;/p&gt;
&lt;p&gt;-1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T02:30:56+01:00</created-at>
      <creator-id type="integer">32604</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2385</number>
      <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>mysql</tag>
      <title>Change instructions for installing mysql ruby bindings.</title>
      <updated-at type="datetime">2010-04-11T02:31:00+01:00</updated-at>
      <user-id type="integer">22164</user-id>
      <version type="integer">4</version>
      <user-name>Roland Moriz</user-name>
      <creator-name>Joseph Palermo</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yes, the fact there there is a good very of the gem mostly resolves this issue.

Using gems to install binary bindings is still not a good idea because even though you are requiring one version of the gem, you may actually be getting another.  This could be a very bad thing in a shared environment (you could end up using a bad version of the library even though you are requiring the correct one).  This is somewhat mitigated by the fact that the mysql gem isn't updated very often.

Everybody else seems to be ok with installing binary libraries through gems, so I'm willing to throw up my arms on this one.  Telling users to use the gem is certainly the easiest thing for them, even though it may not be the correct thing.  Explaining the issue to new users would be nice, but it would probably just confuse most of them.

I guess the ideal solution would be to fix the mysql gem such that it does a check on activation to make sure the required gem version matches the library version that actually got loaded and throw an error if they do not match.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, the fact there there is a good very of the gem mostly
resolves this issue.&lt;/p&gt;
&lt;p&gt;Using gems to install binary bindings is still not a good idea
because even though you are requiring one version of the gem, you
may actually be getting another. This could be a very bad thing in
a shared environment (you could end up using a bad version of the
library even though you are requiring the correct one). This is
somewhat mitigated by the fact that the mysql gem isn't updated
very often.&lt;/p&gt;
&lt;p&gt;Everybody else seems to be ok with installing binary libraries
through gems, so I'm willing to throw up my arms on this one.
Telling users to use the gem is certainly the easiest thing for
them, even though it may not be the correct thing. Explaining the
issue to new users would be nice, but it would probably just
confuse most of them.&lt;/p&gt;
&lt;p&gt;I guess the ideal solution would be to fix the mysql gem such
that it does a check on activation to make sure the required gem
version matches the library version that actually got loaded and
throw an error if they do not match.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T03:03:04+01:00</created-at>
      <creator-id type="integer">32604</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2385</number>
      <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>mysql</tag>
      <title>Change instructions for installing mysql ruby bindings.</title>
      <updated-at type="datetime">2010-04-11T03:03:08+01:00</updated-at>
      <user-id type="integer">32604</user-id>
      <version type="integer">5</version>
      <user-name>Joseph Palermo</user-name>
      <creator-name>Joseph Palermo</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>No longer applicable, the mysql gem works for all purposes I have seen.</body>
      <body-html>&lt;div&gt;&lt;p&gt;No longer applicable, the mysql gem works for all purposes I
have seen.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-11T03:04:56+01:00</created-at>
      <creator-id type="integer">32604</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2385</number>
      <permalink>change-instructions-for-installing-mysql-ruby-bindings</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>mysql</tag>
      <title>Change instructions for installing mysql ruby bindings.</title>
      <updated-at type="datetime">2010-04-11T03:05:21+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">6</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Joseph Palermo</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2385</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>db16d2f670a4ff5023dde9dafed80a41aef549eb</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-31T18:05:26+01:00</created-at>
      <filename>mysql-ruby-install.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">106135</id>
      <size type="integer">1215</size>
      <uploader-id type="integer">32604</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/106135/mysql-ruby-install.diff</url>
    </attachment>
  </attachments>
</ticket>
