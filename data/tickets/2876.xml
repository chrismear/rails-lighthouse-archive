<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-07-06T17:56:28+01:00</created-at>
  <creator-id type="integer">61967</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2876</number>
  <permalink>file-cach-store-is-updating-version-directory-timestamp</permalink>
  <priority type="integer">1965</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag nil="true"></tag>
  <title>file cach store is updating version directory timestamp</title>
  <updated-at type="datetime">2010-10-09T04:00:08+01:00</updated-at>
  <user-id type="integer">89656</user-id>
  <version type="integer">3</version>
  <user-name>Rohit Arondekar</user-name>
  <creator-name>BrianD</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2876</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I'm using Rails 2.2.2 and using the file store caching.   With a typical directory structure like: 

/opt/www/&lt;app_name&gt;/releases/2009010101/

when the file cache is updated it appears to be updating the timestamp of the '2009010101' directory.  I'm not sure why this is happening, but I've traced it back to the stat call in the activesupport/lib/active_support/core_ext/file/atomic.rb class.   With the timestamp updating that directory, it is causing problems with deploying with Capistrano and it doesn't really need to be doing that.</original-body>
  <latest-body>I'm using Rails 2.2.2 and using the file store caching.   With a typical directory structure like: 

/opt/www/&lt;app_name&gt;/releases/2009010101/

when the file cache is updated it appears to be updating the timestamp of the '2009010101' directory.  I'm not sure why this is happening, but I've traced it back to the stat call in the activesupport/lib/active_support/core_ext/file/atomic.rb class.   With the timestamp updating that directory, it is causing problems with deploying with Capistrano and it doesn't really need to be doing that.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I'm using Rails 2.2.2 and using the file store caching. With a
typical directory structure like:&lt;/p&gt;
&lt;p&gt;/opt/www//releases/2009010101/&lt;/p&gt;
&lt;p&gt;when the file cache is updated it appears to be updating the
timestamp of the '2009010101' directory. I'm not sure why this is
happening, but I've traced it back to the stat call in the
activesupport/lib/active_support/core_ext/file/atomic.rb class.
With the timestamp updating that directory, it is causing problems
with deploying with Capistrano and it doesn't really need to be
doing that.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm using Rails 2.2.2 and using the file store caching.   With a typical directory structure like: 

/opt/www/&lt;app_name&gt;/releases/2009010101/

when the file cache is updated it appears to be updating the timestamp of the '2009010101' directory.  I'm not sure why this is happening, but I've traced it back to the stat call in the activesupport/lib/active_support/core_ext/file/atomic.rb class.   With the timestamp updating that directory, it is causing problems with deploying with Capistrano and it doesn't really need to be doing that.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm using Rails 2.2.2 and using the file store caching. With a
typical directory structure like:&lt;/p&gt;
&lt;p&gt;/opt/www/&amp;lt;app_name&amp;gt;/releases/2009010101/&lt;/p&gt;
&lt;p&gt;when the file cache is updated it appears to be updating the
timestamp of the '2009010101' directory. I'm not sure why this is
happening, but I've traced it back to the stat call in the
activesupport/lib/active_support/core_ext/file/atomic.rb class.
With the timestamp updating that directory, it is causing problems
with deploying with Capistrano and it doesn't really need to be
doing that.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-06T17:56:28+01:00</created-at>
      <creator-id type="integer">61967</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2876</number>
      <permalink>file-cach-store-is-updating-version-directory-timestamp</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>file cach store is updating version directory timestamp</title>
      <updated-at type="datetime">2009-07-06T17:56:36+01:00</updated-at>
      <user-id type="integer">61967</user-id>
      <version type="integer">1</version>
      <user-name>BrianD</user-name>
      <creator-name>BrianD</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2876</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:53+01:00</created-at>
      <creator-id type="integer">61967</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2876</number>
      <permalink>file-cach-store-is-updating-version-directory-timestamp</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>file cach store is updating version directory timestamp</title>
      <updated-at type="datetime">2010-05-04T18:48:53+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">2</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>BrianD</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2876</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Marking ticket as stale. If this is still an issue please leave a comment with suggested changes, creating a patch with tests, rebasing an existing patch or just confirming the issue on a latest release or master/branches.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Marking ticket as stale. If this is still an issue please leave
a comment with suggested changes, creating a patch with tests,
rebasing an existing patch or just confirming the issue on a latest
release or master/branches.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-09T04:00:07+01:00</created-at>
      <creator-id type="integer">61967</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2876</number>
      <permalink>file-cach-store-is-updating-version-directory-timestamp</permalink>
      <priority type="integer">1965</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag nil="true"></tag>
      <title>file cach store is updating version directory timestamp</title>
      <updated-at type="datetime">2010-10-09T04:00:08+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">3</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>BrianD</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2876</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>e92e3dfb6b13f96203002bb4b91c0db5697e6d9e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-06T17:56:28+01:00</created-at>
      <filename>atomic_file.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">214951</id>
      <size type="integer">1190</size>
      <uploader-id type="integer">61967</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/214951/atomic_file.diff</url>
    </attachment>
  </attachments>
</ticket>
