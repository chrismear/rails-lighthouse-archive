<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">8</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-08T12:16:02+00:00</created-at>
  <creator-id type="integer">52029</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">4230</number>
  <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
  <priority type="integer">1</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activerecord generator migration module namespace patch</tag>
  <title>[PATCH] AR migration generator includes model's modules in table name. </title>
  <updated-at type="datetime">2011-02-08T12:16:02+00:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">26</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>phs</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>High</priority-name>
  <original-body>Below, the generated migration creates the table &quot;my_module_posts&quot;.  AR expects MyModule::Post to use a table named &quot;posts&quot;.

After reading #1976 and #2965, it seems AR's table name is the correct one.

@@@
Wheelie-Cyberman:~ $ rails --version
Rails 3.0.0.beta
Wheelie-Cyberman:~ $ rails blog
      create  
      create  README
      # ...
Wheelie-Cyberman:~ $ cd blog
Wheelie-Cyberman:~/blog $ rails g model my_module/post title:string body:text
      invoke  active_record
      create    db/migrate/20100319042749_create_my_module_posts.rb
      create    app/models/my_module/post.rb
      invoke    test_unit
      create      test/unit/my_module/post_test.rb
      create      test/fixtures/my_module_posts.yml
Wheelie-Cyberman:~/blog $ cat db/migrate/20100319042749_create_my_module_posts.rb 
class CreateMyModulePosts &lt; ActiveRecord::Migration
  def self.up
    create_table :my_module_posts do |t|
      t.string :title
      t.text :body

      t.timestamps
    end
  end

  def self.down
    drop_table :my_module_posts
  end
end
Wheelie-Cyberman:~/blog $ rake db:migrate
(in /Users/phil/blog)
==  CreateMyModulePosts: migrating ============================================
-- create_table(:my_module_posts)
   -&gt; 0.0015s
==  CreateMyModulePosts: migrated (0.0016s) ===================================

Wheelie-Cyberman:~/blog $ rails c
Loading development environment (Rails 3.0.0.beta)
&gt;&gt; MyModule::Post.all
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: posts: SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract_adapter.rb:206:in `log'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:293:in `select'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/query_cache.rb:62:in `select_all'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:586:in `find_by_sql'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb:49:in `to_a'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation/finder_methods.rb:119:in `all'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `__send__'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `all'
	from (irb):1
@@@</original-body>
  <latest-body>Below, the generated migration creates the table &quot;my_module_posts&quot;.  AR expects MyModule::Post to use a table named &quot;posts&quot;.

After reading #1976 and #2965, it seems AR's table name is the correct one.

@@@
Wheelie-Cyberman:~ $ rails --version
Rails 3.0.0.beta
Wheelie-Cyberman:~ $ rails blog
      create  
      create  README
      # ...
Wheelie-Cyberman:~ $ cd blog
Wheelie-Cyberman:~/blog $ rails g model my_module/post title:string body:text
      invoke  active_record
      create    db/migrate/20100319042749_create_my_module_posts.rb
      create    app/models/my_module/post.rb
      invoke    test_unit
      create      test/unit/my_module/post_test.rb
      create      test/fixtures/my_module_posts.yml
Wheelie-Cyberman:~/blog $ cat db/migrate/20100319042749_create_my_module_posts.rb 
class CreateMyModulePosts &lt; ActiveRecord::Migration
  def self.up
    create_table :my_module_posts do |t|
      t.string :title
      t.text :body

      t.timestamps
    end
  end

  def self.down
    drop_table :my_module_posts
  end
end
Wheelie-Cyberman:~/blog $ rake db:migrate
(in /Users/phil/blog)
==  CreateMyModulePosts: migrating ============================================
-- create_table(:my_module_posts)
   -&gt; 0.0015s
==  CreateMyModulePosts: migrated (0.0016s) ===================================

Wheelie-Cyberman:~/blog $ rails c
Loading development environment (Rails 3.0.0.beta)
&gt;&gt; MyModule::Post.all
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: posts: SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract_adapter.rb:206:in `log'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:293:in `select'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/query_cache.rb:62:in `select_all'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:586:in `find_by_sql'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb:49:in `to_a'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation/finder_methods.rb:119:in `all'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `__send__'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `all'
	from (irb):1
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Below, the generated migration creates the table
&quot;my_module_posts&quot;. AR expects MyModule::Post to use a table named
&quot;posts&quot;.&lt;/p&gt;
&lt;p&gt;After reading &lt;a href=&quot;/projects/8994/tickets/1976&quot; title=
&quot;Ticket #1976&quot;&gt;#1976&lt;/a&gt; and &lt;a href=&quot;/projects/8994/tickets/2965&quot;
title=&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt;, it seems AR's table name is the
correct one.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Wheelie-Cyberman:~ $ rails --version
Rails 3.0.0.beta
Wheelie-Cyberman:~ $ rails blog
      create  
      create  README
      # ...
Wheelie-Cyberman:~ $ cd blog
Wheelie-Cyberman:~/blog $ rails g model my_module/post title:string body:text
      invoke  active_record
      create    db/migrate/20100319042749_create_my_module_posts.rb
      create    app/models/my_module/post.rb
      invoke    test_unit
      create      test/unit/my_module/post_test.rb
      create      test/fixtures/my_module_posts.yml
Wheelie-Cyberman:~/blog $ cat db/migrate/20100319042749_create_my_module_posts.rb 
class CreateMyModulePosts &amp;lt; ActiveRecord::Migration
  def self.up
    create_table :my_module_posts do |t|
      t.string :title
      t.text :body

      t.timestamps
    end
  end

  def self.down
    drop_table :my_module_posts
  end
end
Wheelie-Cyberman:~/blog $ rake db:migrate
(in /Users/phil/blog)
==  CreateMyModulePosts: migrating ============================================
-- create_table(:my_module_posts)
   -&amp;gt; 0.0015s
==  CreateMyModulePosts: migrated (0.0016s) ===================================

Wheelie-Cyberman:~/blog $ rails c
Loading development environment (Rails 3.0.0.beta)
&amp;gt;&amp;gt; MyModule::Post.all
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: posts: SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract_adapter.rb:206:in `log'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:293:in `select'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/query_cache.rb:62:in `select_all'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:586:in `find_by_sql'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb:49:in `to_a'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation/finder_methods.rb:119:in `all'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `__send__'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `all'
    from (irb):1&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Below, the generated migration creates the table &quot;my_module_posts&quot;.  AR expects MyModule::Post to use a table named &quot;posts&quot;.

After reading #1976 and #2965, it seems AR's table name is the correct one.

@@@
Wheelie-Cyberman:~ $ rails --version
Rails 3.0.0.beta
Wheelie-Cyberman:~ $ rails blog
      create  
      create  README
      # ...
Wheelie-Cyberman:~ $ cd blog
Wheelie-Cyberman:~/blog $ rails g model my_module/post title:string body:text
      invoke  active_record
      create    db/migrate/20100319042749_create_my_module_posts.rb
      create    app/models/my_module/post.rb
      invoke    test_unit
      create      test/unit/my_module/post_test.rb
      create      test/fixtures/my_module_posts.yml
Wheelie-Cyberman:~/blog $ cat db/migrate/20100319042749_create_my_module_posts.rb 
class CreateMyModulePosts &lt; ActiveRecord::Migration
  def self.up
    create_table :my_module_posts do |t|
      t.string :title
      t.text :body

      t.timestamps
    end
  end

  def self.down
    drop_table :my_module_posts
  end
end
Wheelie-Cyberman:~/blog $ rake db:migrate
(in /Users/phil/blog)
==  CreateMyModulePosts: migrating ============================================
-- create_table(:my_module_posts)
   -&gt; 0.0015s
==  CreateMyModulePosts: migrated (0.0016s) ===================================

Wheelie-Cyberman:~/blog $ rails c
Loading development environment (Rails 3.0.0.beta)
&gt;&gt; MyModule::Post.all
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: posts: SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract_adapter.rb:206:in `log'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:293:in `select'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/query_cache.rb:62:in `select_all'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:586:in `find_by_sql'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb:49:in `to_a'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation/finder_methods.rb:119:in `all'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `__send__'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `all'
	from (irb):1
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Below, the generated migration creates the table
&quot;my_module_posts&quot;. AR expects MyModule::Post to use a table named
&quot;posts&quot;.&lt;/p&gt;
&lt;p&gt;After reading &lt;a href=&quot;/projects/8994/tickets/1976&quot; title=
&quot;Ticket #1976&quot;&gt;#1976&lt;/a&gt; and &lt;a href=&quot;/projects/8994/tickets/2965&quot;
title=&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt;, it seems AR's table name is the
correct one.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Wheelie-Cyberman:~ $ rails --version
Rails 3.0.0.beta
Wheelie-Cyberman:~ $ rails blog
      create  
      create  README
      # ...
Wheelie-Cyberman:~ $ cd blog
Wheelie-Cyberman:~/blog $ rails g model my_module/post title:string body:text
      invoke  active_record
      create    db/migrate/20100319042749_create_my_module_posts.rb
      create    app/models/my_module/post.rb
      invoke    test_unit
      create      test/unit/my_module/post_test.rb
      create      test/fixtures/my_module_posts.yml
Wheelie-Cyberman:~/blog $ cat db/migrate/20100319042749_create_my_module_posts.rb 
class CreateMyModulePosts &amp;lt; ActiveRecord::Migration
  def self.up
    create_table :my_module_posts do |t|
      t.string :title
      t.text :body

      t.timestamps
    end
  end

  def self.down
    drop_table :my_module_posts
  end
end
Wheelie-Cyberman:~/blog $ rake db:migrate
(in /Users/phil/blog)
==  CreateMyModulePosts: migrating ============================================
-- create_table(:my_module_posts)
   -&amp;gt; 0.0015s
==  CreateMyModulePosts: migrated (0.0016s) ===================================

Wheelie-Cyberman:~/blog $ rails c
Loading development environment (Rails 3.0.0.beta)
&amp;gt;&amp;gt; MyModule::Post.all
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: posts: SELECT     &quot;posts&quot;.* FROM       &quot;posts&quot;
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract_adapter.rb:206:in `log'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:150:in `execute'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/sqlite_adapter.rb:293:in `select'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/connection_adapters/abstract/query_cache.rb:62:in `select_all'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:586:in `find_by_sql'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb:49:in `to_a'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/relation/finder_methods.rb:119:in `all'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `__send__'
    from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta/lib/active_record/base.rb:560:in `all'
    from (irb):1&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-19T05:00:48+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;activerecord module migration generator&quot;</tag>
      <title>AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-19T05:03:04+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">1</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>#4032 looks like another issue stomping around in the same neighborhood.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;/projects/8994/tickets/4032&quot; title=
&quot;Ticket #4032&quot;&gt;#4032&lt;/a&gt; looks like another issue stomping around
in the same neighborhood.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-19T05:14:11+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;activerecord module migration generator&quot;</tag>
      <title>AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-19T05:14:16+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">2</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>To choose the new table's name, the migration generator template in AR at `lib/generators/active_record/model/templates/migration.rb` uses the (gasp) `table_name` method.

`table_name` is defined over in railties:

@@@
# lib/rails/generators/named_base.rb
def table_name
  @table_name ||= begin
    base = pluralize_table_names? ? plural_name : singular_name
    (class_path + [base]).join('_')
  end
end
@@@

`file_name`, in the same file, looks like it would work.

However, the other generator templates in AR also use `table_name` where one might expect.  Given that, and the fact the method is named _table_name_, it seems more natural to override `table_name` in `ActiveRecord::Generators::Base`.</body>
      <body-html>&lt;div&gt;&lt;p&gt;To choose the new table's name, the migration generator template
in AR at
&lt;code&gt;lib/generators/active_record/model/templates/migration.rb&lt;/code&gt;
uses the (gasp) &lt;code&gt;table_name&lt;/code&gt; method.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;table_name&lt;/code&gt; is defined over in railties:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# lib/rails/generators/named_base.rb
def table_name
  @table_name ||= begin
    base = pluralize_table_names? ? plural_name : singular_name
    (class_path + [base]).join('_')
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;file_name&lt;/code&gt;, in the same file, looks like it would
work.&lt;/p&gt;
&lt;p&gt;However, the other generator templates in AR also use
&lt;code&gt;table_name&lt;/code&gt; where one might expect. Given that, and the
fact the method is named &lt;em&gt;table_name&lt;/em&gt;, it seems more natural
to override &lt;code&gt;table_name&lt;/code&gt; in
&lt;code&gt;ActiveRecord::Generators::Base&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-19T07:55:29+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;activerecord module migration generator\&quot;&quot;
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace</tag>
      <title>AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-19T07:55:32+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">3</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This patch effectively renames #table_name to #table_path, and provides a new #table_name that omits any leading namespace components.

Most generators that use #table_name have been left alone, as they seem to work reasonably in either case.  Migrations has been updated to keep the namespace components in their filenames (however, the names of the tables they manipulate have dropped their prefixes.)  This keeps their tests happy, which seem to make a point of having the namespaced filenames in various situations.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This patch effectively renames #table_name to #table_path, and
provides a new #table_name that omits any leading namespace
components.&lt;/p&gt;
&lt;p&gt;Most generators that use #table_name have been left alone, as
they seem to work reasonably in either case. Migrations has been
updated to keep the namespace components in their filenames
(however, the names of the tables they manipulate have dropped
their prefixes.) This keeps their tests happy, which seem to make a
point of having the namespaced filenames in various situations.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T07:56:54+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: activerecord generator migration module namespace
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-20T07:57:03+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">4</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T07:57:20+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- 
:title: &quot;AR migration generator includes model's modules in table name. &quot;
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-20T07:57:23+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">5</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Here's an alternate patch that makes the change to #table_name but doesn't bother introducing #table_path.  Generated migrations from the model generator now make un-namespaced files.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's an alternate patch that makes the change to #table_name
but doesn't bother introducing #table_path. Generated migrations
from the model generator now make un-namespaced files.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T19:30:36+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-20T19:30:45+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">6</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Here's a third option.  This one leaves #table_name alone, and slips a `self.table_name_prefix = &quot;my_module_&quot;` when generating namespaced models.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's a third option. This one leaves #table_name alone, and
slips a &lt;code&gt;self.table_name_prefix = &quot;my_module_&quot;&lt;/code&gt; when
generating namespaced models.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T23:56:06+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-03-20T23:56:18+00:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">7</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Same problem here. At this moment I'm fixing this problem by using &quot;set_table_name&quot;. Using the table name prefix doesn't seem a good option:

    class Delayed::Job &lt; ActiveRecord::Base
      self.table_name_prefix = 'delayed_'
    end

    rails_3b2 &#8594; rails console
    Loading development environment (Rails 3.0.0.beta2)
    &gt;&gt; Delayed::Job.table_name
    =&gt; &quot;delayed_jobs&quot;
    &gt;&gt; Post.table_name
    =&gt; &quot;delayed_posts&quot;

    rails_3b2 &#8594; rails console
    Loading development environment (Rails 3.0.0.beta2)
    &gt;&gt; Post.table_name
    =&gt; &quot;posts&quot;
    &gt;&gt; Delayed::Job.table_name
    =&gt; &quot;delayed_jobs&quot;
    &gt;&gt; Post.table_name
    =&gt; &quot;posts&quot;

I would go for a set_table_name option ...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Same problem here. At this moment I'm fixing this problem by
using &quot;set_table_name&quot;. Using the table name prefix doesn't seem a
good option:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Delayed::Job &amp;lt; ActiveRecord::Base
  self.table_name_prefix = 'delayed_'
end

rails_3b2 &amp;#8594; rails console
Loading development environment (Rails 3.0.0.beta2)
&amp;gt;&amp;gt; Delayed::Job.table_name
=&amp;gt; &quot;delayed_jobs&quot;
&amp;gt;&amp;gt; Post.table_name
=&amp;gt; &quot;delayed_posts&quot;

rails_3b2 &amp;#8594; rails console
Loading development environment (Rails 3.0.0.beta2)
&amp;gt;&amp;gt; Post.table_name
=&amp;gt; &quot;posts&quot;
&amp;gt;&amp;gt; Delayed::Job.table_name
=&amp;gt; &quot;delayed_jobs&quot;
&amp;gt;&amp;gt; Post.table_name
=&amp;gt; &quot;posts&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I would go for a set_table_name option ...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-08T07:51:43+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-08T07:51:48+01:00</updated-at>
      <user-id type="integer">821</user-id>
      <version type="integer">8</version>
      <user-name>Francesc Esplugas</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Another observation is that the usage of `self.table_name_prefix` on a model would overwrite the system wide `table_name_prefix` option.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Another observation is that the usage of
&lt;code&gt;self.table_name_prefix&lt;/code&gt; on a model would overwrite the
system wide &lt;code&gt;table_name_prefix&lt;/code&gt; option.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-08T07:56:15+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-08T07:56:17+01:00</updated-at>
      <user-id type="integer">821</user-id>
      <version type="integer">9</version>
      <user-name>Francesc Esplugas</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-10T12:39:23+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-10T12:39:28+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">10</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Can someone please provide a patch that changes self.table_name_prefix to use class_attribute instead of cattr_accessor allowing it to work with inheritance?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can someone please provide a patch that changes
self.table_name_prefix to use class_attribute instead of
cattr_accessor allowing it to work with inheritance?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-10T12:41:07+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-10T12:41:09+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">11</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>#4032 might be another way out.  If we could find a canonical place to put the module-specific table_name_prefix declaration, then the model generator could ensure it is present.

I don't have a justifiable opinion for preferring either #4032 or class_attribute :table_name_prefix over the other, but the module-specific table_name_prefix is already in master.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;/projects/8994/tickets/4032&quot; title=
&quot;Ticket #4032&quot;&gt;#4032&lt;/a&gt; might be another way out. If we could find
a canonical place to put the module-specific table_name_prefix
declaration, then the model generator could ensure it is
present.&lt;/p&gt;
&lt;p&gt;I don't have a justifiable opinion for preferring either
&lt;a href=&quot;/projects/8994/tickets/4032&quot; title=
&quot;Ticket #4032&quot;&gt;#4032&lt;/a&gt; or class_attribute :table_name_prefix over
the other, but the module-specific table_name_prefix is already in
master.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T00:36:55+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T00:36:59+01:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">12</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Here's the class_attribute patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's the class_attribute patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T03:33:49+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T03:33:50+01:00</updated-at>
      <user-id type="integer">52029</user-id>
      <version type="integer">13</version>
      <user-name>phs</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Awesome! I talked with Jeremy Kemper and he proposed us to follow the pattern in #4032. That said, when you run:

    rails g model my_module/post

It should create a file in app/models/my_module.rb with the following contents:

    module MyModule
      def self.table_name_prefix
        'my_module_'
      end
    end

Can you provide a patch for this? I will apply both this new patch and the class_attribute one once they are done. :)

Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Awesome! I talked with Jeremy Kemper and he proposed us to
follow the pattern in &lt;a href=&quot;/projects/8994/tickets/4032&quot; title=
&quot;Ticket #4032&quot;&gt;#4032&lt;/a&gt;. That said, when you run:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;rails g model my_module/post&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;It should create a file in app/models/my_module.rb with the
following contents:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;module MyModule
  def self.table_name_prefix
    'my_module_'
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Can you provide a patch for this? I will apply both this new
patch and the class_attribute one once they are done. :)&lt;/p&gt;
&lt;p&gt;Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T06:40:28+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T06:40:31+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">14</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Jos&#233;, should the patch try and load the parent constant and check for table_name_prefix or should it just check for the presence of the 'app/models/my_module.rb' file and don't create it if it already exists.

The attached patch is a naive implementation that doesn't have any kind of intelligence. Is this the kind of thing you're looking for or a more sophisticated patch that checks for the parent constant first and then adjusts the migration name and the table name appropriately.

The patch is just a proof of concept - if it's acceptable I'll add another later with docs and tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jos&amp;eacute;, should the patch try and load the parent constant
and check for table_name_prefix or should it just check for the
presence of the 'app/models/my_module.rb' file and don't create it
if it already exists.&lt;/p&gt;
&lt;p&gt;The attached patch is a naive implementation that doesn't have
any kind of intelligence. Is this the kind of thing you're looking
for or a more sophisticated patch that checks for the parent
constant first and then adjusts the migration name and the table
name appropriately.&lt;/p&gt;
&lt;p&gt;The patch is just a proof of concept - if it's acceptable I'll
add another later with docs and tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T09:33:35+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T09:33:48+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">15</version>
      <user-name>Andrew White</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Andrew, the patch looks great. We just need tests and there is no need to check if a file is already there, since Rails does it for us and delegates the decision to the user.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Andrew, the patch looks great. We just need tests and there is
no need to check if a file is already there, since Rails does it
for us and delegates the decision to the user.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T10:24:57+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T10:24:59+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">16</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Test and docs added to USAGE</body>
      <body-html>&lt;div&gt;&lt;p&gt;Test and docs added to USAGE&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T11:22:28+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T11:22:37+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">17</version>
      <user-name>Andrew White</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>Forgot to squash commits - updated patch as single commit</body>
      <body-html>&lt;div&gt;&lt;p&gt;Forgot to squash commits - updated patch as single commit&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T11:28:57+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T11:29:00+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">18</version>
      <user-name>Andrew White</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>Third time lucky - removed check for existing file.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Third time lucky - removed check for existing file.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T13:03:08+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-11T13:03:13+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">19</version>
      <user-name>Andrew White</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>(from [788d9238931bb36ed2af78d34c84562dc3a4848c]) Generate module file for namespaced models [#4230 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/788d9238931bb36ed2af78d34c84562dc3a4848c</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/788d9238931bb36ed2af78d34c84562dc3a4848c&quot;
title=
&quot;Changeset [788d9238931bb36ed2af78d34c84562dc3a4848c]&quot;&gt;[788d9238931bb36ed2af78d34c84562dc3a4848c]&lt;/a&gt;)
Generate module file for namespaced models [&lt;a href=
&quot;/projects/8994/tickets/4230&quot; title=&quot;Ticket #4230&quot;&gt;#4230&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/788d9238931bb36ed2af78d34c84562dc3a4848c&quot;&gt;
http://github.com/rails/rails/commit/788d9238931bb36ed2af78d34c8456...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-12T10:10:28+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-12T10:10:33+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">20</version>
      <user-name>Repository</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>(from [bab1f910c7399fcfe9f031a1ce3a1f36bf5fd277]) table_name_prefix and table_name_suffix are class_attributes instead of cattr_accessors. [#4230]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/bab1f910c7399fcfe9f031a1ce3a1f36bf5fd277</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/bab1f910c7399fcfe9f031a1ce3a1f36bf5fd277&quot;
title=
&quot;Changeset [bab1f910c7399fcfe9f031a1ce3a1f36bf5fd277]&quot;&gt;[bab1f910c7399fcfe9f031a1ce3a1f36bf5fd277]&lt;/a&gt;)
table_name_prefix and table_name_suffix are class_attributes
instead of cattr_accessors. [&lt;a href=&quot;/projects/8994/tickets/4230&quot;
title=&quot;Ticket #4230&quot;&gt;#4230&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/bab1f910c7399fcfe9f031a1ce3a1f36bf5fd277&quot;&gt;
http://github.com/rails/rails/commit/bab1f910c7399fcfe9f031a1ce3a1f...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-12T10:10:29+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-12T10:10:32+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">21</version>
      <user-name>Repository</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>Thanks guys, applied! Can someone please tell me if #2965 is still an issue in Rails master?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks guys, applied! Can someone please tell me if &lt;a href=
&quot;/projects/8994/tickets/2965&quot; title=&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt; is
still an issue in Rails master?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-12T10:11:20+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-12T10:11:24+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">22</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>Yes, it's still an issue. Is it something you'd like me to investigate?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, it's still an issue. Is it something you'd like me to
investigate?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-12T14:34:08+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-12T14:34:13+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">23</version>
      <user-name>Andrew White</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>@Andrew, if you can, it would be awesome!</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Andrew, if you can, it would be awesome!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-12T14:35:39+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-12T14:35:40+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">24</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>I'll get on it. One immediate consequence of getting it working is that the fixture file path will have to switch from matching the table name to matching the underscored class name - is this okay?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'll get on it. One immediate consequence of getting it working
is that the fixture file path will have to switch from matching the
table name to matching the underscored class name - is this
okay?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-12T14:51:10+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-04-12T14:51:12+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">25</version>
      <user-name>Andrew White</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:49+01:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">1</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2010-10-15T23:01:49+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">26</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>High</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>thank you very much......&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/&quot;&gt;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f86.html&quot;&gt;&#1605;&#1603;&#1610;&#1575;&#1580;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&#1575;&#1586;&#1610;&#1575;&#1569;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&#1601;&#1587;&#1575;&#1578;&#1610;&#1606;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f17.html&quot;&gt;&#1585;&#1587;&#1575;&#1574;&#1604; 
- &#1605;&#1587;&#1580;&#1575;&#1578; - &#1608;&#1587;&#1575;&#1574;&#1591;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f18.html&quot;&gt;&#1578;&#1608;&#1576;&#1610;&#1603;&#1575;&#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;&#1608;&#1592;&#1575;&#1574;&#1601;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;jobs&lt;/a&gt; &lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;&#1576;&#1585;&#1608;&#1603;&#1587;&#1610;&lt;/a&gt; &lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;proxy&lt;/a&gt;&lt;a href=&quot;http://forum.line-sport.tv/&quot;&gt;&#1604;&#1575;&#1610;&#1606; &#1587;&#1576;&#1608;&#1585;&#1578;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;thank you very much......&lt;span class=
&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=
&quot;http://www.tran33m.com/vb/&quot;&gt;&amp;#1605;&amp;#1606;&amp;#1578;&amp;#1583;&amp;#1610;&amp;#1575;&amp;#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f86.html&quot;&gt;&amp;#1605;&amp;#1603;&amp;#1610;&amp;#1575;&amp;#1580;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&amp;#1575;&amp;#1586;&amp;#1610;&amp;#1575;&amp;#1569;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&amp;#1601;&amp;#1587;&amp;#1575;&amp;#1578;&amp;#1610;&amp;#1606;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f17.html&quot;&gt;&amp;#1585;&amp;#1587;&amp;#1575;&amp;#1574;&amp;#1604;&lt;br&gt;
- &amp;#1605;&amp;#1587;&amp;#1580;&amp;#1575;&amp;#1578; -
&amp;#1608;&amp;#1587;&amp;#1575;&amp;#1574;&amp;#1591;&lt;/a&gt;&lt;span class=
&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=
&quot;http://www.tran33m.com/vb/f18.html&quot;&gt;&amp;#1578;&amp;#1608;&amp;#1576;&amp;#1610;&amp;#1603;&amp;#1575;&amp;#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;&amp;#1608;&amp;#1592;&amp;#1575;&amp;#1574;&amp;#1601;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;jobs&lt;/a&gt;
&lt;a href=
&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;&amp;#1576;&amp;#1585;&amp;#1608;&amp;#1603;&amp;#1587;&amp;#1610;&lt;/a&gt;
&lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;proxy&lt;/a&gt;&lt;a href=
&quot;http://forum.line-sport.tv/&quot;&gt;&amp;#1604;&amp;#1575;&amp;#1610;&amp;#1606;
&amp;#1587;&amp;#1576;&amp;#1608;&amp;#1585;&amp;#1578;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-08T11:14:49+00:00</created-at>
      <creator-id type="integer">52029</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4230</number>
      <permalink>ar-migration-generator-includes-models-modules-in-table-name</permalink>
      <priority type="integer">1</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord generator migration module namespace patch</tag>
      <title>[PATCH] AR migration generator includes model's modules in table name. </title>
      <updated-at type="datetime">2011-02-08T12:16:02+00:00</updated-at>
      <user-id type="integer">136126</user-id>
      <version type="integer">27</version>
      <user-name>alasiri1</user-name>
      <creator-name>phs</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4230</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>High</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>f3d5e34a7a62ee8afdeceef8fd8f563d3b7dab84</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-03-20T07:56:55+00:00</created-at>
      <filename>break-out-table-path.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">453594</id>
      <size type="integer">5460</size>
      <uploader-id type="integer">52029</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/453594/break-out-table-path.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>f7e38d9b8938e825272884d83973d3baa1c65fc7</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-03-20T19:30:36+00:00</created-at>
      <filename>remove-namespace-components-from-table_name.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">453763</id>
      <size type="integer">5411</size>
      <uploader-id type="integer">52029</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/453763/remove-namespace-components-from-table_name.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>307278345fd1576cc6059f6ce4f5385039c20d69</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-03-20T23:56:06+00:00</created-at>
      <filename>add_table_name_prefix_when_generating_namespaced_models.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">453821</id>
      <size type="integer">2278</size>
      <uploader-id type="integer">52029</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/453821/add_table_name_prefix_when_generating_namespaced_models.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>c7d29dbedb1271fb74902d7e57756dd54c6efea0</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-11T03:33:49+01:00</created-at>
      <filename>make_table_name_prefix_a_class_attribute_instead_of_cattr_accessor.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">478313</id>
      <size type="integer">6287</size>
      <uploader-id type="integer">52029</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/478313/make_table_name_prefix_a_class_attribute_instead_of_cattr_accessor.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>c7abfe9611a964ebf736a8f785161b3ea05d27b3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-11T09:33:36+01:00</created-at>
      <filename>0001-generate-module-with-table-name-prefix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">478369</id>
      <size type="integer">1920</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/478369/0001-generate-module-with-table-name-prefix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>ee052d636dd78674a0b897ee5f78c37ace71a071</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-11T11:22:28+01:00</created-at>
      <filename>0002-generate-module-with-table-name-prefix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">478381</id>
      <size type="integer">4512</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/478381/0002-generate-module-with-table-name-prefix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>7d76ec5b2ac26538790597f4a693f17f2d86b5be</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-11T11:28:57+01:00</created-at>
      <filename>0003-generate-module-with-table-name-prefix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">478382</id>
      <size type="integer">4250</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/478382/0003-generate-module-with-table-name-prefix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>d52efb7e7048f947c460f9b3364a2a1222165a62</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-11T13:03:08+01:00</created-at>
      <filename>0004-generate-module-with-table-name-prefix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">478386</id>
      <size type="integer">3986</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/478386/0004-generate-module-with-table-name-prefix.diff</url>
    </attachment>
  </attachments>
</ticket>
