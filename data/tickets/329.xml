<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1</assigned-user-id>
  <attachments-count type="integer">4</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-06-04T02:26:47+01:00</created-at>
  <creator-id type="integer">1841</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">329</number>
  <permalink>add-an-api-for-plugins-to-register-routes</permalink>
  <priority type="integer">37</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>duplicate</state>
  <tag>actionpack edge engines enhancement patch plugin railties routing</tag>
  <title>Add an API for plugins to register routes</title>
  <updated-at type="datetime">2009-05-18T18:58:44+01:00</updated-at>
  <user-id type="integer">53943</user-id>
  <version type="integer">21</version>
  <user-name>jesse (at jesseclark)</user-name>
  <creator-name>Rich Cavanaugh</creator-name>
  <assigned-user-name>Rick</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>This change allows plugins to register routes while maintaining control for the developer using the plugin.

This is how a plugin registers it's routes:

@@@ ruby
config.draw_for do |map|
  map.connect ...
  map.resources ...
end

# or

config.draw_for :my_plugin_admin do |map|
  map.connect ...
  map.resources ...
end
@@@

This is how a developer would install the plugin routes:

@@@ ruby
ActionController::Routing::Routes.draw do |map|
  # Install every registered plugin route.
  map.plugin_routes
  
  # Same as above.
  map.plugin_routes :all
  
  # Install the listed plugin routes.
  map.plugin_routes :hobo, :active_scaffold, :restful_authentication
  
  # The above approach could also be used multiple times
  # to handle order sensitive routes.
  map.plugin_routes :hobo
  map.connect '/something', ...
  map.plugin_routes :active_scaffold, :restful_authentication
  
  # Install every registered plugin route execept the listed plugins.
  map.plugin_routes :except =&gt; [:hobo, :something]
end
@@@

There are currently no tests for these changes. I will add tests soon. This patch includes the suggestions from DHH and technoweenie on #rails-contrib</original-body>
  <latest-body>This change allows plugins to register routes while maintaining control for the developer using the plugin.

This is how a plugin registers it's routes:

@@@ ruby
config.draw_for do |map|
  map.connect ...
  map.resources ...
end

# or

config.draw_for :my_plugin_admin do |map|
  map.connect ...
  map.resources ...
end
@@@

This is how a developer would install the plugin routes:

@@@ ruby
ActionController::Routing::Routes.draw do |map|
  # Install every registered plugin route.
  map.plugin_routes
  
  # Same as above.
  map.plugin_routes :all
  
  # Install the listed plugin routes.
  map.plugin_routes :hobo, :active_scaffold, :restful_authentication
  
  # The above approach could also be used multiple times
  # to handle order sensitive routes.
  map.plugin_routes :hobo
  map.connect '/something', ...
  map.plugin_routes :active_scaffold, :restful_authentication
  
  # Install every registered plugin route execept the listed plugins.
  map.plugin_routes :except =&gt; [:hobo, :something]
end
@@@

There are currently no tests for these changes. I will add tests soon. This patch includes the suggestions from DHH and technoweenie on #rails-contrib</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
This change allows plugins to register routes while maintaining control for the developer using the plugin.
&lt;/p&gt;&lt;p&gt;
This is how a plugin registers it's routes:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;config.draw_for do |map|
  map.connect ...
  map.resources ...
end

# or

config.draw_for :my_plugin_admin do |map|
  map.connect ...
  map.resources ...
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
This is how a developer would install the plugin routes:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;ActionController::Routing::Routes.draw do |map|
  # Install every registered plugin route.
  map.plugin_routes
  
  # Same as above.
  map.plugin_routes :all
  
  # Install the listed plugin routes.
  map.plugin_routes :hobo, :active_scaffold, :restful_authentication
  
  # The above approach could also be used multiple times
  # to handle order sensitive routes.
  map.plugin_routes :hobo
  map.connect '/something', ...
  map.plugin_routes :active_scaffold, :restful_authentication
  
  # Install every registered plugin route execept the listed plugins.
  map.plugin_routes :except =&amp;gt; [:hobo, :something]
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
There are currently no tests for these changes. I will add tests soon. This patch includes the suggestions from DHH and technoweenie on #rails-contrib
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This change allows plugins to register routes while maintaining control for the developer using the plugin.

This is how a plugin registers it's routes:

@@@ ruby
config.draw_for do |map|
  map.connect ...
  map.resources ...
end

# or

config.draw_for :my_plugin_admin do |map|
  map.connect ...
  map.resources ...
end
@@@

This is how a developer would install the plugin routes:

@@@ ruby
ActionController::Routing::Routes.draw do |map|
  # Install every registered plugin route.
  map.plugin_routes
  
  # Same as above.
  map.plugin_routes :all
  
  # Install the listed plugin routes.
  map.plugin_routes :hobo, :active_scaffold, :restful_authentication
  
  # The above approach could also be used multiple times
  # to handle order sensitive routes.
  map.plugin_routes :hobo
  map.connect '/something', ...
  map.plugin_routes :active_scaffold, :restful_authentication
  
  # Install every registered plugin route execept the listed plugins.
  map.plugin_routes :except =&gt; [:hobo, :something]
end
@@@

There are currently no tests for these changes. I will add tests soon. This patch includes the suggestions from DHH and technoweenie on #rails-contrib</body>
      <body-html>&lt;div&gt;&lt;p&gt;
This change allows plugins to register routes while maintaining control for the developer using the plugin.
&lt;/p&gt;&lt;p&gt;
This is how a plugin registers it's routes:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;config.draw_for do |map|
  map.connect ...
  map.resources ...
end

# or

config.draw_for :my_plugin_admin do |map|
  map.connect ...
  map.resources ...
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
This is how a developer would install the plugin routes:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;ActionController::Routing::Routes.draw do |map|
  # Install every registered plugin route.
  map.plugin_routes
  
  # Same as above.
  map.plugin_routes :all
  
  # Install the listed plugin routes.
  map.plugin_routes :hobo, :active_scaffold, :restful_authentication
  
  # The above approach could also be used multiple times
  # to handle order sensitive routes.
  map.plugin_routes :hobo
  map.connect '/something', ...
  map.plugin_routes :active_scaffold, :restful_authentication
  
  # Install every registered plugin route execept the listed plugins.
  map.plugin_routes :except =&amp;gt; [:hobo, :something]
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
There are currently no tests for these changes. I will add tests soon. This patch includes the suggestions from DHH and technoweenie on #rails-contrib
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-04T02:26:47+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-06-04T02:26:47+01:00</updated-at>
      <user-id type="integer">1841</user-id>
      <version type="integer">1</version>
      <user-name>Rich Cavanaugh</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Attaching the patch would probably help it make it into Rails.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Attaching the patch would probably help it make it into Rails.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-04T02:27:36+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-06-04T02:27:36+01:00</updated-at>
      <user-id type="integer">1841</user-id>
      <version type="integer">2</version>
      <user-name>Rich Cavanaugh</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-04T02:29:56+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-06-04T02:29:56+01:00</updated-at>
      <user-id type="integer">1</user-id>
      <version type="integer">3</version>
      <user-name>Rick</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Just a nitpick, but config.draw_for with no arguments looks weird.  That's why I suggested config.plugin_routes or something to that effect in #rails-contrib.  It's something that looks fine with or without a given plugin name.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Just a nitpick, but config.draw_for with no arguments looks weird.  That's why I suggested config.plugin_routes or something to that effect in #rails-contrib.  It's something that looks fine with or without a given plugin name.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-04T03:36:36+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-06-04T03:36:36+01:00</updated-at>
      <user-id type="integer">1</user-id>
      <version type="integer">4</version>
      <user-name>Rick</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>You're absolutely right, I should have caught that. I've changed the method name to plugin_routes but, I also setup an alias for draw_for so you could still do:

@@@ ruby
config.draw_for :plugin_admin do |map|
end
@@@

The unadorned approach is now:

@@@ ruby
config.plugin_routes do |map|
end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;
You're absolutely right, I should have caught that. I've changed the method name to plugin_routes but, I also setup an alias for draw_for so you could still do:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;config.draw_for :plugin_admin do |map|
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The unadorned approach is now:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;config.plugin_routes do |map|
end&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-04T19:27:50+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-06-04T19:27:50+01:00</updated-at>
      <user-id type="integer">1841</user-id>
      <version type="integer">5</version>
      <user-name>Rich Cavanaugh</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I've attached the finalized patch updated for edge and added tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've attached the finalized patch updated for edge and added tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-12T09:06:35+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-12T09:06:35+01:00</updated-at>
      <user-id type="integer">1841</user-id>
      <version type="integer">6</version>
      <user-name>Rich Cavanaugh</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>This looks like a great enhancement.  I've wanted this functionality as a plugin developer several times.  +1 here.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This looks like a great enhancement.  I've wanted this functionality as a plugin developer several times.  +1 here.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-13T01:57:18+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-13T01:57:18+01:00</updated-at>
      <user-id type="integer">7957</user-id>
      <version type="integer">7</version>
      <user-name>voxdolo</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>This would be awesome to have. +1</body>
      <body-html>&lt;div&gt;&lt;p&gt;This would be awesome to have. +1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-14T20:26:14+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-14T20:26:14+01:00</updated-at>
      <user-id type="integer">3722</user-id>
      <version type="integer">8</version>
      <user-name>Bruno Miranda</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Question: is it really a good idea for routing information to be spread all over the rails app? and potentially conflicted between plugins? I'm much more comfortable with rake tasks and generators adding code to the routes.rb where you can easily see what's what. I'm all for this if someone could assuage those fears.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Question: is it really a good idea for routing information to be spread all over the rails app? and potentially conflicted between plugins? I'm much more comfortable with rake tasks and generators adding code to the routes.rb where you can easily see what's what. I'm all for this if someone could assuage those fears.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-15T22:34:51+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-15T22:34:51+01:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">9</version>
      <user-name>RSL</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>This change simply allows plugins to define their routes but does not automatically inject them into the actual routing.

They are then inserted by the developers into config/routes.rb using code like:

@@@ ruby
  map.plugin_routes :hobo
  # or more automated
  map.plugin_routes :all
@@@

So control remains entirely in the rails app developer's hands. They can control the precise order that all of the plugin routes are injected to avoid conflicts. 

At that point it's just a matter of the developer knowing what the plugins they're using are doing. If they don't, conflicts could happen in many places between plugins, not just routes.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This change simply allows plugins to define their routes but does not automatically inject them into the actual routing.&lt;/p&gt;

&lt;p&gt;They are then inserted by the developers into config/routes.rb using code like:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  map.plugin_routes :hobo
  # or more automated
  map.plugin_routes :all
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So control remains entirely in the rails app developer's hands. They can control the precise order that all of the plugin routes are injected to avoid conflicts.&lt;/p&gt;

&lt;p&gt;At that point it's just a matter of the developer knowing what the plugins they're using are doing. If they don't, conflicts could happen in many places between plugins, not just routes.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-15T23:09:54+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-15T23:09:54+01:00</updated-at>
      <user-id type="integer">1841</user-id>
      <version type="integer">10</version>
      <user-name>Rich Cavanaugh</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I don't know if anybody has looked at the engines plugin, but it uses the syntax:

map.from_plugin :some_plugin

Then the plugin has a routes.rb in it's root directory and the routes in this file are evaled by the above call</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't know if anybody has looked at the engines plugin, but it uses the syntax:&lt;/p&gt;

&lt;p&gt;map.from_plugin :some_plugin&lt;/p&gt;

&lt;p&gt;Then the plugin has a routes.rb in it's root directory and the routes in this file are evaled by the above call&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-16T10:26:49+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-16T10:26:49+01:00</updated-at>
      <user-id type="integer">21652</user-id>
      <version type="integer">11</version>
      <user-name>azimux</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>rich, i misread developer to mean the plugin developer [my fault for reading too quickly]. great patch. +1</body>
      <body-html>&lt;div&gt;&lt;p&gt;rich, i misread developer to mean the plugin developer [my fault for reading too quickly]. great patch. +1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-16T17:17:29+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-08-16T17:17:29+01:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">12</version>
      <user-name>RSL</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-01T07:41:11+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes-2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-09-01T07:41:11+01:00</updated-at>
      <user-id type="integer">27062</user-id>
      <version type="integer">13</version>
      <user-name>Ramon Salvad&#243;</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I like this, or something like it, for the 2.3 stream.

But for now I'm just moving it off the radar for 2.2</body>
      <body-html>&lt;div&gt;&lt;p&gt;I like this, or something like it, for the 2.3 stream.&lt;/p&gt;
&lt;p&gt;But for now I'm just moving it off the radar for 2.2&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-13T12:23:00+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-09-13T12:23:24+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">14</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>The engines plugin does indeed implement this, but in a much simpler, low-tech way. If this is going into core, it probably needs to work nicely with things like namespaces.

Additionally, is there any way to avoid the 'currently_loading_plugin' attribute? It's a bit inelegant.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The engines plugin does indeed implement this, but in a much
simpler, low-tech way. If this is going into core, it probably
needs to work nicely with things like namespaces.&lt;/p&gt;
&lt;p&gt;Additionally, is there any way to avoid the
'currently_loading_plugin' attribute? It's a bit inelegant.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-14T23:31:17+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-09-14T23:31:25+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">15</version>
      <user-name>James Adam</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I've added auto-loading of config/routes.rb from all plugins now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've added auto-loading of config/routes.rb from all plugins
now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-26T19:38:19+00:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>actionpack edge enhancement patch railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2008-11-26T19:38:25+00:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">16</version>
      <user-name>DHH</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I think this functionality has real-world use, and would love to see it implemented. I've come up with a simple but clear example of a routing issue which is realistic and problematic given the current simplistic plugin route loading, in [this gist](http://gist.github.com/105069)

I spiked locally and came up with a very similar patch, with a bit more flexibility and a  few caveats; essentially a plugin (or any loading file) can register one or more 'bundles' of routes, and then the developer can load them at the point they choose.

In a plugin

@@@ ruby
ActionController::Routing::Routes.bundle(:my_plugin) do |map|
  map.connect &quot;/login&quot;, :controller =&gt; &quot;session&quot;, :action =&gt; &quot;new&quot;
  map.resource :session
  map.resources :users
end
@@@

and in the app

@@@ ruby
ActionController::Routing::Routes.draw do |map|
   map.bundle :my_plugin
end
@@@

I'm not a huge fan of the `currently_loading_plugin` stuff, and prefer the explicit naming, but that's a minor quibble.

There are two hiccups, as far as I can see. The first is that there's no clean way to generate a set of routes without having them append to the RouteSet; this means that when a bundle is mapped, it actually appends the routes to the end of the app routes, and then we have to slice them off and insert them where the bundle placeholder is.

Secondly, again because of the current architecture of the Mapper/RouteSet, there's no way to pass options into a Mapper. This means that you can do, for example:

@@@ ruby
  map.with_options(:name_prefix =&gt; &quot;admin_&quot;) do |map|
    map.bundle :my_plugin
  end
@@@

because there's no way to pass the options into the Mapper instance.

However, even with these shortcomings, it feels like useful functionality for developers wanting to share routes in a flexible way.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think this functionality has real-world use, and would love to
see it implemented. I've come up with a simple but clear example of
a routing issue which is realistic and problematic given the
current simplistic plugin route loading, in &lt;a href=&quot;http://gist.github.com/105069&quot;&gt;this gist&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I spiked locally and came up with a very similar patch, with a
bit more flexibility and a few caveats; essentially a plugin (or
any loading file) can register one or more 'bundles' of routes, and
then the developer can load them at the point they choose.&lt;/p&gt;
&lt;p&gt;In a plugin&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
ActionController::Routing::Routes.bundle(:my_plugin) do |map|
  map.connect &amp;quot;/login&amp;quot;, :controller =&amp;gt; &amp;quot;session&amp;quot;, :action =&amp;gt; &amp;quot;new&amp;quot;
  map.resource :session
  map.resources :users
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and in the app&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
ActionController::Routing::Routes.draw do |map|
   map.bundle :my_plugin
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I'm not a huge fan of the &lt;code&gt;currently_loading_plugin&lt;/code&gt;
stuff, and prefer the explicit naming, but that's a minor
quibble.&lt;/p&gt;
&lt;p&gt;There are two hiccups, as far as I can see. The first is that
there's no clean way to generate a set of routes without having
them append to the RouteSet; this means that when a bundle is
mapped, it actually appends the routes to the end of the app
routes, and then we have to slice them off and insert them where
the bundle placeholder is.&lt;/p&gt;
&lt;p&gt;Secondly, again because of the current architecture of the
Mapper/RouteSet, there's no way to pass options into a Mapper. This
means that you can do, for example:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  map.with_options(:name_prefix =&amp;gt; &amp;quot;admin_&amp;quot;) do |map|
    map.bundle :my_plugin
  end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;because there's no way to pass the options into the Mapper
instance.&lt;/p&gt;
&lt;p&gt;However, even with these shortcomings, it feels like useful
functionality for developers wanting to share routes in a flexible
way.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-01T18:23:51+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionpack edge enhancement patch railties routing
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>actionpack edge engines enhancement patch plugin railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2009-05-01T18:23:57+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">17</version>
      <user-name>James Adam</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>See also #1450 - this kind of mechanism could cover the desired &quot;manual when I want it, automatic when I don't care&quot; functionality.</body>
      <body-html>&lt;div&gt;&lt;p&gt;See also &lt;a href=&quot;/projects/8994/tickets/1450&quot; title=&quot;Ticket #1450&quot;&gt;#1450&lt;/a&gt; - this kind of mechanism could cover the
desired &quot;manual when I want it, automatic when I don't care&quot;
functionality.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-01T18:30:34+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>actionpack edge engines enhancement patch plugin railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2009-05-01T18:30:35+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">18</version>
      <user-name>James Adam</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Here's my patch, with tests. Works pretty well, I think. The only thing I haven't changed is the doc at the top.

This patch incorporates functionality from ticket #349 which describes wanting to manually load routes when specified, and automatically when not.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's my patch, with tests. Works pretty well, I think. The
only thing I haven't changed is the doc at the top.&lt;/p&gt;
&lt;p&gt;This patch incorporates functionality from ticket &lt;a href=&quot;/projects/8994/tickets/349&quot; title=&quot;Ticket #349&quot;&gt;#349&lt;/a&gt; which
describes wanting to manually load routes when specified, and
automatically when not.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-01T18:54:44+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>actionpack edge engines enhancement patch plugin railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2009-05-01T18:54:47+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">19</version>
      <user-name>James Adam</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Oops, make that ticket #1450</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oops, make that ticket &lt;a href=&quot;/projects/8994/tickets/1450&quot; title=&quot;Ticket #1450&quot;&gt;#1450&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-01T18:55:19+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>actionpack edge engines enhancement patch plugin railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2009-05-01T18:55:27+01:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">20</version>
      <user-name>James Adam</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>I like the idea of giving the app developer control over how the plugin routes get integrated instead of automatically having plugin routes override application routes.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I like the idea of giving the app developer control over how the
plugin routes get integrated instead of automatically having plugin
routes override application routes.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-18T18:58:40+01:00</created-at>
      <creator-id type="integer">1841</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">329</number>
      <permalink>add-an-api-for-plugins-to-register-routes</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>actionpack edge engines enhancement patch plugin railties routing</tag>
      <title>Add an API for plugins to register routes</title>
      <updated-at type="datetime">2009-05-18T18:58:44+01:00</updated-at>
      <user-id type="integer">53943</user-id>
      <version type="integer">21</version>
      <user-name>jesse (at jesseclark)</user-name>
      <creator-name>Rich Cavanaugh</creator-name>
      <assigned-user-name>Rick</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/329</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>0f20ed8fedb13ce27964cf299b693a73aa0e0543</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-06-04T02:27:36+01:00</created-at>
      <filename>plugin-routes.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">25779</id>
      <size type="integer">6236</size>
      <uploader-id type="integer">1841</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/25779/plugin-routes.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>c28fae78daf8186b6fb784dbdeea5b88ecb0177f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-06-04T17:58:37+01:00</created-at>
      <filename>plugin-routes-cleaner-method-names.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">25896</id>
      <size type="integer">7510</size>
      <uploader-id type="integer">1841</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/25896/plugin-routes-cleaner-method-names.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>d0c22dd9bc220b7d1478b031b7a91abc50e0a79d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-12T09:06:35+01:00</created-at>
      <filename>plugin-routes-with-tests.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">38538</id>
      <size type="integer">14681</size>
      <uploader-id type="integer">1841</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/38538/plugin-routes-with-tests.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>8862801c88b1e645525fa319713ada5e7595ffef</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-01T18:54:44+01:00</created-at>
      <filename>plugin_route_control.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">117838</id>
      <size type="integer">7386</size>
      <uploader-id type="integer">137</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/117838/plugin_route_control.diff</url>
    </attachment>
  </attachments>
</ticket>
