<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-07-19T07:09:58+01:00</created-at>
  <creator-id type="integer">47655</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2235</number>
  <permalink>savepoints-in-sqlite3</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>2x adapters savepoint sqlite3 sqlite_adapter</tag>
  <title>savepoints in sqlite3</title>
  <updated-at type="datetime">2011-02-02T17:10:54+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">5</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>JasonKing</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2235</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Savepoints are supported in &gt;= 3.6.8 sqlite - but are not implemented in the adapter.

I had them patched into #2080 but other tests seemed to be triggering the savepoints inadvertently.  It's a very simple thing to add savepoint support back into the adapter, this ticket is really about tracking down the tests that fail when you do that and working out why the savepoints are getting in there, and maybe do something a little cleverer wrt how these sorts of checks are done.

I'm thinking maybe including the check in the adapter's savepoint methods, instead of the caller having to do it.</original-body>
  <latest-body>Savepoints are supported in &gt;= 3.6.8 sqlite - but are not implemented in the adapter.

I had them patched into #2080 but other tests seemed to be triggering the savepoints inadvertently.  It's a very simple thing to add savepoint support back into the adapter, this ticket is really about tracking down the tests that fail when you do that and working out why the savepoints are getting in there, and maybe do something a little cleverer wrt how these sorts of checks are done.

I'm thinking maybe including the check in the adapter's savepoint methods, instead of the caller having to do it.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Savepoints are supported in &amp;gt;= 3.6.8 sqlite - but are not
implemented in the adapter.&lt;/p&gt;
&lt;p&gt;I had them patched into &lt;a href=&quot;/projects/8994/tickets/2080&quot; title=&quot;Ticket #2080&quot;&gt;#2080&lt;/a&gt; but other tests seemed to be
triggering the savepoints inadvertently. It's a very simple thing
to add savepoint support back into the adapter, this ticket is
really about tracking down the tests that fail when you do that and
working out why the savepoints are getting in there, and maybe do
something a little cleverer wrt how these sorts of checks are
done.&lt;/p&gt;
&lt;p&gt;I'm thinking maybe including the check in the adapter's
savepoint methods, instead of the caller having to do it.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Savepoints are supported in &gt;= 3.6.8 sqlite - but are not implemented in the adapter.

I had them patched into #2080 but other tests seemed to be triggering the savepoints inadvertently.  It's a very simple thing to add savepoint support back into the adapter, this ticket is really about tracking down the tests that fail when you do that and working out why the savepoints are getting in there, and maybe do something a little cleverer wrt how these sorts of checks are done.

I'm thinking maybe including the check in the adapter's savepoint methods, instead of the caller having to do it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Savepoints are supported in &amp;gt;= 3.6.8 sqlite - but are not
implemented in the adapter.&lt;/p&gt;
&lt;p&gt;I had them patched into &lt;a href=&quot;/projects/8994/tickets/2080&quot; title=&quot;Ticket #2080&quot;&gt;#2080&lt;/a&gt; but other tests seemed to be
triggering the savepoints inadvertently. It's a very simple thing
to add savepoint support back into the adapter, this ticket is
really about tracking down the tests that fail when you do that and
working out why the savepoints are getting in there, and maybe do
something a little cleverer wrt how these sorts of checks are
done.&lt;/p&gt;
&lt;p&gt;I'm thinking maybe including the check in the adapter's
savepoint methods, instead of the caller having to do it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-14T13:10:49+00:00</created-at>
      <creator-id type="integer">47655</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2235</number>
      <permalink>savepoints-in-sqlite3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x adapters savepoint sqlite3 sqlite_adapter</tag>
      <title>savepoints in sqlite3</title>
      <updated-at type="datetime">2009-03-14T13:10:52+00:00</updated-at>
      <user-id type="integer">47655</user-id>
      <version type="integer">1</version>
      <user-name>JasonKing</user-name>
      <creator-name>JasonKing</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2235</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:42+01:00</created-at>
      <creator-id type="integer">47655</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2235</number>
      <permalink>savepoints-in-sqlite3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x adapters savepoint sqlite3 sqlite_adapter</tag>
      <title>savepoints in sqlite3</title>
      <updated-at type="datetime">2010-05-04T18:48:42+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">2</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>JasonKing</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2235</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>er Picasso's &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com/collection/cartier-jewelry.html&quot;&gt;fake Cartier jewelry&lt;/a&gt;&lt;/b&gt; work for Yves St &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com&quot;&gt;tiffeny&lt;/a&gt;&lt;/b&gt; Laurent caught the world's &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com&quot;&gt;tiffanys&lt;/a&gt;&lt;/b&gt; attention and attracted Tiffany &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com/collection/bvlgari-jewelry.html&quot;&gt;Bvlgari jewelry&lt;/a&gt;&lt;/b&gt; and Co. to her &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com&quot;&gt;Fashion Jewelry&lt;/a&gt;&lt;/b&gt; audacious design style. Guess &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com&quot;&gt;tiffany&lt;/a&gt;&lt;/b&gt; what? They do. Hence, &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com/collection/cartier-jewelry.html&quot;&gt;Cartier jewelry&lt;/a&gt;&lt;/b&gt; many people are always &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com/collection/gucci-jewelry.html&quot;&gt;knockoff Gucci jewelry&lt;/a&gt;&lt;/b&gt; on the lookout for &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com/collection/christian-dior-jewelry.html&quot;&gt;Christian Dior jewelry&lt;/a&gt;&lt;/b&gt; discount Tiffany jewelry. A &lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com&quot;&gt;tiffany and co&lt;/a&gt;&lt;/b&gt; vast selection of trendsetting cz jewelry is offered by SparklesForever.co</body>
      <body-html>&lt;div&gt;&lt;p&gt;er Picasso's &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com/collection/cartier-jewelry.html&quot;&gt;fake
Cartier jewelry&lt;/a&gt;&lt;/b&gt; work for Yves St &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com&quot;&gt;tiffeny&lt;/a&gt;&lt;/b&gt; Laurent caught the
world's &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com&quot;&gt;tiffanys&lt;/a&gt;&lt;/b&gt; attention and
attracted Tiffany &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com/collection/bvlgari-jewelry.html&quot;&gt;Bvlgari
jewelry&lt;/a&gt;&lt;/b&gt; and Co. to her &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com&quot;&gt;Fashion Jewelry&lt;/a&gt;&lt;/b&gt; audacious
design style. Guess &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com&quot;&gt;tiffany&lt;/a&gt;&lt;/b&gt; what? They do.
Hence, &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com/collection/cartier-jewelry.html&quot;&gt;Cartier
jewelry&lt;/a&gt;&lt;/b&gt; many people are always &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com/collection/gucci-jewelry.html&quot;&gt;knockoff
Gucci jewelry&lt;/a&gt;&lt;/b&gt; on the lookout for &lt;b&gt;&lt;a href=
&quot;http://www.replicatiffanys.com/collection/christian-dior-jewelry.html&quot;&gt;
Christian Dior jewelry&lt;/a&gt;&lt;/b&gt; discount Tiffany jewelry. A
&lt;b&gt;&lt;a href=&quot;http://www.replicatiffanys.com&quot;&gt;tiffany and co&lt;/a&gt;&lt;/b&gt;
vast selection of trendsetting cz jewelry is offered by
SparklesForever.co&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-19T05:50:07+01:00</created-at>
      <creator-id type="integer">47655</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.x adapters savepoint sqlite3 sqlite_adapter
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2235</number>
      <permalink>savepoints-in-sqlite3</permalink>
      <priority type="integer">1424</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2 adapters savepoint sqlite3 sqlite_adapter</tag>
      <title>savepoints in sqlite3</title>
      <updated-at type="datetime">2010-07-19T07:09:58+01:00</updated-at>
      <user-id type="integer">107772</user-id>
      <version type="integer">3</version>
      <user-name>dai123</user-name>
      <creator-name>JasonKing</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2235</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:35:36+00:00</created-at>
      <creator-id type="integer">47655</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.x adapters savepoint sqlite3 sqlite_adapter
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2235</number>
      <permalink>savepoints-in-sqlite3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2x adapters savepoint sqlite3 sqlite_adapter</tag>
      <title>savepoints in sqlite3</title>
      <updated-at type="datetime">2011-02-02T17:10:38+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">4</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>JasonKing</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2235</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:35:37+00:00</created-at>
      <creator-id type="integer">47655</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2235</number>
      <permalink>savepoints-in-sqlite3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>2x adapters savepoint sqlite3 sqlite_adapter</tag>
      <title>savepoints in sqlite3</title>
      <updated-at type="datetime">2011-02-02T17:10:54+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">5</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>JasonKing</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2235</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
