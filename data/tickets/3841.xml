<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">14998</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-02-03T13:46:04+00:00</created-at>
  <creator-id type="integer">85097</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3841</number>
  <permalink>link_to-does-not-respect-options-like-confirm-and-popup-if-url-is-specified-as-part-of-options-itself</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag nil="true"></tag>
  <title>link_to does not respect options like :confirm and :popup if url is specified as part of :options itself</title>
  <updated-at type="datetime">2010-04-11T00:08:27+01:00</updated-at>
  <user-id type="integer">14998</user-id>
  <version type="integer">4</version>
  <user-name>Ryan Bigg</user-name>
  <creator-name>Rajalakshmi Ramesh</creator-name>
  <assigned-user-name>Ryan Bigg</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3841</url>
  <priority-name>Low</priority-name>
  <original-body>The problem occurs when link_to is used as follows
@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,:action=&gt;&quot;delete&quot;,:controller=&gt;&quot;post&quot;,:id=&gt;post.id,:confirm=&gt;&quot;Do u want 
to delete this post&quot;%&gt;
@@@
The generated &lt;a&gt; link looks like this 
@@@ html
&lt;a href=&quot;/post/delete/14?confirm=Do+u+want+to+delete+this+post&quot;&gt;
@@@
However using 
@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&gt;&quot;Do u want to delete this post&quot;%&gt;
@@@
gives the proper result</original-body>
  <latest-body>The problem occurs when link_to is used as follows
@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,:action=&gt;&quot;delete&quot;,:controller=&gt;&quot;post&quot;,:id=&gt;post.id,:confirm=&gt;&quot;Do u want 
to delete this post&quot;%&gt;
@@@
The generated &lt;a&gt; link looks like this 
@@@ html
&lt;a href=&quot;/post/delete/14?confirm=Do+u+want+to+delete+this+post&quot;&gt;
@@@
However using 
@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&gt;&quot;Do u want to delete this post&quot;%&gt;
@@@
gives the proper result</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The problem occurs when link_to is used as follows&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%=link_to &quot;Delete asset&quot;,:action=&amp;gt;&quot;delete&quot;,:controller=&amp;gt;&quot;post&quot;,:id=&amp;gt;post.id,:confirm=&amp;gt;&quot;Do u want 
to delete this post&quot;%&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
The generated &lt;a&gt;link looks like this&lt;br&gt;&lt;/a&gt;
&lt;pre&gt;
&lt;code class=
&quot;html&quot;&gt;&amp;lt;a href=&quot;/post/delete/14?confirm=Do+u+want+to+delete+this+post&quot;&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
However using&lt;br&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&amp;gt;&quot;Do u want to delete this post&quot;%&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
gives the proper result&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The problem occurs when link_to is used as follows
@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,:action=&gt;&quot;delete&quot;,:controller=&gt;&quot;post&quot;,:id=&gt;post.id,:confirm=&gt;&quot;Do u want 
to delete this post&quot;%&gt;
@@@
The generated &lt;a&gt; link looks like this 
@@@ html
&lt;a href=&quot;/post/delete/14?confirm=Do+u+want+to+delete+this+post&quot;&gt;
@@@
However using 
@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&gt;&quot;Do u want to delete this post&quot;%&gt;
@@@
gives the proper result</body>
      <body-html>&lt;div&gt;&lt;p&gt;The problem occurs when link_to is used as follows&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%=link_to &quot;Delete asset&quot;,:action=&amp;gt;&quot;delete&quot;,:controller=&amp;gt;&quot;post&quot;,:id=&amp;gt;post.id,:confirm=&amp;gt;&quot;Do u want 
to delete this post&quot;%&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
The generated &lt;a&gt;link looks like this&lt;br&gt;&lt;/a&gt;
&lt;pre&gt;
&lt;code class=
&quot;html&quot;&gt;&amp;lt;a href=&quot;/post/delete/14?confirm=Do+u+want+to+delete+this+post&quot;&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
However using&lt;br&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&amp;gt;&quot;Do u want to delete this post&quot;%&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
gives the proper result&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-03T13:46:04+00:00</created-at>
      <creator-id type="integer">85097</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3841</number>
      <permalink>link_to-does-not-respect-options-like-confirm-and-popup-if-url-is-specified-as-part-of-options-itself</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>link_to does not respect options like :confirm and :popup if url is specified as part of :options itself</title>
      <updated-at type="datetime">2010-02-03T13:51:51+00:00</updated-at>
      <user-id type="integer">85097</user-id>
      <version type="integer">1</version>
      <user-name>Rajalakshmi Ramesh</user-name>
      <creator-name>Rajalakshmi Ramesh</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3841</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The proper results in

@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&gt;&quot;Do u want to delete this post&quot;%&gt;
@@@

are due to you passing :confirm as the third argument, which is &quot;html_options&quot;. Break :confirm into the third arg so it gets passed as html_options.

@@@ ruby
&lt;%=link_to &quot;Delete asset&quot;,{:action=&gt;&quot;delete&quot;,:controller=&gt;&quot;post&quot;,:id=&gt;post.id},{:confirm=&gt;&quot;Do u want 
to delete this post&quot;}%&gt;
@@@

On a related note this has changed in edge. Some keys in html_options are converted to data-#{key}. Others, like :href, override the default. This is for the new javascript and rest stuff.

@@@ ruby
&lt;%= link_to 'hello from edge', '', :batman_sidekick =&gt; 'robin', :confirm =&gt; 'Sure?' %&gt;
@@@

@@@ html
&lt;a href=&quot;&quot; batman_sidekick=&quot;robin&quot; data-confirm=&quot;Sure?&quot;&gt;hello from edge&lt;/a&gt;
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;The proper results in&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%=link_to &quot;Delete asset&quot;,&quot;post/delete/#{post.id}&quot;,:confirm=&amp;gt;&quot;Do u want to delete this post&quot;%&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;are due to you passing :confirm as the third argument, which is
&quot;html_options&quot;. Break :confirm into the third arg so it gets passed
as html_options.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%=link_to &quot;Delete asset&quot;,{:action=&amp;gt;&quot;delete&quot;,:controller=&amp;gt;&quot;post&quot;,:id=&amp;gt;post.id},{:confirm=&amp;gt;&quot;Do u want 
to delete this post&quot;}%&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;On a related note this has changed in edge. Some keys in
html_options are converted to data-#{key}. Others, like :href,
override the default. This is for the new javascript and rest
stuff.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;&amp;lt;%= link_to 'hello from edge', '', :batman_sidekick =&amp;gt; 'robin', :confirm =&amp;gt; 'Sure?' %&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=
&quot;html&quot;&gt;&amp;lt;a href=&quot;&quot; batman_sidekick=&quot;robin&quot; data-confirm=&quot;Sure?&quot;&amp;gt;hello from edge&amp;lt;/a&amp;gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-04T16:21:44+00:00</created-at>
      <creator-id type="integer">85097</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3841</number>
      <permalink>link_to-does-not-respect-options-like-confirm-and-popup-if-url-is-specified-as-part-of-options-itself</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>link_to does not respect options like :confirm and :popup if url is specified as part of :options itself</title>
      <updated-at type="datetime">2010-02-04T16:21:45+00:00</updated-at>
      <user-id type="integer">85255</user-id>
      <version type="integer">2</version>
      <user-name>Samuel Danielson</user-name>
      <creator-name>Rajalakshmi Ramesh</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3841</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14998</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Invalid.  Not using link_to properly as mentioned in the above comment.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Invalid. Not using link_to properly as mentioned in the above
comment.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-11T00:01:02+01:00</created-at>
      <creator-id type="integer">85097</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3841</number>
      <permalink>link_to-does-not-respect-options-like-confirm-and-popup-if-url-is-specified-as-part-of-options-itself</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>link_to does not respect options like :confirm and :popup if url is specified as part of :options itself</title>
      <updated-at type="datetime">2010-04-11T00:01:06+01:00</updated-at>
      <user-id type="integer">39626</user-id>
      <version type="integer">3</version>
      <user-name>Rishav Rastogi</user-name>
      <creator-name>Rajalakshmi Ramesh</creator-name>
      <assigned-user-name>Ryan Bigg</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3841</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14998</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I will mention also here that it's probably best to use the RESTful helpers for this (assuming you set them up in _config/routes.rb_ first!

    &lt;%= link_to 'delete asset', post_path(post), :method =&gt; :delete, :confirm =&gt; &quot;Do you want to delete this post?&quot; %&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;I will mention also here that it's probably best to use the
RESTful helpers for this (assuming you set them up in
&lt;em&gt;config/routes.rb&lt;/em&gt; first!&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;%= link_to 'delete asset', post_path(post), :method =&amp;gt; :delete, :confirm =&amp;gt; &quot;Do you want to delete this post?&quot; %&amp;gt;&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-11T00:08:25+01:00</created-at>
      <creator-id type="integer">85097</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3841</number>
      <permalink>link_to-does-not-respect-options-like-confirm-and-popup-if-url-is-specified-as-part-of-options-itself</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>link_to does not respect options like :confirm and :popup if url is specified as part of :options itself</title>
      <updated-at type="datetime">2010-04-11T00:08:27+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">4</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Rajalakshmi Ramesh</creator-name>
      <assigned-user-name>Ryan Bigg</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3841</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
