<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-07-09T13:29:10+01:00</created-at>
  <creator-id type="integer">106486</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">5074</number>
  <permalink>observer-bug</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
  <title>observer bug</title>
  <updated-at type="datetime">2010-10-15T23:01:58+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">10</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Kevin Wang</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>I am using Ruby 1.8.7 and Rails 3 Beta4

Steps to recreate this bug

1) rails new ./foo 
2) rails generate model bar
3) rails generate observer bar
4) rake db:migrate
5) in config/application.rb file, 

config.active_record.observers = :bar_observer

6) rails console 
7) Bar.create

I get the error message below... however if I do Bar.create again it works.



irb(main):001:0&gt; Bar.create
LoadError: Expected /Users/kevin/rails/foo3/app/models/bar.rb to define Bar
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:456:in `load_missing_constant'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:103:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/core_ext/string/conversions.rb:59:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:177:in `observed_class'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:170:in `observed_classes'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:190:in `observed_classes'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:186:in `initialize'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/observer.rb:94:in `initialize'
	from /opt/local/lib/ruby/1.8/singleton.rb:94:in `new'
	from /opt/local/lib/ruby/1.8/singleton.rb:94:in `instance'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:64:in `instantiate_observer'
... 5 levels...
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:17:in `execute_hook'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:24:in `run_load_hooks'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `run_load_hooks'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb:1937
	from /Users/kevin/rails/foo3/app/models/bar.rb:1
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load_file'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:554:in `new_constants_in'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:417:in `load_file'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:313:in `require_or_load'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:455:in `load_missing_constant'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'</original-body>
  <latest-body>I am using Ruby 1.8.7 and Rails 3 Beta4

Steps to recreate this bug

1) rails new ./foo 
2) rails generate model bar
3) rails generate observer bar
4) rake db:migrate
5) in config/application.rb file, 

config.active_record.observers = :bar_observer

6) rails console 
7) Bar.create

I get the error message below... however if I do Bar.create again it works.



irb(main):001:0&gt; Bar.create
LoadError: Expected /Users/kevin/rails/foo3/app/models/bar.rb to define Bar
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:456:in `load_missing_constant'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:103:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/core_ext/string/conversions.rb:59:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:177:in `observed_class'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:170:in `observed_classes'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:190:in `observed_classes'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:186:in `initialize'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/observer.rb:94:in `initialize'
	from /opt/local/lib/ruby/1.8/singleton.rb:94:in `new'
	from /opt/local/lib/ruby/1.8/singleton.rb:94:in `instance'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:64:in `instantiate_observer'
... 5 levels...
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:17:in `execute_hook'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:24:in `run_load_hooks'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `run_load_hooks'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb:1937
	from /Users/kevin/rails/foo3/app/models/bar.rb:1
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load_file'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:554:in `new_constants_in'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:417:in `load_file'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:313:in `require_or_load'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:455:in `load_missing_constant'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I am using Ruby 1.8.7 and Rails 3 Beta4&lt;/p&gt;
&lt;p&gt;Steps to recreate this bug&lt;/p&gt;
&lt;p&gt;1) rails new ./foo&lt;br&gt;
2) rails generate model bar&lt;br&gt;
3) rails generate observer bar&lt;br&gt;
4) rake db:migrate&lt;br&gt;
5) in config/application.rb file,&lt;/p&gt;
&lt;p&gt;config.active_record.observers = :bar_observer&lt;/p&gt;
&lt;p&gt;6) rails console&lt;br&gt;
7) Bar.create&lt;/p&gt;
&lt;p&gt;I get the error message below... however if I do Bar.create
again it works.&lt;/p&gt;
&lt;p&gt;irb(main):001:0&amp;gt; Bar.create&lt;br&gt;
LoadError: Expected /Users/kevin/rails/foo3/app/models/bar.rb to
define Bar&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:456:in `load_missing_constant'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:103:in `constantize'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `constantize'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/core_ext/string/conversions.rb:59:in `constantize'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:177:in `observed_class'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:170:in `observed_classes'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:190:in `observed_classes'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:186:in `initialize'
from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/observer.rb:94:in `initialize'
from /opt/local/lib/ruby/1.8/singleton.rb:94:in `new'
from /opt/local/lib/ruby/1.8/singleton.rb:94:in `instance'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:64:in `instantiate_observer'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;... 5 levels...&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:17:in `execute_hook'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:24:in `run_load_hooks'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `run_load_hooks'
from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb:1937
from /Users/kevin/rails/foo3/app/models/bar.rb:1
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load_file'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:554:in `new_constants_in'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:417:in `load_file'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:313:in `require_or_load'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:455:in `load_missing_constant'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I am using Ruby 1.8.7 and Rails 3 Beta4

Steps to recreate this bug

1) rails new ./foo 
2) rails generate model bar
3) rails generate observer bar
4) rake db:migrate
5) in config/application.rb file, 

config.active_record.observers = :bar_observer

6) rails console 
7) Bar.create

I get the error message below... however if I do Bar.create again it works.



irb(main):001:0&gt; Bar.create
LoadError: Expected /Users/kevin/rails/foo3/app/models/bar.rb to define Bar
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:456:in `load_missing_constant'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:103:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/core_ext/string/conversions.rb:59:in `constantize'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:177:in `observed_class'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:170:in `observed_classes'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:190:in `observed_classes'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:186:in `initialize'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/observer.rb:94:in `initialize'
	from /opt/local/lib/ruby/1.8/singleton.rb:94:in `new'
	from /opt/local/lib/ruby/1.8/singleton.rb:94:in `instance'
	from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:64:in `instantiate_observer'
... 5 levels...
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:17:in `execute_hook'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:24:in `run_load_hooks'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `run_load_hooks'
	from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb:1937
	from /Users/kevin/rails/foo3/app/models/bar.rb:1
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load_file'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:554:in `new_constants_in'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:417:in `load_file'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:313:in `require_or_load'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:455:in `load_missing_constant'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
	from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'</body>
      <body-html>&lt;div&gt;&lt;p&gt;I am using Ruby 1.8.7 and Rails 3 Beta4&lt;/p&gt;
&lt;p&gt;Steps to recreate this bug&lt;/p&gt;
&lt;p&gt;1) rails new ./foo&lt;br&gt;
2) rails generate model bar&lt;br&gt;
3) rails generate observer bar&lt;br&gt;
4) rake db:migrate&lt;br&gt;
5) in config/application.rb file,&lt;/p&gt;
&lt;p&gt;config.active_record.observers = :bar_observer&lt;/p&gt;
&lt;p&gt;6) rails console&lt;br&gt;
7) Bar.create&lt;/p&gt;
&lt;p&gt;I get the error message below... however if I do Bar.create
again it works.&lt;/p&gt;
&lt;p&gt;irb(main):001:0&amp;gt; Bar.create&lt;br&gt;
LoadError: Expected /Users/kevin/rails/foo3/app/models/bar.rb to
define Bar&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:456:in `load_missing_constant'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:103:in `constantize'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/inflector/methods.rb:102:in `constantize'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/core_ext/string/conversions.rb:59:in `constantize'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:177:in `observed_class'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:170:in `observed_classes'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:190:in `observed_classes'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:186:in `initialize'
from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/observer.rb:94:in `initialize'
from /opt/local/lib/ruby/1.8/singleton.rb:94:in `new'
from /opt/local/lib/ruby/1.8/singleton.rb:94:in `instance'
from /opt/local/lib/ruby/gems/1.8/gems/activemodel-3.0.0.beta4/lib/active_model/observing.rb:64:in `instantiate_observer'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;... 5 levels...&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:17:in `execute_hook'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:24:in `run_load_hooks'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/lazy_load_hooks.rb:23:in `run_load_hooks'
from /opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb:1937
from /Users/kevin/rails/foo3/app/models/bar.rb:1
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:418:in `load_file'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:554:in `new_constants_in'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:417:in `load_file'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:313:in `require_or_load'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:455:in `load_missing_constant'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:156:in `const_missing'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `each'
from /opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0.beta4/lib/active_support/dependencies.rb:154:in `const_missing'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-08T21:52:59+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-08T21:53:01+01:00</updated-at>
      <user-id type="integer">106486</user-id>
      <version type="integer">1</version>
      <user-name>Kevin Wang</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Confirmed on Rails master on 1.9.2-RC1 too.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Confirmed on Rails master on 1.9.2-RC1 too.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T02:46:17+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
:state: new
:priority: 0
:milestone: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T02:46:19+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">2</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is a strange bug.

I added the following just before the exception is raised in activesupport/lib/active_support/dependencies.rb : 465

@@@ ruby
  puts &quot;For #{const_name}&quot;
  puts &quot;#{file_path}&quot;
  puts &quot;Loaded #{const_name}&quot; if local_const_defined?(from_mod, const_name)
  puts &quot;END&quot;
@@@

I get the following output in the console (truncated for clarity):

First Try:

@@@ ruby
ruby-1.9.2-rc1 &gt; Bar
For BarObserver
/home/rohit/bugmash/newapp/app/models/bar_observer.rb
Loaded BarObserver
END
For Bar
/home/rohit/bugmash/newapp/app/models/bar.rb
END
LoadError: Expected /home/rohit/bugmash/newapp/app/models/bar.rb to define Bar
@@@

Second Try:

@@@ ruby
ruby-1.9.2-rc1 &gt; Bar
For Bar
/home/rohit/bugmash/newapp/app/models/bar.rb
Loaded Bar
END
 =&gt; Bar(id: integer, created_at: datetime, updated_at: datetime) 
@@@

So there must be something going on in require_or_load method. Could it be that it thinks Bar is already loaded because of BarObserver? Will take a look later but I thought I should put what I found in here, in case somebody else wants to take a crack at it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is a strange bug.&lt;/p&gt;
&lt;p&gt;I added the following just before the exception is raised in
activesupport/lib/active_support/dependencies.rb : 465&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;  puts &quot;For #{const_name}&quot;
  puts &quot;#{file_path}&quot;
  puts &quot;Loaded #{const_name}&quot; if local_const_defined?(from_mod, const_name)
  puts &quot;END&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I get the following output in the console (truncated for
clarity):&lt;/p&gt;
&lt;p&gt;First Try:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;ruby-1.9.2-rc1 &amp;gt; Bar
For BarObserver
/home/rohit/bugmash/newapp/app/models/bar_observer.rb
Loaded BarObserver
END
For Bar
/home/rohit/bugmash/newapp/app/models/bar.rb
END
LoadError: Expected /home/rohit/bugmash/newapp/app/models/bar.rb to define Bar&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Second Try:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;ruby-1.9.2-rc1 &amp;gt; Bar
For Bar
/home/rohit/bugmash/newapp/app/models/bar.rb
Loaded Bar
END
 =&amp;gt; Bar(id: integer, created_at: datetime, updated_at: datetime)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;So there must be something going on in require_or_load method.
Could it be that it thinks Bar is already loaded because of
BarObserver? Will take a look later but I thought I should put what
I found in here, in case somebody else wants to take a crack at
it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T03:09:19+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T03:09:21+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">3</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T11:02:23+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T11:02:25+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">4</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Rohit put a `puts caller` at the beginning of load_missing_constant error and it returned this: http://pastie.org/1037235

By looking at this caller stack trace, is easier to grasp what is going on:

1) When you invoke Bar, it will trigger load_missing_constant(Bar);

2) Once Bar file is loaded, it will find and load ActiveRecord::Base, triggering a few hooks;

3) One of these ActiveRecord hooks is called instantiate_observer and it will cause BarObserver to be loaded through load_missing_constant(BarObserver);

4) BarObserver is then loaded and it will try to apply its hooks to the Bar class. We already asked Bar class to be loaded, but it hasn't happened yet, because we started to load ActiveRecord::Base, which loaded BarObserver which wants to load Bar once again. What happens at this point, is that Bar is loaded again by AS::Dependencies, causing for us to have two Bar references, but one of them is obviously invalid;

I'm not sure what is the proper fix here. By doing things lazy is stepping on our toes once again. :(</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rohit put a &lt;code&gt;puts caller&lt;/code&gt; at the beginning of
load_missing_constant error and it returned this: &lt;a href=
&quot;http://pastie.org/1037235&quot;&gt;http://pastie.org/1037235&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;By looking at this caller stack trace, is easier to grasp what
is going on:&lt;/p&gt;
&lt;p&gt;1) When you invoke Bar, it will trigger
load_missing_constant(Bar);&lt;/p&gt;
&lt;p&gt;2) Once Bar file is loaded, it will find and load
ActiveRecord::Base, triggering a few hooks;&lt;/p&gt;
&lt;p&gt;3) One of these ActiveRecord hooks is called
instantiate_observer and it will cause BarObserver to be loaded
through load_missing_constant(BarObserver);&lt;/p&gt;
&lt;p&gt;4) BarObserver is then loaded and it will try to apply its hooks
to the Bar class. We already asked Bar class to be loaded, but it
hasn't happened yet, because we started to load ActiveRecord::Base,
which loaded BarObserver which wants to load Bar once again. What
happens at this point, is that Bar is loaded again by
AS::Dependencies, causing for us to have two Bar references, but
one of them is obviously invalid;&lt;/p&gt;
&lt;p&gt;I'm not sure what is the proper fix here. By doing things lazy
is stepping on our toes once again. :(&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T11:08:44+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T11:08:45+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">5</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The issue could be easily avoided by forcing ActiveRecord::Base to be loaded before loading Bar:

irb &gt; ActiveRecord::Base
irb &gt; Bar.create #=&gt; works</body>
      <body-html>&lt;div&gt;&lt;p&gt;The issue could be easily avoided by forcing ActiveRecord::Base
to be loaded before loading Bar:&lt;/p&gt;
&lt;p&gt;irb &amp;gt; ActiveRecord::Base&lt;br&gt;
irb &amp;gt; Bar.create #=&amp;gt; works&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T11:15:37+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T11:15:40+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">6</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>A minimal example that depicts the circularity involved:

    fxn@rails:~/tmp/h$ cat app/models/foo.rb 
    class Foo &lt; Bar
    end
    
    fxn@rails:~/tmp/h$ cat app/models/bar.rb 
    class Bar
    end

    Foo
    
    fxn@rails:~/tmp/h$ script/rails runner Foo
    /home/fxn/rails/railties/lib/rails/commands/runner.rb:50: /home/fxn/rails/activesupport/lib/active_support/dependencies.rb:465:in `load_missing_constant': Expected /home/fxn/tmp/h/app/models/foo.rb to define Foo (LoadError)</body>
      <body-html>&lt;div&gt;&lt;p&gt;A minimal example that depicts the circularity involved:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;fxn@rails:~/tmp/h$ cat app/models/foo.rb
class Foo &amp;lt; Bar
end

fxn@rails:~/tmp/h$ cat app/models/bar.rb 
class Bar
end

Foo

fxn@rails:~/tmp/h$ script/rails runner Foo
/home/fxn/rails/railties/lib/rails/commands/runner.rb:50: /home/fxn/rails/activesupport/lib/active_support/dependencies.rb:465:in `load_missing_constant': Expected /home/fxn/tmp/h/app/models/foo.rb to define Foo (LoadError)&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T12:54:21+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T12:54:49+01:00</updated-at>
      <user-id type="integer">11378</user-id>
      <version type="integer">7</version>
      <user-name>Xavier Noria</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The issue is not a deadlock, that would work in MRI, but it implies *two* executions of foo.rb:

    halmos:tmp fxn$ cat test_const_missing.rb 
    def Object.const_missing(name)
      case name.to_s
      when 'Foo'
        load 'foo.rb'
        Foo
      when 'Bar'
        load 'bar.rb'
        Bar
      end
    end
    
    Foo
    halmos:tmp fxn$ cat foo.rb
    puts &quot;in foo.rb&quot;
    class Foo &lt; Bar
      puts &quot;defining Foo&quot;
    end
    
    halmos:tmp fxn$ cat bar.rb 
    puts &quot;in bar.rb&quot;
    class Bar
      puts &quot;defining Bar&quot;
    end
    
    Foo
    
    halmos:tmp fxn$ ruby test_const_missing.rb 
    in foo.rb
    in bar.rb
    defining Bar
    in foo.rb
    defining Foo
    defining Foo

Which is not good anyway (perhaps dependencies is complaining to prevent that issue?).

I wonder if this justifies not lazy loading Active Record, looks like this loop is unsolvable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The issue is not a deadlock, that would work in MRI, but it
implies &lt;em&gt;two&lt;/em&gt; executions of foo.rb:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;halmos:tmp fxn$ cat test_const_missing.rb
def Object.const_missing(name)
  case name.to_s
  when 'Foo'
    load 'foo.rb'
    Foo
  when 'Bar'
    load 'bar.rb'
    Bar
  end
end

Foo
halmos:tmp fxn$ cat foo.rb
puts &quot;in foo.rb&quot;
class Foo &amp;lt; Bar
  puts &quot;defining Foo&quot;
end

halmos:tmp fxn$ cat bar.rb 
puts &quot;in bar.rb&quot;
class Bar
  puts &quot;defining Bar&quot;
end

Foo

halmos:tmp fxn$ ruby test_const_missing.rb 
in foo.rb
in bar.rb
defining Bar
in foo.rb
defining Foo
defining Foo&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Which is not good anyway (perhaps dependencies is complaining to
prevent that issue?).&lt;/p&gt;
&lt;p&gt;I wonder if this justifies not lazy loading Active Record, looks
like this loop is unsolvable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-09T13:29:10+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-09T13:30:58+01:00</updated-at>
      <user-id type="integer">11378</user-id>
      <version type="integer">8</version>
      <user-name>Xavier Noria</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Fixed here: http://github.com/rails/rails/commit/fa98eca75bd8666719bf3d061c87638850a20fe9</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fixed here: &lt;a href=
&quot;http://github.com/rails/rails/commit/fa98eca75bd8666719bf3d061c87638850a20fe9&quot;&gt;
http://github.com/rails/rails/commit/fa98eca75bd8666719bf3d061c8763...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-18T10:04:33+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-07-18T10:04:34+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">9</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:58+01:00</created-at>
      <creator-id type="integer">106486</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5074</number>
      <permalink>observer-bug</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord loaderror observer &quot;rails 3&quot;</tag>
      <title>observer bug</title>
      <updated-at type="datetime">2010-10-15T23:01:58+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">10</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Kevin Wang</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5074</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
