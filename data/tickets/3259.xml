<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">8406</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-07-20T03:41:07+01:00</created-at>
  <creator-id type="integer">71066</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">3259</number>
  <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>actionview fields_for nested_attributes_for patch tested</tag>
  <title>Allow explicit placement of hidden fields with nested models</title>
  <updated-at type="datetime">2010-09-22T20:47:16+01:00</updated-at>
  <user-id type="integer">103921</user-id>
  <version type="integer">16</version>
  <user-name>dave.cavell (at gmail)</user-name>
  <creator-name>Will Read</creator-name>
  <assigned-user-name>Eloy Duran</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>When using fields_for to build DOM structure for nested models, the id hidden field gets emitted implicitly and the developer has not control over the placement which can result in invalid HTML. As an example:

&lt;pre&gt;
class Foo &lt; ActiveRecord::Base
  has_many :bars
  accepts_nested_attributes_for :bars
end
&lt;/pre&gt;

and the template

&lt;pre&gt;
&lt;% form_for @foo do |foo_form| %&gt; 
&lt;table&gt; 
  &lt;tbody&gt; 
    &lt;% foo_form.fields_for :bars do |bar_fields| %&gt; 
      &lt;tr&gt; 
        &lt;td&gt;&lt;%= bar_fields.text_field :name %&gt;&lt;/td&gt; 
      &lt;/tr&gt; 
    &lt;% end %&gt; 
  &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;% end %&gt;
&lt;/pre&gt;

The hidden input gets placed at the point of the call to fields_for, right after the TBODY, which results in invalid HTML. The consequence is that some browsers, eg. Safari, try to fix the generated HTML for you, resulting in an inconsistent DOM structure across browsers.

I added a method, #hidden_fields, to FormBuilder to explicitly place the hidden fields. If this methods gets called in the #fields_for block the FormBuilder won't implicitly emit the hidden fields.

For example:
&lt;pre&gt;
&lt;% form_for @foo do |foo_form| %&gt; 
&lt;table&gt; 
  &lt;tbody&gt; 
    &lt;% foo_form.fields_for :bars do |bar_fields| %&gt; 
      &lt;tr&gt;
        &lt;%= bar_fields.hidden_fields %&gt; 
        &lt;td&gt;&lt;%= bar_fields.text_field :name %&gt;&lt;/td&gt; 
      &lt;/tr&gt; 
    &lt;% end %&gt; 
  &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;% end %&gt;
&lt;/pre&gt;

I've attached a patch with the new functionality, including tests.</original-body>
  <latest-body>When using fields_for to build DOM structure for nested models, the id hidden field gets emitted implicitly and the developer has not control over the placement which can result in invalid HTML. As an example:

&lt;pre&gt;
class Foo &lt; ActiveRecord::Base
  has_many :bars
  accepts_nested_attributes_for :bars
end
&lt;/pre&gt;

and the template

&lt;pre&gt;
&lt;% form_for @foo do |foo_form| %&gt; 
&lt;table&gt; 
  &lt;tbody&gt; 
    &lt;% foo_form.fields_for :bars do |bar_fields| %&gt; 
      &lt;tr&gt; 
        &lt;td&gt;&lt;%= bar_fields.text_field :name %&gt;&lt;/td&gt; 
      &lt;/tr&gt; 
    &lt;% end %&gt; 
  &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;% end %&gt;
&lt;/pre&gt;

The hidden input gets placed at the point of the call to fields_for, right after the TBODY, which results in invalid HTML. The consequence is that some browsers, eg. Safari, try to fix the generated HTML for you, resulting in an inconsistent DOM structure across browsers.

I added a method, #hidden_fields, to FormBuilder to explicitly place the hidden fields. If this methods gets called in the #fields_for block the FormBuilder won't implicitly emit the hidden fields.

For example:
&lt;pre&gt;
&lt;% form_for @foo do |foo_form| %&gt; 
&lt;table&gt; 
  &lt;tbody&gt; 
    &lt;% foo_form.fields_for :bars do |bar_fields| %&gt; 
      &lt;tr&gt;
        &lt;%= bar_fields.hidden_fields %&gt; 
        &lt;td&gt;&lt;%= bar_fields.text_field :name %&gt;&lt;/td&gt; 
      &lt;/tr&gt; 
    &lt;% end %&gt; 
  &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;% end %&gt;
&lt;/pre&gt;

I've attached a patch with the new functionality, including tests.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;When using fields_for to build DOM structure for nested models,
the id hidden field gets emitted implicitly and the developer has
not control over the placement which can result in invalid HTML. As
an example:&lt;/p&gt;
&lt;pre&gt;
class Foo &amp;lt; ActiveRecord::Base
  has_many :bars
  accepts_nested_attributes_for :bars
end
&lt;/pre&gt;
&lt;p&gt;and the template&lt;/p&gt;
&lt;pre&gt;
&amp;lt;% form_for @foo do |foo_form| %&amp;gt; 
&lt;/pre&gt;
&amp;lt;% foo_form.fields_for :bars do |bar_fields| %&amp;gt; &amp;lt;% end
%&amp;gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&amp;lt;%= bar_fields.text_field :name %&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre&gt;
 
&amp;lt;% end %&amp;gt;
&lt;/pre&gt;
&lt;p&gt;The hidden input gets placed at the point of the call to
fields_for, right after the TBODY, which results in invalid HTML.
The consequence is that some browsers, eg. Safari, try to fix the
generated HTML for you, resulting in an inconsistent DOM structure
across browsers.&lt;/p&gt;
&lt;p&gt;I added a method, #hidden_fields, to FormBuilder to explicitly
place the hidden fields. If this methods gets called in the
#fields_for block the FormBuilder won't implicitly emit the hidden
fields.&lt;/p&gt;
&lt;p&gt;For example:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&amp;lt;% form_for @foo do |foo_form| %&amp;gt; 
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;% foo_form.fields_for :bars do |bar_fields| %&amp;gt;
  &amp;lt;tr&amp;gt;
    &amp;lt;%= bar_fields.hidden_fields %&amp;gt; 
    &amp;lt;td&amp;gt;&amp;lt;%= bar_fields.text_field :name %&amp;gt;&amp;lt;/td&amp;gt; 
  &amp;lt;/tr&amp;gt; 
&amp;lt;% end %&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
 
&amp;lt;% end %&amp;gt;
&lt;/pre&gt;
&lt;p&gt;I've attached a patch with the new functionality, including
tests.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>When using fields_for to build DOM structure for nested models, the id hidden field gets emitted implicitly and the developer has not control over the placement which can result in invalid HTML. As an example:

&lt;pre&gt;
class Foo &lt; ActiveRecord::Base
  has_many :bars
  accepts_nested_attributes_for :bars
end
&lt;/pre&gt;

and the template

@@@ erb
&lt;% form_for @foo do |foo_form| %&gt; 
&lt;table&gt; 
  &lt;tbody&gt; 
    &lt;% foo_form.fields_for :bars do |bar_fields| %&gt; 
      &lt;tr&gt; 
        &lt;td&gt;&lt;%= bar_fields.text_field :name %&gt;&lt;/td&gt; 
      &lt;/tr&gt; 
    &lt;% end %&gt; 
  &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;% end %&gt;
@@@

The hidden input gets placed at the point of the call to fields_for, right after the TBODY, which results in invalid HTML. The consequence is that some browsers, eg. Safari, try to fix the generated HTML for you, resulting in an inconsistent DOM structure across browsers.

I added a method, #hidden_fields, to FormBuilder to explicitly place the hidden fields. If this methods gets called in the #fields_for block the FormBuilder won't implicitly emit the hidden fields.

For example:

@@@ erb
&lt;% form_for @foo do |foo_form| %&gt; 
&lt;table&gt; 
  &lt;tbody&gt; 
    &lt;% foo_form.fields_for :bars do |bar_fields| %&gt; 
      &lt;tr&gt;
        &lt;%= bar_fields.hidden_fields %&gt; 
        &lt;td&gt;&lt;%= bar_fields.text_field :name %&gt;&lt;/td&gt; 
      &lt;/tr&gt; 
    &lt;% end %&gt; 
  &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;% end %&gt;
@@@

I've attached a patch with the new functionality, including tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;When using fields_for to build DOM structure for nested models,
the id hidden field gets emitted implicitly and the developer has
not control over the placement which can result in invalid HTML. As
an example:&lt;/p&gt;
&lt;pre&gt;
class Foo &amp;lt; ActiveRecord::Base
  has_many :bars
  accepts_nested_attributes_for :bars
end
&lt;/pre&gt;
&lt;p&gt;and the template&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;erb&quot;&gt;&amp;lt;% form_for @foo do |foo_form| %&amp;gt; 
&amp;lt;table&amp;gt; 
  &amp;lt;tbody&amp;gt; 
    &amp;lt;% foo_form.fields_for :bars do |bar_fields| %&amp;gt; 
      &amp;lt;tr&amp;gt; 
        &amp;lt;td&amp;gt;&amp;lt;%= bar_fields.text_field :name %&amp;gt;&amp;lt;/td&amp;gt; 
      &amp;lt;/tr&amp;gt; 
    &amp;lt;% end %&amp;gt; 
  &amp;lt;/tbody&amp;gt; 
&amp;lt;/table&amp;gt; 
&amp;lt;% end %&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The hidden input gets placed at the point of the call to
fields_for, right after the TBODY, which results in invalid HTML.
The consequence is that some browsers, eg. Safari, try to fix the
generated HTML for you, resulting in an inconsistent DOM structure
across browsers.&lt;/p&gt;
&lt;p&gt;I added a method, #hidden_fields, to FormBuilder to explicitly
place the hidden fields. If this methods gets called in the
#fields_for block the FormBuilder won't implicitly emit the hidden
fields.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;erb&quot;&gt;&amp;lt;% form_for @foo do |foo_form| %&amp;gt; 
&amp;lt;table&amp;gt; 
  &amp;lt;tbody&amp;gt; 
    &amp;lt;% foo_form.fields_for :bars do |bar_fields| %&amp;gt; 
      &amp;lt;tr&amp;gt;
        &amp;lt;%= bar_fields.hidden_fields %&amp;gt; 
        &amp;lt;td&amp;gt;&amp;lt;%= bar_fields.text_field :name %&amp;gt;&amp;lt;/td&amp;gt; 
      &amp;lt;/tr&amp;gt; 
    &amp;lt;% end %&amp;gt; 
  &amp;lt;/tbody&amp;gt; 
&amp;lt;/table&amp;gt; 
&amp;lt;% end %&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I've attached a patch with the new functionality, including
tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-25T21:40:38+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-09-28T12:52:37+01:00</updated-at>
      <user-id type="integer">71066</user-id>
      <version type="integer">1</version>
      <user-name>Will Read</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I edited your ticket to fix the formatting. Parts of your HTML were missing.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I edited your ticket to fix the formatting. Parts of your HTML
were missing.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-28T12:53:07+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-09-28T15:46:58+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">2</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I like the idea. However, as we have no other hidden_fields yet, I think it feels a bit heavy. How about just checking if a hidden field for :id was created? Not sure if that would make the code much easier though&#8230; Thoughts?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I like the idea. However, as we have no other hidden_fields yet,
I think it feels a bit heavy. How about just checking if a hidden
field for :id was created? Not sure if that would make the code
much easier though&amp;#8230; Thoughts?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-28T13:10:29+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-09-28T15:47:39+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">3</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>What about the _destroy (n&#233;e _delete) hidden field?  Does the form builder not also output that if the model is marked for destruction?</body>
      <body-html>&lt;div&gt;&lt;p&gt;What about the &lt;em&gt;destroy (n&amp;eacute;e&lt;/em&gt; delete) hidden
field? Does the form builder not also output that if the model is
marked for destruction?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-29T15:30:13+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-09-29T15:30:20+01:00</updated-at>
      <user-id type="integer">29892</user-id>
      <version type="integer">4</version>
      <user-name>Adam Milligan</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Elloy, I've taken your suggestion into consideration and created a new patch. The patch now does exactly as you recommended and only checks if a hidden field for :id was created.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Elloy, I've taken your suggestion into consideration and created
a new patch. The patch now does exactly as you recommended and only
checks if a hidden field for :id was created.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-08T02:53:51+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-10-08T02:53:56+01:00</updated-at>
      <user-id type="integer">71066</user-id>
      <version type="integer">5</version>
      <user-name>Will Read</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for this functionality. And yes, will this cater for the _destroy/_delete field as well?</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for this functionality. And yes, will this cater for the
&lt;em&gt;destroy/&lt;/em&gt;delete field as well?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-08T09:47:46+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-10-08T09:47:48+01:00</updated-at>
      <user-id type="integer">20686</user-id>
      <version type="integer">6</version>
      <user-name>Tor Erik</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Will Looks good, I'll check it out and apply it probably somewhere next week. Thanks!

@Adam &amp; Tor: Nope, that has to be handled by the user. By either adding a hidden_field or checkbox depending on the situation. I'll happily review patches for this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Will Looks good, I'll check it out and apply it probably
somewhere next week. Thanks!&lt;/p&gt;
&lt;p&gt;@Adam &amp;amp; Tor: Nope, that has to be handled by the user. By
either adding a hidden_field or checkbox depending on the
situation. I'll happily review patches for this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-08T19:06:51+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-10-08T19:07:26+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">7</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Changed method and variable name &quot;emitted_hidden_field&quot; to &quot;emitted_hidden_id&quot; to be more succinct. Eloy, if you haven't applied this patch yet, please use the latest attachment.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Changed method and variable name &quot;emitted_hidden_field&quot; to
&quot;emitted_hidden_id&quot; to be more succinct. Eloy, if you haven't
applied this patch yet, please use the latest attachment.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-18T04:53:00+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-10-18T04:53:04+01:00</updated-at>
      <user-id type="integer">71066</user-id>
      <version type="integer">8</version>
      <user-name>Will Read</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [88d2e4ca6fdf0d0df9d7d71bae1ecbde4f1d46e2]) Allow explicit placement of hidden id element for nested models.

[#3259 state:resolved]

Signed-off-by: Eloy Duran &lt;eloy.de.enige@gmail.com&gt;
http://github.com/rails/rails/commit/88d2e4ca6fdf0d0df9d7d71bae1ecbde4f1d46e2</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/88d2e4ca6fdf0d0df9d7d71bae1ecbde4f1d46e2&quot;
title=
&quot;Changeset [88d2e4ca6fdf0d0df9d7d71bae1ecbde4f1d46e2]&quot;&gt;[88d2e4ca6fdf0d0df9d7d71bae1ecbde4f1d46e2]&lt;/a&gt;)
Allow explicit placement of hidden id element for nested
models.&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/3259&quot; title=
&quot;Ticket #3259&quot;&gt;#3259&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Eloy Duran &lt;a href=
&quot;mailto:eloy.de.enige@gmail.com&quot;&gt;eloy.de.enige@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/88d2e4ca6fdf0d0df9d7d71bae1ecbde4f1d46e2&quot;&gt;
http://github.com/rails/rails/commit/88d2e4ca6fdf0d0df9d7d71bae1ecb...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-11-17T03:03:20+00:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-11-17T03:03:22+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">9</version>
      <user-name>Repository</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [7fadb3f261fc7cc753d303d0fbe2cbf019385f99]) Allow explicit placement of hidden id element for nested models.

[#3259 state:resolved]

Signed-off-by: Eloy Duran &lt;eloy.de.enige@gmail.com&gt;
http://github.com/rails/rails/commit/7fadb3f261fc7cc753d303d0fbe2cbf019385f99</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/7fadb3f261fc7cc753d303d0fbe2cbf019385f99&quot;
title=
&quot;Changeset [7fadb3f261fc7cc753d303d0fbe2cbf019385f99]&quot;&gt;[7fadb3f261fc7cc753d303d0fbe2cbf019385f99]&lt;/a&gt;)
Allow explicit placement of hidden id element for nested
models.&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/3259&quot; title=
&quot;Ticket #3259&quot;&gt;#3259&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Eloy Duran &lt;a href=
&quot;mailto:eloy.de.enige@gmail.com&quot;&gt;eloy.de.enige@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/7fadb3f261fc7cc753d303d0fbe2cbf019385f99&quot;&gt;
http://github.com/rails/rails/commit/7fadb3f261fc7cc753d303d0fbe2cb...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-11-17T03:03:42+00:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-11-17T03:03:43+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">10</version>
      <user-name>Repository</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>This went out with 2.3.5, it should probably be on the 2.3.5 milestone.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This went out with 2.3.5, it should probably be on the 2.3.5
milestone.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-12-01T01:09:16+00:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-12-01T01:09:19+00:00</updated-at>
      <user-id type="integer">15047</user-id>
      <version type="integer">11</version>
      <user-name>W. Andrew Loe III</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>@Andrew: I'm not sure what it is that you mean, but the commit is in 2.3.5: see the commit on 2009-11-15 http://github.com/rails/rails/commits/v2.3.5</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Andrew: I'm not sure what it is that you mean, but the commit
is in 2.3.5: see the commit on 2009-11-15 &lt;a href=
&quot;http://github.com/rails/rails/commits/v2.3.5&quot;&gt;http://github.com/rails/rails/commits/v2.3.5&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-12-01T13:34:49+00:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 50064
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-12-01T13:34:51+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">12</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Ah, do you mean that the ticket's milestone should read 2.3.5? :)

If so, I understand, alas, I don't have that much authorization&#8230;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ah, do you mean that the ticket's milestone should read 2.3.5?
:)&lt;/p&gt;
&lt;p&gt;If so, I understand, alas, I don't have that much
authorization&amp;#8230;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-12-01T13:35:51+00:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2009-12-01T13:35:53+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">13</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Piguet &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;omega watch&lt;/a&gt;&lt;/b&gt; steer noted uses disks &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com/categories/rolex-daytona.html&quot;&gt;Rolex Daytona watch&lt;/a&gt;&lt;/b&gt; instead of this customary &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;replica omega watch&lt;/a&gt;&lt;/b&gt; landing of conniving watches. &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;cheap replica watches&lt;/a&gt;&lt;/b&gt; Check the Bag Swiss &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;omega&lt;/a&gt;&lt;/b&gt; IWC Watches &gt; inauguration &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com/categories/gucci-watches.html&quot;&gt;replica Gucci&lt;/a&gt;&lt;/b&gt; illustration Swiss IWC Aquatimer &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;omega replica&lt;/a&gt;&lt;/b&gt; Chrono Watches Asia 7750 &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com/categories/bvlgari-bvlgari-bvlgari.html&quot;&gt;Bvlgari Bvlgari-Bvlgari watches&lt;/a&gt;&lt;/b&gt; Valjoux liveliness SwissIWC010 IWC &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com/products/rolex-116332-replica-1330.html&quot;&gt;Oyster Perpetual Datejust Mens 116332-22&lt;/a&gt;&lt;/b&gt; watches,IWC icon watches,Replica IWC &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;omega&lt;/a&gt;&lt;/b&gt; watches,Swiss IWC watches,IWC Aquati</body>
      <body-html>&lt;div&gt;&lt;p&gt;Piguet &lt;b&gt;&lt;a href=&quot;http://www.brandwatchmvp.com&quot;&gt;omega
watch&lt;/a&gt;&lt;/b&gt; steer noted uses disks &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com/categories/rolex-daytona.html&quot;&gt;Rolex
Daytona watch&lt;/a&gt;&lt;/b&gt; instead of this customary &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com&quot;&gt;replica omega watch&lt;/a&gt;&lt;/b&gt; landing
of conniving watches. &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com&quot;&gt;cheap replica watches&lt;/a&gt;&lt;/b&gt; Check
the Bag Swiss &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com&quot;&gt;omega&lt;/a&gt;&lt;/b&gt; IWC Watches &amp;gt;
inauguration &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com/categories/gucci-watches.html&quot;&gt;replica
Gucci&lt;/a&gt;&lt;/b&gt; illustration Swiss IWC Aquatimer &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com&quot;&gt;omega replica&lt;/a&gt;&lt;/b&gt; Chrono Watches
Asia 7750 &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com/categories/bvlgari-bvlgari-bvlgari.html&quot;&gt;
Bvlgari Bvlgari-Bvlgari watches&lt;/a&gt;&lt;/b&gt; Valjoux liveliness
SwissIWC010 IWC &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com/products/rolex-116332-replica-1330.html&quot;&gt;
Oyster Perpetual Datejust Mens 116332-22&lt;/a&gt;&lt;/b&gt; watches,IWC icon
watches,Replica IWC &lt;b&gt;&lt;a href=
&quot;http://www.brandwatchmvp.com&quot;&gt;omega&lt;/a&gt;&lt;/b&gt; watches,Swiss IWC
watches,IWC Aquati&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-19T11:21:37+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">2015</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2010-07-20T03:41:06+01:00</updated-at>
      <user-id type="integer">107783</user-id>
      <version type="integer">14</version>
      <user-name>LYN</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>But an &lt;input&gt; is not allowed in a &lt;tr&gt;.</body>
      <body-html>&lt;div&gt;&lt;p&gt;But an is not allowed in a&lt;/p&gt;
.&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-22T20:46:14+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2010-09-22T20:46:18+01:00</updated-at>
      <user-id type="integer">103921</user-id>
      <version type="integer">15</version>
      <user-name>dave.cavell (at gmail)</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>But an input is not allowed in a tr.</body>
      <body-html>&lt;div&gt;&lt;p&gt;But an input is not allowed in a tr.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-22T20:47:14+01:00</created-at>
      <creator-id type="integer">71066</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">3259</number>
      <permalink>allow-explicit-placement-of-hidden-fields-with-nested-models</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionview fields_for nested_attributes_for patch tested</tag>
      <title>Allow explicit placement of hidden fields with nested models</title>
      <updated-at type="datetime">2010-09-22T20:47:16+01:00</updated-at>
      <user-id type="integer">103921</user-id>
      <version type="integer">16</version>
      <user-name>dave.cavell (at gmail)</user-name>
      <creator-name>Will Read</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3259</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>7241ecda647fedb2b3797affe6f073c79b981386</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-09-25T21:40:41+01:00</created-at>
      <filename>fix_for_nested_fields_for.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">279139</id>
      <size type="integer">11779</size>
      <uploader-id type="integer">71066</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/279139/fix_for_nested_fields_for.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>fab35e8c6936024a0889a8e446fc7cb33f5cb856</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-10-08T02:53:51+01:00</created-at>
      <filename>fix_for_nested_fields_for_2.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">289435</id>
      <size type="integer">12601</size>
      <uploader-id type="integer">71066</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/289435/fix_for_nested_fields_for_2.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>7b77c7f90d391e05ce111da8a9007509303b83b0</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-10-18T04:53:00+01:00</created-at>
      <filename>fix_for_nested_fields_for_3.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">298764</id>
      <size type="integer">12589</size>
      <uploader-id type="integer">71066</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/298764/fix_for_nested_fields_for_3.patch</url>
    </attachment>
  </attachments>
</ticket>
