<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">22589</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-07-15T23:21:49+01:00</created-at>
  <creator-id type="integer">48407</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2913</number>
  <permalink>configgem-causes-error-in-some-gems</permalink>
  <priority type="integer">1997</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>3.0 autoload bug bugmash dependencies gems</tag>
  <title>config.gem causes error in some gems</title>
  <updated-at type="datetime">2010-01-20T10:31:48+00:00</updated-at>
  <user-id type="integer">65556</user-id>
  <version type="integer">9</version>
  <user-name>Rizwan Reza</user-name>
  <creator-name>Felipe Rodrigues</creator-name>
  <assigned-user-name>Matt Jones</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I'm using rails edge in a project (3.0-pre). When I try to use it with rspec it works fine. 

If I add a config.gem

`config.gem &quot;rspec&quot;,       :lib =&gt; false, :version =&gt; &quot;&gt;=1.2.6&quot;
config.gem &quot;rspec-rails&quot;, :lib =&gt; false, :version =&gt; &quot;&gt;=1.2.6&quot;`


then it starts to claim:

&gt;Missing these required gems:
&gt;rspec  &gt;= 1.2.6
&gt; rspec-rails  &gt;= 1.2.6

&gt;You're running:
&gt;ruby 1.8.7.72 at /usr/bin/ruby1.8
&gt;rubygems 1.3.4 at /home/felipe/.gem/ruby/1.8, /usr/lib/ruby/gems/1.8

&gt;Run `rake gems:install` to install the missing gems.</original-body>
  <latest-body>I'm using rails edge in a project (3.0-pre). When I try to use it with rspec it works fine. 

If I add a config.gem

`config.gem &quot;rspec&quot;,       :lib =&gt; false, :version =&gt; &quot;&gt;=1.2.6&quot;
config.gem &quot;rspec-rails&quot;, :lib =&gt; false, :version =&gt; &quot;&gt;=1.2.6&quot;`


then it starts to claim:

&gt;Missing these required gems:
&gt;rspec  &gt;= 1.2.6
&gt; rspec-rails  &gt;= 1.2.6

&gt;You're running:
&gt;ruby 1.8.7.72 at /usr/bin/ruby1.8
&gt;rubygems 1.3.4 at /home/felipe/.gem/ruby/1.8, /usr/lib/ruby/gems/1.8

&gt;Run `rake gems:install` to install the missing gems.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I'm using rails edge in a project (3.0-pre). When I try to use
it with rspec it works fine.&lt;/p&gt;
&lt;p&gt;If I add a config.gem&lt;/p&gt;
&lt;p&gt;&lt;code&gt;config.gem &quot;rspec&quot;, :lib =&amp;gt; false, :version =&amp;gt;
&quot;&amp;gt;=1.2.6&quot; config.gem &quot;rspec-rails&quot;, :lib =&amp;gt; false, :version
=&amp;gt; &quot;&amp;gt;=1.2.6&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;then it starts to claim:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Missing these required gems: rspec &amp;gt;= 1.2.6 rspec-rails &amp;gt;=
1.2.6&lt;/p&gt;
&lt;p&gt;You're running: ruby 1.8.7.72 at /usr/bin/ruby1.8 rubygems 1.3.4
at /home/felipe/.gem/ruby/1.8, /usr/lib/ruby/gems/1.8&lt;/p&gt;
&lt;p&gt;Run &lt;code&gt;rake gems:install&lt;/code&gt; to install the missing
gems.&lt;/p&gt;
&lt;/blockquote&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm using rails edge in a project (3.0-pre). When I try to use it with rspec it works fine. 

If I add a config.gem

`config.gem &quot;rspec&quot;,       :lib =&gt; false, :version =&gt; &quot;&gt;=1.2.6&quot;`

`config.gem &quot;rspec-rails&quot;, :lib =&gt; false, :version =&gt; &quot;&gt;=1.2.6&quot;`


then it starts to claim:

    Missing these required gems:
    rspec  &gt;= 1.2.6
     rspec-rails  &gt;= 1.2.6

    You're running:
    ruby 1.8.7.72 at /usr/bin/ruby1.8
    rubygems 1.3.4 at /home/felipe/.gem/ruby/1.8, /usr/lib/ruby/gems/1.8

    Run `rake gems:install` to install the missing gems.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm using rails edge in a project (3.0-pre). When I try to use
it with rspec it works fine.&lt;/p&gt;
&lt;p&gt;If I add a config.gem&lt;/p&gt;
&lt;p&gt;&lt;code&gt;config.gem &quot;rspec&quot;, :lib =&amp;gt; false, :version =&amp;gt;
&quot;&amp;gt;=1.2.6&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;config.gem &quot;rspec-rails&quot;, :lib =&amp;gt; false, :version =&amp;gt;
&quot;&amp;gt;=1.2.6&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;then it starts to claim:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Missing these required gems:
rspec  &amp;gt;= 1.2.6
 rspec-rails  &amp;gt;= 1.2.6

You're running:
ruby 1.8.7.72 at /usr/bin/ruby1.8
rubygems 1.3.4 at /home/felipe/.gem/ruby/1.8, /usr/lib/ruby/gems/1.8

Run `rake gems:install` to install the missing gems.&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-15T23:21:49+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-07-15T23:28:44+01:00</updated-at>
      <user-id type="integer">48407</user-id>
      <version type="integer">1</version>
      <user-name>Felipe Rodrigues</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'd recommend you take a look at ticket #2682, which may be helpful.

Also note that the 3-0-unstable branch isn't under active development (last commit February 2009) - edge is now on master, but given the fairly radical restructuring going on, might not be the best to run on.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'd recommend you take a look at ticket &lt;a href=
&quot;/projects/8994/tickets/2682&quot; title=&quot;Ticket #2682&quot;&gt;#2682&lt;/a&gt;, which
may be helpful.&lt;/p&gt;
&lt;p&gt;Also note that the 3-0-unstable branch isn't under active
development (last commit February 2009) - edge is now on master,
but given the fairly radical restructuring going on, might not be
the best to run on.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-16T16:08:14+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-07-16T16:08:17+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">2</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm not using 3-0-unstable, I'm using the master branch. Well, I know it is not the most stable phase of edge, but I have some reasons to use that. One of them is contributing to rails, helping to identify points to make it more stable.

Btw, thanks for pointing this ticket out, but I'm not sure it is the same problem, since in my case, there is no missing dependency. If I take config.gem out of my environments files, then rspec runs fine.

Also, I just applied the patch attached to the indicated ticket and nothing changed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm not using 3-0-unstable, I'm using the master branch. Well, I
know it is not the most stable phase of edge, but I have some
reasons to use that. One of them is contributing to rails, helping
to identify points to make it more stable.&lt;/p&gt;
&lt;p&gt;Btw, thanks for pointing this ticket out, but I'm not sure it is
the same problem, since in my case, there is no missing dependency.
If I take config.gem out of my environments files, then rspec runs
fine.&lt;/p&gt;
&lt;p&gt;Also, I just applied the patch attached to the indicated ticket
and nothing changed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-16T16:38:27+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-07-16T16:38:29+01:00</updated-at>
      <user-id type="integer">48407</user-id>
      <version type="integer">3</version>
      <user-name>Felipe Rodrigues</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>How are rspec and rspec_rails installed? My guess would be they're in vendor/plugins, which means you don't need config.gem. Also, are those gems installed on your system?

Sorry to be pedantic, but the symptoms here don't make a lot of sense.</body>
      <body-html>&lt;div&gt;&lt;p&gt;How are rspec and rspec_rails installed? My guess would be
they're in vendor/plugins, which means you don't need config.gem.
Also, are those gems installed on your system?&lt;/p&gt;
&lt;p&gt;Sorry to be pedantic, but the symptoms here don't make a lot of
sense.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-21T00:47:01+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-07-21T00:47:04+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">4</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi Matt,

rspec and rspec_rails are installed. The problem is with Rails 3.0.pre initialization. It try to load the gems before load the gems paths. It will happen to any gem you try to load with config.gem().

I patched it in my local version, but didn't submited because it is under change and because it didn't worked with cucumber.

I tried to contact Yehuda + Carl, since this is their code to show my patch but never got an answer (they must be pretty busy out there).

So my suggestion is to move it to 3.0 Milestone and wait until they finish the initialization part. I'd like to contribute more, but don't know where go to discuss that.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Matt,&lt;/p&gt;
&lt;p&gt;rspec and rspec_rails are installed. The problem is with Rails
3.0.pre initialization. It try to load the gems before load the
gems paths. It will happen to any gem you try to load with
config.gem().&lt;/p&gt;
&lt;p&gt;I patched it in my local version, but didn't submited because it
is under change and because it didn't worked with cucumber.&lt;/p&gt;
&lt;p&gt;I tried to contact Yehuda + Carl, since this is their code to
show my patch but never got an answer (they must be pretty busy out
there).&lt;/p&gt;
&lt;p&gt;So my suggestion is to move it to 3.0 Milestone and wait until
they finish the initialization part. I'd like to contribute more,
but don't know where go to discuss that.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-21T15:23:40+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-07-21T15:23:44+01:00</updated-at>
      <user-id type="integer">48407</user-id>
      <version type="integer">5</version>
      <user-name>Felipe Rodrigues</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I should also say that there are no tests covering this issue right now and I could not figure out how to test the hard it. It will probably requires fake gems with and without runtime dependencies. If anyone can help me with this I could contribute on that. =)</body>
      <body-html>&lt;div&gt;&lt;p&gt;I should also say that there are no tests covering this issue
right now and I could not figure out how to test the hard it. It
will probably requires fake gems with and without runtime
dependencies. If anyone can help me with this I could contribute on
that. =)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-21T15:25:39+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-07-21T15:25:40+01:00</updated-at>
      <user-id type="integer">48407</user-id>
      <version type="integer">6</version>
      <user-name>Felipe Rodrigues</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-03T06:17:00+01:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2009-08-03T06:17:06+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">7</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I don't think this is applicable anymore, since Rails 3 now uses Bundler.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't think this is applicable anymore, since Rails 3 now uses
Bundler.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-18T13:39:49+00:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 3.0 autoload bug dependencies gems
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0 autoload bug bugmash dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2010-01-18T13:39:52+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">8</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-20T10:31:46+00:00</created-at>
      <creator-id type="integer">48407</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2913</number>
      <permalink>configgem-causes-error-in-some-gems</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>3.0 autoload bug bugmash dependencies gems</tag>
      <title>config.gem causes error in some gems</title>
      <updated-at type="datetime">2010-01-20T10:31:48+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">9</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Felipe Rodrigues</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2913</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
