<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-08-11T03:43:35+01:00</created-at>
  <creator-id type="integer">65858</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3035</number>
  <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
  <priority type="integer">45619</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>auto_link bugmash text_helper</tag>
  <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
  <updated-at type="datetime">2009-09-27T19:25:35+01:00</updated-at>
  <user-id type="integer">56830</user-id>
  <version type="integer">11</version>
  <user-name>Mat&#237;as Flores</user-name>
  <creator-name>Luis Villa</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
  <priority-name nil="true"></priority-name>
  <original-body>gmail URLs (and increasingly other URLs as well) can have important information after an anchor, such as:

https://mail.google.com/mail/#search/%7Bis%3Aunread+is%3Astarred+is%3Adr
aft%7D/12272188ec71e0f4

auto_link does not love this URL, only autolinking the \w trailing the # and not everything after that next /, i.e., you get:

https://mail.google.com/mail/#search [linked]

/%7Bis%3Aunread+is%3Astarred+is%3Adraft%7D/12272188ec71e0f4 [plain text, not linked]

I noticed this in an older version of rails, but looking at git it seems that the regexp at issue is the same in both my older version and in current trunk.

Michael, my apologies if you're not actually responsible, but I saw in bug #1353 and others that you have touched/reviewed patches to this code, so thought you might be closest. Thanks.</original-body>
  <latest-body>gmail URLs (and increasingly other URLs as well) can have important information after an anchor, such as:

https://mail.google.com/mail/#search/%7Bis%3Aunread+is%3Astarred+is%3Adr
aft%7D/12272188ec71e0f4

auto_link does not love this URL, only autolinking the \w trailing the # and not everything after that next /, i.e., you get:

https://mail.google.com/mail/#search [linked]

/%7Bis%3Aunread+is%3Astarred+is%3Adraft%7D/12272188ec71e0f4 [plain text, not linked]

I noticed this in an older version of rails, but looking at git it seems that the regexp at issue is the same in both my older version and in current trunk.

Michael, my apologies if you're not actually responsible, but I saw in bug #1353 and others that you have touched/reviewed patches to this code, so thought you might be closest. Thanks.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;gmail URLs (and increasingly other URLs as well) can have
important information after an anchor, such as:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mail.google.com/mail/#search&quot;&gt;https://mail.google.com/mail/#se...&lt;/a&gt;/%7Bis%3Aunread+is%3Astarred+is%3Adr
aft%7D/12272188ec71e0f4&lt;/p&gt;
&lt;p&gt;auto_link does not love this URL, only autolinking the \w
trailing the # and not everything after that next /, i.e., you
get:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mail.google.com/mail/#search&quot;&gt;https://mail.google.com/mail/#se...&lt;/a&gt;
&lt;a href=&quot;/projects/8994/changesets/linked&quot; title=&quot;Changeset 'linked'&quot;&gt;[linked]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;/%7Bis%3Aunread+is%3Astarred+is%3Adraft%7D/12272188ec71e0f4
[plain text, not linked]&lt;/p&gt;
&lt;p&gt;I noticed this in an older version of rails, but looking at git
it seems that the regexp at issue is the same in both my older
version and in current trunk.&lt;/p&gt;
&lt;p&gt;Michael, my apologies if you're not actually responsible, but I
saw in bug &lt;a href=&quot;/projects/8994/tickets/1353&quot; title=&quot;Ticket #1353&quot;&gt;#1353&lt;/a&gt; and others that you have touched/reviewed
patches to this code, so thought you might be closest. Thanks.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>gmail URLs (and increasingly other URLs as well) can have important information after an anchor, such as:

https://mail.google.com/mail/#search/%7Bis%3Aunread+is%3Astarred+is%3Adr
aft%7D/12272188ec71e0f4

auto_link does not love this URL, only autolinking the \w trailing the # and not everything after that next /, i.e., you get:

https://mail.google.com/mail/#search [linked]

/%7Bis%3Aunread+is%3Astarred+is%3Adraft%7D/12272188ec71e0f4 [plain text, not linked]

I noticed this in an older version of rails, but looking at git it seems that the regexp at issue is the same in both my older version and in current trunk.

Michael, my apologies if you're not actually responsible, but I saw in bug #1353 and others that you have touched/reviewed patches to this code, so thought you might be closest. Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;gmail URLs (and increasingly other URLs as well) can have
important information after an anchor, such as:&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;https://mail.google.com/mail/#search/%7Bis%3Aunread+is%3Astarred+is%3Adr&quot;&gt;
https://mail.google.com/mail/#search/%7Bis%3Aunread+is%3Astarred+is...&lt;/a&gt;&lt;br&gt;
aft%7D/12272188ec71e0f4&lt;/p&gt;
&lt;p&gt;auto_link does not love this URL, only autolinking the \w
trailing the # and not everything after that next /, i.e., you
get:&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;https://mail.google.com/mail/#search&quot;&gt;https://mail.google.com/mail/#search&lt;/a&gt;
&lt;a href=&quot;/projects/8994/changesets/linked&quot; title=
&quot;Changeset [linked]&quot;&gt;[linked]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;/%7Bis%3Aunread+is%3Astarred+is%3Adraft%7D/12272188ec71e0f4
[plain text, not linked]&lt;/p&gt;
&lt;p&gt;I noticed this in an older version of rails, but looking at git
it seems that the regexp at issue is the same in both my older
version and in current trunk.&lt;/p&gt;
&lt;p&gt;Michael, my apologies if you're not actually responsible, but I
saw in bug &lt;a href=&quot;/projects/8994/tickets/1353&quot; title=
&quot;Ticket #1353&quot;&gt;#1353&lt;/a&gt; and others that you have touched/reviewed
patches to this code, so thought you might be closest. Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-11T03:43:35+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-08-11T03:43:36+01:00</updated-at>
      <user-id type="integer">65858</user-id>
      <version type="integer">1</version>
      <user-name>Luis Villa</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-25T12:54:43+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: auto_link text_helper
:assigned_user: 141
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-25T12:54:45+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm unable to actually reproduce this one. I tried various urls from Gmail.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm unable to actually reproduce this one. I tried various urls
from Gmail.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T01:05:41+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-26T01:05:47+01:00</updated-at>
      <user-id type="integer">37072</user-id>
      <version type="integer">3</version>
      <user-name>Robert Rouse</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Close this ticket, tried several urls and they all pass.

attached a test to check this specific example, it passes on 2-3-stable</body>
      <body-html>&lt;div&gt;&lt;p&gt;Close this ticket, tried several urls and they all pass.&lt;/p&gt;
&lt;p&gt;attached a test to check this specific example, it passes on
2-3-stable&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T02:51:46+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-26T02:51:51+01:00</updated-at>
      <user-id type="integer">36381</user-id>
      <version type="integer">4</version>
      <user-name>Elad Meidar</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>-1 - can't reproduce.</body>
      <body-html>&lt;div&gt;&lt;p&gt;-1 - can't reproduce.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T03:34:14+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-26T03:34:16+01:00</updated-at>
      <user-id type="integer">64236</user-id>
      <version type="integer">5</version>
      <user-name>John Pignata</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>-1, can't reproduce. The tests from Elad Meidar passes on 2-3-stable and master.</body>
      <body-html>&lt;div&gt;&lt;p&gt;-1, can't reproduce. The tests from Elad Meidar passes on
2-3-stable and master.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T16:45:53+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-26T16:45:54+01:00</updated-at>
      <user-id type="integer">40414</user-id>
      <version type="integer">6</version>
      <user-name>Elomar Fran&#231;a</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>And -1 from me too, along with Elad's tests passing. I think it's safe to close this (Luis, do you disagree?)</body>
      <body-html>&lt;div&gt;&lt;p&gt;And -1 from me too, along with Elad's tests passing. I think
it's safe to close this (Luis, do you disagree?)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T17:16:47+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: auto_link bugmash text_helper
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash bugmash-review text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-26T17:16:49+01:00</updated-at>
      <user-id type="integer">4462</user-id>
      <version type="integer">7</version>
      <user-name>Pat Allan</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>-1 not reproducible.

Elad's test passes in 2-3-stable for me too.</body>
      <body-html>&lt;div&gt;&lt;p&gt;-1 not reproducible.&lt;/p&gt;
&lt;p&gt;Elad's test passes in 2-3-stable for me too.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T17:47:17+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>auto_link bugmash bugmash-review text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-26T17:47:20+01:00</updated-at>
      <user-id type="integer">71121</user-id>
      <version type="integer">8</version>
      <user-name>sr.iniv.t</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-09-27T11:50:35+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: auto_link bugmash bugmash-review text_helper
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>&quot;&quot; auto_link text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-27T11:50:39+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">9</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-09-27T12:33:29+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;\&quot;\&quot; auto_link text_helper&quot;
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-27T12:33:32+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">10</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>-1 not reproducible

Applied Elad Meidar's patch in both 2-3-stable and master and in both branches all tests passed as expected.</body>
      <body-html>&lt;div&gt;&lt;p&gt;-1 not reproducible&lt;/p&gt;
&lt;p&gt;Applied Elad Meidar's patch in both 2-3-stable and master and in
both branches all tests passed as expected.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-09-27T19:25:31+01:00</created-at>
      <creator-id type="integer">65858</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3035</number>
      <permalink>auto_link-in-text_helperrb-doesnt-handle-some-gmail-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>auto_link bugmash text_helper</tag>
      <title>auto_link in text_helper.rb doesn't handle some gmail URLS</title>
      <updated-at type="datetime">2009-09-27T19:25:35+01:00</updated-at>
      <user-id type="integer">56830</user-id>
      <version type="integer">11</version>
      <user-name>Mat&#237;as Flores</user-name>
      <creator-name>Luis Villa</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3035</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>dc4f3011666a08ba05164981f9168418abdb1421</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-09-26T02:51:46+01:00</created-at>
      <filename>LH3035-autolink_gmail_link_test_2-3-stable.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">279315</id>
      <size type="integer">2353</size>
      <uploader-id type="integer">36381</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/279315/LH3035-autolink_gmail_link_test_2-3-stable.diff</url>
    </attachment>
  </attachments>
</ticket>
