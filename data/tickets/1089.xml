<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-09-22T11:28:52+01:00</created-at>
  <creator-id type="integer">32679</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">1089</number>
  <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
  <priority type="integer">367</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.1 actionpack patch polymorphic routes</tag>
  <title>polymorphic routes should handle collections through Model Class</title>
  <updated-at type="datetime">2009-08-08T23:07:14+01:00</updated-at>
  <user-id type="integer">7211</user-id>
  <version type="integer">19</version>
  <user-name>CancelProfileIsBroken</user-name>
  <creator-name>mamooth</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
  <priority-name nil="true"></priority-name>
  <original-body>The rails 2.1 PolymorphicRoutes module should handle collection's url through Model Class :

In actionpack/test/controller/polymorphic_routes_test.rb :

    def test_with_a_class
      expects(:articles_url).with()
      polymorphic_url(Article)
    end
    
    def test_with_a_class_in_an_array
      expects(:articles_url).with()
      polymorphic_url([Article])
    end
    
    def test_with_a_class_and_a_namespace
      expects(:admin_articles_url).with()
      polymorphic_url([:admin, Article])
    end

in 
module ActionController
 module PolymorphicRoutes
     ...
       def polymorphic_url(record_or_hash_or_array, options = {})
       ...
       inflection =
       ...
       # adding
       when record.is_a?(Class)
          args.pop
          :plural
       # end adding =&gt; this allow a Class to be mapped to the collection
       ...
       end</original-body>
  <latest-body>The rails 2.1 PolymorphicRoutes module should handle collection's url through Model Class :

In actionpack/test/controller/polymorphic_routes_test.rb :

    def test_with_a_class
      expects(:articles_url).with()
      polymorphic_url(Article)
    end
    
    def test_with_a_class_in_an_array
      expects(:articles_url).with()
      polymorphic_url([Article])
    end
    
    def test_with_a_class_and_a_namespace
      expects(:admin_articles_url).with()
      polymorphic_url([:admin, Article])
    end

in 
module ActionController
 module PolymorphicRoutes
     ...
       def polymorphic_url(record_or_hash_or_array, options = {})
       ...
       inflection =
       ...
       # adding
       when record.is_a?(Class)
          args.pop
          :plural
       # end adding =&gt; this allow a Class to be mapped to the collection
       ...
       end</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The rails 2.1 PolymorphicRoutes module should handle
collection's url through Model Class :&lt;/p&gt;
&lt;p&gt;In actionpack/test/controller/polymorphic_routes_test.rb :&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def test_with_a_class
  expects(:articles_url).with()
  polymorphic_url(Article)
end

def test_with_a_class_in_an_array
  expects(:articles_url).with()
  polymorphic_url([Article])
end

def test_with_a_class_and_a_namespace
  expects(:admin_articles_url).with()
  polymorphic_url([:admin, Article])
end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;in module ActionController module PolymorphicRoutes&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; ...
   def polymorphic_url(record_or_hash_or_array, options = {})
   ...
   inflection =
   ...
   # adding
   when record.is_a?(Class)
      args.pop
      :plural
   # end adding =&amp;gt; this allow a Class to be mapped to the collection
   ...
   end
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The rails 2.1 PolymorphicRoutes module should handle collection's url through Model Class :

In actionpack/test/controller/polymorphic_routes_test.rb :

    def test_with_a_class
      expects(:articles_url).with()
      polymorphic_url(Article)
    end
    
    def test_with_a_class_in_an_array
      expects(:articles_url).with()
      polymorphic_url([Article])
    end
    
    def test_with_a_class_and_a_namespace
      expects(:admin_articles_url).with()
      polymorphic_url([:admin, Article])
    end

in 
module ActionController
 module PolymorphicRoutes
     ...
       def polymorphic_url(record_or_hash_or_array, options = {})
       ...
       inflection =
       ...
       # adding
       when record.is_a?(Class)
          args.pop
          :plural
       # end adding =&gt; this allow a Class to be mapped to the collection
       ...
       end</body>
      <body-html>&lt;div&gt;&lt;p&gt;The rails 2.1 PolymorphicRoutes module should handle
collection's url through Model Class :&lt;/p&gt;
&lt;p&gt;In actionpack/test/controller/polymorphic_routes_test.rb :&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def test_with_a_class
  expects(:articles_url).with()
  polymorphic_url(Article)
end

def test_with_a_class_in_an_array
  expects(:articles_url).with()
  polymorphic_url([Article])
end

def test_with_a_class_and_a_namespace
  expects(:admin_articles_url).with()
  polymorphic_url([:admin, Article])
end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;in module ActionController module PolymorphicRoutes&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt; ...
   def polymorphic_url(record_or_hash_or_array, options = {})
   ...
   inflection =
   ...
   # adding
   when record.is_a?(Class)
      args.pop
      :plural
   # end adding =&amp;gt; this allow a Class to be mapped to the collection
   ...
   end
&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-22T11:28:52+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2008-09-22T11:28:53+01:00</updated-at>
      <user-id type="integer">32679</user-id>
      <version type="integer">1</version>
      <user-name>mamooth</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Could you please upload a patch using git-format-patch ?

Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Could you please upload a patch using git-format-patch ?&lt;/p&gt;
&lt;p&gt;Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-21T16:15:09+00:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionpack polymorphic routes
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2008-12-21T16:15:12+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">2</version>
      <user-name>Pratik</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>http://rails.lighthouseapp.com/projects/8994/sending-patches should help.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://rails.lighthouseapp.com/projects/8994/sending-patches&quot;&gt;http://rails.lighthouseapp.com/p...&lt;/a&gt;
should help.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-21T16:15:23+00:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2008-12-21T16:15:28+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">3</version>
      <user-name>Pratik</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@mamooth is there any chance you could provide tests that represent the desired output, not just the fact that articles_url will be called. This will help us ensure that your desired behavior does not break through any upcoming refactoring.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@mamooth is there any chance you could provide tests that
represent the desired output, not just the fact that articles_url
will be called. This will help us ensure that your desired behavior
does not break through any upcoming refactoring.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-24T08:15:34+00:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2008-12-24T08:15:37+00:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">4</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Will reopen when there's a patch.

Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Will reopen when there's a patch.&lt;/p&gt;
&lt;p&gt;Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-02-24T16:12:36+00:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.1 actionpack polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-02-24T16:12:39+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">5</version>
      <user-name>Pratik</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Created a patch complete with tests. Think I got all possible cases nailed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Created a patch complete with tests. Think I got all possible
cases nailed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-08T21:42:48+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 actionpack polymorphic routes
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.1 actionpack patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-05-08T21:42:51+01:00</updated-at>
      <user-id type="integer">32697</user-id>
      <version type="integer">6</version>
      <user-name>Niklas Holmgren</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-06T14:32:46+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-06T14:32:52+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">7</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T13:52:32+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 actionpack patch polymorphic routes
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T13:52:35+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">8</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 verified - I've attached an updated patch for 2-3 stable

We should probably document this a little more.

Also it could lead to some misleading behavior as it relates to STI models. Overall, though it could be very handy. Good idea</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified - I've attached an updated patch for 2-3 stable&lt;/p&gt;
&lt;p&gt;We should probably document this a little more.&lt;/p&gt;
&lt;p&gt;Also it could lead to some misleading behavior as it relates to
STI models. Overall, though it could be very handy. Good idea&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T15:49:53+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T15:49:55+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">9</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>trying to upload the patch for some reason it didn't take the first time</body>
      <body-html>&lt;div&gt;&lt;p&gt;trying to upload the patch for some reason it didn't take the
first time&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T16:03:12+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T16:03:15+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">10</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>attached a patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;attached a patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T16:07:32+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T16:07:38+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">11</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>attached a patch against master per Lifo's request</body>
      <body-html>&lt;div&gt;&lt;p&gt;attached a patch against master per Lifo's request&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T16:45:49+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T16:45:50+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">12</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>&quot;Also it could lead to some misleading behavior as it relates to STI models.&quot; Do you know of any existing behavior this could break? I'm a bit wary of handy features that break existing assumptions. I'm posting to the list for more feedback.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&quot;Also it could lead to some misleading behavior as it relates to
STI models.&quot; Do you know of any existing behavior this could break?
I'm a bit wary of handy features that break existing assumptions.
I'm posting to the list for more feedback.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T16:50:30+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T16:50:31+01:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">13</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>@Yehuda,

He might be referring that the model SuperProject should have &quot;/projects&quot; as url, instead of &quot;/super_projects&quot; (which would be the default). Anyway, this problem already appears today and I already saw a ticket around here to solve the issue (although I don't think the solution should rely on polymorphic_url).

Thinking out loud here, maybe we should add to ActiveModel::Naming something like route?</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Yehuda,&lt;/p&gt;
&lt;p&gt;He might be referring that the model SuperProject should have
&quot;/projects&quot; as url, instead of &quot;/super_projects&quot; (which would be
the default). Anyway, this problem already appears today and I
already saw a ticket around here to solve the issue (although I
don't think the solution should rely on polymorphic_url).&lt;/p&gt;
&lt;p&gt;Thinking out loud here, maybe we should add to
ActiveModel::Naming something like route?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T16:57:52+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T16:57:54+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">14</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [c284412b149e03f46144ef566bcd6a16750961b1]) Polymorphic routes generates collection URL from model class [#1089 state:resolved]

Signed-off-by: Dan Pickett &lt;dpickett@enlightsolutions.com&gt;
Signed-off-by: Pratik Naik &lt;pratiknaik@gmail.com&gt;
http://github.com/rails/rails/commit/c284412b149e03f46144ef566bcd6a16750961b1</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/c284412b149e03f46144ef566bcd6a16750961b1&quot;
title=
&quot;Changeset [c284412b149e03f46144ef566bcd6a16750961b1]&quot;&gt;[c284412b149e03f46144ef566bcd6a16750961b1]&lt;/a&gt;)
Polymorphic routes generates collection URL from model class
[&lt;a href=&quot;/projects/8994/tickets/1089&quot; title=
&quot;Ticket #1089&quot;&gt;#1089&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Dan Pickett
&lt;a&gt;dpickett@enlightsolutions.com&lt;/a&gt;&lt;br&gt;
Signed-off-by: Pratik Naik &lt;a href=
&quot;mailto:pratiknaik@gmail.com&quot;&gt;pratiknaik@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/c284412b149e03f46144ef566bcd6a16750961b1&quot;&gt;
http://github.com/rails/rails/commit/c284412b149e03f46144ef566bcd6a...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T17:00:51+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T17:00:53+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">15</version>
      <user-name>Repository</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Jos&#233;: It's hard to add to naming, because the whole issue is that you can't calculate it (you have to try the subclass first and then the superclass). Maybe you're saying to cache it on naming for a given app? Again, this could get complicated in the case of multiple apps in the same process (not something you can do today, but worth keeping in mind). I think it makes more sense to cache on the router instance, which will always have one per application.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jos&amp;eacute;: It's hard to add to naming, because the whole issue
is that you can't calculate it (you have to try the subclass first
and then the superclass). Maybe you're saying to cache it on naming
for a given app? Again, this could get complicated in the case of
multiple apps in the same process (not something you can do today,
but worth keeping in mind). I think it makes more sense to cache on
the router instance, which will always have one per
application.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T17:01:46+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T17:01:53+01:00</updated-at>
      <user-id type="integer">12714</user-id>
      <version type="integer">16</version>
      <user-name>Yehuda Katz (wycats)</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>@Yehuda, agreed. I also proposed a router based solution on #1231, which is also about polymorphic_url.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Yehuda, agreed. I also proposed a router based solution on
&lt;a href=&quot;/projects/8994/tickets/1231&quot; title=
&quot;Ticket #1231&quot;&gt;#1231&lt;/a&gt;, which is also about polymorphic_url.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T17:04:11+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T17:04:13+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">17</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Feel free to reopen AFTER there are any known issues. STI problem is a separate issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Feel free to reopen AFTER there are any known issues. STI
problem is a separate issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T17:19:04+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.1 actionpack bugmash patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T17:19:10+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">18</version>
      <user-name>Pratik</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body nil="true"></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T23:07:08+01:00</created-at>
      <creator-id type="integer">32679</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:tag: 2.1 actionpack bugmash patch polymorphic routes
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1089</number>
      <permalink>polymorphic-routes-should-handle-collections-through-model-class</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.1 actionpack patch polymorphic routes</tag>
      <title>polymorphic routes should handle collections through Model Class</title>
      <updated-at type="datetime">2009-08-08T23:07:14+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">19</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>mamooth</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1089</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>ae03cdac3e70fdafebf615ca637258cec2fbc593</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-08T21:42:48+01:00</created-at>
      <filename>polymorphic_collections.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">120582</id>
      <size type="integer">4182</size>
      <uploader-id type="integer">32697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/120582/polymorphic_collections.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>1e482ca1c3a7d532db7d8554438cc06a8706934a</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-08T16:03:12+01:00</created-at>
      <filename>poly_path_class_collection.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">239067</id>
      <size type="integer">3184</size>
      <uploader-id type="integer">22242</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/239067/poly_path_class_collection.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>ace2b586ec62830bd206abfcd79ff4c9e8a1f422</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-08T16:45:49+01:00</created-at>
      <filename>master_poly_collections.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">239078</id>
      <size type="integer">4181</size>
      <uploader-id type="integer">22242</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/239078/master_poly_collections.diff</url>
    </attachment>
  </attachments>
</ticket>
