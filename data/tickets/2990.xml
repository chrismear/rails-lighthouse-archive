<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">15316</assigned-user-id>
  <attachments-count type="integer">8</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-08-03T22:27:35+01:00</created-at>
  <creator-id type="integer">64992</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">2990</number>
  <permalink>none-standard-id-column-on-has_many-through</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>hasmany patch primarykey review verified</tag>
  <title>[PATCH] Non standard ID column on has_many :through</title>
  <updated-at type="datetime">2010-12-23T23:20:44+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">23</version>
  <user-name>Repository</user-name>
  <creator-name>James Pearson</creator-name>
  <assigned-user-name>Aaron Patterson</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
  <priority-name>Medium</priority-name>
  <original-body>Usingthe example code below:

class User &lt; ActiveRecord::Base
  has_many :followers
  has_many :suspects, :through =&gt; :followers
end

class Connection &lt; ActiveRecord::Base
  belongs_to :user
  belongs_to :suspect, :primary_key =&gt; :case_id , :foreign_key =&gt; :case_id
end

class Suspect &lt; ActiveRecord::Base
  belongs_to :connection, :primary_key =&gt; :case_id , :foreign_key =&gt; :case_id
end

The problem is that the belongs_to seems to ignore the :primary key.

If I do

u = User.find(:first)
u.suspects

The SQL generated is:

SELECT `suspects`.* FROM `suspects` INNER JOIN `connections` ON `suspects`.id = `connections`.case_id WHERE ((`followers`.user_id = 1))

However it should be:

SELECT `suspects`.* FROM `suspects` INNER JOIN `connections` ON `suspects`.case_id = `connections`.case_id WHERE ((`followers`.user_id = 1))

This was partially fixed in 2.3.3 but not for has_many :through.

The patch applied to 2.3.3 can be found here: http://github.com/rails/rails/commit/b3ec7b2d03a52e43a4451d522eea7e6499289daa</original-body>
  <latest-body>Usingthe example code below:

class User &lt; ActiveRecord::Base
  has_many :followers
  has_many :suspects, :through =&gt; :followers
end

class Connection &lt; ActiveRecord::Base
  belongs_to :user
  belongs_to :suspect, :primary_key =&gt; :case_id , :foreign_key =&gt; :case_id
end

class Suspect &lt; ActiveRecord::Base
  belongs_to :connection, :primary_key =&gt; :case_id , :foreign_key =&gt; :case_id
end

The problem is that the belongs_to seems to ignore the :primary key.

If I do

u = User.find(:first)
u.suspects

The SQL generated is:

SELECT `suspects`.* FROM `suspects` INNER JOIN `connections` ON `suspects`.id = `connections`.case_id WHERE ((`followers`.user_id = 1))

However it should be:

SELECT `suspects`.* FROM `suspects` INNER JOIN `connections` ON `suspects`.case_id = `connections`.case_id WHERE ((`followers`.user_id = 1))

This was partially fixed in 2.3.3 but not for has_many :through.

The patch applied to 2.3.3 can be found here: http://github.com/rails/rails/commit/b3ec7b2d03a52e43a4451d522eea7e6499289daa</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Usingthe example code below:&lt;/p&gt;
&lt;p&gt;class User &amp;lt; ActiveRecord::Base has_many :followers has_many
:suspects, :through =&amp;gt; :followers end&lt;/p&gt;
&lt;p&gt;class Connection &amp;lt; ActiveRecord::Base belongs_to :user
belongs_to :suspect, :primary_key =&amp;gt; :case_id , :foreign_key
=&amp;gt; :case_id end&lt;/p&gt;
&lt;p&gt;class Suspect &amp;lt; ActiveRecord::Base belongs_to :connection,
:primary_key =&amp;gt; :case_id , :foreign_key =&amp;gt; :case_id end&lt;/p&gt;
&lt;p&gt;The problem is that the belongs_to seems to ignore the :primary
key.&lt;/p&gt;
&lt;p&gt;If I do&lt;/p&gt;
&lt;p&gt;u = User.find(:first) u.suspects&lt;/p&gt;
&lt;p&gt;The SQL generated is:&lt;/p&gt;
&lt;p&gt;SELECT &lt;code&gt;suspects&lt;/code&gt;.* FROM &lt;code&gt;suspects&lt;/code&gt; INNER
JOIN &lt;code&gt;connections&lt;/code&gt; ON &lt;code&gt;suspects&lt;/code&gt;.id =
&lt;code&gt;connections&lt;/code&gt;.case_id WHERE
((&lt;code&gt;followers&lt;/code&gt;.user_id = 1))&lt;/p&gt;
&lt;p&gt;However it should be:&lt;/p&gt;
&lt;p&gt;SELECT &lt;code&gt;suspects&lt;/code&gt;.* FROM &lt;code&gt;suspects&lt;/code&gt; INNER
JOIN &lt;code&gt;connections&lt;/code&gt; ON &lt;code&gt;suspects&lt;/code&gt;.case_id =
&lt;code&gt;connections&lt;/code&gt;.case_id WHERE
((&lt;code&gt;followers&lt;/code&gt;.user_id = 1))&lt;/p&gt;
&lt;p&gt;This was partially fixed in 2.3.3 but not for has_many
:through.&lt;/p&gt;
&lt;p&gt;The patch applied to 2.3.3 can be found here: &lt;a href=&quot;http://github.com/rails/rails/commit/b3ec7b2d03a52e43a4451d522eea7e6499289daa&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Usingthe example code below:

class User &lt; ActiveRecord::Base
  has_many :followers
  has_many :suspects, :through =&gt; :followers
end

class Connection &lt; ActiveRecord::Base
  belongs_to :user
  belongs_to :suspect, :primary_key =&gt; :case_id , :foreign_key =&gt; :case_id
end

class Suspect &lt; ActiveRecord::Base
  belongs_to :connection, :primary_key =&gt; :case_id , :foreign_key =&gt; :case_id
end

The problem is that the belongs_to seems to ignore the :primary key.

If I do

u = User.find(:first)
u.suspects

The SQL generated is:

SELECT `suspects`.* FROM `suspects` INNER JOIN `connections` ON `suspects`.id = `connections`.case_id WHERE ((`followers`.user_id = 1))

However it should be:

SELECT `suspects`.* FROM `suspects` INNER JOIN `connections` ON `suspects`.case_id = `connections`.case_id WHERE ((`followers`.user_id = 1))

This was partially fixed in 2.3.3 but not for has_many :through.

The patch applied to 2.3.3 can be found here: http://github.com/rails/rails/commit/b3ec7b2d03a52e43a4451d522eea7e6499289daa</body>
      <body-html>&lt;div&gt;&lt;p&gt;Usingthe example code below:&lt;/p&gt;
&lt;p&gt;class User &amp;lt; ActiveRecord::Base&lt;br&gt;
has_many :followers has_many :suspects, :through =&amp;gt; :followers
end&lt;/p&gt;
&lt;p&gt;class Connection &amp;lt; ActiveRecord::Base&lt;br&gt;
belongs_to :user belongs_to :suspect, :primary_key =&amp;gt; :case_id ,
:foreign_key =&amp;gt; :case_id end&lt;/p&gt;
&lt;p&gt;class Suspect &amp;lt; ActiveRecord::Base&lt;br&gt;
belongs_to :connection, :primary_key =&amp;gt; :case_id , :foreign_key
=&amp;gt; :case_id end&lt;/p&gt;
&lt;p&gt;The problem is that the belongs_to seems to ignore the :primary
key.&lt;/p&gt;
&lt;p&gt;If I do&lt;/p&gt;
&lt;p&gt;u = User.find(:first)&lt;br&gt;
u.suspects&lt;/p&gt;
&lt;p&gt;The SQL generated is:&lt;/p&gt;
&lt;p&gt;SELECT &lt;code&gt;suspects&lt;/code&gt;.* FROM &lt;code&gt;suspects&lt;/code&gt; INNER
JOIN &lt;code&gt;connections&lt;/code&gt; ON &lt;code&gt;suspects&lt;/code&gt;.id =
&lt;code&gt;connections&lt;/code&gt;.case_id WHERE
((&lt;code&gt;followers&lt;/code&gt;.user_id = 1))&lt;/p&gt;
&lt;p&gt;However it should be:&lt;/p&gt;
&lt;p&gt;SELECT &lt;code&gt;suspects&lt;/code&gt;.* FROM &lt;code&gt;suspects&lt;/code&gt; INNER
JOIN &lt;code&gt;connections&lt;/code&gt; ON &lt;code&gt;suspects&lt;/code&gt;.case_id =
&lt;code&gt;connections&lt;/code&gt;.case_id WHERE
((&lt;code&gt;followers&lt;/code&gt;.user_id = 1))&lt;/p&gt;
&lt;p&gt;This was partially fixed in 2.3.3 but not for has_many
:through.&lt;/p&gt;
&lt;p&gt;The patch applied to 2.3.3 can be found here: &lt;a href=
&quot;http://github.com/rails/rails/commit/b3ec7b2d03a52e43a4451d522eea7e6499289daa&quot;&gt;
http://github.com/rails/rails/commit/b3ec7b2d03a52e43a4451d522eea7e...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-03T22:27:35+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-03T22:27:40+01:00</updated-at>
      <user-id type="integer">64992</user-id>
      <version type="integer">1</version>
      <user-name>James Pearson</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T14:43:16+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: hasmany primarykey
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-08T14:43:21+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">2</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>verified on stable

added tests</body>
      <body-html>&lt;div&gt;&lt;p&gt;verified on stable&lt;/p&gt;
&lt;p&gt;added tests&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T16:45:06+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T16:45:11+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">3</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Attached a new patch with tests &amp; implementation. Please ignore the previous patch.

I'm not sure whether the fix is in the right place or it should be a dedicated method somewhere.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached a new patch with tests &amp;amp; implementation. Please
ignore the previous patch.&lt;/p&gt;
&lt;p&gt;I'm not sure whether the fix is in the right place or it should
be a dedicated method somewhere.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T17:29:50+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T17:29:56+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">4</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T17:30:04+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash hasmany primarykey
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany patch primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T17:30:07+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">5</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>verified
the patch has a failing test case for this case</body>
      <body-html>&lt;div&gt;&lt;p&gt;verified&lt;br&gt;
the patch has a failing test case for this case&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T18:19:51+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash hasmany patch primarykey
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T18:19:57+01:00</updated-at>
      <user-id type="integer">64574</user-id>
      <version type="integer">6</version>
      <user-name>Rajesh</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>the fix also works</body>
      <body-html>&lt;div&gt;&lt;p&gt;the fix also works&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T18:28:41+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T18:28:43+01:00</updated-at>
      <user-id type="integer">64574</user-id>
      <version type="integer">7</version>
      <user-name>Rajesh</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Dira, do you think we can change your patch to use already existing models?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Dira, do you think we can change your patch to use already
existing models?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T19:34:04+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T19:34:07+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">8</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 I have had this issue before as well</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 I have had this issue before as well&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T20:01:58+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T20:02:00+01:00</updated-at>
      <user-id type="integer">30123</user-id>
      <version type="integer">9</version>
      <user-name>Marshall Huss</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for the idea, -1 for the patch

Dira: I agree with Jos&#233; Valim, and think this patch needs to be applied using the existing AR models on the test suite.

Also, I can't see any assertion in your test. And why you added: has_many :posts_by_title, :through =&gt; :authorship , :source =&gt; :post to Person model?</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for the idea, -1 for the patch&lt;/p&gt;
&lt;p&gt;Dira: I agree with Jos&amp;eacute; Valim, and think this patch needs
to be applied using the existing AR models on the test suite.&lt;/p&gt;
&lt;p&gt;Also, I can't see any assertion in your test. And why you added:
has_many :posts_by_title, :through =&amp;gt; :authorship , :source
=&amp;gt; :post to Person model?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T20:05:52+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T20:05:56+01:00</updated-at>
      <user-id type="integer">11504</user-id>
      <version type="integer">10</version>
      <user-name>Arthur Zapparoli</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Arthur, could you provide a new patch please?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Arthur, could you provide a new patch please?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T21:31:46+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T21:31:48+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">11</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Jos&#233;: Thanks for the feedback; I started on a new patch with the existing models. Also I realized that the original patch was broken (foreign_key &amp; primary_key interchanged). Will submit a new patch tomorrow morning.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Jos&amp;eacute;: Thanks for the feedback; I started on a new patch
with the existing models. Also I realized that the original patch
was broken (foreign_key &amp;amp; primary_key interchanged). Will
submit a new patch tomorrow morning.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T22:49:11+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-09T22:49:16+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">12</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Here is the correct patch - with tests and implementation.

Thank you all for the feedback.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here is the correct patch - with tests and implementation.&lt;/p&gt;
&lt;p&gt;Thank you all for the feedback.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-10T09:26:51+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash hasmany primarykey
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany patch primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-10T09:26:52+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">13</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Here is the correct patch - with tests and implementation.

Thank you all for the feedback.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here is the correct patch - with tests and implementation.&lt;/p&gt;
&lt;p&gt;Thank you all for the feedback.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-10T09:27:07+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany patch primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-10T09:27:14+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">14</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Here are patches for 2-3-stable and master branches, based on dira's last patch. They also fix methods like collection.build/create/delete/clear/&lt;&lt; etc.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here are patches for 2-3-stable and master branches, based on
dira's last patch. They also fix methods like
collection.build/create/delete/clear/&amp;lt;&amp;lt; etc.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-13T20:20:54+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany patch primarykey</tag>
      <title>None standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-13T20:20:55+01:00</updated-at>
      <user-id type="integer">22106</user-id>
      <version type="integer">15</version>
      <user-name>Szymon Nowak</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-15T16:43:35+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:title: None standard ID column on has_many :through
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany patch primarykey</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-08-15T16:43:39+01:00</updated-at>
      <user-id type="integer">22106</user-id>
      <version type="integer">16</version>
      <user-name>Szymon Nowak</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>the master patch applies cleanly

the 2.3.stable patch applies cleanly</body>
      <body-html>&lt;div&gt;&lt;p&gt;the master patch applies cleanly&lt;/p&gt;
&lt;p&gt;the 2.3.stable patch applies cleanly&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-27T11:37:26+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash hasmany patch primarykey</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2009-09-27T11:37:30+01:00</updated-at>
      <user-id type="integer">65618</user-id>
      <version type="integer">17</version>
      <user-name>dira</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-25T17:20:39+00:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:tag: bugmash hasmany patch primarykey
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>bugmash hasmany patch primarykey review</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2010-01-25T17:20:40+00:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">18</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/13645)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/13645&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-12T12:46:15+00:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash hasmany patch primarykey review
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>hasmany patch primarykey review</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2010-02-12T12:46:15+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">19</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Seems like it has been about a year since there's a patch in this ticket!

I've confirmed that patch from Szymon still applies on `2-3-stable`, and I've update the patch to apply cleanly on `master`. Can someone please apply this?

Thank you</body>
      <body-html>&lt;div&gt;&lt;p&gt;Seems like it has been about a year since there's a patch in
this ticket!&lt;/p&gt;
&lt;p&gt;I've confirmed that patch from Szymon still applies on
&lt;code&gt;2-3-stable&lt;/code&gt;, and I've update the patch to apply cleanly
on &lt;code&gt;master&lt;/code&gt;. Can someone please apply this?&lt;/p&gt;
&lt;p&gt;Thank you&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-10T14:59:20+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:assigned_user: 85
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>hasmany patch primarykey review</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2010-09-10T14:59:23+01:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">20</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>Santiago, could you please apply this patch for me?

Thank you</body>
      <body-html>&lt;div&gt;&lt;p&gt;Santiago, could you please apply this patch for me?&lt;/p&gt;
&lt;p&gt;Thank you&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-11T09:35:28+01:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 19965
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>hasmany patch primarykey review</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2010-09-11T09:35:30+01:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">21</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">7</attachments-count>
      <body>I have updated Szymon Nowak's patch to current master, and verified that it works correctly.

Note that two of the tests (test_associate_existing_with_nonstandard_primary_key_on_belongs_to and test_collection_delete_with_nonstandard_primary_key_on_belongs_to) no longer fail in current master due to fixes elsewhere, but I thought it was worth leaving them in for assurance in any case.

Also note that I have added the method `AssociationReflection#association_primary_key`. This method is also part of my fix to #2801 and also features in my patch for nested :through associations [#1152], so I'd say it's a good one to have.

Reassigning to Aaron as he is current the Active Record person.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have updated Szymon Nowak's patch to current master, and
verified that it works correctly.&lt;/p&gt;
&lt;p&gt;Note that two of the tests
(test_associate_existing_with_nonstandard_primary_key_on_belongs_to
and
test_collection_delete_with_nonstandard_primary_key_on_belongs_to)
no longer fail in current master due to fixes elsewhere, but I
thought it was worth leaving them in for assurance in any case.&lt;/p&gt;
&lt;p&gt;Also note that I have added the method
&lt;code&gt;AssociationReflection#association_primary_key&lt;/code&gt;. This
method is also part of my fix to &lt;a href=
&quot;/projects/8994/tickets/2801&quot; title=&quot;Ticket #2801&quot;&gt;#2801&lt;/a&gt; and
also features in my patch for nested :through associations
[&lt;a href=&quot;/projects/8994/tickets/1152&quot; title=
&quot;Ticket #1152&quot;&gt;#1152&lt;/a&gt;], so I'd say it's a good one to have.&lt;/p&gt;
&lt;p&gt;Reassigning to Aaron as he is current the Active Record
person.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-19T16:10:03+00:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: hasmany patch primarykey review
:assigned_user: 40272
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>hasmany patch primarykey review verified</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2010-12-19T16:11:47+00:00</updated-at>
      <user-id type="integer">11330</user-id>
      <version type="integer">22</version>
      <user-name>Jon Leighton</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">8</attachments-count>
      <body>(from [85683f2a79dbf81130361cb6426786cf6b0d1925]) Fix creation of has_many through records with custom primary_key option on belongs_to [#2990 state:resolved]
https://github.com/rails/rails/commit/85683f2a79dbf81130361cb6426786cf6b0d1925</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/85683f2a79dbf81130361cb6426786cf6b0d1925&quot;
title=
&quot;Changeset [85683f2a79dbf81130361cb6426786cf6b0d1925]&quot;&gt;[85683f2a79dbf81130361cb6426786cf6b0d1925]&lt;/a&gt;)
Fix creation of has_many through records with custom primary_key
option on belongs_to [&lt;a href=&quot;/projects/8994/tickets/2990&quot; title=
&quot;Ticket #2990&quot;&gt;#2990&lt;/a&gt; state:resolved] &lt;a href=
&quot;https://github.com/rails/rails/commit/85683f2a79dbf81130361cb6426786cf6b0d1925&quot;&gt;
https://github.com/rails/rails/commit/85683f2a79dbf81130361cb642678...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-12-23T23:20:16+00:00</created-at>
      <creator-id type="integer">64992</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2990</number>
      <permalink>none-standard-id-column-on-has_many-through</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>hasmany patch primarykey review verified</tag>
      <title>[PATCH] Non standard ID column on has_many :through</title>
      <updated-at type="datetime">2010-12-23T23:20:44+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">23</version>
      <user-name>Repository</user-name>
      <creator-name>James Pearson</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2990</url>
      <priority-name>Medium</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>9873cb1f5621446dc3a9d0711ee44d0ab30254a3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-09T16:45:06+01:00</created-at>
      <filename>2990_tests.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">239367</id>
      <size type="integer">5201</size>
      <uploader-id type="integer">65618</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/239367/2990_tests.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>c47e26fc996c29cf08cde30cfc9837007239c7f3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-09T17:29:50+01:00</created-at>
      <filename>2990_tests_and_fix.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">239375</id>
      <size type="integer">6276</size>
      <uploader-id type="integer">65618</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/239375/2990_tests_and_fix.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>736881a40ab0c33dab7c99cb72b616121b1fa1f8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-10T09:27:07+01:00</created-at>
      <filename>2990_tests_and_fix.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">239628</id>
      <size type="integer">4563</size>
      <uploader-id type="integer">65618</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/239628/2990_tests_and_fix.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>bd6edcd018d12c3ebccd44bd59d11bd4e97351db</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-13T20:20:54+01:00</created-at>
      <filename>2-3-stable-has_many_through_with_primary_key_on_belongs_to_fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">243388</id>
      <size type="integer">6743</size>
      <uploader-id type="integer">22106</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/243388/2-3-stable-has_many_through_with_primary_key_on_belongs_to_fix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>cd3b318bb3d34f4cbed92681f6937c7c129fba66</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-13T20:20:54+01:00</created-at>
      <filename>master-has_many_through_with_primary_key_on_belongs_to_fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">243389</id>
      <size type="integer">6732</size>
      <uploader-id type="integer">22106</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/243389/master-has_many_through_with_primary_key_on_belongs_to_fix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>2f3d5842132d89b00f6bed07cbd1f62e3adae5ee</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-10T14:59:21+01:00</created-at>
      <filename>2-3-stable-has_many_through_with_primary_key_on_belongs_to_fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">667944</id>
      <size type="integer">6745</size>
      <uploader-id type="integer">25293</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/667944/2-3-stable-has_many_through_with_primary_key_on_belongs_to_fix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>b4fb5c9c8edd02f16d0aa7eead9d9d9bc265ece9</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-10T14:59:21+01:00</created-at>
      <filename>master-has_many_through_with_primary_key_on_belongs_to_fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">667945</id>
      <size type="integer">6637</size>
      <uploader-id type="integer">25293</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/667945/master-has_many_through_with_primary_key_on_belongs_to_fix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>504b6d5a6d7bdf888ee9df03833de1bc62bd803d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-12-19T16:10:03+00:00</created-at>
      <filename>2990_fix_has_many_through_creation_with_custom_primary_key.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">826330</id>
      <size type="integer">7634</size>
      <uploader-id type="integer">11330</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/826330/2990_fix_has_many_through_creation_with_custom_primary_key.diff</url>
    </attachment>
  </attachments>
</ticket>
