<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-09-10T13:10:40+01:00</created-at>
  <creator-id type="integer">23341</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">82855</milestone-id>
  <number type="integer">5406</number>
  <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>1.9.2 tests</tag>
  <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
  <updated-at type="datetime">2010-10-07T02:53:24+01:00</updated-at>
  <user-id type="integer">89656</user-id>
  <version type="integer">7</version>
  <user-name>Rohit Arondekar</user-name>
  <creator-name>Sam Ruby</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
  <milestone-title>2.3.10</milestone-title>
  <priority-name>Medium</priority-name>
  <original-body>@@@
$ rails -v
Rails 2.3.8

$ ruby -v
ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux]

$ rails test
      create  
      create  app/controllers
      create  app/helpers
      create  app/models
      create  app/views/layouts
      create  config/environments
      create  config/initializers
      create  config/locales
      create  db
      create  doc
      create  lib
      create  lib/tasks
      create  log
      create  public/images
      create  public/javascripts
      create  public/stylesheets
      create  script/performance
      create  test/fixtures
      create  test/functional
      create  test/integration
      create  test/performance
      create  test/unit
      create  vendor
      create  vendor/plugins
      create  tmp/sessions
      create  tmp/sockets
      create  tmp/cache
      create  tmp/pids
      create  Rakefile
      create  README
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  config/database.yml
      create  config/routes.rb
      create  config/locales/en.yml
      create  db/seeds.rb
      create  config/initializers/backtrace_silencers.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/new_rails_defaults.rb
      create  config/initializers/session_store.rb
      create  config/initializers/cookie_verification_secret.rb
      create  config/environment.rb
      create  config/boot.rb
      create  config/environments/production.rb
      create  config/environments/development.rb
      create  config/environments/test.rb
      create  script/about
      create  script/console
      create  script/dbconsole
      create  script/destroy
      create  script/generate
      create  script/runner
      create  script/server
      create  script/plugin
      create  script/performance/benchmarker
      create  script/performance/profiler
      create  test/test_helper.rb
      create  test/performance/browsing_test.rb
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/index.html
      create  public/favicon.ico
      create  public/robots.txt
      create  public/images/rails.png
      create  public/javascripts/prototype.js
      create  public/javascripts/effects.js
      create  public/javascripts/dragdrop.js
      create  public/javascripts/controls.js
      create  public/javascripts/application.js
      create  doc/README_FOR_APP
      create  log/server.log
      create  log/production.log
      create  log/development.log
      create  log/test.log

$ cd test

$ ruby script/generate scaffold product title:string
      exists  app/models/
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/products
      exists  app/views/layouts/
      exists  test/functional/
      exists  test/unit/
      create  test/unit/helpers/
      exists  public/stylesheets/
      create  app/views/products/index.html.erb
      create  app/views/products/show.html.erb
      create  app/views/products/new.html.erb
      create  app/views/products/edit.html.erb
      create  app/views/layouts/products.html.erb
      create  public/stylesheets/scaffold.css
      create  app/controllers/products_controller.rb
      create  test/functional/products_controller_test.rb
      create  app/helpers/products_helper.rb
      create  test/unit/helpers/products_helper_test.rb
       route  map.resources :products
  dependency  model
      exists    app/models/
      exists    test/unit/
      exists    test/fixtures/
      create    app/models/product.rb
      create    test/unit/product_test.rb
      create    test/fixtures/products.yml
      create    db/migrate
      create    db/migrate/20100818234417_create_products.rb

$ ruby -Itest test/unit/product_test.rb
Loaded suite test/unit/product_test
Started
/home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:26:in `rescue in run': undefined method `name' for #&lt;ProductTest:0x000000033e1d88&gt; (NoMethodError)
	from /home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:33:in `run'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:641:in `block (2 levels) in run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `each'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `block in run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `each'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:594:in `run'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:492:in `block in autorun'
@@@

Note: problem goes away with a rake db:test:prepare; but that's not the point, the point is that application programmer errors aren't caught properly with Rails 2.3.x on 1.9.2.</original-body>
  <latest-body>@@@
$ rails -v
Rails 2.3.8

$ ruby -v
ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux]

$ rails test
      create  
      create  app/controllers
      create  app/helpers
      create  app/models
      create  app/views/layouts
      create  config/environments
      create  config/initializers
      create  config/locales
      create  db
      create  doc
      create  lib
      create  lib/tasks
      create  log
      create  public/images
      create  public/javascripts
      create  public/stylesheets
      create  script/performance
      create  test/fixtures
      create  test/functional
      create  test/integration
      create  test/performance
      create  test/unit
      create  vendor
      create  vendor/plugins
      create  tmp/sessions
      create  tmp/sockets
      create  tmp/cache
      create  tmp/pids
      create  Rakefile
      create  README
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  config/database.yml
      create  config/routes.rb
      create  config/locales/en.yml
      create  db/seeds.rb
      create  config/initializers/backtrace_silencers.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/new_rails_defaults.rb
      create  config/initializers/session_store.rb
      create  config/initializers/cookie_verification_secret.rb
      create  config/environment.rb
      create  config/boot.rb
      create  config/environments/production.rb
      create  config/environments/development.rb
      create  config/environments/test.rb
      create  script/about
      create  script/console
      create  script/dbconsole
      create  script/destroy
      create  script/generate
      create  script/runner
      create  script/server
      create  script/plugin
      create  script/performance/benchmarker
      create  script/performance/profiler
      create  test/test_helper.rb
      create  test/performance/browsing_test.rb
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/index.html
      create  public/favicon.ico
      create  public/robots.txt
      create  public/images/rails.png
      create  public/javascripts/prototype.js
      create  public/javascripts/effects.js
      create  public/javascripts/dragdrop.js
      create  public/javascripts/controls.js
      create  public/javascripts/application.js
      create  doc/README_FOR_APP
      create  log/server.log
      create  log/production.log
      create  log/development.log
      create  log/test.log

$ cd test

$ ruby script/generate scaffold product title:string
      exists  app/models/
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/products
      exists  app/views/layouts/
      exists  test/functional/
      exists  test/unit/
      create  test/unit/helpers/
      exists  public/stylesheets/
      create  app/views/products/index.html.erb
      create  app/views/products/show.html.erb
      create  app/views/products/new.html.erb
      create  app/views/products/edit.html.erb
      create  app/views/layouts/products.html.erb
      create  public/stylesheets/scaffold.css
      create  app/controllers/products_controller.rb
      create  test/functional/products_controller_test.rb
      create  app/helpers/products_helper.rb
      create  test/unit/helpers/products_helper_test.rb
       route  map.resources :products
  dependency  model
      exists    app/models/
      exists    test/unit/
      exists    test/fixtures/
      create    app/models/product.rb
      create    test/unit/product_test.rb
      create    test/fixtures/products.yml
      create    db/migrate
      create    db/migrate/20100818234417_create_products.rb

$ ruby -Itest test/unit/product_test.rb
Loaded suite test/unit/product_test
Started
/home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:26:in `rescue in run': undefined method `name' for #&lt;ProductTest:0x000000033e1d88&gt; (NoMethodError)
	from /home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:33:in `run'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:641:in `block (2 levels) in run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `each'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `block in run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `each'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:594:in `run'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:492:in `block in autorun'
@@@

Note: problem goes away with a rake db:test:prepare; but that's not the point, the point is that application programmer errors aren't caught properly with Rails 2.3.x on 1.9.2.</latest-body>
  <original-body-html>&lt;div&gt;&lt;pre&gt;
&lt;code&gt;$ rails -v
Rails 2.3.8

$ ruby -v
ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux]

$ rails test
      create  
      create  app/controllers
      create  app/helpers
      create  app/models
      create  app/views/layouts
      create  config/environments
      create  config/initializers
      create  config/locales
      create  db
      create  doc
      create  lib
      create  lib/tasks
      create  log
      create  public/images
      create  public/javascripts
      create  public/stylesheets
      create  script/performance
      create  test/fixtures
      create  test/functional
      create  test/integration
      create  test/performance
      create  test/unit
      create  vendor
      create  vendor/plugins
      create  tmp/sessions
      create  tmp/sockets
      create  tmp/cache
      create  tmp/pids
      create  Rakefile
      create  README
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  config/database.yml
      create  config/routes.rb
      create  config/locales/en.yml
      create  db/seeds.rb
      create  config/initializers/backtrace_silencers.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/new_rails_defaults.rb
      create  config/initializers/session_store.rb
      create  config/initializers/cookie_verification_secret.rb
      create  config/environment.rb
      create  config/boot.rb
      create  config/environments/production.rb
      create  config/environments/development.rb
      create  config/environments/test.rb
      create  script/about
      create  script/console
      create  script/dbconsole
      create  script/destroy
      create  script/generate
      create  script/runner
      create  script/server
      create  script/plugin
      create  script/performance/benchmarker
      create  script/performance/profiler
      create  test/test_helper.rb
      create  test/performance/browsing_test.rb
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/index.html
      create  public/favicon.ico
      create  public/robots.txt
      create  public/images/rails.png
      create  public/javascripts/prototype.js
      create  public/javascripts/effects.js
      create  public/javascripts/dragdrop.js
      create  public/javascripts/controls.js
      create  public/javascripts/application.js
      create  doc/README_FOR_APP
      create  log/server.log
      create  log/production.log
      create  log/development.log
      create  log/test.log

$ cd test

$ ruby script/generate scaffold product title:string
      exists  app/models/
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/products
      exists  app/views/layouts/
      exists  test/functional/
      exists  test/unit/
      create  test/unit/helpers/
      exists  public/stylesheets/
      create  app/views/products/index.html.erb
      create  app/views/products/show.html.erb
      create  app/views/products/new.html.erb
      create  app/views/products/edit.html.erb
      create  app/views/layouts/products.html.erb
      create  public/stylesheets/scaffold.css
      create  app/controllers/products_controller.rb
      create  test/functional/products_controller_test.rb
      create  app/helpers/products_helper.rb
      create  test/unit/helpers/products_helper_test.rb
       route  map.resources :products
  dependency  model
      exists    app/models/
      exists    test/unit/
      exists    test/fixtures/
      create    app/models/product.rb
      create    test/unit/product_test.rb
      create    test/fixtures/products.yml
      create    db/migrate
      create    db/migrate/20100818234417_create_products.rb

$ ruby -Itest test/unit/product_test.rb
Loaded suite test/unit/product_test
Started
/home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:26:in `rescue in run': undefined method `name' for #&amp;lt;ProductTest:0x000000033e1d88&amp;gt; (NoMethodError)
    from /home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:33:in `run'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:641:in `block (2 levels) in run_test_suites'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `each'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `block in run_test_suites'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `each'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `run_test_suites'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:594:in `run'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:492:in `block in autorun'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Note: problem goes away with a rake db:test:prepare; but that's
not the point, the point is that application programmer errors
aren't caught properly with Rails 2.3.x on 1.9.2.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@@@
$ rails -v
Rails 2.3.8

$ ruby -v
ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux]

$ rails test
      create  
      create  app/controllers
      create  app/helpers
      create  app/models
      create  app/views/layouts
      create  config/environments
      create  config/initializers
      create  config/locales
      create  db
      create  doc
      create  lib
      create  lib/tasks
      create  log
      create  public/images
      create  public/javascripts
      create  public/stylesheets
      create  script/performance
      create  test/fixtures
      create  test/functional
      create  test/integration
      create  test/performance
      create  test/unit
      create  vendor
      create  vendor/plugins
      create  tmp/sessions
      create  tmp/sockets
      create  tmp/cache
      create  tmp/pids
      create  Rakefile
      create  README
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  config/database.yml
      create  config/routes.rb
      create  config/locales/en.yml
      create  db/seeds.rb
      create  config/initializers/backtrace_silencers.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/new_rails_defaults.rb
      create  config/initializers/session_store.rb
      create  config/initializers/cookie_verification_secret.rb
      create  config/environment.rb
      create  config/boot.rb
      create  config/environments/production.rb
      create  config/environments/development.rb
      create  config/environments/test.rb
      create  script/about
      create  script/console
      create  script/dbconsole
      create  script/destroy
      create  script/generate
      create  script/runner
      create  script/server
      create  script/plugin
      create  script/performance/benchmarker
      create  script/performance/profiler
      create  test/test_helper.rb
      create  test/performance/browsing_test.rb
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/index.html
      create  public/favicon.ico
      create  public/robots.txt
      create  public/images/rails.png
      create  public/javascripts/prototype.js
      create  public/javascripts/effects.js
      create  public/javascripts/dragdrop.js
      create  public/javascripts/controls.js
      create  public/javascripts/application.js
      create  doc/README_FOR_APP
      create  log/server.log
      create  log/production.log
      create  log/development.log
      create  log/test.log

$ cd test

$ ruby script/generate scaffold product title:string
      exists  app/models/
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/products
      exists  app/views/layouts/
      exists  test/functional/
      exists  test/unit/
      create  test/unit/helpers/
      exists  public/stylesheets/
      create  app/views/products/index.html.erb
      create  app/views/products/show.html.erb
      create  app/views/products/new.html.erb
      create  app/views/products/edit.html.erb
      create  app/views/layouts/products.html.erb
      create  public/stylesheets/scaffold.css
      create  app/controllers/products_controller.rb
      create  test/functional/products_controller_test.rb
      create  app/helpers/products_helper.rb
      create  test/unit/helpers/products_helper_test.rb
       route  map.resources :products
  dependency  model
      exists    app/models/
      exists    test/unit/
      exists    test/fixtures/
      create    app/models/product.rb
      create    test/unit/product_test.rb
      create    test/fixtures/products.yml
      create    db/migrate
      create    db/migrate/20100818234417_create_products.rb

$ ruby -Itest test/unit/product_test.rb
Loaded suite test/unit/product_test
Started
/home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:26:in `rescue in run': undefined method `name' for #&lt;ProductTest:0x000000033e1d88&gt; (NoMethodError)
	from /home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:33:in `run'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:641:in `block (2 levels) in run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `each'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `block in run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `each'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `run_test_suites'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:594:in `run'
	from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:492:in `block in autorun'
@@@

Note: problem goes away with a rake db:test:prepare; but that's not the point, the point is that application programmer errors aren't caught properly with Rails 2.3.x on 1.9.2.</body>
      <body-html>&lt;div&gt;&lt;pre&gt;
&lt;code&gt;$ rails -v
Rails 2.3.8

$ ruby -v
ruby 1.9.2p0 (2010-08-18 revision 29036) [x86_64-linux]

$ rails test
      create  
      create  app/controllers
      create  app/helpers
      create  app/models
      create  app/views/layouts
      create  config/environments
      create  config/initializers
      create  config/locales
      create  db
      create  doc
      create  lib
      create  lib/tasks
      create  log
      create  public/images
      create  public/javascripts
      create  public/stylesheets
      create  script/performance
      create  test/fixtures
      create  test/functional
      create  test/integration
      create  test/performance
      create  test/unit
      create  vendor
      create  vendor/plugins
      create  tmp/sessions
      create  tmp/sockets
      create  tmp/cache
      create  tmp/pids
      create  Rakefile
      create  README
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  config/database.yml
      create  config/routes.rb
      create  config/locales/en.yml
      create  db/seeds.rb
      create  config/initializers/backtrace_silencers.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/new_rails_defaults.rb
      create  config/initializers/session_store.rb
      create  config/initializers/cookie_verification_secret.rb
      create  config/environment.rb
      create  config/boot.rb
      create  config/environments/production.rb
      create  config/environments/development.rb
      create  config/environments/test.rb
      create  script/about
      create  script/console
      create  script/dbconsole
      create  script/destroy
      create  script/generate
      create  script/runner
      create  script/server
      create  script/plugin
      create  script/performance/benchmarker
      create  script/performance/profiler
      create  test/test_helper.rb
      create  test/performance/browsing_test.rb
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/index.html
      create  public/favicon.ico
      create  public/robots.txt
      create  public/images/rails.png
      create  public/javascripts/prototype.js
      create  public/javascripts/effects.js
      create  public/javascripts/dragdrop.js
      create  public/javascripts/controls.js
      create  public/javascripts/application.js
      create  doc/README_FOR_APP
      create  log/server.log
      create  log/production.log
      create  log/development.log
      create  log/test.log

$ cd test

$ ruby script/generate scaffold product title:string
      exists  app/models/
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/products
      exists  app/views/layouts/
      exists  test/functional/
      exists  test/unit/
      create  test/unit/helpers/
      exists  public/stylesheets/
      create  app/views/products/index.html.erb
      create  app/views/products/show.html.erb
      create  app/views/products/new.html.erb
      create  app/views/products/edit.html.erb
      create  app/views/layouts/products.html.erb
      create  public/stylesheets/scaffold.css
      create  app/controllers/products_controller.rb
      create  test/functional/products_controller_test.rb
      create  app/helpers/products_helper.rb
      create  test/unit/helpers/products_helper_test.rb
       route  map.resources :products
  dependency  model
      exists    app/models/
      exists    test/unit/
      exists    test/fixtures/
      create    app/models/product.rb
      create    test/unit/product_test.rb
      create    test/fixtures/products.yml
      create    db/migrate
      create    db/migrate/20100818234417_create_products.rb

$ ruby -Itest test/unit/product_test.rb
Loaded suite test/unit/product_test
Started
/home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:26:in `rescue in run': undefined method `name' for #&amp;lt;ProductTest:0x000000033e1d88&amp;gt; (NoMethodError)
    from /home/rubys/.rvm/gems/ruby-1.9.2-p0/gems/activesupport-2.3.8/lib/active_support/testing/setup_and_teardown.rb:33:in `run'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:641:in `block (2 levels) in run_test_suites'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `each'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:635:in `block in run_test_suites'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `each'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:634:in `run_test_suites'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:594:in `run'
    from /home/rubys/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/minitest/unit.rb:492:in `block in autorun'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Note: problem goes away with a rake db:test:prepare; but that's
not the point, the point is that application programmer errors
aren't caught properly with Rails 2.3.x on 1.9.2.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-19T01:08:02+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-08-19T01:09:15+01:00</updated-at>
      <user-id type="integer">23341</user-id>
      <version type="integer">1</version>
      <user-name>Sam Ruby</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/27613)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/27613&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-30T02:28:51+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73534
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-08-30T02:28:51+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">2</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>(from [a448e746615cd3f29bf47c0e4a3b4abf2f0a844a]) [#5406 state:resolved] calling the correct method on minitest to obtain the test name
http://github.com/rails/rails/commit/a448e746615cd3f29bf47c0e4a3b4abf2f0a844a</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/a448e746615cd3f29bf47c0e4a3b4abf2f0a844a&quot;
title=
&quot;Changeset [a448e746615cd3f29bf47c0e4a3b4abf2f0a844a]&quot;&gt;[a448e746615cd3f29bf47c0e4a3b4abf2f0a844a]&lt;/a&gt;)
[&lt;a href=&quot;/projects/8994/tickets/5406&quot; title=
&quot;Ticket #5406&quot;&gt;#5406&lt;/a&gt; state:resolved] calling the correct method
on minitest to obtain the test name &lt;a href=
&quot;http://github.com/rails/rails/commit/a448e746615cd3f29bf47c0e4a3b4abf2f0a844a&quot;&gt;
http://github.com/rails/rails/commit/a448e746615cd3f29bf47c0e4a3b4a...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-04T17:35:21+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-10-04T17:35:22+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">3</version>
      <user-name>Repository</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>(from [4a77431b9a9b60a0280cee7e88a5ef5974057015]) [#5406 state:resolved] calling the correct method on minitest to obtain the test name
http://github.com/rails/rails/commit/4a77431b9a9b60a0280cee7e88a5ef5974057015</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/4a77431b9a9b60a0280cee7e88a5ef5974057015&quot;
title=
&quot;Changeset [4a77431b9a9b60a0280cee7e88a5ef5974057015]&quot;&gt;[4a77431b9a9b60a0280cee7e88a5ef5974057015]&lt;/a&gt;)
[&lt;a href=&quot;/projects/8994/tickets/5406&quot; title=
&quot;Ticket #5406&quot;&gt;#5406&lt;/a&gt; state:resolved] calling the correct method
on minitest to obtain the test name &lt;a href=
&quot;http://github.com/rails/rails/commit/4a77431b9a9b60a0280cee7e88a5ef5974057015&quot;&gt;
http://github.com/rails/rails/commit/4a77431b9a9b60a0280cee7e88a5ef...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-04T17:35:32+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-10-04T17:35:33+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">4</version>
      <user-name>Repository</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>(from [ccf228b0276afb8bb00d14f1b861015b1ef5ab76]) [#5406 state:resolved] calling the correct method on minitest to obtain the test name
http://github.com/rails/rails/commit/ccf228b0276afb8bb00d14f1b861015b1ef5ab76</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/ccf228b0276afb8bb00d14f1b861015b1ef5ab76&quot;
title=
&quot;Changeset [ccf228b0276afb8bb00d14f1b861015b1ef5ab76]&quot;&gt;[ccf228b0276afb8bb00d14f1b861015b1ef5ab76]&lt;/a&gt;)
[&lt;a href=&quot;/projects/8994/tickets/5406&quot; title=
&quot;Ticket #5406&quot;&gt;#5406&lt;/a&gt; state:resolved] calling the correct method
on minitest to obtain the test name &lt;a href=
&quot;http://github.com/rails/rails/commit/ccf228b0276afb8bb00d14f1b861015b1ef5ab76&quot;&gt;
http://github.com/rails/rails/commit/ccf228b0276afb8bb00d14f1b86101...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-04T17:35:40+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-10-04T17:35:41+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>With this fix, I no longer see the problem.  Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;With this fix, I no longer see the problem. Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-06T19:44:28+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-10-06T19:44:29+01:00</updated-at>
      <user-id type="integer">23341</user-id>
      <version type="integer">6</version>
      <user-name>Sam Ruby</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Sam, I think you meant resolved instead of verified? Verified state is for patches that have been confirmed and ready to commit.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sam, I think you meant resolved instead of verified? Verified
state is for patches that have been confirmed and ready to
commit.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-07T02:53:20+01:00</created-at>
      <creator-id type="integer">23341</creator-id>
      <diffable-attributes type="yaml">--- 
:state: verified
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">5406</number>
      <permalink>rescue-in-run-undefined-method-name-for-producttest-nomethoderror</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>1.9.2 tests</tag>
      <title>rescue in run': undefined method `name' for #&lt;ProductTest:&gt; (NoMethodError)</title>
      <updated-at type="datetime">2010-10-07T02:53:24+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">7</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Sam Ruby</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5406</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
  </versions>
</ticket>
