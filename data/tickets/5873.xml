<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">141</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2011-01-18T08:52:34+00:00</created-at>
  <creator-id type="integer">10510</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5873</number>
  <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>new</state>
  <tag nil="true"></tag>
  <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
  <updated-at type="datetime">2011-02-16T16:02:25+00:00</updated-at>
  <user-id type="integer">10510</user-id>
  <version type="integer">21</version>
  <user-name>Rob Anderton</user-name>
  <creator-name>Rob Anderton</creator-name>
  <assigned-user-name>Michael Koziarski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
  <priority-name>Low</priority-name>
  <original-body>Since [this change in May](http://github.com/rails/rails/commit/74206aeff2b6a960612a820ec47e91ef9b778262) that was part of the 2.3.6 release, Rails has been dependent on the Rack 1.1 gem.

Unfortunately this version of Rack does bad things to query strings containing quotes which at best leads to them being stripped out of the params hash values and at worst leads to values being silently truncated.

I first had a [look at this problem](http://thewebfellas.com/blog/2010/7/15/rails-2-3-8-rack-1-1-and-the-curious-case-of-the-missing-quotes) a few months back and as it's not been fixed in the meantime have now had chance to work on a patch which I think uses the best approach to fixing it: monkey-patching the broken code in Rack.

I appreciate we'd normally want to steer clear of monkey-patching in favour of using the fixed version of the gem, but this isn't really an option as Rack is broken in more ways than one:

- Rack 1.2 fixes the query string parser but [breaks multipart uploads](http://rack.lighthouseapp.com/projects/22435-rack/tickets/79)

- Rack 1.2.1 still has broken multipart uploads but also [breaks](http://github.com/rack/rack/commit/bf4593a5cf61aa9cb0715e6e9794a01a514ea199) [compatibility](http://github.com/rack/rack/commit/d3893c2709a9831f665245cf5da44e0019bead4f) with Ruby 1.8.6


Rolling back to Rack 1.0.1 also proves problematic as other parts of Rails 2.3 have been changed to work with the 1.1 release.

So to summarise the attached patch:

- it adds a monkey-patch for the broken parsing methods in Rack::Utils using a similar pattern to the Rack::Lint patch that had been added previously

- it removes the Rack::Lint patch as it no longer applies to Rack 1.1.0

- and on a completely unrelated issue it tweaks a template to prevent annoying parentheses warnings when running the tests</original-body>
  <latest-body>Since [this change in May](http://github.com/rails/rails/commit/74206aeff2b6a960612a820ec47e91ef9b778262) that was part of the 2.3.6 release, Rails has been dependent on the Rack 1.1 gem.

Unfortunately this version of Rack does bad things to query strings containing quotes which at best leads to them being stripped out of the params hash values and at worst leads to values being silently truncated.

I first had a [look at this problem](http://thewebfellas.com/blog/2010/7/15/rails-2-3-8-rack-1-1-and-the-curious-case-of-the-missing-quotes) a few months back and as it's not been fixed in the meantime have now had chance to work on a patch which I think uses the best approach to fixing it: monkey-patching the broken code in Rack.

I appreciate we'd normally want to steer clear of monkey-patching in favour of using the fixed version of the gem, but this isn't really an option as Rack is broken in more ways than one:

- Rack 1.2 fixes the query string parser but [breaks multipart uploads](http://rack.lighthouseapp.com/projects/22435-rack/tickets/79)

- Rack 1.2.1 still has broken multipart uploads but also [breaks](http://github.com/rack/rack/commit/bf4593a5cf61aa9cb0715e6e9794a01a514ea199) [compatibility](http://github.com/rack/rack/commit/d3893c2709a9831f665245cf5da44e0019bead4f) with Ruby 1.8.6


Rolling back to Rack 1.0.1 also proves problematic as other parts of Rails 2.3 have been changed to work with the 1.1 release.

So to summarise the attached patch:

- it adds a monkey-patch for the broken parsing methods in Rack::Utils using a similar pattern to the Rack::Lint patch that had been added previously

- it removes the Rack::Lint patch as it no longer applies to Rack 1.1.0

- and on a completely unrelated issue it tweaks a template to prevent annoying parentheses warnings when running the tests</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Since &lt;a href=
&quot;http://github.com/rails/rails/commit/74206aeff2b6a960612a820ec47e91ef9b778262&quot;&gt;
this change in May&lt;/a&gt; that was part of the 2.3.6 release, Rails
has been dependent on the Rack 1.1 gem.&lt;/p&gt;
&lt;p&gt;Unfortunately this version of Rack does bad things to query
strings containing quotes which at best leads to them being
stripped out of the params hash values and at worst leads to values
being silently truncated.&lt;/p&gt;
&lt;p&gt;I first had a &lt;a href=
&quot;http://thewebfellas.com/blog/2010/7/15/rails-2-3-8-rack-1-1-and-the-curious-case-of-the-missing-quotes&quot;&gt;
look at this problem&lt;/a&gt; a few months back and as it's not been
fixed in the meantime have now had chance to work on a patch which
I think uses the best approach to fixing it: monkey-patching the
broken code in Rack.&lt;/p&gt;
&lt;p&gt;I appreciate we'd normally want to steer clear of
monkey-patching in favour of using the fixed version of the gem,
but this isn't really an option as Rack is broken in more ways than
one:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rack 1.2 fixes the query string parser but &lt;a href=
&quot;http://rack.lighthouseapp.com/projects/22435-rack/tickets/79&quot;&gt;breaks
multipart uploads&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rack 1.2.1 still has broken multipart uploads but also &lt;a href=
&quot;http://github.com/rack/rack/commit/bf4593a5cf61aa9cb0715e6e9794a01a514ea199&quot;&gt;
breaks&lt;/a&gt; &lt;a href=
&quot;http://github.com/rack/rack/commit/d3893c2709a9831f665245cf5da44e0019bead4f&quot;&gt;
compatibility&lt;/a&gt; with Ruby 1.8.6&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Rolling back to Rack 1.0.1 also proves problematic as other
parts of Rails 2.3 have been changed to work with the 1.1
release.&lt;/p&gt;
&lt;p&gt;So to summarise the attached patch:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;it adds a monkey-patch for the broken parsing methods in
Rack::Utils using a similar pattern to the Rack::Lint patch that
had been added previously&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it removes the Rack::Lint patch as it no longer applies to Rack
1.1.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;and on a completely unrelated issue it tweaks a template to
prevent annoying parentheses warnings when running the tests&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Since [this change in May](http://github.com/rails/rails/commit/74206aeff2b6a960612a820ec47e91ef9b778262) that was part of the 2.3.6 release, Rails has been dependent on the Rack 1.1 gem.

Unfortunately this version of Rack does bad things to query strings containing quotes which at best leads to them being stripped out of the params hash values and at worst leads to values being silently truncated.

I first had a [look at this problem](http://thewebfellas.com/blog/2010/7/15/rails-2-3-8-rack-1-1-and-the-curious-case-of-the-missing-quotes) a few months back and as it's not been fixed in the meantime have now had chance to work on a patch which I think uses the best approach to fixing it: monkey-patching the broken code in Rack.

I appreciate we'd normally want to steer clear of monkey-patching in favour of using the fixed version of the gem, but this isn't really an option as Rack is broken in more ways than one:

- Rack 1.2 fixes the query string parser but [breaks multipart uploads](http://rack.lighthouseapp.com/projects/22435-rack/tickets/79)

- Rack 1.2.1 still has broken multipart uploads but also [breaks](http://github.com/rack/rack/commit/bf4593a5cf61aa9cb0715e6e9794a01a514ea199) [compatibility](http://github.com/rack/rack/commit/d3893c2709a9831f665245cf5da44e0019bead4f) with Ruby 1.8.6


Rolling back to Rack 1.0.1 also proves problematic as other parts of Rails 2.3 have been changed to work with the 1.1 release.

So to summarise the attached patch:

- it adds a monkey-patch for the broken parsing methods in Rack::Utils using a similar pattern to the Rack::Lint patch that had been added previously

- it removes the Rack::Lint patch as it no longer applies to Rack 1.1.0

- and on a completely unrelated issue it tweaks a template to prevent annoying parentheses warnings when running the tests</body>
      <body-html>&lt;div&gt;&lt;p&gt;Since &lt;a href=
&quot;http://github.com/rails/rails/commit/74206aeff2b6a960612a820ec47e91ef9b778262&quot;&gt;
this change in May&lt;/a&gt; that was part of the 2.3.6 release, Rails
has been dependent on the Rack 1.1 gem.&lt;/p&gt;
&lt;p&gt;Unfortunately this version of Rack does bad things to query
strings containing quotes which at best leads to them being
stripped out of the params hash values and at worst leads to values
being silently truncated.&lt;/p&gt;
&lt;p&gt;I first had a &lt;a href=
&quot;http://thewebfellas.com/blog/2010/7/15/rails-2-3-8-rack-1-1-and-the-curious-case-of-the-missing-quotes&quot;&gt;
look at this problem&lt;/a&gt; a few months back and as it's not been
fixed in the meantime have now had chance to work on a patch which
I think uses the best approach to fixing it: monkey-patching the
broken code in Rack.&lt;/p&gt;
&lt;p&gt;I appreciate we'd normally want to steer clear of
monkey-patching in favour of using the fixed version of the gem,
but this isn't really an option as Rack is broken in more ways than
one:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rack 1.2 fixes the query string parser but &lt;a href=
&quot;http://rack.lighthouseapp.com/projects/22435-rack/tickets/79&quot;&gt;breaks
multipart uploads&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rack 1.2.1 still has broken multipart uploads but also &lt;a href=
&quot;http://github.com/rack/rack/commit/bf4593a5cf61aa9cb0715e6e9794a01a514ea199&quot;&gt;
breaks&lt;/a&gt; &lt;a href=
&quot;http://github.com/rack/rack/commit/d3893c2709a9831f665245cf5da44e0019bead4f&quot;&gt;
compatibility&lt;/a&gt; with Ruby 1.8.6&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Rolling back to Rack 1.0.1 also proves problematic as other
parts of Rails 2.3 have been changed to work with the 1.1
release.&lt;/p&gt;
&lt;p&gt;So to summarise the attached patch:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;it adds a monkey-patch for the broken parsing methods in
Rack::Utils using a similar pattern to the Rack::Lint patch that
had been added previously&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it removes the Rack::Lint patch as it no longer applies to Rack
1.1.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;and on a completely unrelated issue it tweaks a template to
prevent annoying parentheses warnings when running the tests&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-27T23:56:18+01:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x bug params patch rack</tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-10-27T23:56:22+01:00</updated-at>
      <user-id type="integer">10510</user-id>
      <version type="integer">1</version>
      <user-name>Rob Anderton</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Are you looking for Designer Replica Handbags? My-Handbag.com is happy to offer you the best replicas handbags and watches made with high quality materials at lowest price you'll find anywhere.
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;handbags fake&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags fake&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;Fake bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;replica handbags Wholesale&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_84.html&quot;&gt;discounted Replica Wallets&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_105.html&quot;&gt;designer Juicycovtvre handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_106.html&quot;&gt;designer Kooba handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_107.html&quot;&gt;designer Barbara Bui handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_108.html&quot;&gt;designer Guess handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_104.html&quot;&gt;designer Givenchy handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_105.html&quot;&gt;Replica Juicycovtvre handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_106.html&quot;&gt;Replica Kooba handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_107.html&quot;&gt;Replica Barbara Bui handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_108.html&quot;&gt;Replica Guess handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_104.html&quot;&gt;Replica Givenchy handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_12.html&quot;&gt;Louis Vuitton handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_15.html&quot;&gt;Chanel handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;Gucci handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;watches replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;cheap watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;designer watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;Swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;mens watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;ladies watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;fake watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;discounted watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;sport watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;wholesale replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;knockoff watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica watches on sale&lt;/a&gt;
replicasincn.com is dedicated to bring buyers the top grade replica handbags and watches at wholesale price. Here you can find a genuine pool of replica bags and watches with a wide range varieties.
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags fake&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags replica&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags cheap&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags cheap&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags discounted&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags discounted&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;replica gucci handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;replica chanel handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;replica Louis Vuitton handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Cheap handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale replica handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale fake handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale cheap handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale designer handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;Wholesale Balenciaga handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_33.html&quot;&gt;Wholesale Chloe handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_34.html&quot;&gt;Wholesale Burberry handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_35.html&quot;&gt;Wholesale Prada handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_36.html&quot;&gt;Wholesale D&amp;G handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_37.html&quot;&gt;Wholesale Dior handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;designer Balenciaga handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_33.html&quot;&gt;designer Chloe handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_34.html&quot;&gt;designer Burberry handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_35.html&quot;&gt;designer Prada handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_36.html&quot;&gt;designer D&amp;G handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_37.html&quot;&gt;designer Dior handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;watches replica&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;cheap watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;designer watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;Swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;mens watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;ladies watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;fake watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;discounted watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;sport watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;wholesale replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;knockoff watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica watches on sale&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Are you looking for Designer Replica Handbags? My-Handbag.com is
happy to offer you the best replicas handbags and watches made with
high quality materials at lowest price you'll find anywhere.&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;handbags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;Fake bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;replica handbags
Wholesale&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_84.html&quot;&gt;discounted
Replica Wallets&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_105.html&quot;&gt;designer
Juicycovtvre handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_106.html&quot;&gt;designer Kooba
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_107.html&quot;&gt;designer
Barbara Bui handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_108.html&quot;&gt;designer Guess
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_104.html&quot;&gt;designer
Givenchy handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_105.html&quot;&gt;Replica
Juicycovtvre handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_106.html&quot;&gt;Replica Kooba
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_107.html&quot;&gt;Replica
Barbara Bui handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_108.html&quot;&gt;Replica Guess
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_104.html&quot;&gt;Replica
Givenchy handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_12.html&quot;&gt;Louis Vuitton
handbags Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_15.html&quot;&gt;Chanel handbags
Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;Gucci handbags
Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;watches
replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;cheap
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;designer
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;Swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;mens
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;ladies
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;fake
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;discounted
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;sport
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;wholesale
replica watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;knockoff
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica
watches on sale&lt;/a&gt;&lt;br&gt;
replicasincn.com is dedicated to bring buyers the top grade replica
handbags and watches at wholesale price. Here you can find a
genuine pool of replica bags and watches with a wide range
varieties.&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags cheap&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags cheap&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags discounted&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags discounted&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;replica gucci
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;replica
chanel handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;replica Louis
Vuitton handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Cheap handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale replica
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale fake
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale cheap
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale designer
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;Wholesale
Balenciaga handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_33.html&quot;&gt;Wholesale
Chloe handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_34.html&quot;&gt;Wholesale
Burberry handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_35.html&quot;&gt;Wholesale
Prada handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_36.html&quot;&gt;Wholesale
D&amp;amp;G handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_37.html&quot;&gt;Wholesale
Dior handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;designer
Balenciaga handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_33.html&quot;&gt;designer
Chloe handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_34.html&quot;&gt;designer
Burberry handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_35.html&quot;&gt;designer
Prada handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_36.html&quot;&gt;designer
D&amp;amp;G handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_37.html&quot;&gt;designer Dior
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;watches
replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;cheap
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;designer
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;Swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;mens
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;ladies
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;fake
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;discounted
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;sport
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;wholesale
replica watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
swiss watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;knockoff
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
watches on sale&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-30T07:36:17+01:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x bug params patch rack</tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-10-31T06:02:35+00:00</updated-at>
      <user-id type="integer">122552</user-id>
      <version type="integer">2</version>
      <user-name>fstory</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-01T17:04:55+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.x bug params patch rack
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-01T17:05:01+00:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">4</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 This is impacting my production application...</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 This is impacting my production application...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-03T19:51:51+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-03T19:52:10+00:00</updated-at>
      <user-id type="integer">46484</user-id>
      <version type="integer">5</version>
      <user-name>Stephen Blackstone</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>For this one, could we perhaps simply update 2.3.11 to depend on 1.2?  Would anything else misbehave?

The rack team have shown no interest in doing point releases for the 1.1. release</body>
      <body-html>&lt;div&gt;&lt;p&gt;For this one, could we perhaps simply update 2.3.11 to depend on
1.2? Would anything else misbehave?&lt;/p&gt;
&lt;p&gt;The rack team have shown no interest in doing point releases for
the 1.1. release&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-09T22:38:01+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-09T22:38:06+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">6</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-09T22:41:03+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-09T22:41:09+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">7</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I bumped up rack to 1.2 in actionpack and all the tests are passing. Not sure if that means all is good since I don't really know how many tests go through the full stack and how many bypasses rack.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I bumped up rack to 1.2 in actionpack and all the tests are
passing. Not sure if that means all is good since I don't really
know how many tests go through the full stack and how many bypasses
rack.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-10T03:49:19+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-10T03:49:23+00:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">8</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>As I said in the original ticket I looked at bumping to 1.2 but as these were also broken decided to stick with 1.1 and just patch this specific problem.

Running with Rack 1.2.0 gives 2 failures for me (this is using Ruby 1.8.6 p383):

- CookieTest#test_multiple_cookies fails with an incorrect cookie string as it doesn't expect a trailing newline

- MultipartParamsParsingTest#test_parses_mixed_files fails 500 error because Rack tries to call #rewind on a string

Rack 1.2.1 breaks immediately (the tests don't get to run at all) because Rack::Utils makes a call to the union method of Regexp which is ok with newer Ruby versions but not with 1.8.6.

So whichever version you choose it's gonna involve monkeys :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;As I said in the original ticket I looked at bumping to 1.2 but
as these were also broken decided to stick with 1.1 and just patch
this specific problem.&lt;/p&gt;
&lt;p&gt;Running with Rack 1.2.0 gives 2 failures for me (this is using
Ruby 1.8.6 p383):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CookieTest#test_multiple_cookies fails with an incorrect cookie
string as it doesn't expect a trailing newline&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MultipartParamsParsingTest#test_parses_mixed_files fails 500
error because Rack tries to call #rewind on a string&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Rack 1.2.1 breaks immediately (the tests don't get to run at
all) because Rack::Utils makes a call to the union method of Regexp
which is ok with newer Ruby versions but not with 1.8.6.&lt;/p&gt;
&lt;p&gt;So whichever version you choose it's gonna involve monkeys
:)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-10T09:45:39+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-10T09:45:42+00:00</updated-at>
      <user-id type="integer">10510</user-id>
      <version type="integer">9</version>
      <user-name>Rob Anderton</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>My bad.

I ran the tests again with rack 1.2 and I am getting the same error as reported by Rob.

I am using.

ruby 1.8.7 (2010-04-19 patchlevel 253) [i686-darwin10.4.0], MBARI 0x6770, Ruby Enterprise Edition 2010.02.</body>
      <body-html>&lt;div&gt;&lt;p&gt;My bad.&lt;/p&gt;
&lt;p&gt;I ran the tests again with rack 1.2 and I am getting the same
error as reported by Rob.&lt;/p&gt;
&lt;p&gt;I am using.&lt;/p&gt;
&lt;p&gt;ruby 1.8.7 (2010-04-19 patchlevel 253) [i686-darwin10.4.0],
MBARI 0x6770, Ruby Enterprise Edition 2010.02.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-10T09:51:33+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-11-10T09:51:36+00:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">10</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 for the attached patch; nasty bug.

If Rack 1.2 introduces other problems, it is clearly no way to go for a patch-release. Also, Rack's lack of willing to do a point release for 1.1 is really crappy.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for the attached patch; nasty bug.&lt;/p&gt;
&lt;p&gt;If Rack 1.2 introduces other problems, it is clearly no way to
go for a patch-release. Also, Rack's lack of willing to do a point
release for 1.1 is really crappy.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-16T09:04:56+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-12-16T09:05:17+00:00</updated-at>
      <user-id type="integer">24008</user-id>
      <version type="integer">11</version>
      <user-name>Roel van der Hoorn</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm a little concerned that something that could cause major headaches for people has been assigned a low priority - it's nearly 7 months since the bug was introduced and 2 months since I submitted a patch.

I can only assume it hasn't created more of a furore because it's a silent killer most likely to be blamed on user error :)

What needs to be done to ensure this gets fixed?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm a little concerned that something that could cause major
headaches for people has been assigned a low priority - it's nearly
7 months since the bug was introduced and 2 months since I
submitted a patch.&lt;/p&gt;
&lt;p&gt;I can only assume it hasn't created more of a furore because
it's a silent killer most likely to be blamed on user error :)&lt;/p&gt;
&lt;p&gt;What needs to be done to ensure this gets fixed?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-16T09:32:51+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2010-12-16T09:33:08+00:00</updated-at>
      <user-id type="integer">10510</user-id>
      <version type="integer">12</version>
      <user-name>Rob Anderton</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-14T14:24:59+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-01-14T14:25:21+00:00</updated-at>
      <user-id type="integer">20223</user-id>
      <version type="integer">13</version>
      <user-name>Jonathan Wallace</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>&lt;b&gt;&lt;a href=&quot;http://www.bridalgownsinlove.com/cheap-halter-wedding-dresses-9&quot;&gt;Halter Wedding Dresses&lt;/a&gt;&lt;/b&gt; symbolizes virginity and purity of bulk. It is a symbol of cleanliness and desirable, it is very difficult to understand why married glow in shades of white. Although the passage of time, have &lt;b&gt;&lt;a href=&quot;http://www.bridalgownsinlove.com/cheap-lace-wedding-dresses-49&quot;&gt;Wholesale Lace wedding dresses&lt;/a&gt;&lt;/b&gt;  wholesale made themselves known. Some even use different colors of cream and pink. In any event, most people choose to be illuminated in white wedding dresses ivory.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;b&gt;&lt;a href=
&quot;http://www.bridalgownsinlove.com/cheap-halter-wedding-dresses-9&quot;&gt;Halter
Wedding Dresses&lt;/a&gt;&lt;/b&gt; symbolizes virginity and purity of bulk. It
is a symbol of cleanliness and desirable, it is very difficult to
understand why married glow in shades of white. Although the
passage of time, have &lt;b&gt;&lt;a href=
&quot;http://www.bridalgownsinlove.com/cheap-lace-wedding-dresses-49&quot;&gt;Wholesale
Lace wedding dresses&lt;/a&gt;&lt;/b&gt; wholesale made themselves known. Some
even use different colors of cream and pink. In any event, most
people choose to be illuminated in white wedding dresses ivory.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-18T08:42:01+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-01-18T08:52:34+00:00</updated-at>
      <user-id type="integer">133048</user-id>
      <version type="integer">14</version>
      <user-name>mary01</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>where's the love? +1</body>
      <body-html>&lt;div&gt;&lt;p&gt;where's the love? +1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-15T18:48:35+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-15T18:49:02+00:00</updated-at>
      <user-id type="integer">71494</user-id>
      <version type="integer">15</version>
      <user-name>Trung L&#234;</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Doesn't the rack 1.1.1.pre release fix this - specifically:
https://github.com/rack/rack/commit/6fa19e3a268c05e24907ffe1b344b2323f1361ed</body>
      <body-html>&lt;div&gt;&lt;p&gt;Doesn't the rack 1.1.1.pre release fix this - specifically:&lt;br&gt;
&lt;a href=
&quot;https://github.com/rack/rack/commit/6fa19e3a268c05e24907ffe1b344b2323f1361ed&quot;&gt;
https://github.com/rack/rack/commit/6fa19e3a268c05e24907ffe1b344b23...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-15T20:30:52+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-15T20:31:19+00:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">16</version>
      <user-name>Andrew White</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>afaik 1.1.1 never made it to a 'proper' release. 1.2.x also includes the fix but as discussed above this introduces new problems - patching 1.1 seems like a sensible approach to fixing this problem until Rack sorts itself out.

Still surprised more people haven't complained about this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;afaik 1.1.1 never made it to a 'proper' release. 1.2.x also
includes the fix but as discussed above this introduces new
problems - patching 1.1 seems like a sensible approach to fixing
this problem until Rack sorts itself out.&lt;/p&gt;
&lt;p&gt;Still surprised more people haven't complained about this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-16T11:01:06+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-16T11:01:32+00:00</updated-at>
      <user-id type="integer">10510</user-id>
      <version type="integer">17</version>
      <user-name>Rob Anderton</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Ah maybe Rack is finally going to sort itself out :)
http://groups.google.com/group/rack-devel/browse_thread/thread/b1c3bb2adda31e3c</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ah maybe Rack is finally going to sort itself out :)&lt;br&gt;
&lt;a href=
&quot;http://groups.google.com/group/rack-devel/browse_thread/thread/b1c3bb2adda31e3c&quot;&gt;
http://groups.google.com/group/rack-devel/browse_thread/thread/b1c3...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-16T11:07:44+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-16T11:08:08+00:00</updated-at>
      <user-id type="integer">10510</user-id>
      <version type="integer">18</version>
      <user-name>Rob Anderton</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This is NOT fixed in 2.3.11, right? Alas. Still keeping me from updating to a later Rails 2.x than 2.3.6.  It surprises me that this hasn't received more attention and is still marked priority=low, I guess few apps need to have quotes in http query strings?</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is NOT fixed in 2.3.11, right? Alas. Still keeping me from
updating to a later Rails 2.x than 2.3.6. It surprises me that this
hasn't received more attention and is still marked priority=low, I
guess few apps need to have quotes in http query strings?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-16T14:37:17+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-16T14:37:43+00:00</updated-at>
      <user-id type="integer">30482</user-id>
      <version type="integer">19</version>
      <user-name>jrochkind</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>If you use the Rack 1.1.1.pre gem with 2.3.11 it should be fixed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you use the Rack 1.1.1.pre gem with 2.3.11 it should be
fixed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-16T14:48:11+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-16T14:48:36+00:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">20</version>
      <user-name>Andrew White</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I've just run through the tests with 1.1.1 installed and the good news is it now works.

I've attached an updated patch: same as last time although obviously no longer any need to monkey-patch rack. I have bumped the version to 1.1.1 so that people don't inadvertently run with 1.1.0 and kept the query string tests in case Rack ever goes off the rails again.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've just run through the tests with 1.1.1 installed and the
good news is it now works.&lt;/p&gt;
&lt;p&gt;I've attached an updated patch: same as last time although
obviously no longer any need to monkey-patch rack. I have bumped
the version to 1.1.1 so that people don't inadvertently run with
1.1.0 and kept the query string tests in case Rack ever goes off
the rails again.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-16T16:01:56+00:00</created-at>
      <creator-id type="integer">10510</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5873</number>
      <permalink>fix-broken-rack-params-parser-in-rails-236</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Fix broken Rack params parser in Rails &gt;= 2.3.6</title>
      <updated-at type="datetime">2011-02-16T16:02:25+00:00</updated-at>
      <user-id type="integer">10510</user-id>
      <version type="integer">21</version>
      <user-name>Rob Anderton</user-name>
      <creator-name>Rob Anderton</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5873</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>02d60cf9496cfb93cd7ee27dcf831c60e7504417</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-10-27T23:56:18+01:00</created-at>
      <filename>fix_rack_params_parsing.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">741435</id>
      <size type="integer">8235</size>
      <uploader-id type="integer">10510</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/741435/fix_rack_params_parsing.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>9a25fd718721ddc3132ac6056d9f6455d0e08533</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2011-02-16T16:01:56+00:00</created-at>
      <filename>fix_rack_params_parsing_updated.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">915417</id>
      <size type="integer">5325</size>
      <uploader-id type="integer">10510</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/915417/fix_rack_params_parsing_updated.diff</url>
    </attachment>
  </attachments>
</ticket>
