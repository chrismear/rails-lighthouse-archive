<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-08-29T02:17:54+01:00</created-at>
  <creator-id type="integer">36730</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5487</number>
  <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag nil="true"></tag>
  <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
  <updated-at type="datetime">2010-09-05T05:25:18+01:00</updated-at>
  <user-id type="integer">50347</user-id>
  <version type="integer">8</version>
  <user-name>cfis (at savagexi)</user-name>
  <creator-name>Bharat Ruparel</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
  <priority-name>Low</priority-name>
  <original-body>Just upgraded to Ruby 1.9.2-p0 and the latest Rails rc2.  The app was running fine with ruby 1.9.2-head and Rails rc1.  It will not start and gives the following error when I issue the command:

rails s

&#8594; rails s
=&gt; Booting WEBrick
=&gt; Rails 3.0.0.rc2 application starting in development on http://0.0.0.0:3000
=&gt; Call with -d to detach
=&gt; Ctrl-C to shutdown server
Exiting
/home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws/s3/extensions.rb:206:in `const_missing_from_s3_library': uninitialized constant Rails::DeprecatedConstant::Rails (NameError)
	from (eval):1:in `block in initialize'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `call'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `method_missing'
	from /home/bruparel/rr_work/file_manager/config/initializers/load_lib_dir.rb:1:in `&lt;top (required)&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:201:in `block (2 levels) in &lt;class:Engine&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `each'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `block in &lt;class:Engine&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `instance_exec'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `run'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:50:in `block in run_initializers'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `each'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `run_initializers'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:134:in `initialize!'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:77:in `method_missing'
	from /home/bruparel/rr_work/file_manager/config/environment.rb:5:in `&lt;top (required)&gt;'
	from /home/bruparel/rr_work/file_manager/config.ru:3:in `block in &lt;main&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `instance_eval'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `initialize'
	from /home/bruparel/rr_work/file_manager/config.ru:1:in `new'
	from /home/bruparel/rr_work/file_manager/config.ru:1:in `&lt;main&gt;'

Do I need to regenrate the app with release candidate 2?

thanks.

Bharat</original-body>
  <latest-body>Just upgraded to Ruby 1.9.2-p0 and the latest Rails rc2.  The app was running fine with ruby 1.9.2-head and Rails rc1.  It will not start and gives the following error when I issue the command:

rails s

&#8594; rails s
=&gt; Booting WEBrick
=&gt; Rails 3.0.0.rc2 application starting in development on http://0.0.0.0:3000
=&gt; Call with -d to detach
=&gt; Ctrl-C to shutdown server
Exiting
/home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws/s3/extensions.rb:206:in `const_missing_from_s3_library': uninitialized constant Rails::DeprecatedConstant::Rails (NameError)
	from (eval):1:in `block in initialize'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `call'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `method_missing'
	from /home/bruparel/rr_work/file_manager/config/initializers/load_lib_dir.rb:1:in `&lt;top (required)&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:201:in `block (2 levels) in &lt;class:Engine&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `each'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `block in &lt;class:Engine&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `instance_exec'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `run'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:50:in `block in run_initializers'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `each'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `run_initializers'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:134:in `initialize!'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:77:in `method_missing'
	from /home/bruparel/rr_work/file_manager/config/environment.rb:5:in `&lt;top (required)&gt;'
	from /home/bruparel/rr_work/file_manager/config.ru:3:in `block in &lt;main&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `instance_eval'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `initialize'
	from /home/bruparel/rr_work/file_manager/config.ru:1:in `new'
	from /home/bruparel/rr_work/file_manager/config.ru:1:in `&lt;main&gt;'

Do I need to regenrate the app with release candidate 2?

thanks.

Bharat</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Just upgraded to Ruby 1.9.2-p0 and the latest Rails rc2. The app
was running fine with ruby 1.9.2-head and Rails rc1. It will not
start and gives the following error when I issue the command:&lt;/p&gt;
&lt;p&gt;rails s&lt;/p&gt;
&lt;p&gt;&amp;#8594; rails s&lt;br&gt;
=&amp;gt; Booting WEBrick =&amp;gt; Rails 3.0.0.rc2 application starting in
development on &lt;a href=
&quot;http://0.0.0.0:3000&quot;&gt;http://0.0.0.0:3000&lt;/a&gt; =&amp;gt; Call with -d to
detach =&amp;gt; Ctrl-C to shutdown server Exiting&lt;br&gt;
/home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws/s3/extensions.rb:206:in
&lt;code&gt;const_missing_from_s3_library': uninitialized constant
Rails::DeprecatedConstant::Rails (NameError)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;from (eval):1:in `block in initialize'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `call'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `method_missing'
from /home/bruparel/rr_work/file_manager/config/initializers/load_lib_dir.rb:1:in `&amp;lt;top (required)&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:201:in `block (2 levels) in &amp;lt;class:Engine&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `each'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `block in &amp;lt;class:Engine&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `instance_exec'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `run'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:50:in `block in run_initializers'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `each'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `run_initializers'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:134:in `initialize!'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:77:in `method_missing'
from /home/bruparel/rr_work/file_manager/config/environment.rb:5:in `&amp;lt;top (required)&amp;gt;'
from /home/bruparel/rr_work/file_manager/config.ru:3:in `block in &amp;lt;main&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `instance_eval'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `initialize'
from /home/bruparel/rr_work/file_manager/config.ru:1:in `new'
from /home/bruparel/rr_work/file_manager/config.ru:1:in `&amp;lt;main&amp;gt;'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Do I need to regenrate the app with release candidate 2?&lt;/p&gt;
&lt;p&gt;thanks.&lt;/p&gt;
&lt;p&gt;Bharat&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Just upgraded to Ruby 1.9.2-p0 and the latest Rails rc2.  The app was running fine with ruby 1.9.2-head and Rails rc1.  It will not start and gives the following error when I issue the command:

rails s

&#8594; rails s
=&gt; Booting WEBrick
=&gt; Rails 3.0.0.rc2 application starting in development on http://0.0.0.0:3000
=&gt; Call with -d to detach
=&gt; Ctrl-C to shutdown server
Exiting
/home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws/s3/extensions.rb:206:in `const_missing_from_s3_library': uninitialized constant Rails::DeprecatedConstant::Rails (NameError)
	from (eval):1:in `block in initialize'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `call'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `method_missing'
	from /home/bruparel/rr_work/file_manager/config/initializers/load_lib_dir.rb:1:in `&lt;top (required)&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:201:in `block (2 levels) in &lt;class:Engine&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `each'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `block in &lt;class:Engine&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `instance_exec'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `run'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:50:in `block in run_initializers'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `each'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `run_initializers'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:134:in `initialize!'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:77:in `method_missing'
	from /home/bruparel/rr_work/file_manager/config/environment.rb:5:in `&lt;top (required)&gt;'
	from /home/bruparel/rr_work/file_manager/config.ru:3:in `block in &lt;main&gt;'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `instance_eval'
	from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `initialize'
	from /home/bruparel/rr_work/file_manager/config.ru:1:in `new'
	from /home/bruparel/rr_work/file_manager/config.ru:1:in `&lt;main&gt;'

Do I need to regenrate the app with release candidate 2?

thanks.

Bharat</body>
      <body-html>&lt;div&gt;&lt;p&gt;Just upgraded to Ruby 1.9.2-p0 and the latest Rails rc2. The app
was running fine with ruby 1.9.2-head and Rails rc1. It will not
start and gives the following error when I issue the command:&lt;/p&gt;
&lt;p&gt;rails s&lt;/p&gt;
&lt;p&gt;&amp;#8594; rails s&lt;br&gt;
=&amp;gt; Booting WEBrick =&amp;gt; Rails 3.0.0.rc2 application starting in
development on &lt;a href=
&quot;http://0.0.0.0:3000&quot;&gt;http://0.0.0.0:3000&lt;/a&gt; =&amp;gt; Call with -d to
detach =&amp;gt; Ctrl-C to shutdown server Exiting&lt;br&gt;
/home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/aws-s3-0.6.2/lib/aws/s3/extensions.rb:206:in
&lt;code&gt;const_missing_from_s3_library': uninitialized constant
Rails::DeprecatedConstant::Rails (NameError)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;from (eval):1:in `block in initialize'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `call'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/deprecation.rb:29:in `method_missing'
from /home/bruparel/rr_work/file_manager/config/initializers/load_lib_dir.rb:1:in `&amp;lt;top (required)&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:201:in `block (2 levels) in &amp;lt;class:Engine&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `each'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/engine.rb:200:in `block in &amp;lt;class:Engine&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `instance_exec'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:25:in `run'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:50:in `block in run_initializers'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `each'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/initializable.rb:49:in `run_initializers'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:134:in `initialize!'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/railties-3.0.0.rc2/lib/rails/application.rb:77:in `method_missing'
from /home/bruparel/rr_work/file_manager/config/environment.rb:5:in `&amp;lt;top (required)&amp;gt;'
from /home/bruparel/rr_work/file_manager/config.ru:3:in `block in &amp;lt;main&amp;gt;'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `instance_eval'
from /home/bruparel/.rvm/gems/ruby-1.9.2-p0/gems/rack-1.2.1/lib/rack/builder.rb:46:in `initialize'
from /home/bruparel/rr_work/file_manager/config.ru:1:in `new'
from /home/bruparel/rr_work/file_manager/config.ru:1:in `&amp;lt;main&amp;gt;'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Do I need to regenrate the app with release candidate 2?&lt;/p&gt;
&lt;p&gt;thanks.&lt;/p&gt;
&lt;p&gt;Bharat&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-29T02:17:54+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-29T02:17:57+01:00</updated-at>
      <user-id type="integer">36730</user-id>
      <version type="integer">1</version>
      <user-name>Bharat Ruparel</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Please ignore if you think this is not important.

Here is what happened.  My Rails 3 app in Release Candidate 1 with ruby 1.9.2-head from a month ago was working fine with the following initializer in config/initializers directory:

Dir.glob( &quot;#{ RAILS_ROOT }/lib/*.rb&quot; ).each { |f| require f }

After upgrading to Rails 3 Release candidate 2 with stable release of Ruby 1.9.2-p0, it won't start as I reported above.  I changed the initializer code to read

Dir.glob( &quot;#{ Rails.root }/lib/*.rb&quot; ).each { |f| require f }

and it started fine and the tests pass.

I think we need to publish a warning that the &quot;old&quot; style constants will cause Release candidate 2 to not start?

Bharat</body>
      <body-html>&lt;div&gt;&lt;p&gt;Please ignore if you think this is not important.&lt;/p&gt;
&lt;p&gt;Here is what happened. My Rails 3 app in Release Candidate 1
with ruby 1.9.2-head from a month ago was working fine with the
following initializer in config/initializers directory:&lt;/p&gt;
&lt;p&gt;Dir.glob( &quot;#{ RAILS_ROOT }/lib/*.rb&quot; ).each { |f| require f
}&lt;/p&gt;
&lt;p&gt;After upgrading to Rails 3 Release candidate 2 with stable
release of Ruby 1.9.2-p0, it won't start as I reported above. I
changed the initializer code to read&lt;/p&gt;
&lt;p&gt;Dir.glob( &quot;#{ Rails.root }/lib/*.rb&quot; ).each { |f| require f
}&lt;/p&gt;
&lt;p&gt;and it started fine and the tests pass.&lt;/p&gt;
&lt;p&gt;I think we need to publish a warning that the &quot;old&quot; style
constants will cause Release candidate 2 to not start?&lt;/p&gt;
&lt;p&gt;Bharat&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-29T02:42:17+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-29T02:42:20+01:00</updated-at>
      <user-id type="integer">36730</user-id>
      <version type="integer">2</version>
      <user-name>Bharat Ruparel</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Can you try using 

@@@ ruby
  Dir.glob( &quot;#{ RAILS_ROOT }/lib/*.rb&quot; ).each { |f| require f }
@@@

in a fresh RC 2 app? It didn't give any errors for me. I'm guessing this is an aws-s3-0.6.2 issue. But just to be sure can you check?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can you try using&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  Dir.glob( &quot;#{ RAILS_ROOT }/lib/*.rb&quot; ).each { |f| require f }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;in a fresh RC 2 app? It didn't give any errors for me. I'm
guessing this is an aws-s3-0.6.2 issue. But just to be sure can you
check?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-29T12:41:31+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-29T12:41:33+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">3</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hello Rohit,
The error is gone after I made the afore mentioned change.  Rails 3 reandomly picks on aws-s3 or right_aws and reports the
uninitialized constant Rails::DeprecatedConstant::Rails (NameError)
error.  I have googled around to find if there are any reported incidences of Rails 3 not playing well with these two gems but it is possible that I may have missed relevant information.
How do you suggest that I check aws?
Thanks.
Bharat</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hello Rohit,&lt;br&gt;
The error is gone after I made the afore mentioned change. Rails 3
reandomly picks on aws-s3 or right_aws and reports the&lt;br&gt;
uninitialized constant Rails::DeprecatedConstant::Rails
(NameError)&lt;br&gt;
error. I have googled around to find if there are any reported
incidences of Rails 3 not playing well with these two gems but it
is possible that I may have missed relevant information.&lt;br&gt;
How do you suggest that I check aws?&lt;br&gt;
Thanks.&lt;br&gt;
Bharat&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-29T15:07:55+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-29T15:07:57+01:00</updated-at>
      <user-id type="integer">36730</user-id>
      <version type="integer">4</version>
      <user-name>Bharat Ruparel</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I can confirm this error.  Its actually two things having to do with RAILS_ROOT.  From deprecation.rb line 48:

@@@ ruby
  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;Rails.root.to_s&quot;)
@@@

First problem is when the proc on line 21 is called, it ends up as Rails::DeprecatedConstant::Rails which does not exist.  So first change is:

@@@ ruby
  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root.to_s&quot;)
@@@

Same would apply to the other deprecated constants.

Next the call to RAILS_ROOT call .to_path (at least from attachment fu, see attachment_fu.rb, line 4):

@@@ ruby
@@tempfile_path      = File.join(RAILS_ROOT, 'tmp', 'attachment_fu')
@@@

Calling to_path on a string blows up.  So these changes fix the problem for me:

@@@ ruby
  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_ENV&quot;,            &quot;::Rails.env&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_DEFAULT_LOGGER&quot;, &quot;::Rails.logger&quot;)
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I can confirm this error. Its actually two things having to do
with RAILS_ROOT. From deprecation.rb line 48:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;Rails.root.to_s&quot;)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;First problem is when the proc on line 21 is called, it ends up
as Rails::DeprecatedConstant::Rails which does not exist. So first
change is:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root.to_s&quot;)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Same would apply to the other deprecated constants.&lt;/p&gt;
&lt;p&gt;Next the call to RAILS_ROOT call .to_path (at least from
attachment fu, see attachment_fu.rb, line 4):&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;@@tempfile_path      = File.join(RAILS_ROOT, 'tmp', 'attachment_fu')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Calling to_path on a string blows up. So these changes fix the
problem for me:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_ENV&quot;,            &quot;::Rails.env&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_DEFAULT_LOGGER&quot;, &quot;::Rails.logger&quot;)&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-29T23:59:19+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-30T01:37:14+01:00</updated-at>
      <user-id type="integer">50347</user-id>
      <version type="integer">5</version>
      <user-name>cfis (at savagexi)</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If you folks need to look at a real app.  I just uploaded both Rails 2.3.8 and Rails 3.0RC2 versions of my app on Github.

http://github.com/bruparel/file_manager238

http://github.com/bruparel/file_manager3

Bharat</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you folks need to look at a real app. I just uploaded both
Rails 2.3.8 and Rails 3.0RC2 versions of my app on Github.&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/bruparel/file_manager238&quot;&gt;http://github.com/bruparel/file_manager238&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/bruparel/file_manager3&quot;&gt;http://github.com/bruparel/file_manager3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bharat&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-30T00:36:16+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-30T00:36:19+01:00</updated-at>
      <user-id type="integer">36730</user-id>
      <version type="integer">6</version>
      <user-name>Bharat Ruparel</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@cfis The changes suggested by you are already there.

@@@ ruby
  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root.to_s&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_ENV&quot;,            &quot;::Rails.env&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_DEFAULT_LOGGER&quot;, &quot;::Rails.logger&quot;)
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;@cfis The changes suggested by you are already there.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root.to_s&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_ENV&quot;,            &quot;::Rails.env&quot;)
  DeprecatedConstant.deprecate(&quot;RAILS_DEFAULT_LOGGER&quot;, &quot;::Rails.logger&quot;)&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T01:50:36+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- 
:state: needs-more-info
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-08-30T01:50:38+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">7</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Neeraj - I see that the :: as been added, so that is good.  

But I was also saying this:

 DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root.to_s&quot;)

Should be this:

 DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,           &quot;::Rails.root&quot;)

Notice the removal of &quot;to_s&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Neeraj - I see that the :: as been added, so that is
good.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;But I was also saying this:&lt;/p&gt;
&lt;p&gt;DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;,
&quot;::Rails.root.to_s&quot;)&lt;/p&gt;
&lt;p&gt;Should be this:&lt;/p&gt;
&lt;p&gt;DeprecatedConstant.deprecate(&quot;RAILS_ROOT&quot;, &quot;::Rails.root&quot;)&lt;/p&gt;
&lt;p&gt;Notice the removal of &quot;to_s&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-05T05:25:16+01:00</created-at>
      <creator-id type="integer">36730</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5487</number>
      <permalink>uninitialized-constant-railsdeprecatedconstantrails-nameerror</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>uninitialized constant Rails::DeprecatedConstant::Rails (NameError)</title>
      <updated-at type="datetime">2010-09-05T05:25:18+01:00</updated-at>
      <user-id type="integer">50347</user-id>
      <version type="integer">8</version>
      <user-name>cfis (at savagexi)</user-name>
      <creator-name>Bharat Ruparel</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5487</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
