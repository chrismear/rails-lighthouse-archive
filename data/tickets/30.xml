<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-04-21T09:18:36+01:00</created-at>
  <creator-id type="integer">17477</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">30</number>
  <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
  <priority type="integer">9493</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activerecord patch</tag>
  <title>Add unique index test fails on sqlite2</title>
  <updated-at type="datetime">2008-04-23T03:25:35+01:00</updated-at>
  <user-id type="integer">141</user-id>
  <version type="integer">6</version>
  <user-name>Michael Koziarski</user-name>
  <creator-name>Frederick Cheung</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
  <priority-name nil="true"></priority-name>
  <original-body>The test_add_index in migration_test.rb fails on sqlite2 when attempting to add a unique index on a column. The value of that column is null for all rows, which sqlite2 considers  violates the uniqueness constrain (other databases don't seem to care). Seeding some data into that column fixes the problem.</original-body>
  <latest-body>The test_add_index in migration_test.rb fails on sqlite2 when attempting to add a unique index on a column. The value of that column is null for all rows, which sqlite2 considers  violates the uniqueness constrain (other databases don't seem to care). Seeding some data into that column fixes the problem.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
The test_add_index in migration_test.rb fails on sqlite2 when attempting to add a unique index on a column. The value of that column is null for all rows, which sqlite2 considers  violates the uniqueness constrain (other databases don't seem to care). Seeding some data into that column fixes the problem.
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The test_add_index in migration_test.rb fails on sqlite2 when attempting to add a unique index on a column. The value of that column is null for all rows, which sqlite2 considers  violates the uniqueness constrain (other databases don't seem to care). Seeding some data into that column fixes the problem.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
The test_add_index in migration_test.rb fails on sqlite2 when attempting to add a unique index on a column. The value of that column is null for all rows, which sqlite2 considers  violates the uniqueness constrain (other databases don't seem to care). Seeding some data into that column fixes the problem.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-04-21T09:18:36+01:00</created-at>
      <creator-id type="integer">17477</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">30</number>
      <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add unique index test fails on sqlite2</title>
      <updated-at type="datetime">2008-04-21T09:18:36+01:00</updated-at>
      <user-id type="integer">17477</user-id>
      <version type="integer">1</version>
      <user-name>Frederick Cheung</user-name>
      <creator-name>Frederick Cheung</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This causes failures on mysql.  I believe because key is a reserved word?</body>
      <body-html>&lt;div&gt;&lt;p&gt;
This causes failures on mysql.  I believe because key is a reserved word?
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-04-21T09:36:11+01:00</created-at>
      <creator-id type="integer">17477</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">30</number>
      <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add unique index test fails on sqlite2</title>
      <updated-at type="datetime">2008-04-21T09:36:11+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">2</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Frederick Cheung</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>D'oh, should have quoted that column name</body>
      <body-html>&lt;div&gt;&lt;p&gt;
D'oh, should have quoted that column name
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-04-21T10:00:54+01:00</created-at>
      <creator-id type="integer">17477</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">30</number>
      <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add unique index test fails on sqlite2</title>
      <updated-at type="datetime">2008-04-21T10:00:54+01:00</updated-at>
      <user-id type="integer">17477</user-id>
      <version type="integer">3</version>
      <user-name>Frederick Cheung</user-name>
      <creator-name>Frederick Cheung</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Quoting the column name fixes it as expected</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Quoting the column name fixes it as expected
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-04-21T10:10:16+01:00</created-at>
      <creator-id type="integer">17477</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">30</number>
      <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add unique index test fails on sqlite2</title>
      <updated-at type="datetime">2008-04-21T10:10:16+01:00</updated-at>
      <user-id type="integer">17477</user-id>
      <version type="integer">4</version>
      <user-name>Frederick Cheung</user-name>
      <creator-name>Frederick Cheung</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [ae51013c3f7b8a8579fcb99d889ed80e9dd75797]) Provide data for the key column otherwise adding a unique index will fail. [#30 state:closed]
http://github.com/rails/rails/commit/ae51013c3f7b8a8579fcb99d889ed80e9dd75797</body>
      <body-html>&lt;div&gt;&lt;p&gt;
(from [ae51013c3f7b8a8579fcb99d889ed80e9dd75797]) Provide data for the key column otherwise adding a unique index will fail. [#30 state:closed]
&lt;/p&gt;&lt;p&gt;
&lt;a href=&quot;http://github.com/rails/rails/commit/ae51013c3f7b8a8579fcb99d889ed80e9dd75797&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-04-23T03:25:15+01:00</created-at>
      <creator-id type="integer">17477</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">30</number>
      <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Add unique index test fails on sqlite2</title>
      <updated-at type="datetime">2008-04-23T03:25:15+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Frederick Cheung</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-04-23T03:25:35+01:00</created-at>
      <creator-id type="integer">17477</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">30</number>
      <permalink>add-unique-index-test-fails-on-sqlite2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Add unique index test fails on sqlite2</title>
      <updated-at type="datetime">2008-04-23T03:25:35+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">6</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Frederick Cheung</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/30</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>ae9be4f56c4c1a6e13cd2018cc505bbfe9fe66dc</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-04-21T09:18:36+01:00</created-at>
      <filename>fix_test_failing_on_sqlite.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">19425</id>
      <size type="integer">898</size>
      <uploader-id type="integer">17477</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/19425/fix_test_failing_on_sqlite.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>5be0d1634179f3be4df656f7e4e77d0dd559af86</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-04-21T10:10:17+01:00</created-at>
      <filename>fix_test_failing_on_sqlite.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">19430</id>
      <size type="integer">980</size>
      <uploader-id type="integer">17477</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/19430/fix_test_failing_on_sqlite.patch</url>
    </attachment>
  </attachments>
</ticket>
