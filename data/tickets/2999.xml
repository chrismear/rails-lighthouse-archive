<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">85</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-08-06T01:23:58+01:00</created-at>
  <creator-id type="integer">35579</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">82855</milestone-id>
  <number type="integer">2999</number>
  <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
  <priority type="integer">8</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>233 30 bugmash params ruby19</tag>
  <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
  <updated-at type="datetime">2011-02-02T16:56:47+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">33</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Geoff Jacobsen</creator-name>
  <assigned-user-name>Jeremy Kemper</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
  <milestone-title>2.3.10</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Introduced in rails 2.3.3 (bug not present in 2.3.2).



to trigger the bug:

filter_parameter_logging must be in use
ruby 1.9.1 must be used
a parameter which contains multiple values must be sent like: input_a[]=123&amp;input_a[]=456

stack trace:

Completed in 108ms (View: 63, DB: 9) | 200 OK
[http://localhost/events/agenda?show_keyPriority%5B%5D=1186443402&amp;show_keyPriority%5B%5D=997942173&amp;show_keyPriority%5B%5D=1983876066&amp;show_keyPriority%5B%5D=2132933935&amp;show_keyPriority%5B%5D=1797519163&amp;show_keyPriority%5B%5D=1829656576&amp;show_keyPriority%5B%5D=657789136&amp;show_keyPriority%5B%5D=790544570]
 SQL (0.1ms)   SET client_min_messages TO 'panic'
 SQL (0.1ms)   SET client_min_messages TO 'notice'


Processing EventsController#agenda (for 127.0.0.1 at 2009-08-06 12:01:32) [GET]


Processing ApplicationController#agenda (for 127.0.0.1 at 2009-08-06
12:01:32) [GET]
/!\ FAILSAFE /!\  2009-08-06 12:01:32 +1200
 Status: 500 Internal Server Error
 undefined method `each' for &quot;1186443402&quot;:String
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`block in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in
`block (3 levels) in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
`collect'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
`block (2 levels) in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`each'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`block in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in
`log_processing_for_parameters'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in
`log_processing'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in
`process'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in
`process_with_filters'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in
`call_with_exception'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in
`rescue in dispatch'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in
`dispatch'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in
`_call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in
`block in initialize'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
`block in call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in
`cache'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in
`cache'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
`block in call'
   &lt;internal:prelude&gt;:8:in `synchronize'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in
`block in call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
`each'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in
`service'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in
start_thread'</original-body>
  <latest-body>Introduced in rails 2.3.3 (bug not present in 2.3.2).



to trigger the bug:

filter_parameter_logging must be in use
ruby 1.9.1 must be used
a parameter which contains multiple values must be sent like: input_a[]=123&amp;input_a[]=456

stack trace:

Completed in 108ms (View: 63, DB: 9) | 200 OK
[http://localhost/events/agenda?show_keyPriority%5B%5D=1186443402&amp;show_keyPriority%5B%5D=997942173&amp;show_keyPriority%5B%5D=1983876066&amp;show_keyPriority%5B%5D=2132933935&amp;show_keyPriority%5B%5D=1797519163&amp;show_keyPriority%5B%5D=1829656576&amp;show_keyPriority%5B%5D=657789136&amp;show_keyPriority%5B%5D=790544570]
 SQL (0.1ms)   SET client_min_messages TO 'panic'
 SQL (0.1ms)   SET client_min_messages TO 'notice'


Processing EventsController#agenda (for 127.0.0.1 at 2009-08-06 12:01:32) [GET]


Processing ApplicationController#agenda (for 127.0.0.1 at 2009-08-06
12:01:32) [GET]
/!\ FAILSAFE /!\  2009-08-06 12:01:32 +1200
 Status: 500 Internal Server Error
 undefined method `each' for &quot;1186443402&quot;:String
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`block in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in
`block (3 levels) in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
`collect'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
`block (2 levels) in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`each'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`block in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in
`log_processing_for_parameters'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in
`log_processing'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in
`process'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in
`process_with_filters'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in
`call_with_exception'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in
`rescue in dispatch'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in
`dispatch'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in
`_call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in
`block in initialize'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
`block in call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in
`cache'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in
`cache'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
`block in call'
   &lt;internal:prelude&gt;:8:in `synchronize'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in
`block in call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
`each'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in
`service'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in
start_thread'</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Introduced in rails 2.3.3 (bug not present in 2.3.2).&lt;/p&gt;
&lt;p&gt;to trigger the bug:&lt;/p&gt;
&lt;p&gt;filter_parameter_logging must be in use ruby 1.9.1 must be used
a parameter which contains multiple values must be sent like:
input_a[]=123&amp;amp;input_a[]=456&lt;/p&gt;
&lt;p&gt;stack trace:&lt;/p&gt;
&lt;p&gt;Completed in 108ms (View: 63, DB: 9) | 200 OK [&lt;a href=&quot;http://localhost/events/agenda?show_keyPriority%5B%5D=1186443402&amp;amp;show_keyPriority%5B%5D=997942173&amp;amp;show_keyPriority%5B%5D=1983876066&amp;amp;show_keyPriority%5B%5D=2132933935&amp;amp;show_keyPriority%5B%5D=1797519163&amp;amp;show_keyPriority%5B%5D=1829656576&amp;amp;show_keyPriority%5B%5D=657789136&amp;amp;show_keyPriority%5B%5D=790544570&quot;&gt;http://localhost/events/agenda?s...&lt;/a&gt;]
SQL (0.1ms) SET client_min_messages TO 'panic' SQL (0.1ms) SET
client_min_messages TO 'notice'&lt;/p&gt;
&lt;p&gt;Processing EventsController#agenda (for 127.0.0.1 at 2009-08-06
12:01:32) &lt;a href=&quot;/projects/8994/changesets/GET&quot; title=&quot;Changeset 'GET'&quot;&gt;[GET]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Processing ApplicationController#agenda (for 127.0.0.1 at
2009-08-06 12:01:32) &lt;a href=&quot;/projects/8994/changesets/GET&quot; title=&quot;Changeset 'GET'&quot;&gt;[GET]&lt;/a&gt; /!\ FAILSAFE /!\ 2009-08-06 12:01:32
+1200 Status: 500 Internal Server Error undefined method
&lt;code&gt;each' for [1186443402](String)
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in&lt;/code&gt;
block in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in
&lt;code&gt;block (3 levels) in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in&lt;/code&gt;
collect'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
&lt;code&gt;block (2 levels) in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in&lt;/code&gt;
each'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
&lt;code&gt;block in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in&lt;/code&gt;
log_processing_for_parameters'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in
&lt;code&gt;log_processing'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in&lt;/code&gt;
process'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in
&lt;code&gt;process_with_filters'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in&lt;/code&gt;
call_with_exception'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in
&lt;code&gt;rescue in dispatch'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in&lt;/code&gt;
dispatch'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in
&lt;code&gt;_call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in&lt;/code&gt;
block in initialize'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in&lt;/code&gt;
block in call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in
&lt;code&gt;cache'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in&lt;/code&gt;
cache'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
&lt;code&gt;block in call' :8:in&lt;/code&gt;synchronize'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in&lt;/code&gt;
block in call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
&lt;code&gt;each'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in&lt;/code&gt;
call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in
&lt;code&gt;service'
/u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in&lt;/code&gt;service'
/u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in
&lt;code&gt;run'
/u01/app/ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in&lt;/code&gt;block
in start_thread'&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Introduced in rails 2.3.3 (bug not present in 2.3.2).



to trigger the bug:

filter_parameter_logging must be in use
ruby 1.9.1 must be used
a parameter which contains multiple values must be sent like: input_a[]=123&amp;input_a[]=456

stack trace:

Completed in 108ms (View: 63, DB: 9) | 200 OK
[http://localhost/events/agenda?show_keyPriority%5B%5D=1186443402&amp;show_keyPriority%5B%5D=997942173&amp;show_keyPriority%5B%5D=1983876066&amp;show_keyPriority%5B%5D=2132933935&amp;show_keyPriority%5B%5D=1797519163&amp;show_keyPriority%5B%5D=1829656576&amp;show_keyPriority%5B%5D=657789136&amp;show_keyPriority%5B%5D=790544570]
 SQL (0.1ms)   SET client_min_messages TO 'panic'
 SQL (0.1ms)   SET client_min_messages TO 'notice'


Processing EventsController#agenda (for 127.0.0.1 at 2009-08-06 12:01:32) [GET]


Processing ApplicationController#agenda (for 127.0.0.1 at 2009-08-06
12:01:32) [GET]
/!\ FAILSAFE /!\  2009-08-06 12:01:32 +1200
 Status: 500 Internal Server Error
 undefined method `each' for &quot;1186443402&quot;:String
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`block in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in
`block (3 levels) in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
`collect'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
`block (2 levels) in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`each'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
`block in filter_parameter_logging'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in
`log_processing_for_parameters'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in
`log_processing'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in
`process'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in
`process_with_filters'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in
`call_with_exception'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in
`rescue in dispatch'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in
`dispatch'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in
`_call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in
`block in initialize'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
`block in call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in
`cache'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in
`cache'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
`block in call'
   &lt;internal:prelude&gt;:8:in `synchronize'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in
`block in call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
`each'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in
`call'
   /u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in
`service'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
   /u01/app/ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in
start_thread'</body>
      <body-html>&lt;div&gt;&lt;p&gt;Introduced in rails 2.3.3 (bug not present in 2.3.2).&lt;/p&gt;
&lt;p&gt;to trigger the bug:&lt;/p&gt;
&lt;p&gt;filter_parameter_logging must be in use&lt;br&gt;
ruby 1.9.1 must be used&lt;br&gt;
a parameter which contains multiple values must be sent like:
input_a[]=123&amp;amp;input_a[]=456&lt;/p&gt;
&lt;p&gt;stack trace:&lt;/p&gt;
&lt;p&gt;Completed in 108ms (View: 63, DB: 9) | 200 OK&lt;br&gt;
[&lt;a href=
&quot;http://localhost/events/agenda?show_keyPriority%5B%5D=1186443402&amp;amp;show_keyPriority%5B%5D=997942173&amp;amp;show_keyPriority%5B%5D=1983876066&amp;amp;show_keyPriority%5B%5D=2132933935&amp;amp;show_keyPriority%5B%5D=1797519163&amp;amp;show_keyPriority%5B%5D=1829656576&amp;amp;show_keyPriority%5B%5D=657789136&amp;amp;show_keyPriority%5B%5D=790544570&quot;&gt;http://localhost/events/agenda?show_keyPriority%5B%5D=1186443402&amp;amp;am...&lt;/a&gt;]
SQL (0.1ms) SET client_min_messages TO 'panic' SQL (0.1ms) SET
client_min_messages TO 'notice'&lt;/p&gt;
&lt;p&gt;Processing EventsController#agenda (for 127.0.0.1 at 2009-08-06
12:01:32) &lt;a href=&quot;/projects/8994/changesets/GET&quot; title=
&quot;Changeset [GET]&quot;&gt;[GET]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Processing ApplicationController#agenda (for 127.0.0.1 at
2009-08-06&lt;br&gt;
12:01:32) &lt;a href=&quot;/projects/8994/changesets/GET&quot; title=
&quot;Changeset [GET]&quot;&gt;[GET]&lt;/a&gt;&lt;br&gt;
/!\ FAILSAFE /!\ 2009-08-06 12:01:32 +1200 Status: 500 Internal
Server Error undefined method &lt;code&gt;each' for &quot;1186443402&quot;:String
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in&lt;/code&gt;block
in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in
&lt;code&gt;block (3 levels) in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in&lt;/code&gt;collect'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in
&lt;code&gt;block (2 levels) in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in&lt;/code&gt;each'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in
&lt;code&gt;block in filter_parameter_logging'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in&lt;/code&gt;log_processing_for_parameters'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in
&lt;code&gt;log_processing'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in&lt;/code&gt;process'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in
&lt;code&gt;process_with_filters'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in&lt;/code&gt;call_with_exception'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in
&lt;code&gt;rescue in dispatch'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in&lt;/code&gt;dispatch'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in
&lt;code&gt;_call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in&lt;/code&gt;block
in initialize'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in&lt;/code&gt;block
in call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in
&lt;code&gt;cache'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in&lt;/code&gt;cache'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
&lt;code&gt;block in call'
&amp;lt;internal:prelude&amp;gt;:8:in&lt;/code&gt;synchronize'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in&lt;/code&gt;block
in call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in
&lt;code&gt;each'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in
&lt;code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in&lt;/code&gt;call'
/u01/app/ruby191/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in
&lt;code&gt;service'
/u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in&lt;/code&gt;service'
/u01/app/ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in
&lt;code&gt;run'
/u01/app/ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in&lt;/code&gt;block
in start_thread'&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-06T01:23:58+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-06T01:24:06+01:00</updated-at>
      <user-id type="integer">35579</user-id>
      <version type="integer">1</version>
      <user-name>Geoff Jacobsen</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-07T14:42:53+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 ruby1.9
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-07T14:42:58+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T01:45:15+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-08T01:45:20+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">3</version>
      <user-name>Pratik</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>&quot;not reproducible&quot;


Ruby: _ruby 1.9.2dev (2009-08-07 trunk 24440) [x86_64-linux]_

I added 

@@@ Ruby
    filter_parameter_logging :password, :login, :controller, :action
@@@

and test on login form:

@@@ Ruby
&lt;% form_tag  session_path do  %&gt;
    &lt;p&gt;Please log in&lt;/p&gt;
    &lt;p&gt;
        &lt;label&gt; Username: &lt;/label&gt;
        &lt;%= text_field_tag 'login' %&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;label&gt; Password: &lt;/label&gt;
        &lt;%= password_field_tag 'password' %&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;%= submit_tag &quot;Log in&quot; %&gt;&lt;/p&gt;
@@@

&lt;pre&gt;Processing SessionsController#create (for 127.0.0.1 at 2009-08-08 09:51:15) [POST]
  Parameters: {&quot;authenticity_token&quot;=&gt;&quot;3UcGlMYa96Pp3X/Pjf3WNef990BkBLGGdANwIaZBQfc=&quot;, &quot;login&quot;=&gt;&quot;[FILTERED]&quot;, &quot;password&quot;=&gt;&quot;[FILTERED]&quot;, &quot;commit&quot;=&gt;&quot;Log in&quot;, &quot;controller&quot;=&gt;&quot;[FILTERED]&quot;, &quot;action&quot;=&gt;&quot;[FILTERED]&quot;}
&lt;/pre&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;&quot;not reproducible&quot;&lt;/p&gt;
&lt;p&gt;Ruby: &lt;em&gt;ruby 1.9.2dev (2009-08-07 trunk 24440)
[x86_64-linux]&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I added&lt;/p&gt;
&lt;p&gt;@@@ Ruby&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;filter_parameter_logging :password, :login, :controller, :action&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;
and test on login form:

@@@ Ruby
&amp;lt;% form_tag  session_path do  %&amp;gt;
    &amp;lt;p&amp;gt;Please log in&amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;label&amp;gt; Username: &amp;lt;/label&amp;gt;
        &amp;lt;%= text_field_tag 'login' %&amp;gt;
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;label&amp;gt; Password: &amp;lt;/label&amp;gt;
        &amp;lt;%= password_field_tag 'password' %&amp;gt;
    &amp;lt;/p&amp;gt;
&amp;lt;p&amp;gt;&amp;lt;%= submit_tag &quot;Log in&quot; %&amp;gt;&amp;lt;/p&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
Processing SessionsController#create (for 127.0.0.1 at 2009-08-08 09:51:15) [POST]
  Parameters: {&quot;authenticity_token&quot;=&amp;gt;&quot;3UcGlMYa96Pp3X/Pjf3WNef990BkBLGGdANwIaZBQfc=&quot;, &quot;login&quot;=&amp;gt;&quot;[FILTERED]&quot;, &quot;password&quot;=&amp;gt;&quot;[FILTERED]&quot;, &quot;commit&quot;=&amp;gt;&quot;Log in&quot;, &quot;controller&quot;=&amp;gt;&quot;[FILTERED]&quot;, &quot;action&quot;=&amp;gt;&quot;[FILTERED]&quot;}
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T06:55:08+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-08T06:55:10+01:00</updated-at>
      <user-id type="integer">64156</user-id>
      <version type="integer">4</version>
      <user-name>Nikolay Petrachkov </user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>to reproduce you need to have a repeated text_filed_tag:

for example

@@@ Ruby

  &lt;%= text_field_tag 'stuff[]', 1 %&gt;
  &lt;%= text_field_tag 'stuff[]', 2 %&gt;
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;to reproduce you need to have a repeated text_filed_tag:&lt;/p&gt;
&lt;p&gt;for example&lt;/p&gt;
&lt;p&gt;@@@ Ruby&lt;/p&gt;
&lt;p&gt;&amp;lt;%= text_field_tag 'stuff[]', 1 %&amp;gt; &amp;lt;%= text_field_tag
'stuff[]', 2 %&amp;gt;&lt;/p&gt;
&lt;pre&gt;

&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T10:57:42+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-09T10:57:43+01:00</updated-at>
      <user-id type="integer">35579</user-id>
      <version type="integer">5</version>
      <user-name>Geoff Jacobsen</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I too falied to reproduce this bug with Ruby 1.9:

@@@ ruby
    &lt;%= text_field_tag 'name[]' %&gt;
    &lt;%= text_field_tag 'name[]' %&gt;
@@@

@@@ ruby
    filter_parameter_logging :name
@@@

@@@ plain
    Parameters: {&quot;authenticity_token&quot;=&gt;&quot;...&quot;, &quot;name&quot;=&gt;&quot;[FILTERED]&quot;}
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I too falied to reproduce this bug with Ruby 1.9:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;    &amp;lt;%= text_field_tag 'name[]' %&amp;gt;
    &amp;lt;%= text_field_tag 'name[]' %&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;    filter_parameter_logging :name&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=
&quot;plain&quot;&gt;    Parameters: {&quot;authenticity_token&quot;=&amp;gt;&quot;...&quot;, &quot;name&quot;=&amp;gt;&quot;[FILTERED]&quot;}&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T15:18:45+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-09T15:18:49+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">6</version>
      <user-name>David Trasbo</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>not reproducible</body>
      <body-html>&lt;div&gt;&lt;p&gt;not reproducible&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-09T16:46:19+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-09T16:46:22+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">7</version>
      <user-name>David Trasbo</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-09T19:06:02+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.3 bugmash ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-09T19:06:05+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">8</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-09T19:06:46+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 bugmash ruby1.9
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-09T19:06:51+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">9</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>okay I created a fresh rails app to reproduce the bug.

I could only reproduce it by changing from sqlite to postgresql.

here is my database.yml file:

@@@ ruby

defaults: &amp;defaults
  adapter: postgresql
  username: testtest:
  database: bug_test
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432

development:
  database: bug_development
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;okay I created a fresh rails app to reproduce the bug.&lt;/p&gt;
&lt;p&gt;I could only reproduce it by changing from sqlite to
postgresql.&lt;/p&gt;
&lt;p&gt;here is my database.yml file:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;
defaults: &amp;amp;defaults
  adapter: postgresql
  username: testtest:
  database: bug_test
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432

development:
  database: bug_development
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-10T00:58:59+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-10T00:59:03+01:00</updated-at>
      <user-id type="integer">35579</user-id>
      <version type="integer">10</version>
      <user-name>Geoff Jacobsen</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>oops, that should read:

@@@ ruby
test:
  database: bug_test
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432

development:
  database: bug_development
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;oops, that should read:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;test:
  database: bug_test
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432

development:
  database: bug_development
  adapter: postgresql
  username: test
  password: test
  host: localhost
  port: 5432&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-10T01:00:00+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-10T01:00:05+01:00</updated-at>
      <user-id type="integer">35579</user-id>
      <version type="integer">11</version>
      <user-name>Geoff Jacobsen</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've managed to reproduce the same error with both sqlite3 and postgresql in an existing project (Rails 2.3.3 and Ruby 1.9.1).</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've managed to reproduce the same error with both sqlite3 and
postgresql in an existing project (Rails 2.3.3 and Ruby 1.9.1).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-23T17:52:25+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-23T17:52:28+01:00</updated-at>
      <user-id type="integer">16311</user-id>
      <version type="integer">12</version>
      <user-name>Mateusz Dro&#380;d&#380;y&#324;ski</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I have reproduced a similar error - sqlite3, Rails 2.3.3 ruby 1.9 using a multiple choice select_tag. 

= select_tag 'schedule[days][]', options_for_select([['Sunday',0],['Monday',1],['Tuesday',2],['Wednesday',3],['Thursday',4],['Friday',5],['Saturday',6]]), {:multiple =&gt; true, :size =&gt;7, :id =&gt; &quot;schedule_days&quot; }

Heres the output -

/!\ FAILSAFE /!\  2009-08-25 15:55:15 +0000
  Status: 500 Internal Server Error
  undefined method `each' for &quot;0&quot;:String
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in `block (3 levels) in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `collect'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `block (2 levels) in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `each'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:493:in `block (2 levels) in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `each'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in `log_processing_for_parameters'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in `log_processing'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in `process'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
    /usr/local/lib/ruby/gems/1.9.1/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
    /usr/local/lib/ruby/gems/1.9.1/gems/chriseppstein-compass-0.8.9/lib/compass/app_integration/rails/action_controller.rb:7:in `process_with_compass'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in `call_with_exception'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in `rescue in dispatch'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    &lt;internal:prelude&gt;:8:in `synchronize'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    /usr/local/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    /usr/local/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    /usr/local/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

have tried changing to

= select_tag 'schedule[days][]', options_for_select([['Sunday',&quot;sun&quot;],['Monday',&quot;mon&quot;],['Tuesday',&quot;tues&quot;],['Wednesday',&quot;wed&quot;],['Thursday',&quot;thurs&quot;],['Friday',&quot;fri&quot;],['Saturday',&quot;sat&quot;]]), {:multiple =&gt; true, :size =&gt;7, :id =&gt; &quot;schedule_days&quot; }

still fails</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have reproduced a similar error - sqlite3, Rails 2.3.3 ruby
1.9 using a multiple choice select_tag.&lt;/p&gt;
&lt;p&gt;= select_tag 'schedule[days][]',
options_for_select([['Sunday',0],['Monday',1],['Tuesday',2],['Wednesday',3],['Thursday',4],['Friday',5],['Saturday',6]]),
{:multiple =&amp;gt; true, :size =&amp;gt;7, :id =&amp;gt; &quot;schedule_days&quot;
}&lt;/p&gt;
&lt;p&gt;Heres the output -&lt;/p&gt;
&lt;p&gt;/!\ FAILSAFE /!\ 2009-08-25 15:55:15 +0000 Status: 500 Internal
Server Error undefined method &lt;code&gt;each' for &quot;0&quot;:String&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in `block (3 levels) in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `collect'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `block (2 levels) in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `each'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:493:in `block (2 levels) in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `each'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1315:in `log_processing_for_parameters'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1302:in `log_processing'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:526:in `process'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/local/lib/ruby/gems/1.9.1/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.9.1/gems/chriseppstein-compass-0.8.9/lib/compass/app_integration/rails/action_controller.rb:7:in `process_with_compass'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:65:in `call_with_exception'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:91:in `rescue in dispatch'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
/usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
&amp;lt;internal:prelude&amp;gt;:8:in `synchronize'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
/usr/local/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/usr/local/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/usr/local/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;have tried changing to&lt;/p&gt;
&lt;p&gt;= select_tag 'schedule[days][]',
options_for_select([['Sunday',&quot;sun&quot;],['Monday',&quot;mon&quot;],['Tuesday',&quot;tues&quot;],['Wednesday',&quot;wed&quot;],['Thursday',&quot;thurs&quot;],['Friday',&quot;fri&quot;],['Saturday',&quot;sat&quot;]]),
{:multiple =&amp;gt; true, :size =&amp;gt;7, :id =&amp;gt; &quot;schedule_days&quot;
}&lt;/p&gt;
&lt;p&gt;still fails&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-25T17:14:01+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-25T17:14:06+01:00</updated-at>
      <user-id type="integer">67547</user-id>
      <version type="integer">13</version>
      <user-name>Steve Caney</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Great! This is a clearly a bug in the generated filter_parameters method. Could you turn the app failure above into a failing test case for Rails?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Great! This is a clearly a bug in the generated
filter_parameters method. Could you turn the app failure above into
a failing test case for Rails?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-25T17:41:20+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:state: invalid
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-25T17:41:22+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">14</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Am working on it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Am working on it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-25T18:34:14+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-25T18:37:47+01:00</updated-at>
      <user-id type="integer">67547</user-id>
      <version type="integer">15</version>
      <user-name>Steve Caney</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Not sure if this is the right way to go about it, added to the existing test cases - http://github.com/tevio/rails/blob/451389d10484cd73d8bf63c7def00ddef1f37bf9/actionpack/test/controller/filter_params_test.rb</body>
      <body-html>&lt;div&gt;&lt;p&gt;Not sure if this is the right way to go about it, added to the
existing test cases - &lt;a href=
&quot;http://github.com/tevio/rails/blob/451389d10484cd73d8bf63c7def00ddef1f37bf9/actionpack/test/controller/filter_params_test.rb&quot;&gt;
http://github.com/tevio/rails/blob/451389d10484cd73d8bf63c7def00dde...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-26T13:39:09+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-26T13:39:45+01:00</updated-at>
      <user-id type="integer">67547</user-id>
      <version type="integer">16</version>
      <user-name>Steve Caney</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hey Steve, that's the right way. However, the commit is missing the expected result and the array of params to filter. Note that the others in the list have three elements: unfiltered, filtered, and filter keys.

I expanded the test a bit but the case you give passes on 1.9.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey Steve, that's the right way. However, the commit is missing
the expected result and the array of params to filter. Note that
the others in the list have three elements: unfiltered, filtered,
and filter keys.&lt;/p&gt;
&lt;p&gt;I expanded the test a bit but the case you give passes on
1.9.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-26T18:04:52+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-26T18:04:54+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">17</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi Jeremy, thanks for looking into it.

Three elements, I see now ( on a closer look ),will expand if still required.

this is the output i got when running my test case - ruby 1.9.1 ( sorry didn't mention the .1 if that makes a difference)...

@@@ /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/test: ruby controller/filter_params_test.rb
Loaded suite controller/filter_params_test
Started
E.

Finished in 0.011309 seconds.

  1) Error:
test_filter_parameters(FilterParamTest):
NoMethodError: undefined method `each' for &quot;foo&quot;:String
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in `block (3 levels) in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `collect'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `block (2 levels) in filter_parameter_logging'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `each'
    /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
    controller/filter_params_test.rb:32:in `block in test_filter_parameters'
    controller/filter_params_test.rb:30:in `each'
    controller/filter_params_test.rb:30:in `test_filter_parameters'
    /usr/local/lib/ruby/gems/1.9.1/gems/mocha-0.9.7/lib/mocha/integration/test_unit/gem_version_201_and_above.rb:20:in `run'

2 tests, 25 assertions, 0 failures, 1 errors, 0 pendings, 0 omissions, 0 notifications
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Jeremy, thanks for looking into it.&lt;/p&gt;
&lt;p&gt;Three elements, I see now ( on a closer look ),will expand if
still required.&lt;/p&gt;
&lt;p&gt;this is the output i got when running my test case - ruby 1.9.1
( sorry didn't mention the .1 if that makes a difference)...&lt;/p&gt;
&lt;p&gt;@@@ /usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/test:
ruby controller/filter_params_test.rb Loaded suite
controller/filter_params_test&lt;br&gt;
Started&lt;br&gt;
E.&lt;/p&gt;
&lt;p&gt;Finished in 0.011309 seconds.&lt;/p&gt;
&lt;p&gt;1) Error: test_filter_parameters(FilterParamTest):&lt;br&gt;
NoMethodError: undefined method &lt;code&gt;each' for
&quot;foo&quot;:String&amp;lt;br/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:496:in `block (3 levels) in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `collect'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:495:in `block (2 levels) in filter_parameter_logging'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `each'
/usr/local/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:489:in `block in filter_parameter_logging'
controller/filter_params_test.rb:32:in `block in test_filter_parameters'
controller/filter_params_test.rb:30:in `each'
controller/filter_params_test.rb:30:in `test_filter_parameters'
/usr/local/lib/ruby/gems/1.9.1/gems/mocha-0.9.7/lib/mocha/integration/test_unit/gem_version_201_and_above.rb:20:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2 tests, 25 assertions, 0 failures, 1 errors, 0 pendings, 0
omissions, 0 notifications&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;

&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-26T22:36:33+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-08-26T22:36:36+01:00</updated-at>
      <user-id type="integer">67547</user-id>
      <version type="integer">18</version>
      <user-name>Steve Caney</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is related to String.each no longer being available in Ruby 1.9...

To trigger the bug,

1. Use Ruby 1.9.1
2. add a route: `map.connect '*path', :controller =&gt; 'home', :action =&gt; 'unrecognized'`
3. try to load an unrecognised route.

I have a fix to the tests for `actionpack/test/controller/filter_params_test.rb`, change line 18 to:

    test_hashes = [[{},{},[]],
    [{'foo'=&gt;nil},{'foo'=&gt;nil},[]],
    [{'foo'=&gt;'bar'},{'foo'=&gt;'bar'},[]],
    [{'foo'=&gt;'bar'},{'foo'=&gt;'bar'},%w'food'],
    [{'foo'=&gt;'bar'},{'foo'=&gt;'[FILTERED]'},%w'foo'],
    [{'foo'=&gt;'bar', 'bar'=&gt;'foo'},{'foo'=&gt;'[FILTERED]', 'bar'=&gt;'foo'},%w'foo baz'],
    [{'foo'=&gt;'bar', 'baz'=&gt;'foo'},{'foo'=&gt;'[FILTERED]', 'baz'=&gt;'[FILTERED]'},%w'foo baz'],
    [{'bar'=&gt;{'foo'=&gt;'bar','bar'=&gt;'foo'}},{'bar'=&gt;{'foo'=&gt;'[FILTERED]','bar'=&gt;'foo'}},%w'fo'],
    [{'foo'=&gt;{'foo'=&gt;'bar','bar'=&gt;'foo'}},{'foo'=&gt;'[FILTERED]'},%w'f banana'],
    [{'baz'=&gt;[{'foo'=&gt;'baz'}]}, {'baz'=&gt;[{'foo'=&gt;'[FILTERED]'}]}, %w(foo)],
    [{&quot;foo&quot;=&gt;[&quot;bar&quot;]}, {&quot;foo&quot;=&gt;[&quot;bar&quot;]}, []]]

This will pass on Ruby1.8 and fail on Ruby1.9</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is related to String.each no longer being available in Ruby
1.9...&lt;/p&gt;
&lt;p&gt;To trigger the bug,&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Use Ruby 1.9.1&lt;br&gt;&lt;/li&gt;
&lt;li&gt;add a route: &lt;code&gt;map.connect '*path', :controller =&amp;gt;
'home', :action =&amp;gt; 'unrecognized'&lt;/code&gt;&lt;br&gt;&lt;/li&gt;
&lt;li&gt;try to load an unrecognised route.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I have a fix to the tests for
&lt;code&gt;actionpack/test/controller/filter_params_test.rb&lt;/code&gt;,
change line 18 to:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;test_hashes = [[{},{},[]],
[{'foo'=&amp;gt;nil},{'foo'=&amp;gt;nil},[]],
[{'foo'=&amp;gt;'bar'},{'foo'=&amp;gt;'bar'},[]],
[{'foo'=&amp;gt;'bar'},{'foo'=&amp;gt;'bar'},%w'food'],
[{'foo'=&amp;gt;'bar'},{'foo'=&amp;gt;'[FILTERED]'},%w'foo'],
[{'foo'=&amp;gt;'bar', 'bar'=&amp;gt;'foo'},{'foo'=&amp;gt;'[FILTERED]', 'bar'=&amp;gt;'foo'},%w'foo baz'],
[{'foo'=&amp;gt;'bar', 'baz'=&amp;gt;'foo'},{'foo'=&amp;gt;'[FILTERED]', 'baz'=&amp;gt;'[FILTERED]'},%w'foo baz'],
[{'bar'=&amp;gt;{'foo'=&amp;gt;'bar','bar'=&amp;gt;'foo'}},{'bar'=&amp;gt;{'foo'=&amp;gt;'[FILTERED]','bar'=&amp;gt;'foo'}},%w'fo'],
[{'foo'=&amp;gt;{'foo'=&amp;gt;'bar','bar'=&amp;gt;'foo'}},{'foo'=&amp;gt;'[FILTERED]'},%w'f banana'],
[{'baz'=&amp;gt;[{'foo'=&amp;gt;'baz'}]}, {'baz'=&amp;gt;[{'foo'=&amp;gt;'[FILTERED]'}]}, %w(foo)],
[{&quot;foo&quot;=&amp;gt;[&quot;bar&quot;]}, {&quot;foo&quot;=&amp;gt;[&quot;bar&quot;]}, []]]&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This will pass on Ruby1.8 and fail on Ruby1.9&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-04T09:16:32+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-09-04T09:16:36+01:00</updated-at>
      <user-id type="integer">14688</user-id>
      <version type="integer">19</version>
      <user-name>Adam S</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm sorry, the test case fails on both 1.8 and 1.9, but the test logic is correct. It is the filter_parameter logic that needs fixing.

You can check it yourself by adding the route I gave above.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm sorry, the test case fails on both 1.8 and 1.9, but the test
logic is correct. It is the filter_parameter logic that needs
fixing.&lt;/p&gt;
&lt;p&gt;You can check it yourself by adding the route I gave above.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-04T09:28:35+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-09-04T09:32:00+01:00</updated-at>
      <user-id type="integer">14688</user-id>
      <version type="integer">20</version>
      <user-name>Adam S</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm sorry, the test case fails on both 1.8 and 1.9, but the test logic is correct. It is the filter_parameter logic that needs fixing.

You can check it yourself by adding the route I gave above.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm sorry, the test case fails on both 1.8 and 1.9, but the test
logic is correct. It is the filter_parameter logic that needs
fixing.&lt;/p&gt;
&lt;p&gt;You can check it yourself by adding the route I gave above.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-04T09:29:25+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-09-04T09:32:04+01:00</updated-at>
      <user-id type="integer">14688</user-id>
      <version type="integer">21</version>
      <user-name>Adam S</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm sorry, the updated test case above fails on both ruby 1.8 and 1.9, but the test logic is correct, it is the filter_parameter logic that needs updating.

You can check it yourself by using the glob route I gave above, which crashes on ruby1.9</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm sorry, the updated test case above fails on both ruby 1.8
and 1.9, but the test logic is correct, it is the filter_parameter
logic that needs updating.&lt;/p&gt;
&lt;p&gt;You can check it yourself by using the glob route I gave above,
which crashes on ruby1.9&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-04T09:31:53+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-09-04T09:32:15+01:00</updated-at>
      <user-id type="integer">14688</user-id>
      <version type="integer">22</version>
      <user-name>Adam S</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[milestone:id#50064 bulk edit command]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[milestone:id#50064 bulk edit command]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-11T23:04:38+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 41987
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2009-09-11T23:04:38+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">23</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Attached is a patch against 3.0 with tests and a fix for this issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached is a patch against 3.0 with tests and a fix for this
issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-13T06:20:33+00:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 ruby1.9
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-02-13T06:20:40+00:00</updated-at>
      <user-id type="integer">18068</user-id>
      <version type="integer">24</version>
      <user-name>Brandon Keepers</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Updated patch.  There was a bug in the previous one.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch. There was a bug in the previous one.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-13T07:17:46+00:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-02-13T07:17:54+00:00</updated-at>
      <user-id type="integer">18068</user-id>
      <version type="integer">25</version>
      <user-name>Brandon Keepers</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Easiest way to reproduce the bug:

make a standard request to an url like this 
(with the server started on localhost:3000): 
    http://localhost:3000/?foo[]=bar

you will get:
    undefined method `each' for &quot;bar&quot;:String


hope this helps!


versions:
rails 3.0.0 beta
ruby 1.9.1p376</body>
      <body-html>&lt;div&gt;&lt;p&gt;Easiest way to reproduce the bug:&lt;/p&gt;
&lt;p&gt;make a standard request to an url like this&lt;br&gt;
(with the server started on localhost:3000):&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;http://localhost:3000/?foo[]=bar&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;you will get:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;undefined method `each' for &quot;bar&quot;:String&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;hope this helps!&lt;/p&gt;
&lt;p&gt;versions:&lt;br&gt;
rails 3.0.0 beta&lt;br&gt;
ruby 1.9.1p376&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-17T09:57:12+00:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 3.0 ruby1.9
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 params ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-02-17T09:57:14+00:00</updated-at>
      <user-id type="integer">83709</user-id>
      <version type="integer">26</version>
      <user-name>makevoid</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20088)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20088&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T02:41:10+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 3.0 params ruby1.9
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 bugmash params ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-16T02:41:10+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">27</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20606)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20606&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-23T17:54:43+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 50064
</diffable-attributes>
      <milestone-id type="integer">73241</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 bugmash params ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-23T17:54:43+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">28</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.7</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20631)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20631&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-24T09:40:51+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73241
</diffable-attributes>
      <milestone-id type="integer">73273</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 bugmash params ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-24T09:40:51+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">29</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.8</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20816)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20816&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-25T23:45:39+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73273
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 bugmash params ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-05-25T23:45:39+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">30</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/27613)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/27613&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-30T02:28:49+01:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 73534
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">8</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.3 3.0 bugmash params ruby1.9</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2010-08-30T02:28:49+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">31</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:32:47+00:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.3 3.0 bugmash params ruby1.9
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">8</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>233 30 bugmash params ruby19</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2011-02-02T16:56:33+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">32</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:32:49+00:00</created-at>
      <creator-id type="integer">35579</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2999</number>
      <permalink>filter_parameter_logging-throws-exception-with-ruby-191</permalink>
      <priority type="integer">8</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>233 30 bugmash params ruby19</tag>
      <title>filter_parameter_logging throws exception with ruby 1.9.1</title>
      <updated-at type="datetime">2011-02-02T16:56:47+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">33</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Geoff Jacobsen</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2999</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>9ca2a40672f2e0268112609c93753448ff8d1a75</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-02-13T06:20:33+00:00</created-at>
      <filename>0001-fix-filter_parameter_logging-on-ruby-19-when-params.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">409977</id>
      <size type="integer">3798</size>
      <uploader-id type="integer">18068</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/409977/0001-fix-filter_parameter_logging-on-ruby-19-when-params.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>a924737ea074ddd3441781c32d4cd4cd6eaadf08</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-02-13T07:17:46+00:00</created-at>
      <filename>0001-fix-filter_parameter_logging-on-ruby-19-when-params.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">409979</id>
      <size type="integer">3311</size>
      <uploader-id type="integer">18068</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/409979/0001-fix-filter_parameter_logging-on-ruby-19-when-params.patch</url>
    </attachment>
  </attachments>
</ticket>
