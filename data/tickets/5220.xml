<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-07-27T23:36:00+01:00</created-at>
  <creator-id type="integer">108320</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">5220</number>
  <permalink>strange-character-in-webrick-output</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>logtailer</tag>
  <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
  <updated-at type="datetime">2010-10-15T23:01:59+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">17</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Vincent</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>After updating Rails to the latest master and running a freshly created app I noticed a strange 's' character in the WEBrick output:

@@@
Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&gt;&quot;&#9731;&quot;, &quot;authenticity_token&quot;=&gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&gt;{&quot;name&quot;=&gt;&quot;task 1&quot;}, &quot;commit&quot;=&gt;&quot;Update Task&quot;, &quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)
@@@

Looks like someone forgot to delete some debug code.</original-body>
  <latest-body>After updating Rails to the latest master and running a freshly created app I noticed a strange 's' character in the WEBrick output:

@@@
Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&gt;&quot;&#9731;&quot;, &quot;authenticity_token&quot;=&gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&gt;{&quot;name&quot;=&gt;&quot;task 1&quot;}, &quot;commit&quot;=&gt;&quot;Update Task&quot;, &quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)
@@@

Looks like someone forgot to delete some debug code.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;After updating Rails to the latest master and running a freshly
created app I noticed a strange 's' character in the WEBrick
output:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&amp;gt;&quot;&amp;#9731;&quot;, &quot;authenticity_token&quot;=&amp;gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&amp;gt;{&quot;name&quot;=&amp;gt;&quot;task 1&quot;}, &quot;commit&quot;=&amp;gt;&quot;Update Task&quot;, &quot;id&quot;=&amp;gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&amp;gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Looks like someone forgot to delete some debug code.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>After updating Rails to the latest master and running a freshly created app I noticed a strange 's' character in the WEBrick output:

@@@
Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&gt;&quot;&#9731;&quot;, &quot;authenticity_token&quot;=&gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&gt;{&quot;name&quot;=&gt;&quot;task 1&quot;}, &quot;commit&quot;=&gt;&quot;Update Task&quot;, &quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)
@@@

Looks like someone forgot to delete some debug code.</body>
      <body-html>&lt;div&gt;&lt;p&gt;After updating Rails to the latest master and running a freshly
created app I noticed a strange 's' character in the WEBrick
output:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&amp;gt;&quot;&amp;#9731;&quot;, &quot;authenticity_token&quot;=&amp;gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&amp;gt;{&quot;name&quot;=&amp;gt;&quot;task 1&quot;}, &quot;commit&quot;=&amp;gt;&quot;Update Task&quot;, &quot;id&quot;=&amp;gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&amp;gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Looks like someone forgot to delete some debug code.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-27T23:36:00+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-27T23:36:02+01:00</updated-at>
      <user-id type="integer">108320</user-id>
      <version type="integer">1</version>
      <user-name>Vincent</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>That's a parameter for IE to use UTF8 forms

http://github.com/rails/rails/commit/25215d7285db10e2c04d903f251b791342e4dd6a

@@@


    Fix several known web encoding issues:

        * Specify accept-charset on all forms. All recent browsers, as well as IE5+, will use the encoding specified for form parameters
        * Unfortunately, IE5+ will not look at accept-charset unless at least one character in the form's values is not in the page's charset. Since the user can override the default
          charset (which Rails sets to UTF-8), we provide a hidden input containing a unicode character, forcing IE to look at the accept-charset.
        * Now that the vast majority of web input is UTF-8, we set the inbound parameters to UTF-8. This will eliminate many cases of incompatible encodings between ASCII-8BIT and
          UTF-8.
        * You can safely ignore params[:_snowman]

@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;That's a parameter for IE to use UTF8 forms&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/rails/rails/commit/25215d7285db10e2c04d903f251b791342e4dd6a&quot;&gt;
http://github.com/rails/rails/commit/25215d7285db10e2c04d903f251b79...&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;

    Fix several known web encoding issues:

        * Specify accept-charset on all forms. All recent browsers, as well as IE5+, will use the encoding specified for form parameters
        * Unfortunately, IE5+ will not look at accept-charset unless at least one character in the form's values is not in the page's charset. Since the user can override the default
          charset (which Rails sets to UTF-8), we provide a hidden input containing a unicode character, forcing IE to look at the accept-charset.
        * Now that the vast majority of web input is UTF-8, we set the inbound parameters to UTF-8. This will eliminate many cases of incompatible encodings between ASCII-8BIT and
          UTF-8.
        * You can safely ignore params[:_snowman]&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T00:43:36+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>invalid</tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T00:43:40+01:00</updated-at>
      <user-id type="integer">51953</user-id>
      <version type="integer">2</version>
      <user-name>rorra</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>There's is a 's' character after '...Completed 302 Found in 73ms'. I'm getting this character every time I create/update a record. Is this somehow related to &quot;_snowman&quot;=&gt;&quot;&#9731;&quot; ? 

@@@
Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&gt;&quot;&#9731;&quot;, &quot;authenticity_token&quot;=&gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&gt;{&quot;name&quot;=&gt;&quot;task 1&quot;}, &quot;commit&quot;=&gt;&quot;Update Task&quot;, &quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)
@@@

Like if you would write @@@puts 's'@@@ in your rails app.</body>
      <body-html>&lt;div&gt;&lt;p&gt;There's is a 's' character after '...Completed 302 Found in
73ms'. I'm getting this character every time I create/update a
record. Is this somehow related to &quot;_snowman&quot;=&amp;gt;&quot;&amp;#9731;&quot; ?&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Started POST &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#update as HTML
  Parameters: {&quot;_snowman&quot;=&amp;gt;&quot;&amp;#9731;&quot;, &quot;authenticity_token&quot;=&amp;gt;&quot;iOLKcwhiDDQahpPIWV3Grv1XmA0PZ0JmNMQfKshFtp4=&quot;, &quot;task&quot;=&amp;gt;{&quot;name&quot;=&amp;gt;&quot;task 1&quot;}, &quot;commit&quot;=&amp;gt;&quot;Update Task&quot;, &quot;id&quot;=&amp;gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
  SQL (0.2ms)  UPDATE &quot;tasks&quot; SET &quot;name&quot; = 'task 1', &quot;updated_at&quot; = '2010-07-27 22:35:00.576330' WHERE (&quot;tasks&quot;.&quot;id&quot; = 1)
Redirected to http://localhost:3008/tasks/1
Completed 302 Found in 73ms
s


Started GET &quot;/tasks/1&quot; for 127.0.0.1 at 2010-07-27 18:35:00 -0400
  Processing by TasksController#show as HTML
  Parameters: {&quot;id&quot;=&amp;gt;&quot;1&quot;}
  Task Load (0.1ms)  SELECT &quot;tasks&quot;.* FROM &quot;tasks&quot; WHERE (&quot;tasks&quot;.&quot;id&quot; = 1) LIMIT 1
Rendered tasks/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.4ms | ActiveRecord: 0.1ms)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Like if you would write @@@puts 's'@@@ in your rails app.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T01:10:41+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>invalid</tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T01:10:44+01:00</updated-at>
      <user-id type="integer">108320</user-id>
      <version type="integer">3</version>
      <user-name>Vincent</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T01:24:58+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: invalid
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T01:25:02+01:00</updated-at>
      <user-id type="integer">51953</user-id>
      <version type="integer">4</version>
      <user-name>rorra</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Sorry, I didn't know what I was thinking :P

Yes, I confirm that after a post, the last character of the process_action method is printed again when you execute another action, probably something related to the buffer or something like that

So i.e. if you update ActionController::LogSubscriber#process_action

@@@
      #message = &quot;Completed #{payload[:status]} #{Rack::Utils::HTTP_STATUS_CODES[payload[:status]]} in %.0fms&quot; % event.duration
      #message &lt;&lt; &quot; (#{additions.join(&quot; | &quot;)})&quot; unless additions.blank?
      message = 'hello world'
@@@

you will see a 'd' instead of a 's'

It happens with webrick on the console, the logs file doesn't seem affected by it</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry, I didn't know what I was thinking :P&lt;/p&gt;
&lt;p&gt;Yes, I confirm that after a post, the last character of the
process_action method is printed again when you execute another
action, probably something related to the buffer or something like
that&lt;/p&gt;
&lt;p&gt;So i.e. if you update
ActionController::LogSubscriber#process_action&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;      #message = &quot;Completed #{payload[:status]} #{Rack::Utils::HTTP_STATUS_CODES[payload[:status]]} in %.0fms&quot; % event.duration
      #message &amp;lt;&amp;lt; &quot; (#{additions.join(&quot; | &quot;)})&quot; unless additions.blank?
      message = 'hello world'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;you will see a 'd' instead of a 's'&lt;/p&gt;
&lt;p&gt;It happens with webrick on the console, the logs file doesn't
seem affected by it&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T01:43:45+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T01:43:47+01:00</updated-at>
      <user-id type="integer">51953</user-id>
      <version type="integer">5</version>
      <user-name>rorra</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T02:19:11+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T02:19:13+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">6</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Is this appearing on all requests or it happened once? Can you reproduce in a small rails application?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Is this appearing on all requests or it happened once? Can you
reproduce in a small rails application?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-28T04:51:17+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T04:51:20+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">7</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>All create/update requests. Small application attached. I'm using Ruby 1.9.2dev.</body>
      <body-html>&lt;div&gt;&lt;p&gt;All create/update requests. Small application attached. I'm
using Ruby 1.9.2dev.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-28T05:02:50+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T05:02:55+01:00</updated-at>
      <user-id type="integer">108320</user-id>
      <version type="integer">8</version>
      <user-name>Vincent</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T05:07:06+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:state: invalid
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T05:07:10+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">9</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>It's something related to the bufferered logger and webrick.

The same logger writes the content as expected on the log files, but it adds the last character of the post messaged logged by LogSubscriber#process_action.

But another thing it's happening on my rails applications (ruby 1.9.2.RC and master branch of rails), is that on a create action (POST request followed by a GET request because of redirection), the POST action is being shown in the webrick console, but the GET request is not being displayed, and after that, if you do any other request, then the GET request that was not shown is shown and here is where the character appears.

So, after calling the create action, I see this on the webrick console
@@@
Started POST &quot;/projects&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#create as HTML
  Parameters: {&quot;_snowman&quot;=&gt;&quot;&#9731;&quot;, &quot;authenticity_token&quot;=&gt;&quot;MQlcfwwQiI3xlnjKWx40iW+bx4pxi+Esc8jLNByuDaw=&quot;, &quot;project&quot;=&gt;{&quot;name&quot;=&gt;&quot;a&quot;, &quot;title&quot;=&gt;&quot;b&quot;, &quot;description&quot;=&gt;&quot;c&quot;, &quot;start_on(1i)&quot;=&gt;&quot;2010&quot;, &quot;start_on(2i)&quot;=&gt;&quot;7&quot;, &quot;start_on(3i)&quot;=&gt;&quot;28&quot;, &quot;end_on(1i)&quot;=&gt;&quot;2010&quot;, &quot;end_on(2i)&quot;=&gt;&quot;7&quot;, &quot;end_on(3i)&quot;=&gt;&quot;28&quot;}, &quot;commit&quot;=&gt;&quot;Create Project&quot;}
  SQL (0.3ms)  BEGIN
  SQL (0.4ms)  INSERT INTO `projects` (`created_at`, `description`, `end_on`, `name`, `start_on`, `title`, `updated_at`) VALUES ('2010-07-28 05:04:46', 'c', '2010-07-28', 'a', '2010-07-28', 'b', '2010-07-28 05:04:46')
  SQL (1.3ms)  COMMIT
Redirected to http://localhost:3000/projects/27
Completed 302 Found in 34ms
@@@

And then if I go to any page, like to projects/27
@@@
s


Started GET &quot;/projects/27&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;27&quot;}
  Project Load (1.2ms)  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 27) LIMIT 1
Rendered projects/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 38ms (Views: 22.8ms | ActiveRecord: 3.1ms)


Started GET &quot;/projects/27&quot; for 127.0.0.1 at 2010-07-28 02:05:32 -0300
  Processing by ProjectsController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;27&quot;}
  Project Load (1.2ms)  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 27) LIMIT 1
Rendered projects/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 37ms (Views: 20.8ms | ActiveRecord: 1.2ms)
@@@

So here you see that the first character appears, and that the GET action that was missing from when I created the model also appears.

Where the expected log on the console after saving the model should be

@@@
Started POST &quot;/projects&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#create as HTML
  Parameters: {&quot;_snowman&quot;=&gt;&quot;&#9731;&quot;, &quot;authenticity_token&quot;=&gt;&quot;MQlcfwwQiI3xlnjKWx40iW+bx4pxi+Esc8jLNByuDaw=&quot;, &quot;project&quot;=&gt;{&quot;name&quot;=&gt;&quot;a&quot;, &quot;title&quot;=&gt;&quot;b&quot;, &quot;description&quot;=&gt;&quot;c&quot;, &quot;start_on(1i)&quot;=&gt;&quot;2010&quot;, &quot;start_on(2i)&quot;=&gt;&quot;7&quot;, &quot;start_on(3i)&quot;=&gt;&quot;28&quot;, &quot;end_on(1i)&quot;=&gt;&quot;2010&quot;, &quot;end_on(2i)&quot;=&gt;&quot;7&quot;, &quot;end_on(3i)&quot;=&gt;&quot;28&quot;}, &quot;commit&quot;=&gt;&quot;Create Project&quot;}
  SQL (0.3ms)  BEGIN
  SQL (0.4ms)  INSERT INTO `projects` (`created_at`, `description`, `end_on`, `name`, `start_on`, `title`, `updated_at`) VALUES ('2010-07-28 05:04:46', 'c', '2010-07-28', 'a', '2010-07-28', 'b', '2010-07-28 05:04:46')
  SQL (1.3ms)  COMMIT
Redirected to http://localhost:3000/projects/27
Completed 302 Found in 34ms

Started GET &quot;/projects/27&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#show as HTML
  Parameters: {&quot;id&quot;=&gt;&quot;27&quot;}
  Project Load (1.2ms)  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 27) LIMIT 1
Rendered projects/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 38ms (Views: 22.8ms | ActiveRecord: 3.1ms)
@@@

BTW, I'm using webrick 1.3.1</body>
      <body-html>&lt;div&gt;&lt;p&gt;It's something related to the bufferered logger and webrick.&lt;/p&gt;
&lt;p&gt;The same logger writes the content as expected on the log files,
but it adds the last character of the post messaged logged by
LogSubscriber#process_action.&lt;/p&gt;
&lt;p&gt;But another thing it's happening on my rails applications (ruby
1.9.2.RC and master branch of rails), is that on a create action
(POST request followed by a GET request because of redirection),
the POST action is being shown in the webrick console, but the GET
request is not being displayed, and after that, if you do any other
request, then the GET request that was not shown is shown and here
is where the character appears.&lt;/p&gt;
&lt;p&gt;So, after calling the create action, I see this on the webrick
console&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Started POST &quot;/projects&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#create as HTML
  Parameters: {&quot;_snowman&quot;=&amp;gt;&quot;&amp;#9731;&quot;, &quot;authenticity_token&quot;=&amp;gt;&quot;MQlcfwwQiI3xlnjKWx40iW+bx4pxi+Esc8jLNByuDaw=&quot;, &quot;project&quot;=&amp;gt;{&quot;name&quot;=&amp;gt;&quot;a&quot;, &quot;title&quot;=&amp;gt;&quot;b&quot;, &quot;description&quot;=&amp;gt;&quot;c&quot;, &quot;start_on(1i)&quot;=&amp;gt;&quot;2010&quot;, &quot;start_on(2i)&quot;=&amp;gt;&quot;7&quot;, &quot;start_on(3i)&quot;=&amp;gt;&quot;28&quot;, &quot;end_on(1i)&quot;=&amp;gt;&quot;2010&quot;, &quot;end_on(2i)&quot;=&amp;gt;&quot;7&quot;, &quot;end_on(3i)&quot;=&amp;gt;&quot;28&quot;}, &quot;commit&quot;=&amp;gt;&quot;Create Project&quot;}
  SQL (0.3ms)  BEGIN
  SQL (0.4ms)  INSERT INTO &lt;/code&gt;projects (&lt;code&gt;created_at&lt;/code&gt;, &lt;code&gt;description&lt;/code&gt;, &lt;code&gt;end_on&lt;/code&gt;, &lt;code&gt;name&lt;/code&gt;, &lt;code&gt;start_on&lt;/code&gt;, &lt;code&gt;title&lt;/code&gt;, &lt;code&gt;updated_at&lt;/code&gt;) VALUES ('2010-07-28 05:04:46', 'c', '2010-07-28', 'a', '2010-07-28', 'b', '2010-07-28 05:04:46')
  SQL (1.3ms)  COMMIT
Redirected to http://localhost:3000/projects/27
Completed 302 Found in 34ms
&lt;/pre&gt;
&lt;p&gt;And then if I go to any page, like to projects/27&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;s&lt;br&gt;
&lt;br&gt;


&lt;br&gt;
Started GET &quot;/projects/27&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#show as HTML
  Parameters: {&quot;id&quot;=&amp;gt;&quot;27&quot;}
  Project Load (1.2ms)  SELECT &lt;/code&gt;projects.* FROM &lt;code&gt;projects&lt;/code&gt; WHERE (&lt;code&gt;projects&lt;/code&gt;.&lt;code&gt;id&lt;/code&gt; = 27) LIMIT 1
Rendered projects/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 38ms (Views: 22.8ms | ActiveRecord: 3.1ms)

&lt;br&gt;
Started GET &quot;/projects/27&quot; for 127.0.0.1 at 2010-07-28 02:05:32 -0300
  Processing by ProjectsController#show as HTML
  Parameters: {&quot;id&quot;=&amp;gt;&quot;27&quot;}
  Project Load (1.2ms)  SELECT &lt;code&gt;projects&lt;/code&gt;.* FROM &lt;code&gt;projects&lt;/code&gt; WHERE (&lt;code&gt;projects&lt;/code&gt;.&lt;code&gt;id&lt;/code&gt; = 27) LIMIT 1
Rendered projects/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 37ms (Views: 20.8ms | ActiveRecord: 1.2ms)
&lt;/pre&gt;
&lt;p&gt;So here you see that the first character appears, and that the
GET action that was missing from when I created the model also
appears.&lt;/p&gt;
&lt;p&gt;Where the expected log on the console after saving the model
should be&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Started POST &quot;/projects&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#create as HTML
  Parameters: {&quot;_snowman&quot;=&amp;gt;&quot;&amp;#9731;&quot;, &quot;authenticity_token&quot;=&amp;gt;&quot;MQlcfwwQiI3xlnjKWx40iW+bx4pxi+Esc8jLNByuDaw=&quot;, &quot;project&quot;=&amp;gt;{&quot;name&quot;=&amp;gt;&quot;a&quot;, &quot;title&quot;=&amp;gt;&quot;b&quot;, &quot;description&quot;=&amp;gt;&quot;c&quot;, &quot;start_on(1i)&quot;=&amp;gt;&quot;2010&quot;, &quot;start_on(2i)&quot;=&amp;gt;&quot;7&quot;, &quot;start_on(3i)&quot;=&amp;gt;&quot;28&quot;, &quot;end_on(1i)&quot;=&amp;gt;&quot;2010&quot;, &quot;end_on(2i)&quot;=&amp;gt;&quot;7&quot;, &quot;end_on(3i)&quot;=&amp;gt;&quot;28&quot;}, &quot;commit&quot;=&amp;gt;&quot;Create Project&quot;}
  SQL (0.3ms)  BEGIN
  SQL (0.4ms)  INSERT INTO `projects` (`created_at`, `description`, `end_on`, `name`, `start_on`, `title`, `updated_at`) VALUES ('2010-07-28 05:04:46', 'c', '2010-07-28', 'a', '2010-07-28', 'b', '2010-07-28 05:04:46')
  SQL (1.3ms)  COMMIT
Redirected to http://localhost:3000/projects/27
Completed 302 Found in 34ms

Started GET &quot;/projects/27&quot; for 127.0.0.1 at 2010-07-28 02:04:46 -0300
  Processing by ProjectsController#show as HTML
  Parameters: {&quot;id&quot;=&amp;gt;&quot;27&quot;}
  Project Load (1.2ms)  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 27) LIMIT 1
Rendered projects/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 38ms (Views: 22.8ms | ActiveRecord: 3.1ms)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;BTW, I'm using webrick 1.3.1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T06:07:44+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Strange character in WEBrick output</title>
      <updated-at type="datetime">2010-07-28T06:07:47+01:00</updated-at>
      <user-id type="integer">51953</user-id>
      <version type="integer">10</version>
      <user-name>rorra</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The Logger is working fine.  It properly writes the log information to disk. The problem is in Rails::Rack::LogTailer. LogTailer reads from the log file and displays it on the console. 

LogTailer contains a cursor that tracks the end of the last read. Updates to this cursor are based on the size of the in-memory data that is read from the file. The in-memory representation of a newline is a single byte (&quot;\n&quot;). However, the on-disk representation of a newline is not necessarily a single byte.
Most notably, Windows represents a newline in as file as a CR+LF (2 bytes!). (See [&quot;Newline at wikipedia.org&quot;](http://en.wikipedia.org/wiki/Newline#cite_note-2 &quot;Newline&quot;) and [&quot;Unicode Newline Guidelines at unicode.org&quot;](http://www.unicode.org/standard/reports/tr13/tr13-5.html &quot;Unicode Newline Guidelines&quot;) if you are interested in additional information.)

To fix this problem, the cursor must remain synchronized with the on-disk representation of the data.  This can be accomplished by replacing &quot;@cursor += contents.size&quot; with &quot;@cursor = @file.tell&quot;

The attached patch contains this change as well as a simple refactoring/streamlining to make LogTailer depend on File#eof? rather than File#mtime as the mechanism for determining if there is additional content in the logfile. This refactoring/streamlining eliminates one local variable and one instance variable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The Logger is working fine. It properly writes the log
information to disk. The problem is in Rails::Rack::LogTailer.
LogTailer reads from the log file and displays it on the
console.&lt;/p&gt;
&lt;p&gt;LogTailer contains a cursor that tracks the end of the last
read. Updates to this cursor are based on the size of the in-memory
data that is read from the file. The in-memory representation of a
newline is a single byte (&quot;\n&quot;). However, the on-disk
representation of a newline is not necessarily a single byte.&lt;br&gt;
Most notably, Windows represents a newline in as file as a CR+LF (2
bytes!). (See &lt;a href=
&quot;http://en.wikipedia.org/wiki/Newline#cite_note-2&quot; title=
&quot;Newline&quot;&gt;&quot;Newline at wikipedia.org&quot;&lt;/a&gt; and &lt;a href=
&quot;http://www.unicode.org/standard/reports/tr13/tr13-5.html&quot; title=
&quot;Unicode Newline Guidelines&quot;&gt;&quot;Unicode Newline Guidelines at
unicode.org&quot;&lt;/a&gt; if you are interested in additional
information.)&lt;/p&gt;
&lt;p&gt;To fix this problem, the cursor must remain synchronized with
the on-disk representation of the data. This can be accomplished by
replacing &quot;@cursor += contents.size&quot; with &quot;@cursor =
@file.tell&quot;&lt;/p&gt;
&lt;p&gt;The attached patch contains this change as well as a simple
refactoring/streamlining to make LogTailer depend on File#eof?
rather than File#mtime as the mechanism for determining if there is
additional content in the logfile. This refactoring/streamlining
eliminates one local variable and one instance variable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-29T02:56:54+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
:title: Strange character in WEBrick output
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-07-29T02:56:56+01:00</updated-at>
      <user-id type="integer">109330</user-id>
      <version type="integer">11</version>
      <user-name>Curtis Cablegram</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 Awesome work! :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 Awesome work! :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-29T03:37:00+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-07-29T03:37:05+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">12</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Curtis, nice, I tried your fix and works great for me :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Curtis, nice, I tried your fix and works great for me :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-29T04:25:40+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-07-29T04:25:44+01:00</updated-at>
      <user-id type="integer">51953</user-id>
      <version type="integer">13</version>
      <user-name>rorra</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Curtis can you add a test for this?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Curtis can you add a test for this?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-30T02:02:31+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-07-30T02:02:32+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">14</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Santiago, LogTailer doesn't have any tests currently.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Santiago, LogTailer doesn't have any tests currently.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-03T03:09:15+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-08-03T03:09:18+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">15</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [e1142dfcae036bd8c6400962f9e07112b750b730]) Refactor log-tailer to depend on File#eof? rather than File#mtime

[#5220 state:resolved]

Eliminate 1 instance variable and 1 local variable.

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/e1142dfcae036bd8c6400962f9e07112b750b730</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/e1142dfcae036bd8c6400962f9e07112b750b730&quot;
title=
&quot;Changeset [e1142dfcae036bd8c6400962f9e07112b750b730]&quot;&gt;[e1142dfcae036bd8c6400962f9e07112b750b730]&lt;/a&gt;)
Refactor log-tailer to depend on File#eof? rather than
File#mtime&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/5220&quot; title=
&quot;Ticket #5220&quot;&gt;#5220&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Eliminate 1 instance variable and 1 local variable.&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/e1142dfcae036bd8c6400962f9e07112b750b730&quot;&gt;
http://github.com/rails/rails/commit/e1142dfcae036bd8c6400962f9e071...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-03T09:53:34+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:state: verified
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-08-03T09:53:36+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">16</version>
      <user-name>Repository</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:59+01:00</created-at>
      <creator-id type="integer">108320</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5220</number>
      <permalink>strange-character-in-webrick-output</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>logtailer</tag>
      <title>Strange character in WEBrick output - LogTailer gets out of sync with log file</title>
      <updated-at type="datetime">2010-10-15T23:01:59+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">17</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Vincent</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5220</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>231c9b346862b4af80176b8b694216ba93632419</code>
      <content-type>application/zip</content-type>
      <created-at type="datetime">2010-07-28T05:02:50+01:00</created-at>
      <filename>s_app.zip</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">605443</id>
      <size type="integer">107601</size>
      <uploader-id type="integer">108320</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/605443/s_app.zip</url>
    </attachment>
    <attachment type="Attachment">
      <code>68dd2c44b996cff0bcea95f5ef902ad2a51a4938</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-07-29T02:56:54+01:00</created-at>
      <filename>ticket-5220.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">607357</id>
      <size type="integer">2219</size>
      <uploader-id type="integer">109330</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/607357/ticket-5220.diff</url>
    </attachment>
  </attachments>
</ticket>
