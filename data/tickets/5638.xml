<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">40272</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-25T03:23:38+01:00</created-at>
  <creator-id type="integer">73188</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">5638</number>
  <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>patched</tag>
  <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
  <updated-at type="datetime">2010-11-11T17:32:34+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">19</version>
  <user-name>Repository</user-name>
  <creator-name>Nathan B</creator-name>
  <assigned-user-name>Santiago Pastorino</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>This happens if there is a select list to choose an existing 'task' id, with :include_blank =&gt; true, and the user submits the form with the blank task selected.

    class Project &lt; ActiveRecord::Base
      has_many :tasks
      accepts_nested_attributes_for :tasks, :reject_if =&gt; proc { |attributes| attributes[:id].blank? } 
    end
    
    class Task &lt; ActiveRecord::Base
      belongs_to :project
    end

    p = Project.new(:name =&gt; &quot;project&quot;, :tasks_attributes =&gt; {&quot;0&quot; =&gt; {&quot;name&quot; =&gt; &quot;new name&quot;, &quot;id&quot; =&gt; &quot;&quot;}})
    p.save
    
    =&gt; ActiveRecord::RecordNotFound (Couldn't find Account with ID= [WHERE (`accounts`.`deleted_at` IS NULL)]):
    
We traced the problem to activerecord/lib/active_record/nested_attributes.rb in the assign_nested_attributes_for_one_to_one_association method, at line 326:

    elsif attributes['id']

should be 
 
    elsif not attributes['id'].blank?

(Note: assign_nested_attributes_for_collection_association uses attributes['id'].blank? already at line 395)

This is on Rails 3.0.0

Patch is attached (including test), or on my rails fork: http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03a11c33f46866216b</original-body>
  <latest-body>This happens if there is a select list to choose an existing 'task' id, with :include_blank =&gt; true, and the user submits the form with the blank task selected.

    class Project &lt; ActiveRecord::Base
      has_many :tasks
      accepts_nested_attributes_for :tasks, :reject_if =&gt; proc { |attributes| attributes[:id].blank? } 
    end
    
    class Task &lt; ActiveRecord::Base
      belongs_to :project
    end

    p = Project.new(:name =&gt; &quot;project&quot;, :tasks_attributes =&gt; {&quot;0&quot; =&gt; {&quot;name&quot; =&gt; &quot;new name&quot;, &quot;id&quot; =&gt; &quot;&quot;}})
    p.save
    
    =&gt; ActiveRecord::RecordNotFound (Couldn't find Account with ID= [WHERE (`accounts`.`deleted_at` IS NULL)]):
    
We traced the problem to activerecord/lib/active_record/nested_attributes.rb in the assign_nested_attributes_for_one_to_one_association method, at line 326:

    elsif attributes['id']

should be 
 
    elsif not attributes['id'].blank?

(Note: assign_nested_attributes_for_collection_association uses attributes['id'].blank? already at line 395)

This is on Rails 3.0.0

Patch is attached (including test), or on my rails fork: http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03a11c33f46866216b</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;This happens if there is a select list to choose an existing
'task' id, with :include_blank =&amp;gt; true, and the user submits the
form with the blank task selected.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Project &amp;lt; ActiveRecord::Base
  has_many :tasks
  accepts_nested_attributes_for :tasks, :reject_if =&amp;gt; proc { |attributes| attributes[:id].blank? } 
end

class Task &amp;lt; ActiveRecord::Base
  belongs_to :project
end

p = Project.new(:name =&amp;gt; &quot;project&quot;, :tasks_attributes =&amp;gt; {&quot;0&quot; =&amp;gt; {&quot;name&quot; =&amp;gt; &quot;new name&quot;, &quot;id&quot; =&amp;gt; &quot;&quot;}})
p.save

=&amp;gt; ActiveRecord::RecordNotFound (Couldn't find Account with ID= [WHERE (`accounts`.`deleted_at` IS NULL)]):&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We traced the problem to
activerecord/lib/active_record/nested_attributes.rb in the
assign_nested_attributes_for_one_to_one_association method, at line
326:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;elsif attributes['id']&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;should be&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;elsif not attributes['id'].blank?&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;(Note: assign_nested_attributes_for_collection_association uses
attributes['id'].blank? already at line 395)&lt;/p&gt;
&lt;p&gt;This is on Rails 3.0.0&lt;/p&gt;
&lt;p&gt;Patch is attached (including test), or on my rails fork:
&lt;a href=&quot;http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03a11c33f46866216b&quot;&gt;
http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This happens if there is a select list to choose an existing 'task' id, with :include_blank =&gt; true, and the user submits the form with the blank task selected.

    class Project &lt; ActiveRecord::Base
      has_many :tasks
      accepts_nested_attributes_for :tasks, :reject_if =&gt; proc { |attributes| attributes[:id].blank? } 
    end
    
    class Task &lt; ActiveRecord::Base
      belongs_to :project
    end

    p = Project.new(:name =&gt; &quot;project&quot;, :tasks_attributes =&gt; {&quot;0&quot; =&gt; {&quot;name&quot; =&gt; &quot;new name&quot;, &quot;id&quot; =&gt; &quot;&quot;}})
    p.save
    
    =&gt; ActiveRecord::RecordNotFound (Couldn't find Account with ID= [WHERE (`accounts`.`deleted_at` IS NULL)]):
    
We traced the problem to activerecord/lib/active_record/nested_attributes.rb in the assign_nested_attributes_for_one_to_one_association method, at line 326:

    elsif attributes['id']

should be 
 
    elsif not attributes['id'].blank?

(Note: assign_nested_attributes_for_collection_association uses attributes['id'].blank? already at line 395)

This is on Rails 3.0.0

Patch is attached (including test), or on my rails fork: http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03a11c33f46866216b</body>
      <body-html>&lt;div&gt;&lt;p&gt;This happens if there is a select list to choose an existing
'task' id, with :include_blank =&amp;gt; true, and the user submits the
form with the blank task selected.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Project &amp;lt; ActiveRecord::Base
  has_many :tasks
  accepts_nested_attributes_for :tasks, :reject_if =&amp;gt; proc { |attributes| attributes[:id].blank? } 
end

class Task &amp;lt; ActiveRecord::Base
  belongs_to :project
end

p = Project.new(:name =&amp;gt; &quot;project&quot;, :tasks_attributes =&amp;gt; {&quot;0&quot; =&amp;gt; {&quot;name&quot; =&amp;gt; &quot;new name&quot;, &quot;id&quot; =&amp;gt; &quot;&quot;}})
p.save

=&amp;gt; ActiveRecord::RecordNotFound (Couldn't find Account with ID= [WHERE (`accounts`.`deleted_at` IS NULL)]):&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We traced the problem to
activerecord/lib/active_record/nested_attributes.rb in the
assign_nested_attributes_for_one_to_one_association method, at line
326:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;elsif attributes['id']&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;should be&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;elsif not attributes['id'].blank?&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;(Note: assign_nested_attributes_for_collection_association uses
attributes['id'].blank? already at line 395)&lt;/p&gt;
&lt;p&gt;This is on Rails 3.0.0&lt;/p&gt;
&lt;p&gt;Patch is attached (including test), or on my rails fork:
&lt;a href=&quot;http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03a11c33f46866216b&quot;&gt;
http://github.com/ndbroadbent/rails/commit/f13a5674885f3d3388b5bc03...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-16T05:25:40+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for activerecord::recordnotfound &quot;blank id&quot; bug</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-09-16T05:25:42+01:00</updated-at>
      <user-id type="integer">73188</user-id>
      <version type="integer">1</version>
      <user-name>Nathan B</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>excellent</body>
      <body-html>&lt;div&gt;&lt;p&gt;excellent&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-16T10:25:28+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for activerecord::recordnotfound &quot;blank id&quot; bug</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-09-16T10:25:29+01:00</updated-at>
      <user-id type="integer">73188</user-id>
      <version type="integer">3</version>
      <user-name>Nathan B</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Not sure how much of overlap is there between this ticket and #5579 . I will look into that later.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Not sure how much of overlap is there between this ticket and
&lt;a href=&quot;/projects/8994/tickets/5579&quot; title=
&quot;Ticket #5579&quot;&gt;#5579&lt;/a&gt; . I will look into that later.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-16T13:14:08+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for activerecord::recordnotfound &quot;blank id&quot; bug</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-09-16T13:14:10+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">4</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-14T04:51:26+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: accepts_nested_attributes_for activerecord::recordnotfound &quot;blank id&quot; bug
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-10-14T04:51:28+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">6</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-15T23:01:29+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-10-15T23:01:32+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">7</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-16T00:49:58+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-10-16T00:50:01+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">8</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-16T02:22:58+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: boots sheepskin
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-10-16T02:23:03+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">10</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T08:35:52+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-10-19T08:35:57+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">12</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Searching the web for one-of-a-kind corporate  giveaways is the way to&lt;strong&gt; &lt;/strong&gt;&lt;a href=&quot;http://www.ffxivcdkey.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ff14  cd key&lt;/strong&gt;&lt;/a&gt; go these days. If your company is still planning to hand  out traditional Christmas tokens that are not eliciting excitement and delight  from your &lt;a href=&quot;http://www.gocataclysm.com/&quot;&gt;&lt;strong&gt;cataclysm cd key&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt; &lt;/strong&gt;recipients  (valued clients, suppliers, and business friends), then it's time you change  tack and start websites offering fabulous gifts. To add a &lt;a href=&quot;http://www.myffxivgold.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv  cd key&lt;/strong&gt;&lt;/a&gt; special touch to your gifts, you can have them  personalized. Or you may opt to order your corporate gifts in bulk, have your  company logo embossed on the item, and add the top executive's your handwritten  message on a small gift card. &lt;a href=&quot;http://www.gocataclysm.com/&quot;&gt;&lt;strong&gt;wow cataclysm cd key&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt; &lt;/strong&gt;Ordering in bulk&lt;strong&gt; &lt;/strong&gt;translates &lt;a href=&quot;http://www.urffxivgil.com/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd key&lt;/strong&gt;&lt;/a&gt; to cost savings  plus a few freebies from a supplier.
  When choosing corporate &lt;a href=&quot;http://www.gocataclysm.com/&quot;&gt;&lt;strong&gt;world  of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; giveaways, you need not necessarily stick  to the all-time favorite - tabletop accessories. There are, of course, old  standbys that &lt;a href=&quot;http://www.urffxivgil.com/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd key&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt; &lt;/strong&gt;are designed in a unique way, and are appreciated for their  functionality and style. Examples are an elegant-looking silver plated pen  stand designed like a golf ball, or metal business card holder or small  note/message holder&lt;strong&gt; &lt;/strong&gt;&lt;a href=&quot;http://www.gocataclysm.com/wow-cdkey-eu.php&quot;&gt;&lt;strong&gt;wow cataclysm key&lt;/strong&gt;&lt;/a&gt; with a star shape, personalized with the  recipient's nickname. There are many other unique online finds that will really  fly corporate &lt;a href=&quot;http://www.gocataclysm.com/wow-cdkey-us.php&quot;&gt;&lt;strong&gt;buy world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt; &lt;/strong&gt;giveaways. You need to set aside time  to browse and get huge discounts from companies that don't sacrifice &lt;a href=&quot;http://www.ff14gil.co.uk/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv  cd key&lt;/strong&gt;&lt;/a&gt; quality.
  Non-&lt;a href=&quot;http://www.ff14gold.ca/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv  cd key&lt;/strong&gt;&lt;/a&gt;traditional gifts may be Christmas hampers or basketful of  goodies that are creatively packaged. Gourmet basket of goodies may be purchased  online and delivered to valued clients' offices. There are also&lt;strong&gt; &lt;/strong&gt;&lt;a href=&quot;http://www.buyff14gil-au.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd key&lt;/strong&gt;&lt;/a&gt;tasty  edibles, like delicious cookies an pastries in lovely tin cans or other  creative packaging usually offered by family-run bakeries that maintain an  online presence. Some of them do their stuff so well they've built a steady &lt;a href=&quot;http://www.buyff14gil-au.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd key&lt;/strong&gt;&lt;/a&gt; client  base. The most highly appreciated corporate gifts &lt;a href=&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;cataclysm cd key&lt;/strong&gt;&lt;/a&gt; are that can be  purchased online are &lt;a href=&quot;http://www.topffxiv.ca/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd key&lt;/strong&gt;&lt;/a&gt; those which lookelegant  and professional yet have a personal touch. To discover save money shopping  online at Xmas, keep browsing the web because every now and then, there are  innovative &lt;a href=&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;&lt;strong&gt;world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; gif  ideas an new arrivals from retailers continually popping up. So you&lt;strong&gt; &lt;/strong&gt;see, when the season for gift-giving is at hand, you need not spend  a fortune. You can cast your sight on the best and most&lt;strong&gt; &lt;/strong&gt;reputable &lt;a href=&quot;http://www.myffxivgold.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd key&lt;/strong&gt;&lt;/a&gt; online shops  offering &lt;a href=&quot;http://www.topffxiv.ca/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ff14  cd key&lt;/strong&gt;&lt;/a&gt; inexpensive yet delightful Christmas gifts.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Searching the web for one-of-a-kind corporate giveaways is the
way to &lt;a href=
&quot;http://www.ffxivcdkey.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd
key&lt;/strong&gt;&lt;/a&gt; go these days. If your company is still planning
to hand out traditional Christmas tokens that are not eliciting
excitement and delight from your &lt;a href=
&quot;http://www.gocataclysm.com/&quot;&gt;&lt;strong&gt;cataclysm cd key&lt;/strong&gt;&lt;/a&gt;
recipients (valued clients, suppliers, and business friends), then
it's time you change tack and start websites offering fabulous
gifts. To add a &lt;a href=
&quot;http://www.myffxivgold.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt; special touch to your gifts, you can have them
personalized. Or you may opt to order your corporate gifts in bulk,
have your company logo embossed on the item, and add the top
executive's your handwritten message on a small gift card. &lt;a href=
&quot;http://www.gocataclysm.com/&quot;&gt;&lt;strong&gt;wow cataclysm cd
key&lt;/strong&gt;&lt;/a&gt; Ordering in bulk translates &lt;a href=
&quot;http://www.urffxivgil.com/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt; to cost savings plus a few freebies from a
supplier.&lt;br&gt;
When choosing corporate &lt;a href=
&quot;http://www.gocataclysm.com/&quot;&gt;&lt;strong&gt;world of warcraft cataclysm
cd key&lt;/strong&gt;&lt;/a&gt; giveaways, you need not necessarily stick to
the all-time favorite - tabletop accessories. There are, of course,
old standbys that &lt;a href=
&quot;http://www.urffxivgil.com/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd
key&lt;/strong&gt;&lt;/a&gt; are designed in a unique way, and are appreciated
for their functionality and style. Examples are an elegant-looking
silver plated pen stand designed like a golf ball, or metal
business card holder or small note/message holder &lt;a href=
&quot;http://www.gocataclysm.com/wow-cdkey-eu.php&quot;&gt;&lt;strong&gt;wow cataclysm
key&lt;/strong&gt;&lt;/a&gt; with a star shape, personalized with the
recipient's nickname. There are many other unique online finds that
will really fly corporate &lt;a href=
&quot;http://www.gocataclysm.com/wow-cdkey-us.php&quot;&gt;&lt;strong&gt;buy world of
warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; giveaways. You need to set
aside time to browse and get huge discounts from companies that
don't sacrifice &lt;a href=
&quot;http://www.ff14gil.co.uk/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt; quality. Non-&lt;a href=
&quot;http://www.ff14gold.ca/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt;traditional gifts may be Christmas hampers or
basketful of goodies that are creatively packaged. Gourmet basket
of goodies may be purchased online and delivered to valued clients'
offices. There are also &lt;a href=
&quot;http://www.buyff14gil-au.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt;tasty edibles, like delicious cookies an pastries
in lovely tin cans or other creative packaging usually offered by
family-run bakeries that maintain an online presence. Some of them
do their stuff so well they've built a steady &lt;a href=
&quot;http://www.buyff14gil-au.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd
key&lt;/strong&gt;&lt;/a&gt; client base. The most highly appreciated corporate
gifts &lt;a href=
&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;cataclysm
cd key&lt;/strong&gt;&lt;/a&gt; are that can be purchased online are &lt;a href=
&quot;http://www.topffxiv.ca/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt; those which lookelegant and professional yet have
a personal touch. To discover save money shopping online at Xmas,
keep browsing the web because every now and then, there are
innovative &lt;a href=
&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;
&lt;strong&gt;world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; gif ideas
an new arrivals from retailers continually popping up. So you see,
when the season for gift-giving is at hand, you need not spend a
fortune. You can cast your sight on the best and most reputable
&lt;a href=&quot;http://www.myffxivgold.com/ff14-cdkey.html&quot;&gt;&lt;strong&gt;ff14
cd key&lt;/strong&gt;&lt;/a&gt; online shops offering &lt;a href=
&quot;http://www.topffxiv.ca/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd
key&lt;/strong&gt;&lt;/a&gt; inexpensive yet delightful Christmas gifts.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-23T07:16:12+01:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-10-25T03:23:38+01:00</updated-at>
      <user-id type="integer">121508</user-id>
      <version type="integer">13</version>
      <user-name>ffxivgil</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-07T16:56:43+00:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-11-07T16:56:50+00:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">15</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1

Reviewing this patch as per request from Santiago. Tested the patch and it looks good.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;Reviewing this patch as per request from Santiago. Tested the
patch and it looks good.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-11T16:04:43+00:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:tag: 
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patched</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-11-11T16:04:47+00:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">16</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yup, it looks good. I want just to note that in Rails Code Guidelines is stated that we don't use &quot;not&quot;. So this would probably be better written as !a[&quot;id&quot;].blank? or a[&quot;id&quot;].present?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yup, it looks good. I want just to note that in Rails Code
Guidelines is stated that we don't use &quot;not&quot;. So this would
probably be better written as !a[&quot;id&quot;].blank? or
a[&quot;id&quot;].present?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-11T16:11:29+00:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 19965
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patched</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-11-11T16:11:32+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">17</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [894fd288596b005148c3882e6431f6453d198101]) Fixed bug in active_record/nested_attributes where an empty string id caused an ActiveRecord::RecordNotFound error. Found by [Ben Tillman]

[#5638 state:committed]

Signed-off-by: Santiago Pastorino &lt;santiago@wyeworks.com&gt;
https://github.com/rails/rails/commit/894fd288596b005148c3882e6431f6453d198101</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/894fd288596b005148c3882e6431f6453d198101&quot;
title=
&quot;Changeset [894fd288596b005148c3882e6431f6453d198101]&quot;&gt;[894fd288596b005148c3882e6431f6453d198101]&lt;/a&gt;)
Fixed bug in active_record/nested_attributes where an empty string
id caused an ActiveRecord::RecordNotFound error. Found by [Ben
Tillman]&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/5638&quot; title=
&quot;Ticket #5638&quot;&gt;#5638&lt;/a&gt; state:committed]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Santiago Pastorino
&lt;a&gt;santiago@wyeworks.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;https://github.com/rails/rails/commit/894fd288596b005148c3882e6431f6453d198101&quot;&gt;
https://github.com/rails/rails/commit/894fd288596b005148c3882e6431f...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-11T17:27:10+00:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>patched</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-11-11T17:27:14+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">18</version>
      <user-name>Repository</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [d54ab371df9eb34ce26386a6656144e81eadc4b3]) Fixed bug in active_record/nested_attributes where an empty string id caused an ActiveRecord::RecordNotFound error. Found by [Ben Tillman]

[#5638 state:committed]

Signed-off-by: Santiago Pastorino &lt;santiago@wyeworks.com&gt;
https://github.com/rails/rails/commit/d54ab371df9eb34ce26386a6656144e81eadc4b3</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/d54ab371df9eb34ce26386a6656144e81eadc4b3&quot;
title=
&quot;Changeset [d54ab371df9eb34ce26386a6656144e81eadc4b3]&quot;&gt;[d54ab371df9eb34ce26386a6656144e81eadc4b3]&lt;/a&gt;)
Fixed bug in active_record/nested_attributes where an empty string
id caused an ActiveRecord::RecordNotFound error. Found by [Ben
Tillman]&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/5638&quot; title=
&quot;Ticket #5638&quot;&gt;#5638&lt;/a&gt; state:committed]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Santiago Pastorino &lt;a href=
&quot;mailto:santiago@wyeworks.com&quot;&gt;santiago@wyeworks.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;https://github.com/rails/rails/commit/d54ab371df9eb34ce26386a6656144e81eadc4b3&quot;&gt;
https://github.com/rails/rails/commit/d54ab371df9eb34ce26386a665614...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-11T17:32:31+00:00</created-at>
      <creator-id type="integer">73188</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5638</number>
      <permalink>patch-rails3-accepts_nested_attributes_for-reject_if-blank-id-raises-activerecordrecordnotfound-when-id-is-an-empty-string</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>patched</tag>
      <title>[Patch] Rails3 - accepts_nested_attributes_for reject_if =&gt; {blank id} raises ActiveRecord::RecordNotFound when id is an empty string</title>
      <updated-at type="datetime">2010-11-11T17:32:34+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">19</version>
      <user-name>Repository</user-name>
      <creator-name>Nathan B</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5638</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>a6d7839c83215e4d0c110ed75e1e10c6a58534ee</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-16T05:25:40+01:00</created-at>
      <filename>nested_attributes_blank_id_patch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">676092</id>
      <size type="integer">1799</size>
      <uploader-id type="integer">73188</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/676092/nested_attributes_blank_id_patch.diff</url>
    </attachment>
  </attachments>
</ticket>
