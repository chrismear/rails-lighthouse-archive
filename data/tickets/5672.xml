<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-09-21T02:50:10+01:00</created-at>
  <creator-id type="integer">10945</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5672</number>
  <permalink>patch-improved-support-for-shortcut-options-to-custom-validators</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activemodel patch validation</tag>
  <title>[PATCH] Improved support for shortcut options to custom validators</title>
  <updated-at type="datetime">2010-09-24T12:11:13+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">4</version>
  <user-name>Repository</user-name>
  <creator-name>Obie</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5672</url>
  <priority-name>Low</priority-name>
  <original-body>Because of the current implementation of _parse_validates_options, you can only &quot;shortcut&quot; options with arrays, ranges and regexes. This patch expands that feature to so that you can also send other types of objects including strings and numbers. They will be passed to the custom validator's initializer as options[:with], just like happens with regexes now.

@@@ ruby
# current functionality
validates :email, :format =&gt; /@/
validates :gender, :inclusion =&gt; %w(male female)
validates :password, :length =&gt; 6..20

# new functionality in this patch
validates :name, :like =&gt; &quot;Report&quot;
validates :number, :base =&gt; 10      
@@@</original-body>
  <latest-body>Because of the current implementation of _parse_validates_options, you can only &quot;shortcut&quot; options with arrays, ranges and regexes. This patch expands that feature to so that you can also send other types of objects including strings and numbers. They will be passed to the custom validator's initializer as options[:with], just like happens with regexes now.

@@@ ruby
# current functionality
validates :email, :format =&gt; /@/
validates :gender, :inclusion =&gt; %w(male female)
validates :password, :length =&gt; 6..20

# new functionality in this patch
validates :name, :like =&gt; &quot;Report&quot;
validates :number, :base =&gt; 10      
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Because of the current implementation of
_parse_validates_options, you can only &quot;shortcut&quot; options with
arrays, ranges and regexes. This patch expands that feature to so
that you can also send other types of objects including strings and
numbers. They will be passed to the custom validator's initializer
as options[:with], just like happens with regexes now.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;# current functionality
validates :email, :format =&amp;gt; /@/
validates :gender, :inclusion =&amp;gt; %w(male female)
validates :password, :length =&amp;gt; 6..20

# new functionality in this patch
validates :name, :like =&amp;gt; &quot;Report&quot;
validates :number, :base =&amp;gt; 10&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Because of the current implementation of _parse_validates_options, you can only &quot;shortcut&quot; options with arrays, ranges and regexes. This patch expands that feature to so that you can also send other types of objects including strings and numbers. They will be passed to the custom validator's initializer as options[:with], just like happens with regexes now.

@@@ ruby
# current functionality
validates :email, :format =&gt; /@/
validates :gender, :inclusion =&gt; %w(male female)
validates :password, :length =&gt; 6..20

# new functionality in this patch
validates :name, :like =&gt; &quot;Report&quot;
validates :number, :base =&gt; 10      
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Because of the current implementation of
_parse_validates_options, you can only &quot;shortcut&quot; options with
arrays, ranges and regexes. This patch expands that feature to so
that you can also send other types of objects including strings and
numbers. They will be passed to the custom validator's initializer
as options[:with], just like happens with regexes now.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;# current functionality
validates :email, :format =&amp;gt; /@/
validates :gender, :inclusion =&amp;gt; %w(male female)
validates :password, :length =&amp;gt; 6..20

# new functionality in this patch
validates :name, :like =&amp;gt; &quot;Report&quot;
validates :number, :base =&amp;gt; 10&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-21T02:50:10+01:00</created-at>
      <creator-id type="integer">10945</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5672</number>
      <permalink>patch-improved-support-for-shortcut-options-to-custom-validators</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activemodel patch validation</tag>
      <title>[PATCH] Improved support for shortcut options to custom validators</title>
      <updated-at type="datetime">2010-09-21T02:50:13+01:00</updated-at>
      <user-id type="integer">10945</user-id>
      <version type="integer">1</version>
      <user-name>Obie</user-name>
      <creator-name>Obie</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5672</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The patch had trailing whitespace warnings. Attached is a new patch with those removed.

+1 on the patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The patch had trailing whitespace warnings. Attached is a new
patch with those removed.&lt;/p&gt;
&lt;p&gt;+1 on the patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-21T03:06:19+01:00</created-at>
      <creator-id type="integer">10945</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5672</number>
      <permalink>patch-improved-support-for-shortcut-options-to-custom-validators</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activemodel patch validation</tag>
      <title>[PATCH] Improved support for shortcut options to custom validators</title>
      <updated-at type="datetime">2010-09-21T03:06:24+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">2</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Obie</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5672</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Rohit: Thanks for fixing the patch and the +1</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Rohit: Thanks for fixing the patch and the +1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-21T03:09:00+01:00</created-at>
      <creator-id type="integer">10945</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5672</number>
      <permalink>patch-improved-support-for-shortcut-options-to-custom-validators</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activemodel patch validation</tag>
      <title>[PATCH] Improved support for shortcut options to custom validators</title>
      <updated-at type="datetime">2010-09-21T03:09:01+01:00</updated-at>
      <user-id type="integer">10945</user-id>
      <version type="integer">3</version>
      <user-name>Obie</user-name>
      <creator-name>Obie</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5672</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [275f922a23b780600a32f70de5b661371c8ffdf4]) Better shortcut options for custom validators [#5672 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/275f922a23b780600a32f70de5b661371c8ffdf4</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/275f922a23b780600a32f70de5b661371c8ffdf4&quot;
title=
&quot;Changeset [275f922a23b780600a32f70de5b661371c8ffdf4]&quot;&gt;[275f922a23b780600a32f70de5b661371c8ffdf4]&lt;/a&gt;)
Better shortcut options for custom validators [&lt;a href=
&quot;/projects/8994/tickets/5672&quot; title=&quot;Ticket #5672&quot;&gt;#5672&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/275f922a23b780600a32f70de5b661371c8ffdf4&quot;&gt;
http://github.com/rails/rails/commit/275f922a23b780600a32f70de5b661...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-24T12:11:09+01:00</created-at>
      <creator-id type="integer">10945</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5672</number>
      <permalink>patch-improved-support-for-shortcut-options-to-custom-validators</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activemodel patch validation</tag>
      <title>[PATCH] Improved support for shortcut options to custom validators</title>
      <updated-at type="datetime">2010-09-24T12:11:13+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">4</version>
      <user-name>Repository</user-name>
      <creator-name>Obie</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5672</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>cf52578b08cc3ce3912c7bc2be86ecd475425661</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-21T02:50:10+01:00</created-at>
      <filename>better_shortcut_options_for_custom_validators_patch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">682761</id>
      <size type="integer">3794</size>
      <uploader-id type="integer">10945</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/682761/better_shortcut_options_for_custom_validators_patch.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>dd96d4660f350ffc9e7b88ef06fb55015c6c9054</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-21T03:06:19+01:00</created-at>
      <filename>custom_options.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">682767</id>
      <size type="integer">3789</size>
      <uploader-id type="integer">89656</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/682767/custom_options.diff</url>
    </attachment>
  </attachments>
</ticket>
