<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-07-11T00:58:26+01:00</created-at>
  <creator-id type="integer">25904</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">601</number>
  <permalink>can-t-have-a-two-letter-model-name</permalink>
  <priority type="integer">89</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>wontfix</state>
  <tag>2.1 activerecord bug</tag>
  <title>Can't have a two letter model name</title>
  <updated-at type="datetime">2008-07-19T21:45:14+01:00</updated-at>
  <user-id type="integer">424</user-id>
  <version type="integer">5</version>
  <user-name>Joshua Peek</user-name>
  <creator-name>Mitch</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/601</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I created a two letter model name (LP -- as in 'album') and I can't get it to work.  

The model file is named 'lp.rb'

When I name the model class Lp I get the error:
  
  Expected ...models/lp.rb to define LP

When I name the model class LP I get the error:

  Expected ...models/lp.rb to define Lp

When I name the file LP.rb I don't think the file gets called.


I'm running Rails 2.1.</original-body>
  <latest-body>I created a two letter model name (LP -- as in 'album') and I can't get it to work.  

The model file is named 'lp.rb'

When I name the model class Lp I get the error:
  
  Expected ...models/lp.rb to define LP

When I name the model class LP I get the error:

  Expected ...models/lp.rb to define Lp

When I name the file LP.rb I don't think the file gets called.


I'm running Rails 2.1.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
I created a two letter model name (LP -- as in 'album') and I can't get it to work.
&lt;/p&gt;&lt;p&gt;
The model file is named 'lp.rb'
&lt;/p&gt;&lt;p&gt;
When I name the model class Lp I get the error:
&lt;/p&gt;&lt;p&gt;
Expected ...models/lp.rb to define LP
&lt;/p&gt;&lt;p&gt;
When I name the model class LP I get the error:
&lt;/p&gt;&lt;p&gt;
Expected ...models/lp.rb to define Lp
&lt;/p&gt;&lt;p&gt;
When I name the file LP.rb I don't think the file gets called.
&lt;/p&gt;&lt;p&gt;
I'm running Rails 2.1.
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I created a two letter model name (LP -- as in 'album') and I can't get it to work.  

The model file is named 'lp.rb'

When I name the model class Lp I get the error:
  
  Expected ...models/lp.rb to define LP

When I name the model class LP I get the error:

  Expected ...models/lp.rb to define Lp

When I name the file LP.rb I don't think the file gets called.


I'm running Rails 2.1.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
I created a two letter model name (LP -- as in 'album') and I can't get it to work.
&lt;/p&gt;&lt;p&gt;
The model file is named 'lp.rb'
&lt;/p&gt;&lt;p&gt;
When I name the model class Lp I get the error:
&lt;/p&gt;&lt;p&gt;
Expected ...models/lp.rb to define LP
&lt;/p&gt;&lt;p&gt;
When I name the model class LP I get the error:
&lt;/p&gt;&lt;p&gt;
Expected ...models/lp.rb to define Lp
&lt;/p&gt;&lt;p&gt;
When I name the file LP.rb I don't think the file gets called.
&lt;/p&gt;&lt;p&gt;
I'm running Rails 2.1.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-11T00:58:26+01:00</created-at>
      <creator-id type="integer">25904</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">601</number>
      <permalink>can-t-have-a-two-letter-model-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 &quot;model naming&quot;</tag>
      <title>Can't have a two letter model name</title>
      <updated-at type="datetime">2008-07-11T00:58:26+01:00</updated-at>
      <user-id type="integer">25904</user-id>
      <version type="integer">1</version>
      <user-name>Mitch</user-name>
      <creator-name>Mitch</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/601</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I can't confirm this.

./script/generate scaffold lp name:string
rake db:migrate

Works fine in ./script/console:
Loading development environment (Rails 2.1.0)
&gt;&gt; l = Lp.find(:first)
=&gt; #&lt;Lp id: 1, name: &quot;Beatles For Sale&quot;, created_at: &quot;2008-07-11 09:00:30&quot;, updated_at: &quot;2008-07-11 09:00:30&quot;&gt;
&gt;&gt; exit

Also works fine with ./script/server:
Processing LpsController#index (for 127.0.0.1 at 2008-07-11 11:02:26) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlODM2ZGM2NDNmYzgxYzFhODhkYWViYzIwZWVmODAz
NDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--7c38f36cc0db1a43cc81d42bd5de0365f862d2f4
  Parameters: {&quot;action&quot;=&gt;&quot;index&quot;, &quot;controller&quot;=&gt;&quot;lps&quot;}
  SQL (0.000211)   SET NAMES 'utf8'
  SQL (0.000109)   SET SQL_AUTO_IS_NULL=0
  Lp Load (0.000263)   SELECT * FROM `lps` 
Rendering template within layouts/lps
Rendering lps/index
  Lp Columns (0.002606)   SHOW FIELDS FROM `lps`
Completed in 0.01624 (61 reqs/sec) | Rendering: 0.00724 (44%) | DB: 0.00319 (19%) | 200 OK [http://localhost/lps]

Rails version is 2.1 - tried it both from the gem version and frozen. Also works fine with current Edge Rails.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
I can't confirm this.
&lt;/p&gt;&lt;p&gt;
./script/generate scaffold lp name:string
&lt;/p&gt;&lt;p&gt;
rake db:migrate
&lt;/p&gt;&lt;p&gt;
Works fine in ./script/console:
&lt;/p&gt;&lt;p&gt;
Loading development environment (Rails 2.1.0)
&lt;/p&gt;&lt;p&gt;
&gt;&gt; l = Lp.find(:first)
&lt;/p&gt;&lt;p&gt;
=&gt; #
&lt;/p&gt;&lt;p&gt;
&gt;&gt; exit
&lt;/p&gt;&lt;p&gt;
Also works fine with ./script/server:
&lt;/p&gt;&lt;p&gt;
Processing LpsController#index (for 127.0.0.1 at 2008-07-11 11:02:26) [GET]
&lt;/p&gt;&lt;p&gt;
Session ID: BAh7BzoMY3NyZl9pZCIlODM2ZGM2NDNmYzgxYzFhODhkYWViYzIwZWVmODAz
&lt;/p&gt;&lt;p&gt;
NDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
&lt;/p&gt;&lt;p&gt;
c2h7AAY6CkB1c2VkewA=--7c38f36cc0db1a43cc81d42bd5de0365f862d2f4
&lt;/p&gt;&lt;p&gt;
Parameters: {&quot;action&quot;=&gt;&quot;index&quot;, &quot;controller&quot;=&gt;&quot;lps&quot;}
&lt;/p&gt;&lt;p&gt;
SQL (0.000211)   SET NAMES 'utf8'
&lt;/p&gt;&lt;p&gt;
SQL (0.000109)   SET SQL_AUTO_IS_NULL=0
&lt;/p&gt;&lt;p&gt;
Lp Load (0.000263)   SELECT * FROM `lps`
&lt;/p&gt;&lt;p&gt;
Rendering template within layouts/lps
&lt;/p&gt;&lt;p&gt;
Rendering lps/index
&lt;/p&gt;&lt;p&gt;
Lp Columns (0.002606)   SHOW FIELDS FROM `lps`
&lt;/p&gt;&lt;p&gt;
Completed in 0.01624 (61 reqs/sec) | Rendering: 0.00724 (44%) | DB: 0.00319 (19%) | 200 OK [&lt;a href=&quot;http://localhost/lps&quot;&gt;http://localhost/lps&lt;/a&gt;]
&lt;/p&gt;&lt;p&gt;
Rails version is 2.1 - tried it both from the gem version and frozen. Also works fine with current Edge Rails.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-11T10:07:31+01:00</created-at>
      <creator-id type="integer">25904</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 &quot;model naming&quot;
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">601</number>
      <permalink>can-t-have-a-two-letter-model-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 activerecord bug</tag>
      <title>Can't have a two letter model name</title>
      <updated-at type="datetime">2008-07-11T10:07:31+01:00</updated-at>
      <user-id type="integer">18096</user-id>
      <version type="integer">2</version>
      <user-name>Clemens Kofler</user-name>
      <creator-name>Mitch</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/601</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The filename for the class LP should be l_p.rb, shouldn't it?</body>
      <body-html>&lt;div&gt;&lt;p&gt;
The filename for the class LP should be l_p.rb, shouldn't it?
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-11T13:06:05+01:00</created-at>
      <creator-id type="integer">25904</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">601</number>
      <permalink>can-t-have-a-two-letter-model-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 activerecord bug</tag>
      <title>Can't have a two letter model name</title>
      <updated-at type="datetime">2008-07-11T13:06:05+01:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">3</version>
      <user-name>RSL</user-name>
      <creator-name>Mitch</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/601</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It seems that the model generator does incorrectly name the file. :/ All the other generators seem to employ l_p.

sneaky:test rsl$ script/generate scaffold LP
      exists  app/models/
      exists  app/controllers/
      exists  app/helpers/
      create  app/views/l_ps
      exists  app/views/layouts/
      exists  test/functional/
      exists  test/unit/
      exists  public/stylesheets/
      create  app/views/l_ps/index.html.erb
      create  app/views/l_ps/show.html.erb
      create  app/views/l_ps/new.html.erb
      create  app/views/l_ps/edit.html.erb
      create  app/views/layouts/l_ps.html.erb
      create  public/stylesheets/scaffold.css
      create  app/controllers/l_ps_controller.rb
      create  test/functional/l_ps_controller_test.rb
      create  app/helpers/l_ps_helper.rb
       route  map.resources :l_ps
  dependency  model
      exists    app/models/
      exists    test/unit/
      exists    test/fixtures/
      create    app/models/lp.rb
      create    test/unit/lp_test.rb
      create    test/fixtures/lps.yml
      exists    db/migrate
      create    db/migrate/20080711120658_create_lps.rb

On further inspection this is because Inflector.underscore looks for camelcasing and since there are no lowercase letters at all, it doesn't trigger the gsubs. Inflector's behavior makes sense and LP seems like a less than optimal choice but it does reveal an inconsistency that could be rectified without causing breakage. I think it would be better for the generators to use a localized algorithm for underscoring from camelcase like this rather than modifying how Inflector works. Sound right?</body>
      <body-html>&lt;div&gt;&lt;p&gt;
It seems that the model generator does incorrectly name the file. :/ All the other generators seem to employ l_p.
&lt;/p&gt;&lt;p&gt;
sneaky:test rsl$ script/generate scaffold LP
&lt;/p&gt;&lt;p&gt;
exists  app/models/
&lt;/p&gt;&lt;p&gt;
exists  app/controllers/
&lt;/p&gt;&lt;p&gt;
exists  app/helpers/
&lt;/p&gt;&lt;p&gt;
create  app/views/l_ps
&lt;/p&gt;&lt;p&gt;
exists  app/views/layouts/
&lt;/p&gt;&lt;p&gt;
exists  test/functional/
&lt;/p&gt;&lt;p&gt;
exists  test/unit/
&lt;/p&gt;&lt;p&gt;
exists  public/stylesheets/
&lt;/p&gt;&lt;p&gt;
create  app/views/l_ps/index.html.erb
&lt;/p&gt;&lt;p&gt;
create  app/views/l_ps/show.html.erb
&lt;/p&gt;&lt;p&gt;
create  app/views/l_ps/new.html.erb
&lt;/p&gt;&lt;p&gt;
create  app/views/l_ps/edit.html.erb
&lt;/p&gt;&lt;p&gt;
create  app/views/layouts/l_ps.html.erb
&lt;/p&gt;&lt;p&gt;
create  public/stylesheets/scaffold.css
&lt;/p&gt;&lt;p&gt;
create  app/controllers/l_ps_controller.rb
&lt;/p&gt;&lt;p&gt;
create  test/functional/l_ps_controller_test.rb
&lt;/p&gt;&lt;p&gt;
create  app/helpers/l_ps_helper.rb
&lt;/p&gt;&lt;p&gt;
route  map.resources :l_ps
&lt;/p&gt;&lt;p&gt;
dependency  model
&lt;/p&gt;&lt;p&gt;
exists    app/models/
&lt;/p&gt;&lt;p&gt;
exists    test/unit/
&lt;/p&gt;&lt;p&gt;
exists    test/fixtures/
&lt;/p&gt;&lt;p&gt;
create    app/models/lp.rb
&lt;/p&gt;&lt;p&gt;
create    test/unit/lp_test.rb
&lt;/p&gt;&lt;p&gt;
create    test/fixtures/lps.yml
&lt;/p&gt;&lt;p&gt;
exists    db/migrate
&lt;/p&gt;&lt;p&gt;
create    db/migrate/20080711120658_create_lps.rb
&lt;/p&gt;&lt;p&gt;
On further inspection this is because Inflector.underscore looks for camelcasing and since there are no lowercase letters at all, it doesn't trigger the gsubs. Inflector's behavior makes sense and LP seems like a less than optimal choice but it does reveal an inconsistency that could be rectified without causing breakage. I think it would be better for the generators to use a localized algorithm for underscoring from camelcase like this rather than modifying how Inflector works. Sound right?
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-11T14:08:28+01:00</created-at>
      <creator-id type="integer">25904</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">601</number>
      <permalink>can-t-have-a-two-letter-model-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 activerecord bug</tag>
      <title>Can't have a two letter model name</title>
      <updated-at type="datetime">2008-07-11T14:08:28+01:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">4</version>
      <user-name>RSL</user-name>
      <creator-name>Mitch</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/601</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-07-19T21:45:14+01:00</created-at>
      <creator-id type="integer">25904</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">601</number>
      <permalink>can-t-have-a-two-letter-model-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>2.1 activerecord bug</tag>
      <title>Can't have a two letter model name</title>
      <updated-at type="datetime">2008-07-19T21:45:14+01:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">5</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Mitch</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/601</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
