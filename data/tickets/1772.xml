<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">141</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-01-16T09:58:03+00:00</created-at>
  <creator-id type="integer">7697</creator-id>
  <milestone-due-on type="datetime">2009-01-31T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">1772</number>
  <permalink>regexp-requirements-for-pathsegment-broken</permalink>
  <priority type="integer">8</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag nil="true"></tag>
  <title>Regexp requirements for PathSegment broken</title>
  <updated-at type="datetime">2009-02-22T02:42:16+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">3</version>
  <user-name>Repository</user-name>
  <creator-name>Andrew White</creator-name>
  <assigned-user-name>Michael Koziarski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1772</url>
  <priority-name nil="true"></priority-name>
  <original-body>The following commit:

  http://github.com/rails/rails/commit/278b6cd9529f33286449a9be18f1903687814d3f

broke regexp requirements for PathSegment in a subtle way. Firstly if a regexp is specified then its passed back to build_pattern as a Regexp rather than a String as is the case with DynamicSegment. Also the the regexp in routes.rb needs to be wrapped with parenthesis for it to work which it didn't in 2.1.

This fix probably needs to be back-ported to 2.2 as well - the attached patch currently applies cleanly to both edge and 2-2-stable.</original-body>
  <latest-body>The following commit:

  http://github.com/rails/rails/commit/278b6cd9529f33286449a9be18f1903687814d3f

broke regexp requirements for PathSegment in a subtle way. Firstly if a regexp is specified then its passed back to build_pattern as a Regexp rather than a String as is the case with DynamicSegment. Also the the regexp in routes.rb needs to be wrapped with parenthesis for it to work which it didn't in 2.1.

This fix probably needs to be back-ported to 2.2 as well - the attached patch currently applies cleanly to both edge and 2-2-stable.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The following commit:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/rails/rails/commit/278b6cd9529f33286449a9be18f1903687814d3f&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;broke regexp requirements for PathSegment in a subtle way.
Firstly if a regexp is specified then its passed back to
build_pattern as a Regexp rather than a String as is the case with
DynamicSegment. Also the the regexp in routes.rb needs to be
wrapped with parenthesis for it to work which it didn't in 2.1.&lt;/p&gt;
&lt;p&gt;This fix probably needs to be back-ported to 2.2 as well - the
attached patch currently applies cleanly to both edge and
2-2-stable.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The following commit:

  http://github.com/rails/rails/commit/278b6cd9529f33286449a9be18f1903687814d3f

broke regexp requirements for PathSegment in a subtle way. Firstly if a regexp is specified then its passed back to build_pattern as a Regexp rather than a String as is the case with DynamicSegment. Also the the regexp in routes.rb needs to be wrapped with parenthesis for it to work which it didn't in 2.1.

This fix probably needs to be back-ported to 2.2 as well - the attached patch currently applies cleanly to both edge and 2-2-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The following commit:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/rails/rails/commit/278b6cd9529f33286449a9be18f1903687814d3f&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;broke regexp requirements for PathSegment in a subtle way.
Firstly if a regexp is specified then its passed back to
build_pattern as a Regexp rather than a String as is the case with
DynamicSegment. Also the the regexp in routes.rb needs to be
wrapped with parenthesis for it to work which it didn't in 2.1.&lt;/p&gt;
&lt;p&gt;This fix probably needs to be back-ported to 2.2 as well - the
attached patch currently applies cleanly to both edge and
2-2-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-16T09:58:03+00:00</created-at>
      <creator-id type="integer">7697</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1772</number>
      <permalink>regexp-requirements-for-pathsegment-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Regexp requirements for PathSegment broken</title>
      <updated-at type="datetime">2009-01-16T09:58:05+00:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">1</version>
      <user-name>Andrew White</user-name>
      <creator-name>Andrew White</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1772</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-07T22:14:37+00:00</created-at>
      <creator-id type="integer">7697</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1772</number>
      <permalink>regexp-requirements-for-pathsegment-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Regexp requirements for PathSegment broken</title>
      <updated-at type="datetime">2009-02-07T22:14:39+00:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">2</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Andrew White</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1772</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [3248553d3299cbb723f1b4103c16bad7ecdd24a6]) Fix requirements regexp for path segments

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;
[#1772 state:committed]
http://github.com/rails/rails/commit/3248553d3299cbb723f1b4103c16bad7ecdd24a6</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [3248553d3299cbb723f1b4103c16bad7ecdd24a6]) Fix
requirements regexp for path segments&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski &lt;a href=&quot;mailto:michael@koziarski.com&quot;&gt;michael@koziarski.com&lt;/a&gt; [&lt;a href=&quot;/projects/8994/tickets/1772&quot; title=&quot;Ticket #1772&quot;&gt;#1772&lt;/a&gt;
state:committed] &lt;a href=&quot;http://github.com/rails/rails/commit/3248553d3299cbb723f1b4103c16bad7ecdd24a6&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-02-22T02:42:14+00:00</created-at>
      <creator-id type="integer">7697</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1772</number>
      <permalink>regexp-requirements-for-pathsegment-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag nil="true"></tag>
      <title>Regexp requirements for PathSegment broken</title>
      <updated-at type="datetime">2009-02-22T02:42:16+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">3</version>
      <user-name>Repository</user-name>
      <creator-name>Andrew White</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1772</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>f58a11c5155e50110e6ce97f28d995d56ef3af7e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-01-16T09:58:04+00:00</created-at>
      <filename>fix_path_segment_regexp.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">79039</id>
      <size type="integer">2984</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/79039/fix_path_segment_regexp.diff</url>
    </attachment>
  </attachments>
</ticket>
