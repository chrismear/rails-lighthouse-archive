<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-02-26T22:58:44+00:00</created-at>
  <creator-id type="integer">9830</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2089</number>
  <permalink>add-arbasejust_created-to-differenciate-records</permalink>
  <priority type="integer">1315</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>wontfix</state>
  <tag>activerecord</tag>
  <title>Add AR::Base#just_created? to differentiate records</title>
  <updated-at type="datetime">2009-12-16T05:19:43+00:00</updated-at>
  <user-id type="integer">23266</user-id>
  <version type="integer">8</version>
  <user-name>Richie Vos</user-name>
  <creator-name>RSL</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I recently had a need to know if an record created using find_or_create was found or created. I got around it via find_or_initialize then creating a local variable for the status of new_record? then saving the record then performing my new operation based off that local variable but i couldn't help feeling that I was either missing some existing Rails functionality or that others would benefit from this functionality being added. I'm not set on the method name or anything but it indicates the intention of the code.</original-body>
  <latest-body>I recently had a need to know if an record created using find_or_create was found or created. I got around it via find_or_initialize then creating a local variable for the status of new_record? then saving the record then performing my new operation based off that local variable but i couldn't help feeling that I was either missing some existing Rails functionality or that others would benefit from this functionality being added. I'm not set on the method name or anything but it indicates the intention of the code.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I recently had a need to know if an record created using
find_or_create was found or created. I got around it via
find_or_initialize then creating a local variable for the status of
new_record? then saving the record then performing my new operation
based off that local variable but i couldn't help feeling that I
was either missing some existing Rails functionality or that others
would benefit from this functionality being added. I'm not set on
the method name or anything but it indicates the intention of the
code.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I recently had a need to know if an record created using find_or_create was found or created. I got around it via find_or_initialize then creating a local variable for the status of new_record? then saving the record then performing my new operation based off that local variable but i couldn't help feeling that I was either missing some existing Rails functionality or that others would benefit from this functionality being added. I'm not set on the method name or anything but it indicates the intention of the code.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I recently had a need to know if an record created using
find_or_create was found or created. I got around it via
find_or_initialize then creating a local variable for the status of
new_record? then saving the record then performing my new operation
based off that local variable but i couldn't help feeling that I
was either missing some existing Rails functionality or that others
would benefit from this functionality being added. I'm not set on
the method name or anything but it indicates the intention of the
code.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-26T22:58:44+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differenciate records</title>
      <updated-at type="datetime">2009-02-26T22:58:50+00:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">1</version>
      <user-name>RSL</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-26T23:03:08+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- 
:title: Add AR::Base#just_created? to differenciate records
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-02-26T23:03:10+00:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">2</version>
      <user-name>RSL</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>To clarify the benefit of this over writing out the find_or_initialize song and dance mentioned above there are two cases where having a method to check would be better.

1. Where the find_or_create call is internal to a another wrapper method.
2. Where you need to operate on a saved record [most likely needing the id attribute].</body>
      <body-html>&lt;div&gt;&lt;p&gt;To clarify the benefit of this over writing out the
find_or_initialize song and dance mentioned above there are two
cases where having a method to check would be better.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Where the find_or_create call is internal to a another wrapper
method.&lt;/li&gt;
&lt;li&gt;Where you need to operate on a saved record [most likely
needing the id attribute].&lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-26T23:26:19+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-02-26T23:26:20+00:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">3</version>
      <user-name>RSL</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1.  It includes/passes tests, and works as advertised, and seems to stick with rails conventions.  At first I didn't see the usefulness, but I have to admit after trying it out, I can see how it would be helpful.  I like it!</body>
      <body-html>&lt;div&gt;&lt;ol&gt;
&lt;li&gt;It includes/passes tests, and works as advertised, and seems to
stick with rails conventions. At first I didn't see the usefulness,
but I have to admit after trying it out, I can see how it would be
helpful. I like it!&lt;/li&gt;
&lt;/ol&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-27T06:10:23+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-02-27T06:10:25+00:00</updated-at>
      <user-id type="integer">47440</user-id>
      <version type="integer">4</version>
      <user-name>Jaime Bellmyer</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Sorry, my post above started with &quot;+1&quot;, but formatting seems to have mangled it.  +1</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry, my post above started with &quot;+1&quot;, but formatting seems to
have mangled it. +1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-27T06:12:34+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-02-27T06:12:38+00:00</updated-at>
      <user-id type="integer">47440</user-id>
      <version type="integer">5</version>
      <user-name>Jaime Bellmyer</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>just_created? should return false for new records. Also, let's wait till someone else wants the same feature, then I'll push it.

Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;just_created? should return false for new records. Also, let's
wait till someone else wants the same feature, then I'll push
it.&lt;/p&gt;
&lt;p&gt;Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-09T14:42:15+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-03-09T14:42:17+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">6</version>
      <user-name>Pratik</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Updated patch per Pratik</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch per Pratik&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-09T15:09:29+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-03-09T15:09:32+00:00</updated-at>
      <user-id type="integer">9830</user-id>
      <version type="integer">7</version>
      <user-name>RSL</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'll +1 this as well. I am doing my own find_or_create'ish code in an update (trying to properly handle proper [PUT semantics](http://jcalcote.wordpress.com/2008/10/16/put-or-post-the-rest-of-the-story/)), and need exactly this. I thought rails had new_record_before_save?, but that appears to be part of the association internals.

I like the method name as well.

I'm not sure what the behavior of multiple saves should be:
    
    item = Item.create
    item.save
    # should just_created? still be true here

I personally could see an argument for either, but I'd think it should be false after the 2nd save. Especially if the object changed between the saves.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'll +1 this as well. I am doing my own find_or_create'ish code
in an update (trying to properly handle proper &lt;a href=
&quot;http://jcalcote.wordpress.com/2008/10/16/put-or-post-the-rest-of-the-story/&quot;&gt;
PUT semantics&lt;/a&gt;), and need exactly this. I thought rails had
new_record_before_save?, but that appears to be part of the
association internals.&lt;/p&gt;
&lt;p&gt;I like the method name as well.&lt;/p&gt;
&lt;p&gt;I'm not sure what the behavior of multiple saves should
be:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;item = Item.create
item.save
# should just_created? still be true here&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I personally could see an argument for either, but I'd think it
should be false after the 2nd save. Especially if the object
changed between the saves.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-12-16T05:19:41+00:00</created-at>
      <creator-id type="integer">9830</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2089</number>
      <permalink>add-arbasejust_created-to-differenciate-records</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>activerecord</tag>
      <title>Add AR::Base#just_created? to differentiate records</title>
      <updated-at type="datetime">2009-12-16T05:19:43+00:00</updated-at>
      <user-id type="integer">23266</user-id>
      <version type="integer">8</version>
      <user-name>Richie Vos</user-name>
      <creator-name>RSL</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2089</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>03ed1cd29625a2d20327f1153bd150229d8ca018</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-09T15:09:29+00:00</created-at>
      <filename>updated_just_created.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">97537</id>
      <size type="integer">1730</size>
      <uploader-id type="integer">9830</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/97537/updated_just_created.diff</url>
    </attachment>
  </attachments>
</ticket>
