<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-08-13T20:04:02+01:00</created-at>
  <creator-id type="integer">33030</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3050</number>
  <permalink>rake-gemsinstall-doesnt-handle-correctly</permalink>
  <priority type="integer">131560</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>wontfix</state>
  <tag>gems</tag>
  <title>rake gems:install doesnt handle &gt;= correctly</title>
  <updated-at type="datetime">2009-10-15T00:28:08+01:00</updated-at>
  <user-id type="integer">22589</user-id>
  <version type="integer">5</version>
  <user-name>Matt Jones</user-name>
  <creator-name>Kane</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3050</url>
  <priority-name nil="true"></priority-name>
  <original-body>@@@ ruby
  config.gem 'a_gem', :version =&gt; &quot;&gt;= 1.2.3&quot;
@@@

rake gems:install only installs the newest version of this gem if the requirement isnt already met.

if version 1.2.3 is installed but 1.2.6 is available nothing happens.
if i didnt want to always install the newest version i could use '=' instead of '&gt;='.</original-body>
  <latest-body>@@@ ruby
  config.gem 'a_gem', :version =&gt; &quot;&gt;= 1.2.3&quot;
@@@

rake gems:install only installs the newest version of this gem if the requirement isnt already met.

if version 1.2.3 is installed but 1.2.6 is available nothing happens.
if i didnt want to always install the newest version i could use '=' instead of '&gt;='.</latest-body>
  <original-body-html>&lt;div&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
  config.gem 'a_gem', :version =&amp;gt; &amp;quot;&amp;gt;= 1.2.3&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;rake gems:install only installs the newest version of this gem
if the requirement isnt already met.&lt;/p&gt;
&lt;p&gt;if version 1.2.3 is installed but 1.2.6 is available nothing
happens. if i didnt want to always install the newest version i
could use '=' instead of '&amp;gt;='.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@@@ ruby
  config.gem 'a_gem', :version =&gt; &quot;&gt;= 1.2.3&quot;
@@@

rake gems:install only installs the newest version of this gem if the requirement isnt already met.

if version 1.2.3 is installed but 1.2.6 is available nothing happens.
if i didnt want to always install the newest version i could use '=' instead of '&gt;='.</body>
      <body-html>&lt;div&gt;&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  config.gem 'a_gem', :version =&amp;gt; &quot;&amp;gt;= 1.2.3&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;rake gems:install only installs the newest version of this gem
if the requirement isnt already met.&lt;/p&gt;
&lt;p&gt;if version 1.2.3 is installed but 1.2.6 is available nothing
happens.&lt;br&gt;
if i didnt want to always install the newest version i could use
'=' instead of '&amp;gt;='.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-13T20:04:02+01:00</created-at>
      <creator-id type="integer">33030</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3050</number>
      <permalink>rake-gemsinstall-doesnt-handle-correctly</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>rake gems:install doesnt handle &gt;= correctly</title>
      <updated-at type="datetime">2009-08-13T20:04:09+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">1</version>
      <user-name>Kane</user-name>
      <creator-name>Kane</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3050</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>There's not much we can do about this - all the selection of which gem to install is in RubyGems, we just shell out to 'gem install' to do the work. You may want to raise this issue on the RubyGems Trac.</body>
      <body-html>&lt;div&gt;&lt;p&gt;There's not much we can do about this - all the selection of
which gem to install is in RubyGems, we just shell out to 'gem
install' to do the work. You may want to raise this issue on the
RubyGems Trac.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-17T16:04:09+01:00</created-at>
      <creator-id type="integer">33030</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3050</number>
      <permalink>rake-gemsinstall-doesnt-handle-correctly</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>rake gems:install doesnt handle &gt;= correctly</title>
      <updated-at type="datetime">2009-08-17T16:04:12+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">2</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Kane</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3050</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>sorry for disappointing you but my rubygems (1.3.5) does the job right.
i assume rails behaves different because the install routine checks if it is already installed with &quot;installed?&quot;.</body>
      <body-html>&lt;div&gt;&lt;p&gt;sorry for disappointing you but my rubygems (1.3.5) does the job
right.&lt;br&gt;
i assume rails behaves different because the install routine checks
if it is already installed with &quot;installed?&quot;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-17T16:30:38+01:00</created-at>
      <creator-id type="integer">33030</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3050</number>
      <permalink>rake-gemsinstall-doesnt-handle-correctly</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>rake gems:install doesnt handle &gt;= correctly</title>
      <updated-at type="datetime">2009-08-17T16:30:43+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">3</version>
      <user-name>Kane</user-name>
      <creator-name>Kane</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3050</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>RubyGems (1.3.5) works for me too, seems to be a rails problem, is somewhat awkward bevavior.</body>
      <body-html>&lt;div&gt;&lt;p&gt;RubyGems (1.3.5) works for me too, seems to be a rails problem,
is somewhat awkward bevavior.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-14T23:34:32+01:00</created-at>
      <creator-id type="integer">33030</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3050</number>
      <permalink>rake-gemsinstall-doesnt-handle-correctly</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>rake gems:install doesnt handle &gt;= correctly</title>
      <updated-at type="datetime">2009-10-14T23:34:33+01:00</updated-at>
      <user-id type="integer">72749</user-id>
      <version type="integer">4</version>
      <user-name>x0f</user-name>
      <creator-name>Kane</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3050</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Looked at this again - it is a Rails thing. However, the existing behavior isn't wrong here; you're specifying that you'll take any version of some_gem &gt;= Y, and you've got a version &gt;= Y installed. gems:install assumes that things are cool if the specified dependencies are satisfied.

Going further, changing this will mess up lots of deployment setups; it's not uncommon to see 'rake gems:install' in deploy scripts. Changing the behavior to &quot;grab the most recent version that satisfies the requirement&quot; will mean upgrading already-installed gems on deploy. Almost certainly NOT what is wanted in a production environment.

It might be useful to have the functionality you're looking for as another command (maybe gems:upgrade?). But it doesn't seem like this would be a good change to make to gems:install.

Marking as 'wontfix'; I'll reopen if somebody comes up with a patch to add gems:upgrade.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Looked at this again - it is a Rails thing. However, the
existing behavior isn't wrong here; you're specifying that you'll
take any version of some_gem &amp;gt;= Y, and you've got a version
&amp;gt;= Y installed. gems:install assumes that things are cool if the
specified dependencies are satisfied.&lt;/p&gt;
&lt;p&gt;Going further, changing this will mess up lots of deployment
setups; it's not uncommon to see 'rake gems:install' in deploy
scripts. Changing the behavior to &quot;grab the most recent version
that satisfies the requirement&quot; will mean upgrading
already-installed gems on deploy. Almost certainly NOT what is
wanted in a production environment.&lt;/p&gt;
&lt;p&gt;It might be useful to have the functionality you're looking for
as another command (maybe gems:upgrade?). But it doesn't seem like
this would be a good change to make to gems:install.&lt;/p&gt;
&lt;p&gt;Marking as 'wontfix'; I'll reopen if somebody comes up with a
patch to add gems:upgrade.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-10-15T00:28:05+01:00</created-at>
      <creator-id type="integer">33030</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3050</number>
      <permalink>rake-gemsinstall-doesnt-handle-correctly</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>gems</tag>
      <title>rake gems:install doesnt handle &gt;= correctly</title>
      <updated-at type="datetime">2009-10-15T00:28:08+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">5</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Kane</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3050</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
