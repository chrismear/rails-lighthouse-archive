<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">4</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2011-03-03T23:45:55+00:00</created-at>
  <creator-id type="integer">102378</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6514</number>
  <permalink>rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>new</state>
  <tag nil="true"></tag>
  <title>Rails 3 ActionMailer attachments incorrectly shown inline by Yahoo! Mail</title>
  <updated-at type="datetime">2011-03-04T07:26:30+00:00</updated-at>
  <user-id type="integer">7697</user-id>
  <version type="integer">2</version>
  <user-name>Andrew White</user-name>
  <creator-name>Mohit Jain</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6514</url>
  <priority-name>Low</priority-name>
  <original-body>I sent attachments to Yahoo mail from a few different sources and I tried different content types, transfer encodings (e.g., Base64), different kinds of attachments, etc. The only constant I can find between those that Yahoo shows properly and those it fails on is that the successes do not use parameter folding, e.g.,

Success

Content-Disposition: attachment; filename=&quot;event.ics&quot;

Fail

Content-Disposition: attachment;
 filename=&quot;event.ics&quot;

This (correct) folding appears to be hardwired into the mail gem that Rails uses and I didn't try another way of truly isolating it; I have to say I'd be surprised if that were really the problem.

Regardless, Yahoo is rendering non-inline attachments as inline, so if this is a significant problem for your customer base, I'd take it up with Yahoo directly; maybe they'll fix it or offer you a more concrete statement about what triggers it so you can work around it. For what it's worth, Yahoo does allow the user to access the attachment correctly as it should with Content-Disposition of &quot;attachment&quot;; it's just also showing it as if the Disposition where &quot;inline.&quot;

The problem is with New yahoo mail. (Claasic yahoo, Gmail, Hotmail every where its fine.)
Detailed stuff is present here

[Stackoverflow Question](http://stackoverflow.com/questions/5062531/rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail/ &quot;Stackoverflow Question&quot;</original-body>
  <latest-body>I sent attachments to Yahoo mail from a few different sources and I tried different content types, transfer encodings (e.g., Base64), different kinds of attachments, etc. The only constant I can find between those that Yahoo shows properly and those it fails on is that the successes do not use parameter folding, e.g.,

Success

Content-Disposition: attachment; filename=&quot;event.ics&quot;

Fail

Content-Disposition: attachment;
 filename=&quot;event.ics&quot;

This (correct) folding appears to be hardwired into the mail gem that Rails uses and I didn't try another way of truly isolating it; I have to say I'd be surprised if that were really the problem.

Regardless, Yahoo is rendering non-inline attachments as inline, so if this is a significant problem for your customer base, I'd take it up with Yahoo directly; maybe they'll fix it or offer you a more concrete statement about what triggers it so you can work around it. For what it's worth, Yahoo does allow the user to access the attachment correctly as it should with Content-Disposition of &quot;attachment&quot;; it's just also showing it as if the Disposition where &quot;inline.&quot;

The problem is with New yahoo mail. (Claasic yahoo, Gmail, Hotmail every where its fine.)
Detailed stuff is present here

[Stackoverflow Question](http://stackoverflow.com/questions/5062531/rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail/ &quot;Stackoverflow Question&quot;</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I sent attachments to Yahoo mail from a few different sources
and I tried different content types, transfer encodings (e.g.,
Base64), different kinds of attachments, etc. The only constant I
can find between those that Yahoo shows properly and those it fails
on is that the successes do not use parameter folding, e.g.,&lt;/p&gt;
&lt;p&gt;Success&lt;/p&gt;
&lt;p&gt;Content-Disposition: attachment; filename=&quot;event.ics&quot;&lt;/p&gt;
&lt;p&gt;Fail&lt;/p&gt;
&lt;p&gt;Content-Disposition: attachment;&lt;br&gt;
filename=&quot;event.ics&quot;&lt;/p&gt;
&lt;p&gt;This (correct) folding appears to be hardwired into the mail gem
that Rails uses and I didn't try another way of truly isolating it;
I have to say I'd be surprised if that were really the problem.&lt;/p&gt;
&lt;p&gt;Regardless, Yahoo is rendering non-inline attachments as inline,
so if this is a significant problem for your customer base, I'd
take it up with Yahoo directly; maybe they'll fix it or offer you a
more concrete statement about what triggers it so you can work
around it. For what it's worth, Yahoo does allow the user to access
the attachment correctly as it should with Content-Disposition of
&quot;attachment&quot;; it's just also showing it as if the Disposition where
&quot;inline.&quot;&lt;/p&gt;
&lt;p&gt;The problem is with New yahoo mail. (Claasic yahoo, Gmail,
Hotmail every where its fine.)&lt;br&gt;
Detailed stuff is present here&lt;/p&gt;
&lt;p&gt;[Stackoverflow Question](&lt;a href=
&quot;http://stackoverflow.com/questions/5062531/rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail/&quot;&gt;http://stackoverflow.com/questions/5062531/rails-3-actionmailer-att...&lt;/a&gt;
&quot;Stackoverflow Question&quot;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I sent attachments to Yahoo mail from a few different sources and I tried different content types, transfer encodings (e.g., Base64), different kinds of attachments, etc. The only constant I can find between those that Yahoo shows properly and those it fails on is that the successes do not use parameter folding, e.g.,

Success

Content-Disposition: attachment; filename=&quot;event.ics&quot;

Fail

Content-Disposition: attachment;
 filename=&quot;event.ics&quot;

This (correct) folding appears to be hardwired into the mail gem that Rails uses and I didn't try another way of truly isolating it; I have to say I'd be surprised if that were really the problem.

Regardless, Yahoo is rendering non-inline attachments as inline, so if this is a significant problem for your customer base, I'd take it up with Yahoo directly; maybe they'll fix it or offer you a more concrete statement about what triggers it so you can work around it. For what it's worth, Yahoo does allow the user to access the attachment correctly as it should with Content-Disposition of &quot;attachment&quot;; it's just also showing it as if the Disposition where &quot;inline.&quot;

The problem is with New yahoo mail. (Claasic yahoo, Gmail, Hotmail every where its fine.)
Detailed stuff is present here

[Stackoverflow Question](http://stackoverflow.com/questions/5062531/rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail/ &quot;Stackoverflow Question&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;I sent attachments to Yahoo mail from a few different sources
and I tried different content types, transfer encodings (e.g.,
Base64), different kinds of attachments, etc. The only constant I
can find between those that Yahoo shows properly and those it fails
on is that the successes do not use parameter folding, e.g.,&lt;/p&gt;
&lt;p&gt;Success&lt;/p&gt;
&lt;p&gt;Content-Disposition: attachment; filename=&quot;event.ics&quot;&lt;/p&gt;
&lt;p&gt;Fail&lt;/p&gt;
&lt;p&gt;Content-Disposition: attachment;&lt;br&gt;
filename=&quot;event.ics&quot;&lt;/p&gt;
&lt;p&gt;This (correct) folding appears to be hardwired into the mail gem
that Rails uses and I didn't try another way of truly isolating it;
I have to say I'd be surprised if that were really the problem.&lt;/p&gt;
&lt;p&gt;Regardless, Yahoo is rendering non-inline attachments as inline,
so if this is a significant problem for your customer base, I'd
take it up with Yahoo directly; maybe they'll fix it or offer you a
more concrete statement about what triggers it so you can work
around it. For what it's worth, Yahoo does allow the user to access
the attachment correctly as it should with Content-Disposition of
&quot;attachment&quot;; it's just also showing it as if the Disposition where
&quot;inline.&quot;&lt;/p&gt;
&lt;p&gt;The problem is with New yahoo mail. (Claasic yahoo, Gmail,
Hotmail every where its fine.)&lt;br&gt;
Detailed stuff is present here&lt;/p&gt;
&lt;p&gt;[Stackoverflow Question](&lt;a href=
&quot;http://stackoverflow.com/questions/5062531/rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail/&quot;&gt;http://stackoverflow.com/questions/5062531/rails-3-actionmailer-att...&lt;/a&gt;
&quot;Stackoverflow Question&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-03T23:45:55+00:00</created-at>
      <creator-id type="integer">102378</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6514</number>
      <permalink>rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Rails 3 ActionMailer attachments incorrectly shown inline by Yahoo! Mail</title>
      <updated-at type="datetime">2011-03-03T23:45:58+00:00</updated-at>
      <user-id type="integer">102378</user-id>
      <version type="integer">1</version>
      <user-name>Mohit Jain</user-name>
      <creator-name>Mohit Jain</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6514</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>The [RFC][1] talks about parameter values of less than 78 characters being presented as a single token - what happens if you send a file with a really long name?


[1]: http://tools.ietf.org/html/rfc2183</body>
      <body-html>&lt;div&gt;&lt;p&gt;The &lt;a href=&quot;http://tools.ietf.org/html/rfc2183&quot;&gt;RFC&lt;/a&gt; talks
about parameter values of less than 78 characters being presented
as a single token - what happens if you send a file with a really
long name?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-04T07:26:23+00:00</created-at>
      <creator-id type="integer">102378</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6514</number>
      <permalink>rails-3-actionmailer-attachments-incorrectly-shown-inline-by-yahoo-mail</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Rails 3 ActionMailer attachments incorrectly shown inline by Yahoo! Mail</title>
      <updated-at type="datetime">2011-03-04T07:26:30+00:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">2</version>
      <user-name>Andrew White</user-name>
      <creator-name>Mohit Jain</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6514</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment-image type="Attachment">
      <code>41cba74b94fc5c780ebef014e7edd2b6848c35df</code>
      <content-type>image/jpeg</content-type>
      <created-at type="datetime">2011-03-03T23:45:55+00:00</created-at>
      <filename>new-yahoo.jpg</filename>
      <height type="integer">396</height>
      <id type="integer">941641</id>
      <size type="integer">94736</size>
      <uploader-id type="integer">102378</uploader-id>
      <width type="integer">889</width>
      <url>http://rails.lighthouseapp.com/attachments/941641/new-yahoo.jpg</url>
    </attachment-image>
    <attachment-image type="Attachment">
      <code>8a63ba3ef61a7f852e2b9517540cb92e0a90bdfd</code>
      <content-type>image/jpeg</content-type>
      <created-at type="datetime">2011-03-03T23:45:56+00:00</created-at>
      <filename>classic-yahoojpg.jpg</filename>
      <height type="integer">440</height>
      <id type="integer">941642</id>
      <size type="integer">54531</size>
      <uploader-id type="integer">102378</uploader-id>
      <width type="integer">827</width>
      <url>http://rails.lighthouseapp.com/attachments/941642/classic-yahoojpg.jpg</url>
    </attachment-image>
  </attachments>
</ticket>
