<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-05-05T09:38:25+01:00</created-at>
  <creator-id type="integer">22423</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">2607</number>
  <permalink>sent_on-should-default-to-now</permalink>
  <priority type="integer">1598</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>actionmailer date patch</tag>
  <title>Sent_on should default to now</title>
  <updated-at type="datetime">2009-08-08T23:05:05+01:00</updated-at>
  <user-id type="integer">7211</user-id>
  <version type="integer">9</version>
  <user-name>CancelProfileIsBroken</user-name>
  <creator-name>Joel Chippindale</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
  <priority-name nil="true"></priority-name>
  <original-body>Sent_on should default to now in ActionMailer.

Currently it has no default. If you don't set sent_on then your mail will be sent without a date header. This has unpredictable results because although most mail server will insert a date header (defaulting to now) when the date header is missing not all will do so.

Defaulting to Time.now follows the principle of least surprise.</original-body>
  <latest-body>Sent_on should default to now in ActionMailer.

Currently it has no default. If you don't set sent_on then your mail will be sent without a date header. This has unpredictable results because although most mail server will insert a date header (defaulting to now) when the date header is missing not all will do so.

Defaulting to Time.now follows the principle of least surprise.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Sent_on should default to now in ActionMailer.&lt;/p&gt;
&lt;p&gt;Currently it has no default. If you don't set sent_on then your
mail will be sent without a date header. This has unpredictable
results because although most mail server will insert a date header
(defaulting to now) when the date header is missing not all will do
so.&lt;/p&gt;
&lt;p&gt;Defaulting to Time.now follows the principle of least
surprise.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Sent_on should default to now in ActionMailer.

Currently it has no default. If you don't set sent_on then your mail will be sent without a date header. This has unpredictable results because although most mail server will insert a date header (defaulting to now) when the date header is missing not all will do so.

Defaulting to Time.now follows the principle of least surprise.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sent_on should default to now in ActionMailer.&lt;/p&gt;
&lt;p&gt;Currently it has no default. If you don't set sent_on then your
mail will be sent without a date header. This has unpredictable
results because although most mail server will insert a date header
(defaulting to now) when the date header is missing not all will do
so.&lt;/p&gt;
&lt;p&gt;Defaulting to Time.now follows the principle of least
surprise.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-05T09:38:26+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionmailer date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-05-05T09:38:27+01:00</updated-at>
      <user-id type="integer">22423</user-id>
      <version type="integer">1</version>
      <user-name>Joel Chippindale</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Patch checks out, all tests pass. +1

I was initially concerned about the removal of the test for Time.local(2004, 12, 12) but I can see that's already being tested in the other testcases.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Patch checks out, all tests pass. +1&lt;/p&gt;
&lt;p&gt;I was initially concerned about the removal of the test for
Time.local(2004, 12, 12) but I can see that's already being tested
in the other testcases.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-12T17:53:54+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionmailer date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-05-12T17:54:00+01:00</updated-at>
      <user-id type="integer">586</user-id>
      <version type="integer">2</version>
      <user-name>Cheah Chu Yeow</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Perhaps using nil for sent_on should give the original behavior.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Perhaps using nil for sent_on should give the original
behavior.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-10T22:35:33+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionmailer date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-06-10T22:35:33+01:00</updated-at>
      <user-id type="integer">17499</user-id>
      <version type="integer">3</version>
      <user-name>Grant Hutchins</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This is the behaviour of this patch.

I've attached a new version of the patch with a test to showing this.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is the behaviour of this patch.&lt;/p&gt;
&lt;p&gt;I've attached a new version of the patch with a test to showing
this.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-11T09:48:51+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionmailer date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-06-11T09:48:51+01:00</updated-at>
      <user-id type="integer">23779</user-id>
      <version type="integer">4</version>
      <user-name>Joel Chippindale</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-07T14:02:15+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionmailer date patch
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionmailer bugmash date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-08-07T14:02:19+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">5</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 I updated the patch to apply cleanly to the latest 2-3-stable, looks good and all tests pass.

I've attached a patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 I updated the patch to apply cleanly to the latest
2-3-stable, looks good and all tests pass.&lt;/p&gt;
&lt;p&gt;I've attached a patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T02:44:03+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionmailer bugmash date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-08-08T02:44:07+01:00</updated-at>
      <user-id type="integer">45230</user-id>
      <version type="integer">6</version>
      <user-name>Matt Duncan</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [5fdc33c1a37b4c321135753ed546e8afc2dbaf3e]) Default sent_on time to now in ActionMailer

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;
[#2607 state:committed]
http://github.com/rails/rails/commit/5fdc33c1a37b4c321135753ed546e8afc2dbaf3e</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/5fdc33c1a37b4c321135753ed546e8afc2dbaf3e&quot;
title=
&quot;Changeset [5fdc33c1a37b4c321135753ed546e8afc2dbaf3e]&quot;&gt;[5fdc33c1a37b4c321135753ed546e8afc2dbaf3e]&lt;/a&gt;)
Default sent_on time to now in ActionMailer&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski
&lt;a&gt;michael@koziarski.com&lt;/a&gt;&lt;br&gt;
[&lt;a href=&quot;/projects/8994/tickets/2607&quot; title=
&quot;Ticket #2607&quot;&gt;#2607&lt;/a&gt; state:committed] &lt;a href=
&quot;http://github.com/rails/rails/commit/5fdc33c1a37b4c321135753ed546e8afc2dbaf3e&quot;&gt;
http://github.com/rails/rails/commit/5fdc33c1a37b4c321135753ed546e8...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T03:11:57+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actionmailer bugmash date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-08-08T03:11:58+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">7</version>
      <user-name>Repository</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [f73d34c131c1e371c76c5a146aac2c2bffbf96e5]) Default sent_on time to now in ActionMailer

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;
[#2607 state:committed]
http://github.com/rails/rails/commit/f73d34c131c1e371c76c5a146aac2c2bffbf96e5</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/f73d34c131c1e371c76c5a146aac2c2bffbf96e5&quot;
title=
&quot;Changeset [f73d34c131c1e371c76c5a146aac2c2bffbf96e5]&quot;&gt;[f73d34c131c1e371c76c5a146aac2c2bffbf96e5]&lt;/a&gt;)
Default sent_on time to now in ActionMailer&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski &lt;a href=
&quot;mailto:michael@koziarski.com&quot;&gt;michael@koziarski.com&lt;/a&gt;&lt;br&gt;
[&lt;a href=&quot;/projects/8994/tickets/2607&quot; title=
&quot;Ticket #2607&quot;&gt;#2607&lt;/a&gt; state:committed] &lt;a href=
&quot;http://github.com/rails/rails/commit/f73d34c131c1e371c76c5a146aac2c2bffbf96e5&quot;&gt;
http://github.com/rails/rails/commit/f73d34c131c1e371c76c5a146aac2c...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T03:11:58+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actionmailer bugmash date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-08-08T03:12:00+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">8</version>
      <user-name>Repository</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body nil="true"></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T23:05:00+01:00</created-at>
      <creator-id type="integer">22423</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:tag: actionmailer bugmash date patch
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2607</number>
      <permalink>sent_on-should-default-to-now</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actionmailer date patch</tag>
      <title>Sent_on should default to now</title>
      <updated-at type="datetime">2009-08-08T23:05:05+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">9</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Joel Chippindale</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2607</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>7266e2ec16ca8efc147426c614be3c0a4ed06575</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-05T09:38:26+01:00</created-at>
      <filename>am_default_sent_on.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">118843</id>
      <size type="integer">2050</size>
      <uploader-id type="integer">22423</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/118843/am_default_sent_on.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>d46ca1cda61107dd46ad2039f098bf0e81c214dd</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-06-11T09:48:46+01:00</created-at>
      <filename>am_default_sent_on_with_nil_test.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">132032</id>
      <size type="integer">3481</size>
      <uploader-id type="integer">23779</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/132032/am_default_sent_on_with_nil_test.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>a77ff3e76a88fbe89abff64234bec3d022f61fbd</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-08T02:44:03+01:00</created-at>
      <filename>2607.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">238955</id>
      <size type="integer">1897</size>
      <uploader-id type="integer">45230</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/238955/2607.diff</url>
    </attachment>
  </attachments>
</ticket>
