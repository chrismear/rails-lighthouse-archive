<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">7697</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-11-24T12:44:23+00:00</created-at>
  <creator-id type="integer">15560</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">1458</number>
  <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
  <priority type="integer">829</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag nil="true"></tag>
  <title>Namespaced resources fail in production when controllers are not namespaced</title>
  <updated-at type="datetime">2010-10-15T23:01:29+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">12</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Thomas Fuchs</creator-name>
  <assigned-user-name>Andrew White</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>If you have this route definition:

@@@ ruby
map.namespace :time do |time|
    time.resources :tags, :controller =&gt; 'tags'
end 
@@@

and the controller is defined as 

@@@ ruby
class TagsController &lt; ApplicationController
@@@

in @@@app/controllers/tag_controller.rb@@@, Rails 2.2 fails in production mode (NOT in development mode), with the following exception:

@@@
(ArgumentError) &quot;Object is not missing constant TagsController!&quot;
@@@

Here's the backtrace:

@@@
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:419:in `load_missing_constant'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:77:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:89:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `send'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:352:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `each'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:388:in `recognize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
@@@</original-body>
  <latest-body>If you have this route definition:

@@@ ruby
map.namespace :time do |time|
    time.resources :tags, :controller =&gt; 'tags'
end 
@@@

and the controller is defined as 

@@@ ruby
class TagsController &lt; ApplicationController
@@@

in @@@app/controllers/tag_controller.rb@@@, Rails 2.2 fails in production mode (NOT in development mode), with the following exception:

@@@
(ArgumentError) &quot;Object is not missing constant TagsController!&quot;
@@@

Here's the backtrace:

@@@
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:419:in `load_missing_constant'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:77:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:89:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `send'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:352:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `each'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:388:in `recognize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;If you have this route definition:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
map.namespace :time do |time|
    time.resources :tags, :controller =&amp;gt; 'tags'
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the controller is defined as&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
class TagsController &amp;lt; ApplicationController
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in @@@app/controllers/tag_controller.rb@@@, Rails 2.2 fails in
production mode (NOT in development mode), with the following
exception:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
(ArgumentError) &amp;quot;Object is not missing constant TagsController!&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here's the backtrace:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:419:in `load_missing_constant'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:77:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:89:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `send'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:352:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `each'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:388:in `recognize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If you have this route definition:

@@@ ruby
map.namespace :time do |time|
    time.resources :tags, :controller =&gt; 'tags'
end 
@@@

and the controller is defined as 

@@@ ruby
class TagsController &lt; ApplicationController
@@@

in app/controllers/tag_controller.rb, Rails 2.2 fails in production mode (NOT in development mode), with the following exception:

@@@
(ArgumentError) &quot;Object is not missing constant TagsController!&quot;
@@@

Here's the backtrace:

@@@
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:419:in `load_missing_constant'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:77:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:89:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `send'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:352:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `each'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:388:in `recognize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
@@@

I've no idea if this is supposed to work in the first place, but in development mode everything works just fine and is peachy.</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you have this route definition:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
map.namespace :time do |time|
    time.resources :tags, :controller =&amp;gt; 'tags'
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the controller is defined as&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
class TagsController &amp;lt; ApplicationController
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in app/controllers/tag_controller.rb, Rails 2.2 fails in
production mode (NOT in development mode), with the following
exception:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
(ArgumentError) &amp;quot;Object is not missing constant TagsController!&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here's the backtrace:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:419:in `load_missing_constant'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:77:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:89:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `send'
APP_ROOT/vendor/rails/activesupport/lib/active_support/dependencies.rb:95:in `const_missing'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:352:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `each'
APP_ROOT/vendor/rails/activesupport/lib/active_support/inflector.rb:351:in `constantize'
APP_ROOT/vendor/rails/activesupport/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:388:in `recognize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:182:in `handle_request'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:110:in `dispatch_unlocked'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:123:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `synchronize'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:122:in `dispatch'
APP_ROOT/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:132:in `dispatch_cgi'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I've no idea if this is supposed to work in the first place, but
in development mode everything works just fine and is peachy.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-24T12:44:23+00:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2008-11-24T12:46:27+00:00</updated-at>
      <user-id type="integer">15560</user-id>
      <version type="integer">1</version>
      <user-name>Thomas Fuchs</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm getting the same problem. In slightly different context, not related to routing.

I've got my model

@@@ ruby
class Persona &lt; ActiveRecord::Base
 ...
end
@@@

And I've got in another model the following:

@@@ ruby
class Coeficiente &lt; ActiveRecord::Base
 ...
 def private.db_field(class_name)
  table = eval &quot;#{class_name}.table_name&quot;
 end
 ...
  db_field(Persona)
 ...
end
@@@


here's my backtrace 

@@@ ruby
0  	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb  	419  	in `load_missing_constant'
1 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	77 	in `const_missing'
2 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	89 	in `const_missing'
3 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	95 	in `send'
4 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	95 	in `const_missing'
5 	/home/kshemac/kshema/demo/releases/20081125002850/app/models/coeficiente.rb 	79 	in `persona_es_alumna_sql'
6 	/home/kshemac/kshema/demo/releases/20081125002850/app/models/instructor.rb 	8 	
7 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `gem_original_require'
8 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `require'
9 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	155 	in `require'
10 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	262 	in `require_or_load'
11 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	221 	in `depend_on'
12 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	133 	in `require_dependency'
13 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	368 	in `load_application_classes'
14 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	367 	in `each'
15 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	367 	in `load_application_classes'
16 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	365 	in `each'
17 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	365 	in `load_application_classes'
18 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	185 	in `process'
19 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	112 	in `send'
20 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	112 	in `run'
21 	./config/environment.rb 	9 	
22 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `gem_original_require'
23 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `require'
24 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	153 	in `require'
25 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	521 	in `new_constants_in'
26 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	153 	in `require'
27 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	252 	in `preload_application'
28 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	212 	in `initialize_server'
29 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/utils.rb 	181 	in `report_app_init_status'
30 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	201 	in `initialize_server'
31 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	166 	in `start_synchronously'
32 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	135 	in `start'
33 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `fork'
34 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `start'
35 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	177 	in `start'
36 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	270 	in `handle_spawn_application'
37 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	263 	in `synchronize'
38 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	263 	in `handle_spawn_application'
39 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `__send__'
40 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `main_loop'
41 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	168 	in `start_synchronously'
42 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	135 	in `start'
43 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `fork'
44 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `start'
45 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	87 	in `start'
46 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	218 	in `spawn_rails_application'
47 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	213 	in `synchronize'
48 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	213 	in `spawn_rails_application'
49 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	122 	in `spawn_application'
50 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	247 	in `handle_spawn_application'
51 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `__send__'
52 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `main_loop'
53 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	168 	in `start_synchronously'
54 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/bin/passenger-spawn-server 	46 	
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm getting the same problem. In slightly different context, not
related to routing.&lt;/p&gt;
&lt;p&gt;I've got my model&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
class Persona &amp;lt; ActiveRecord::Base
 ...
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And I've got in another model the following:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
class Coeficiente &amp;lt; ActiveRecord::Base
 ...
 def private.db_field(class_name)
  table = eval &amp;quot;#{class_name}.table_name&amp;quot;
 end
 ...
  db_field(Persona)
 ...
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;here's my backtrace&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
0  	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb  	419  	in `load_missing_constant'
1 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	77 	in `const_missing'
2 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	89 	in `const_missing'
3 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	95 	in `send'
4 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	95 	in `const_missing'
5 	/home/kshemac/kshema/demo/releases/20081125002850/app/models/coeficiente.rb 	79 	in `persona_es_alumna_sql'
6 	/home/kshemac/kshema/demo/releases/20081125002850/app/models/instructor.rb 	8 	
7 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `gem_original_require'
8 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `require'
9 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	155 	in `require'
10 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	262 	in `require_or_load'
11 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	221 	in `depend_on'
12 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	133 	in `require_dependency'
13 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	368 	in `load_application_classes'
14 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	367 	in `each'
15 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	367 	in `load_application_classes'
16 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	365 	in `each'
17 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	365 	in `load_application_classes'
18 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	185 	in `process'
19 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	112 	in `send'
20 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/rails-2.2.2/lib/initializer.rb 	112 	in `run'
21 	./config/environment.rb 	9 	
22 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `gem_original_require'
23 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb 	27 	in `require'
24 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	153 	in `require'
25 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	521 	in `new_constants_in'
26 	/opt/ruby-enterprise-1.8.6-20080810/lib/ruby/gems/1.8/gems/activesupport-2.2.2/lib/active_support/dependencies.rb 	153 	in `require'
27 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	252 	in `preload_application'
28 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	212 	in `initialize_server'
29 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/utils.rb 	181 	in `report_app_init_status'
30 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	201 	in `initialize_server'
31 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	166 	in `start_synchronously'
32 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	135 	in `start'
33 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `fork'
34 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `start'
35 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/application_spawner.rb 	177 	in `start'
36 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	270 	in `handle_spawn_application'
37 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	263 	in `synchronize'
38 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	263 	in `handle_spawn_application'
39 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `__send__'
40 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `main_loop'
41 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	168 	in `start_synchronously'
42 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	135 	in `start'
43 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `fork'
44 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	112 	in `start'
45 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/railz/framework_spawner.rb 	87 	in `start'
46 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	218 	in `spawn_rails_application'
47 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	213 	in `synchronize'
48 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	213 	in `spawn_rails_application'
49 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	122 	in `spawn_application'
50 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/spawn_manager.rb 	247 	in `handle_spawn_application'
51 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `__send__'
52 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	317 	in `main_loop'
53 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/lib/passenger/abstract_server.rb 	168 	in `start_synchronously'
54 	/usr/local/lib/ruby/gems/1.8/gems/passenger-2.0.3/bin/passenger-spawn-server 	46 	
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-26T05:04:00+00:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-03-12T17:29:23+00:00</updated-at>
      <user-id type="integer">36904</user-id>
      <version type="integer">2</version>
      <user-name>Dwayne Macgowan</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Is this still an issue ? Could you please submit a failing test case ? http://guides.rails.info/contributing_to_rails.html should be helpful.

Thanks</body>
      <body-html>&lt;div&gt;&lt;p&gt;Is this still an issue ? Could you please submit a failing test
case ? &lt;a href=&quot;http://guides.rails.info/contributing_to_rails.html&quot;&gt;http://guides.rails.info/contrib...&lt;/a&gt;
should be helpful.&lt;/p&gt;
&lt;p&gt;Thanks&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-12T17:30:52+00:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-03-12T17:30:57+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">3</version>
      <user-name>Pratik</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Still getting this problem...

# routes.rb
  map.namespace :account do |account|
    account.resources :sponsorships
    account.resource :profile, :controller =&gt; &quot;users&quot;
  end

A login form with :url =&gt; account_profile_path generates this error:
@@@Processing ApplicationController#create (for **.**.**.** at 2009-05-19 10:57:44) [POST]
  Parameters: {&quot;user&quot;=&gt;{&quot;password_confirmation&quot;=&gt;&quot;[FILTERED]&quot;, &quot;password&quot;=&gt;&quot;[FILTERED]&quot;,  &quot;email&quot;=&gt;&quot;*****@gmail.com&quot;}, &quot;commit&quot;=&gt;&quot;Register&quot;, &quot;action&quot;=&gt;&quot;create&quot;, &quot;controller&quot;=&gt;&quot;account/users&quot;}

NameError (uninitialized constant Account::UsersController):@@@

No idea why it's even processing ApplicationController... :S

Again, works fine in development, breaks in production... :(

~Levi Figueira</body>
      <body-html>&lt;div&gt;&lt;p&gt;Still getting this problem...&lt;/p&gt;
&lt;h1&gt;routes.rb&lt;/h1&gt;
&lt;p&gt;map.namespace :account do |account|&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;account.resources :sponsorships
account.resource :profile, :controller =&amp;gt; &quot;users&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;p&gt;A login form with :url =&amp;gt; account_profile_path generates this
error:&lt;br&gt;
@@@Processing ApplicationController#create (for
&lt;strong&gt;.&lt;/strong&gt;.&lt;strong&gt;.&lt;/strong&gt; at 2009-05-19 10:57:44)
&lt;a href=&quot;/projects/8994/changesets/POST&quot; title=
&quot;Changeset [POST]&quot;&gt;[POST]&lt;/a&gt; Parameters:
{&quot;user&quot;=&amp;gt;{&quot;password_confirmation&quot;=&amp;gt;&quot;[FILTERED]&quot;,
&quot;password&quot;=&amp;gt;&quot;[FILTERED]&quot;, &quot;email&quot;=&amp;gt;&quot;*****@gmail.com&quot;},
&quot;commit&quot;=&amp;gt;&quot;Register&quot;, &quot;action&quot;=&amp;gt;&quot;create&quot;,
&quot;controller&quot;=&amp;gt;&quot;account/users&quot;}&lt;/p&gt;
&lt;p&gt;NameError (uninitialized constant
Account::UsersController):@@@&lt;/p&gt;
&lt;p&gt;No idea why it's even processing ApplicationController... :S&lt;/p&gt;
&lt;p&gt;Again, works fine in development, breaks in production... :(&lt;/p&gt;
&lt;p&gt;~Levi Figueira&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-19T19:04:15+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-05-19T19:04:18+01:00</updated-at>
      <user-id type="integer">10586</user-id>
      <version type="integer">4</version>
      <user-name>...</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>NOTE: Why can't I edit a comment? Or at least preview it... :(
Let's hope this one comes out &quot;readable&quot;... :/
---

Still getting the same problem...

@@@
# routes.rb
  map.namespace :account do |account|
    account.resources :sponsorships
    account.resource :profile, :controller =&gt; &quot;users&quot;
  end
@@@

A login form with :url =&gt; account_profile_path generates this error:
@@@ Processing ApplicationController#create (for **.**.**.** at 2009-05-19 10:57:44) [POST]
  Parameters: {&quot;user&quot;=&gt;{&quot;password_confirmation&quot;=&gt;&quot;[FILTERED]&quot;, &quot;password&quot;=&gt;&quot;[FILTERED]&quot;,  &quot;email&quot;=&gt;&quot;*****@gmail.com&quot;}, &quot;commit&quot;=&gt;&quot;Register&quot;, &quot;action&quot;=&gt;&quot;create&quot;, &quot;controller&quot;=&gt;&quot;account/users&quot;}

NameError (uninitialized constant Account::UsersController): 
@@@

No idea why it's even processing ApplicationController... :S
Again, works fine in development, breaks in production... :(

~Levi Figueira</body>
      <body-html>&lt;div&gt;&lt;p&gt;NOTE: Why can't I edit a comment? Or at least preview it...
:(&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;Let's hope this one comes out &quot;readable&quot;... :/&lt;/h2&gt;
&lt;p&gt;Still getting the same problem...&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# routes.rb
  map.namespace :account do |account|
    account.resources :sponsorships
    account.resource :profile, :controller =&amp;gt; &quot;users&quot;
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;A login form with :url =&amp;gt; account_profile_path generates this
error:&lt;br&gt;
@@@ Processing ApplicationController#create (for
&lt;strong&gt;.&lt;/strong&gt;.&lt;strong&gt;.&lt;/strong&gt; at 2009-05-19 10:57:44)
&lt;a href=&quot;/projects/8994/changesets/POST&quot; title=
&quot;Changeset [POST]&quot;&gt;[POST]&lt;/a&gt; Parameters:
{&quot;user&quot;=&amp;gt;{&quot;password_confirmation&quot;=&amp;gt;&quot;[FILTERED]&quot;,
&quot;password&quot;=&amp;gt;&quot;[FILTERED]&quot;, &quot;email&quot;=&amp;gt;&quot;*****@gmail.com&quot;},
&quot;commit&quot;=&amp;gt;&quot;Register&quot;, &quot;action&quot;=&amp;gt;&quot;create&quot;,
&quot;controller&quot;=&amp;gt;&quot;account/users&quot;}&lt;/p&gt;
&lt;p&gt;NameError (uninitialized constant
Account::UsersController):&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;
No idea why it's even processing ApplicationController... :S
Again, works fine in development, breaks in production... :(&lt;br&gt;
&lt;br&gt;


&lt;br&gt;
~Levi Figueira&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-19T19:08:21+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-05-19T19:08:25+01:00</updated-at>
      <user-id type="integer">10586</user-id>
      <version type="integer">5</version>
      <user-name>...</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I.Give.Up -.-</body>
      <body-html>&lt;div&gt;&lt;p&gt;I.Give.Up -.-&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-19T19:12:25+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-05-19T19:12:26+01:00</updated-at>
      <user-id type="integer">10586</user-id>
      <version type="integer">6</version>
      <user-name>...</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@Thomas, you need to reset the namespace not the controller in your nested resource so it should look like this otherwise it will assume you have a Time::TagsController:

{{{
  map.namespace(:time) do |time|
    time.resources :tags, :namespace =&gt; ''
  end
}}}</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Thomas, you need to reset the namespace not the controller in
your nested resource so it should look like this otherwise it will
assume you have a Time::TagsController:&lt;/p&gt;
&lt;p&gt;{{{ map.namespace(:time) do |time|&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;time.resources :tags, :namespace =&amp;gt; ''&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;end }}}&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-25T16:32:21+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-05-25T16:32:27+01:00</updated-at>
      <user-id type="integer">2529</user-id>
      <version type="integer">7</version>
      <user-name>Daniel Guettler</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ah sorry wrong markup:

@@@
  map.namespace(:time) do |time|
    time.resources :tags, :namespace =&gt; ''
  end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ah sorry wrong markup:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;  map.namespace(:time) do |time|
    time.resources :tags, :namespace =&amp;gt; ''
  end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-25T16:33:05+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2009-05-25T16:33:10+01:00</updated-at>
      <user-id type="integer">2529</user-id>
      <version type="integer">8</version>
      <user-name>Daniel Guettler</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:36+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2010-05-04T18:48:36+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">9</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Some behavior under rails 3 beta3.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Some behavior under rails 3 beta3.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-26T13:26:27+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2010-05-26T13:26:32+01:00</updated-at>
      <user-id type="integer">44783</user-id>
      <version type="integer">10</version>
      <user-name>ximus</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This will now be possible with the 3.0 RC

@@@ ruby
  scope(:path =&gt; 'time', :as =&gt; :time) do
    resources :tags
  end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;This will now be possible with the 3.0 RC&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;  scope(:path =&amp;gt; 'time', :as =&amp;gt; :time) do
    resources :tags
  end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-28T09:27:36+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
:milestone: 71472
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">829</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2010-06-28T09:27:49+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">11</version>
      <user-name>Andrew White</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:29+01:00</created-at>
      <creator-id type="integer">15560</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">1458</number>
      <permalink>namespaced-resources-fail-in-production-when-controllers-are-not-namespaced</permalink>
      <priority type="integer">829</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Namespaced resources fail in production when controllers are not namespaced</title>
      <updated-at type="datetime">2010-10-15T23:01:29+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">12</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Thomas Fuchs</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1458</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
