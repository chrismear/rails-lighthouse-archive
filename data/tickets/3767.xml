<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">85</assigned-user-id>
  <attachments-count type="integer">5</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-01-21T18:20:34+00:00</created-at>
  <creator-id type="integer">43500</creator-id>
  <milestone-due-on type="datetime">2010-01-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">50064</milestone-id>
  <number type="integer">3767</number>
  <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>3.0</tag>
  <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
  <updated-at type="datetime">2010-05-07T19:57:47+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">12</version>
  <user-name>Repository</user-name>
  <creator-name>Adam McCrea</creator-name>
  <assigned-user-name>Jeremy Kemper</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
  <milestone-title>2.3.6</milestone-title>
  <priority-name>Medium</priority-name>
  <original-body>Since the default behavior of Rails 3 is to escape all Ruby strings in HTML, we're forced to use raw() on simple_format() to get it behaving as expected.  IMO, since the purpose of simple_format is to inject HTML into a string, it should also take care to prevent that HTML from being escaped.

Likewise, I think simple_format() should automatically escape the string that is passed to it.  This seems to go along with the Rails 3 assumption that no string is safe unless explicitly stated.

Separate patches are attached for each of these changes.</original-body>
  <latest-body>Since the default behavior of Rails 3 is to escape all Ruby strings in HTML, we're forced to use raw() on simple_format() to get it behaving as expected.  IMO, since the purpose of simple_format is to inject HTML into a string, it should also take care to prevent that HTML from being escaped.

Likewise, I think simple_format() should automatically escape the string that is passed to it.  This seems to go along with the Rails 3 assumption that no string is safe unless explicitly stated.

Separate patches are attached for each of these changes.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Since the default behavior of Rails 3 is to escape all Ruby
strings in HTML, we're forced to use raw() on simple_format() to
get it behaving as expected. IMO, since the purpose of
simple_format is to inject HTML into a string, it should also take
care to prevent that HTML from being escaped.&lt;/p&gt;
&lt;p&gt;Likewise, I think simple_format() should automatically escape
the string that is passed to it. This seems to go along with the
Rails 3 assumption that no string is safe unless explicitly
stated.&lt;/p&gt;
&lt;p&gt;Separate patches are attached for each of these changes.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Since the default behavior of Rails 3 is to escape all Ruby strings in HTML, we're forced to use raw() on simple_format() to get it behaving as expected.  IMO, since the purpose of simple_format is to inject HTML into a string, it should also take care to prevent that HTML from being escaped.

Likewise, I think simple_format() should automatically escape the string that is passed to it.  This seems to go along with the Rails 3 assumption that no string is safe unless explicitly stated.

Separate patches are attached for each of these changes.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Since the default behavior of Rails 3 is to escape all Ruby
strings in HTML, we're forced to use raw() on simple_format() to
get it behaving as expected. IMO, since the purpose of
simple_format is to inject HTML into a string, it should also take
care to prevent that HTML from being escaped.&lt;/p&gt;
&lt;p&gt;Likewise, I think simple_format() should automatically escape
the string that is passed to it. This seems to go along with the
Rails 3 assumption that no string is safe unless explicitly
stated.&lt;/p&gt;
&lt;p&gt;Separate patches are attached for each of these changes.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-21T18:20:34+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-01-21T18:20:37+00:00</updated-at>
      <user-id type="integer">43500</user-id>
      <version type="integer">1</version>
      <user-name>Adam McCrea</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Applies cleanly, but doesn't work as intended due to safe_concat.

Here's an additional patch (to retain new test cases) that uses String#insert for the final, closing &quot;&lt;/p&gt;&quot;. +1 otherwise.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Applies cleanly, but doesn't work as intended due to
safe_concat.&lt;/p&gt;
&lt;p&gt;Here's an additional patch (to retain new test cases) that uses
String#insert for the final, closing &quot;&lt;/p&gt;
&quot;. +1 otherwise.&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-08T14:50:16+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-08T14:50:19+00:00</updated-at>
      <user-id type="integer">17268</user-id>
      <version type="integer">2</version>
      <user-name>Stephen Celis</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I guess Lighthouse is raw(). That was supposed to read &quot;closing '&amp;lt;/p&amp;gt;'&quot;.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I guess Lighthouse is raw(). That was supposed to read &quot;closing
'&amp;lt;/p&amp;gt;'&quot;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-08T14:51:32+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-08T14:51:34+00:00</updated-at>
      <user-id type="integer">17268</user-id>
      <version type="integer">3</version>
      <user-name>Stephen Celis</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-08T20:27:13+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-08T20:27:16+00:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">4</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Here is the correct patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here is the correct patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-12T19:09:04+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 1366
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-12T19:09:08+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">5</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>New patch after DHH change</body>
      <body-html>&lt;div&gt;&lt;p&gt;New patch after DHH change&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-13T01:17:48+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-13T01:17:53+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">6</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-13T01:20:55+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-13T01:20:56+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">7</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>(from [4158282e32bf0a7d9fbb1a7669ade2226f909b12]) simple_format returns a safe buffer escaping unsafe input [Santiago Pastorino] (Closes #3767)

Signed-off-by: David Heinemeier Hansson &lt;david@loudthinking.com&gt;
http://github.com/rails/rails/commit/4158282e32bf0a7d9fbb1a7669ade2226f909b12</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/4158282e32bf0a7d9fbb1a7669ade2226f909b12&quot;
title=
&quot;Changeset [4158282e32bf0a7d9fbb1a7669ade2226f909b12]&quot;&gt;[4158282e32bf0a7d9fbb1a7669ade2226f909b12]&lt;/a&gt;)
simple_format returns a safe buffer escaping unsafe input [Santiago
Pastorino] (Closes &lt;a href=&quot;/projects/8994/tickets/3767&quot; title=
&quot;Ticket #3767&quot;&gt;#3767&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Signed-off-by: David Heinemeier Hansson
&lt;a&gt;david@loudthinking.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/4158282e32bf0a7d9fbb1a7669ade2226f909b12&quot;&gt;
http://github.com/rails/rails/commit/4158282e32bf0a7d9fbb1a7669ade2...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-13T01:25:50+00:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-02-13T01:25:51+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">8</version>
      <user-name>Repository</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>This should not have been applied to Rails 2.3! When moving to Rails 3, I would expect more escaping by default, but this change will jump out and bite many of us running &quot;2.3 stable&quot;.

As Adam wrote, &quot;Since the default behavior of Rails 3...&quot;.

Also, a documentation change would have been helpful -- at least mentioning that the incoming string will be escaped.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This should not have been applied to Rails 2.3! When moving to
Rails 3, I would expect more escaping by default, but this change
will jump out and bite many of us running &quot;2.3 stable&quot;.&lt;/p&gt;
&lt;p&gt;As Adam wrote, &quot;Since the default behavior of Rails 3...&quot;.&lt;/p&gt;
&lt;p&gt;Also, a documentation change would have been helpful -- at least
mentioning that the incoming string will be escaped.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-07T17:51:57+01:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-05-07T17:52:02+01:00</updated-at>
      <user-id type="integer">22427</user-id>
      <version type="integer">9</version>
      <user-name>David Reese</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>David you're right, we should escape this on rails_xss, sorry my bad.

On rails
http://github.com/spastorino/rails/commit/571593da45834dae10b20cbd85b362e32b7534f3

On rails_xss (I can merge this one)
http://github.com/spastorino/rails_xss/commit/96cb0059f79d62e3660a926f89d1d0dcc04d1647</body>
      <body-html>&lt;div&gt;&lt;p&gt;David you're right, we should escape this on rails_xss, sorry my
bad.&lt;/p&gt;
&lt;p&gt;On rails&lt;br&gt;
&lt;a href=
&quot;http://github.com/spastorino/rails/commit/571593da45834dae10b20cbd85b362e32b7534f3&quot;&gt;
http://github.com/spastorino/rails/commit/571593da45834dae10b20cbd8...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On rails_xss (I can merge this one)&lt;br&gt;
&lt;a href=
&quot;http://github.com/spastorino/rails_xss/commit/96cb0059f79d62e3660a926f89d1d0dcc04d1647&quot;&gt;
http://github.com/spastorino/rails_xss/commit/96cb0059f79d62e3660a9...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T19:48:50+01:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- 
:state: committed
:milestone: 27004
:assigned_user: 12714
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-05-07T19:48:53+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>I've removed a test that i shouldn't here is the right patch with [#OMG] thing</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've removed a test that i shouldn't here is the right patch
with [#OMG] thing&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T19:55:06+01:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-05-07T19:55:13+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">11</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>(from [adcfb4e8bd886fe9d14a9b97afdb9182d8abdc95]) simple_format should return html_safe but not escape text, that's for rails_xss plugin [#3767 state:committed]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/adcfb4e8bd886fe9d14a9b97afdb9182d8abdc95</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/adcfb4e8bd886fe9d14a9b97afdb9182d8abdc95&quot;
title=
&quot;Changeset [adcfb4e8bd886fe9d14a9b97afdb9182d8abdc95]&quot;&gt;[adcfb4e8bd886fe9d14a9b97afdb9182d8abdc95]&lt;/a&gt;)
simple_format should return html_safe but not escape text, that's
for rails_xss plugin [&lt;a href=&quot;/projects/8994/tickets/3767&quot; title=
&quot;Ticket #3767&quot;&gt;#3767&lt;/a&gt; state:committed]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a href=
&quot;mailto:jeremy@bitsweat.net&quot;&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/adcfb4e8bd886fe9d14a9b97afdb9182d8abdc95&quot;&gt;
http://github.com/rails/rails/commit/adcfb4e8bd886fe9d14a9b97afdb91...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-07T19:57:46+01:00</created-at>
      <creator-id type="integer">43500</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3767</number>
      <permalink>patch-simple_format-output-should-not-be-html-escaped-in-rails-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>3.0</tag>
      <title>[PATCH] simple_format output should not be HTML-escaped in Rails 3</title>
      <updated-at type="datetime">2010-05-07T19:57:47+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">12</version>
      <user-name>Repository</user-name>
      <creator-name>Adam McCrea</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3767</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>b794201ed45a09f86dc1fb13d18bb41030aafe7e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-01-21T18:20:34+00:00</created-at>
      <filename>simple_format-should-not-escape-its-output.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">384066</id>
      <size type="integer">2076</size>
      <uploader-id type="integer">43500</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/384066/simple_format-should-not-escape-its-output.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>50423466c84f17c0c64658c70b89685e7b6cffe3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-01-21T18:20:36+00:00</created-at>
      <filename>simple_format-should-escape-its-input.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">384067</id>
      <size type="integer">1844</size>
      <uploader-id type="integer">43500</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/384067/simple_format-should-escape-its-input.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>dbee534ed96fcd245cded51cce8d1846ab7f648a</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-02-08T14:50:16+00:00</created-at>
      <filename>avoid-safe-concat.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">404403</id>
      <size type="integer">947</size>
      <uploader-id type="integer">17268</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/404403/avoid-safe-concat.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>c84168ba0c8ecdff289813bc21bda99cf32526d7</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-02-12T19:09:04+00:00</created-at>
      <filename>simple_format_escapes_unsafe_input.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">409706</id>
      <size type="integer">2532</size>
      <uploader-id type="integer">40272</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/409706/simple_format_escapes_unsafe_input.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>64a47d3e313a006c2976c57d5435a127c826cc68</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-07T19:55:06+01:00</created-at>
      <filename>simple_format-2-3-stable.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">513963</id>
      <size type="integer">2178</size>
      <uploader-id type="integer">40272</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/513963/simple_format-2-3-stable.patch</url>
    </attachment>
  </attachments>
</ticket>
