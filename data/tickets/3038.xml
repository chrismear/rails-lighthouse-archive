<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-08-12T06:32:02+01:00</created-at>
  <creator-id type="integer">1</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">3038</number>
  <permalink>no-logging-in-production-mode</permalink>
  <priority type="integer">5</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>review</tag>
  <title>no logging in production mode?</title>
  <updated-at type="datetime">2010-10-15T23:01:35+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">7</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Rick</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I ran [Altered Beast](http://github.com/courtenay/altered_beast) on Rails 3 and noticed it didn't seem to log _at all_.  I'm not sure why that is... maybe some new config setting is needed now?</original-body>
  <latest-body>I ran [Altered Beast](http://github.com/courtenay/altered_beast) on Rails 3 and noticed it didn't seem to log _at all_.  I'm not sure why that is... maybe some new config setting is needed now?</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I ran &lt;a href=&quot;http://github.com/courtenay/altered_beast&quot;&gt;Altered Beast&lt;/a&gt; on
Rails 3 and noticed it didn't seem to log &lt;em&gt;at all&lt;/em&gt;. I'm not
sure why that is... maybe some new config setting is needed
now?&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I ran [Altered Beast](http://github.com/courtenay/altered_beast) on Rails 3 and noticed it didn't seem to log _at all_.  I'm not sure why that is... maybe some new config setting is needed now?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I ran &lt;a href=
&quot;http://github.com/courtenay/altered_beast&quot;&gt;Altered Beast&lt;/a&gt; on
Rails 3 and noticed it didn't seem to log &lt;em&gt;at all&lt;/em&gt;. I'm not
sure why that is... maybe some new config setting is needed
now?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-12T06:32:02+01:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2009-08-12T06:32:06+01:00</updated-at>
      <user-id type="integer">1</user-id>
      <version type="integer">1</version>
      <user-name>Rick</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>verified.</body>
      <body-html>&lt;div&gt;&lt;p&gt;verified.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-16T16:28:07+01:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2009-08-16T16:28:09+01:00</updated-at>
      <user-id type="integer">36650</user-id>
      <version type="integer">2</version>
      <user-name>Elise Huard</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I *do* seem to get logging for going to a page that doesn't exist. Try going to `/pathThatDoesNotExist`. I get

&gt; Rendered /Users/me/projects/ruby/rails3/actionpack/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within /Users/me/projects/ruby/rails3/actionpack/lib/action_dispatch/middleware/templates/rescues/layout.erb (2.2ms)</body>
      <body-html>&lt;div&gt;&lt;p&gt;I &lt;em&gt;do&lt;/em&gt; seem to get logging for going to a page that
doesn't exist. Try going to &lt;code&gt;/pathThatDoesNotExist&lt;/code&gt;. I
get&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rendered
/Users/me/projects/ruby/rails3/actionpack/lib/action_dispatch/middleware/templates/rescues/routing_error.erb
within
/Users/me/projects/ruby/rails3/actionpack/lib/action_dispatch/middleware/templates/rescues/layout.erb
(2.2ms)&lt;/p&gt;
&lt;/blockquote&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-16T16:05:51+00:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2010-01-16T16:05:55+00:00</updated-at>
      <user-id type="integer">70774</user-id>
      <version type="integer">3</version>
      <user-name>James A Rosen</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Logging is being populated as it should in log/production.log.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Logging is being populated as it should in
log/production.log.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-16T18:06:57+00:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>review</tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2010-01-16T18:07:01+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">4</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-16T20:04:35+00:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>review</tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2010-01-16T20:04:36+00:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">5</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I had the same issue. Turned out to be that Rails.logger.auto_flushing was set to 1000 by default in production mode, making it appear that it was nonfunctional:

@@@  
$ script/console production
New RightAws::Ec2 using single-threaded mode
Loading production environment (Rails 3.0.pre)
irb(main):001:0&gt; Rails.logger
=&gt; #&lt;ActiveSupport::BufferedLogger:0xb7807c00 @auto_flushing=1000, @buffer={}, @level=0, @log=#&lt;File:.../log/production.log&gt;, @guard=#&lt;Mutex:0xb77ff294&gt;&gt;
@@@

This comes from railties/lib/rails/bootstrap.rb:70
@@@ 
logger.auto_flushing = false if Rails.env.production?
@@@

and activesupport/lib/active_support/buffered_logger.rb:94
@@@
def auto_flushing=(period)
  @auto_flushing =
  case period
  ...
  when false, nil, 0; MAX_BUFFER_SIZE
@@@

so then : 
@@@ 
irb(main):004:0&gt; Rails.logger.inspect
=&gt; &quot;#&lt;ActiveSupport::BufferedLogger:0xb7807c00 @auto_flushing=1, @buffer={}, @level=0, @log=#&lt;File:/home/deploy/wrangler/releases/20100124150359/log/production.log&gt;, @guard=#&lt;Mutex:0xb77ff294&gt;&gt;&quot;
irb(main):006:0&gt; Rails.logger.auto_flushing=false
=&gt; false
irb(main):007:0&gt; Rails.logger.inspect
=&gt; &quot;#&lt;ActiveSupport::BufferedLogger:0xb7807c00 @auto_flushing=1000, @buffer={}, @level=0, @log=#&lt;File:/home/deploy/wrangler/releases/20100124150359/log/production.log&gt;, @guard=#&lt;Mutex:0xb77ff294&gt;&gt;&quot;
@@@

Is this the intent, to disable auto_flushing and force developers to manually flush the rails log in production mode? I would have expected auto_flushing=1.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I had the same issue. Turned out to be that
Rails.logger.auto_flushing was set to 1000 by default in production
mode, making it appear that it was nonfunctional:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;$ script/console production
New RightAws::Ec2 using single-threaded mode
Loading production environment (Rails 3.0.pre)
irb(main):001:0&amp;gt; Rails.logger
=&amp;gt; #&amp;lt;ActiveSupport::BufferedLogger:0xb7807c00 @auto_flushing=1000, @buffer={}, @level=0, @log=#&amp;lt;File:.../log/production.log&amp;gt;, @guard=#&amp;lt;Mutex:0xb77ff294&amp;gt;&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This comes from railties/lib/rails/bootstrap.rb:70&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;logger.auto_flushing = false if Rails.env.production?&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and
activesupport/lib/active_support/buffered_logger.rb:94&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def auto_flushing=(period)
  @auto_flushing =
  case period
  ...
  when false, nil, 0; MAX_BUFFER_SIZE&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;so then :&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;irb(main):004:0&amp;gt; Rails.logger.inspect
=&amp;gt; &quot;#&amp;lt;ActiveSupport::BufferedLogger:0xb7807c00 @auto_flushing=1, @buffer={}, @level=0, @log=#&amp;lt;File:/home/deploy/wrangler/releases/20100124150359/log/production.log&amp;gt;, @guard=#&amp;lt;Mutex:0xb77ff294&amp;gt;&amp;gt;&quot;
irb(main):006:0&amp;gt; Rails.logger.auto_flushing=false
=&amp;gt; false
irb(main):007:0&amp;gt; Rails.logger.inspect
=&amp;gt; &quot;#&amp;lt;ActiveSupport::BufferedLogger:0xb7807c00 @auto_flushing=1000, @buffer={}, @level=0, @log=#&amp;lt;File:/home/deploy/wrangler/releases/20100124150359/log/production.log&amp;gt;, @guard=#&amp;lt;Mutex:0xb77ff294&amp;gt;&amp;gt;&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Is this the intent, to disable auto_flushing and force
developers to manually flush the rails log in production mode? I
would have expected auto_flushing=1.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-24T15:45:23+00:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>review</tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2010-01-24T15:45:25+00:00</updated-at>
      <user-id type="integer">45329</user-id>
      <version type="integer">6</version>
      <user-name>Ben Mishkin</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:35+01:00</created-at>
      <creator-id type="integer">1</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">3038</number>
      <permalink>no-logging-in-production-mode</permalink>
      <priority type="integer">5</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>review</tag>
      <title>no logging in production mode?</title>
      <updated-at type="datetime">2010-10-15T23:01:35+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">7</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Rick</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3038</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
