<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2011-04-22T06:48:04+01:00</created-at>
  <creator-id type="integer">141385</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6582</number>
  <permalink>evaluate-activeresourcebasesite-at-runtime</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>new</state>
  <tag nil="true"></tag>
  <title>evaluate ActiveResource::Base.site at runtime</title>
  <updated-at type="datetime">2011-04-22T06:48:04+01:00</updated-at>
  <user-id type="integer">141385</user-id>
  <version type="integer">3</version>
  <user-name>Axel Tetzlaff</user-name>
  <creator-name>Axel Tetzlaff</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6582</url>
  <priority-name nil="true"></priority-name>
  <original-body>I want to write an API client app for our REST API. The app serving the API publicizes it over different subdomains for different clients, i.e.:
clientA.myapp.org/api/people
clientB.myapp.org/api/people
The client app must be able to query any client depending on the user logged in to the client app. 

The set of possible clients is not static and can change any time.

ActiveResource::Base.site is usually set at app startup time, which makes no sense for me, because I don't know to which client the first user accessing my client app belongs to yet.
Resetting site with every request is not a solution, because I think it's not thread safe, since site is a class variable and shared across all parallel requests.

The solution is imho to make site not a value, but either a function or an object that is capable of calculating the site at runtime.

I hope this makes any sense to you.</original-body>
  <latest-body>I want to write an API client app for our REST API. The app serving the API publicizes it over different subdomains for different clients, i.e.:
clientA.myapp.org/api/people
clientB.myapp.org/api/people
The client app must be able to query any client depending on the user logged in to the client app. 

The set of possible clients is not static and can change any time.

ActiveResource::Base.site is usually set at app startup time, which makes no sense for me, because I don't know to which client the first user accessing my client app belongs to yet.
Resetting site with every request is not a solution, because I think it's not thread safe, since site is a class variable and shared across all parallel requests.

The solution is imho to make site not a value, but either a function or an object that is capable of calculating the site at runtime.

I hope this makes any sense to you.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I want to write an API client app for our REST API. The app
serving the API publicizes it over different subdomains for
different clients, i.e.:&lt;br&gt;
clientA.myapp.org/api/people&lt;br&gt;
clientB.myapp.org/api/people&lt;br&gt;
The client app must be able to query any client depending on the
user logged in to the client app.&lt;/p&gt;
&lt;p&gt;The set of possible clients is not static and can change any
time.&lt;/p&gt;
&lt;p&gt;ActiveResource::Base.site is usually set at app startup time,
which makes no sense for me, because I don't know to which client
the first user accessing my client app belongs to yet.&lt;br&gt;
Resetting site with every request is not a solution, because I
think it's not thread safe, since site is a class variable and
shared across all parallel requests.&lt;/p&gt;
&lt;p&gt;The solution is imho to make site not a value, but either a
function or an object that is capable of calculating the site at
runtime.&lt;/p&gt;
&lt;p&gt;I hope this makes any sense to you.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I want to write an API client app for our REST API. The app serving the API publicizes it over different subdomains for different clients, i.e.:
clientA.myapp.org/api/people
clientB.myapp.org/api/people
The client app must be able to query any client depending on the user logged in to the client app. 

The set of possible clients is not static and can change any time.

ActiveResource::Base.site is usually set at app startup time, which makes no sense for me, because I don't know to which client the first user accessing my client app belongs to yet.
Resetting site with every request is not a solution, because I think it's not thread safe, since site is a class variable and shared across all parallel requests.

The solution is imho to make site not a value, but either a function or an object that is capable of calculating the site at runtime.

I hope this makes any sense to you.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I want to write an API client app for our REST API. The app
serving the API publicizes it over different subdomains for
different clients, i.e.:&lt;br&gt;
clientA.myapp.org/api/people&lt;br&gt;
clientB.myapp.org/api/people&lt;br&gt;
The client app must be able to query any client depending on the
user logged in to the client app.&lt;/p&gt;
&lt;p&gt;The set of possible clients is not static and can change any
time.&lt;/p&gt;
&lt;p&gt;ActiveResource::Base.site is usually set at app startup time,
which makes no sense for me, because I don't know to which client
the first user accessing my client app belongs to yet.&lt;br&gt;
Resetting site with every request is not a solution, because I
think it's not thread safe, since site is a class variable and
shared across all parallel requests.&lt;/p&gt;
&lt;p&gt;The solution is imho to make site not a value, but either a
function or an object that is capable of calculating the site at
runtime.&lt;/p&gt;
&lt;p&gt;I hope this makes any sense to you.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-15T11:32:44+00:00</created-at>
      <creator-id type="integer">141385</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6582</number>
      <permalink>evaluate-activeresourcebasesite-at-runtime</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>evaluate ActiveResource::Base.site at runtime</title>
      <updated-at type="datetime">2011-03-15T11:32:47+00:00</updated-at>
      <user-id type="integer">141385</user-id>
      <version type="integer">1</version>
      <user-name>Axel Tetzlaff</user-name>
      <creator-name>Axel Tetzlaff</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6582</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Theirs is a living, breathing, ongoing phenomenon spanning more than three centuries.(http://www.bagsairs.com)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Theirs is a living, breathing, ongoing phenomenon spanning more
than three centuries.(&lt;a href=
&quot;http://www.bagsairs.com&quot;&gt;http://www.bagsairs.com&lt;/a&gt;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-15T12:07:48+00:00</created-at>
      <creator-id type="integer">141385</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6582</number>
      <permalink>evaluate-activeresourcebasesite-at-runtime</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>evaluate ActiveResource::Base.site at runtime</title>
      <updated-at type="datetime">2011-03-15T12:07:52+00:00</updated-at>
      <user-id type="integer">141392</user-id>
      <version type="integer">2</version>
      <user-name>booamd</user-name>
      <creator-name>Axel Tetzlaff</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6582</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm using this to work around - but id does not feel right: http://tardigra.de/mcblog/2008/01/handling-multiple-user-authent.html</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm using this to work around - but id does not feel right:
&lt;a href=
&quot;http://tardigra.de/mcblog/2008/01/handling-multiple-user-authent.html&quot;&gt;
http://tardigra.de/mcblog/2008/01/handling-multiple-user-authent.html&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-15T15:42:47+00:00</created-at>
      <creator-id type="integer">141385</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6582</number>
      <permalink>evaluate-activeresourcebasesite-at-runtime</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>evaluate ActiveResource::Base.site at runtime</title>
      <updated-at type="datetime">2011-03-15T15:42:49+00:00</updated-at>
      <user-id type="integer">141385</user-id>
      <version type="integer">3</version>
      <user-name>Axel Tetzlaff</user-name>
      <creator-name>Axel Tetzlaff</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6582</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>PDF to JPG Converter is a more efficient pdf to jpg conversion software
&lt;a href=&quot;http://www.oxpdf.com/pdf-creator.html&quot;&gt;PDF Creator&lt;/a&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-to-jpg-converter.html&quot;&gt;pdf to jpg converter&lt;/a&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-to-image-converter.html&quot;&gt;pdf to image converter&lt;/a&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-to-tiff-converter.html&quot;&gt;pdf to tiff converter&lt;/a&gt;
which is able to convert pdf to jpg format with original output quality and fast conversion speed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;PDF to JPG Converter is a more efficient pdf to jpg conversion
software&lt;br&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-creator.html&quot;&gt;PDF Creator&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-to-jpg-converter.html&quot;&gt;pdf to jpg
converter&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-to-image-converter.html&quot;&gt;pdf to
image converter&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.oxpdf.com/pdf-to-tiff-converter.html&quot;&gt;pdf to
tiff converter&lt;/a&gt;&lt;br&gt;
which is able to convert pdf to jpg format with original output
quality and fast conversion speed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-04-22T04:49:49+01:00</created-at>
      <creator-id type="integer">141385</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6582</number>
      <permalink>evaluate-activeresourcebasesite-at-runtime</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>evaluate ActiveResource::Base.site at runtime</title>
      <updated-at type="datetime">2011-04-22T06:48:04+01:00</updated-at>
      <user-id type="integer">146598</user-id>
      <version type="integer">4</version>
      <user-name>machen</user-name>
      <creator-name>Axel Tetzlaff</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6582</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
