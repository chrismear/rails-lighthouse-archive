<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">7697</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-11-25T12:13:37+00:00</created-at>
  <creator-id type="integer">20011</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">2694</number>
  <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>actionpack resource resources routes routing</tag>
  <title>Nested resources inherit requirements on parent ids</title>
  <updated-at type="datetime">2010-11-25T12:13:37+00:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">11</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Matt Powell</creator-name>
  <assigned-user-name>Andrew White</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Medium</priority-name>
  <original-body>### The problem ###

Consider the following resource routing code for a site where product ids are of the form ABCD.123:

@@@
map.resources :products, :requirements =&gt; { :id =&gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews
end
@@@

You'd expect product_reviews_path(&quot;ABCD.123&quot;) to return &quot;/products/ABCD.123/reviews&quot;, right? But actually, you get a routing error, because the nested resource (reviews) doesn't know that the `product_id` parameter is allowed to have periods in it.

What you end up needing is something like:

@@@
map.resources :products, :requirements =&gt; { :id =&gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews, :requirements =&gt; { :product_id =&gt; /[A-Z]{4}\.[0-9]{3}/ }
end
@@@

...which isn't very DRY.

### What this patch does ###

This patch changes resource generation subtly so that requirements on :id on the parent resource get passed to the child as, for example, `requirements[:product_id]`.

### Notes ###

1. I'm aware that some people may take issue with using periods in an ID parameter in the first place. I'm not disagreeing, but sometimes these requests come from higher up the chain and aren't easily dismissed ;)
2. I could perhaps have made this more general, but I'm not aware of any other widely-used parameters that need this kind of treatment. Perhaps this could be a configuration option.
3. I think cascading the ID requirement in this way is a sensible default, and in any event it can be overridden in the nested resource's requirements. However, if this is the sort of thing that should be off by default, again, I'm happy to create a configuration option.

Thoughts? Questions? Comments? This is my first attempt to patch Rails officially, so I'm completely open to discussion.</original-body>
  <latest-body>### The problem ###

Consider the following resource routing code for a site where product ids are of the form ABCD.123:

@@@
map.resources :products, :requirements =&gt; { :id =&gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews
end
@@@

You'd expect product_reviews_path(&quot;ABCD.123&quot;) to return &quot;/products/ABCD.123/reviews&quot;, right? But actually, you get a routing error, because the nested resource (reviews) doesn't know that the `product_id` parameter is allowed to have periods in it.

What you end up needing is something like:

@@@
map.resources :products, :requirements =&gt; { :id =&gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews, :requirements =&gt; { :product_id =&gt; /[A-Z]{4}\.[0-9]{3}/ }
end
@@@

...which isn't very DRY.

### What this patch does ###

This patch changes resource generation subtly so that requirements on :id on the parent resource get passed to the child as, for example, `requirements[:product_id]`.

### Notes ###

1. I'm aware that some people may take issue with using periods in an ID parameter in the first place. I'm not disagreeing, but sometimes these requests come from higher up the chain and aren't easily dismissed ;)
2. I could perhaps have made this more general, but I'm not aware of any other widely-used parameters that need this kind of treatment. Perhaps this could be a configuration option.
3. I think cascading the ID requirement in this way is a sensible default, and in any event it can be overridden in the nested resource's requirements. However, if this is the sort of thing that should be off by default, again, I'm happy to create a configuration option.

Thoughts? Questions? Comments? This is my first attempt to patch Rails officially, so I'm completely open to discussion.</latest-body>
  <original-body-html>&lt;div&gt;&lt;h3&gt;The problem&lt;/h3&gt;
&lt;p&gt;Consider the following resource routing code for a site where
product ids are of the form ABCD.123:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
map.resources :products, :requirements =&amp;gt; { :id =&amp;gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You'd expect product_reviews_path(&quot;ABCD.123&quot;) to return
&quot;/products/ABCD.123/reviews&quot;, right? But actually, you get a
routing error, because the nested resource (reviews) doesn't know
that the &lt;code&gt;product_id&lt;/code&gt; parameter is allowed to have
periods in it.&lt;/p&gt;
&lt;p&gt;What you end up needing is something like:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
map.resources :products, :requirements =&amp;gt; { :id =&amp;gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews, :requirements =&amp;gt; { :product_id =&amp;gt; /[A-Z]{4}\.[0-9]{3}/ }
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...which isn't very DRY.&lt;/p&gt;
&lt;h3&gt;What this patch does&lt;/h3&gt;
&lt;p&gt;This patch changes resource generation subtly so that
requirements on :id on the parent resource get passed to the child
as, for example, &lt;code&gt;requirements[:product_id]&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Notes&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;I'm aware that some people may take issue with using periods in
an ID parameter in the first place. I'm not disagreeing, but
sometimes these requests come from higher up the chain and aren't
easily dismissed ;)&lt;/li&gt;
&lt;li&gt;I could perhaps have made this more general, but I'm not aware
of any other widely-used parameters that need this kind of
treatment. Perhaps this could be a configuration option.&lt;/li&gt;
&lt;li&gt;I think cascading the ID requirement in this way is a sensible
default, and in any event it can be overridden in the nested
resource's requirements. However, if this is the sort of thing that
should be off by default, again, I'm happy to create a
configuration option.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Thoughts? Questions? Comments? This is my first attempt to patch
Rails officially, so I'm completely open to discussion.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>### The problem ###

Consider the following resource routing code for a site where product ids are of the form ABCD.123:

@@@
map.resources :products, :requirements =&gt; { :id =&gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews
end
@@@

You'd expect product_reviews_path(&quot;ABCD.123&quot;) to return &quot;/products/ABCD.123/reviews&quot;, right? But actually, you get a routing error, because the nested resource (reviews) doesn't know that the `product_id` parameter is allowed to have periods in it.

What you end up needing is something like:

@@@
map.resources :products, :requirements =&gt; { :id =&gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews, :requirements =&gt; { :product_id =&gt; /[A-Z]{4}\.[0-9]{3}/ }
end
@@@

...which isn't very DRY.

### What this patch does ###

This patch changes resource generation subtly so that requirements on :id on the parent resource get passed to the child as, for example, `requirements[:product_id]`.

### Notes ###

1. I'm aware that some people may take issue with using periods in an ID parameter in the first place. I'm not disagreeing, but sometimes these requests come from higher up the chain and aren't easily dismissed ;)
2. I could perhaps have made this more general, but I'm not aware of any other widely-used parameters that need this kind of treatment. Perhaps this could be a configuration option.
3. I think cascading the ID requirement in this way is a sensible default, and in any event it can be overridden in the nested resource's requirements. However, if this is the sort of thing that should be off by default, again, I'm happy to create a configuration option.

Thoughts? Questions? Comments? This is my first attempt to patch Rails officially, so I'm completely open to discussion.</body>
      <body-html>&lt;div&gt;&lt;h3&gt;The problem&lt;/h3&gt;
&lt;p&gt;Consider the following resource routing code for a site where
product ids are of the form ABCD.123:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;map.resources :products, :requirements =&amp;gt; { :id =&amp;gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;You'd expect product_reviews_path(&quot;ABCD.123&quot;) to return
&quot;/products/ABCD.123/reviews&quot;, right? But actually, you get a
routing error, because the nested resource (reviews) doesn't know
that the &lt;code&gt;product_id&lt;/code&gt; parameter is allowed to have
periods in it.&lt;/p&gt;
&lt;p&gt;What you end up needing is something like:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;map.resources :products, :requirements =&amp;gt; { :id =&amp;gt; /[A-Z]{4}\.[0-9]{3}/ } do |products|
  products.resources :reviews, :requirements =&amp;gt; { :product_id =&amp;gt; /[A-Z]{4}\.[0-9]{3}/ }
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;...which isn't very DRY.&lt;/p&gt;
&lt;h3&gt;What this patch does&lt;/h3&gt;
&lt;p&gt;This patch changes resource generation subtly so that
requirements on :id on the parent resource get passed to the child
as, for example, &lt;code&gt;requirements[:product_id]&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Notes&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;I'm aware that some people may take issue with using periods in
an ID parameter in the first place. I'm not disagreeing, but
sometimes these requests come from higher up the chain and aren't
easily dismissed ;)&lt;br&gt;&lt;/li&gt;
&lt;li&gt;I could perhaps have made this more general, but I'm not aware
of any other widely-used parameters that need this kind of
treatment. Perhaps this could be a configuration option.&lt;br&gt;&lt;/li&gt;
&lt;li&gt;I think cascading the ID requirement in this way is a sensible
default, and in any event it can be overridden in the nested
resource's requirements. However, if this is the sort of thing that
should be off by default, again, I'm happy to create a
configuration option.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Thoughts? Questions? Comments? This is my first attempt to patch
Rails officially, so I'm completely open to discussion.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-22T03:21:44+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2009-05-22T03:21:47+01:00</updated-at>
      <user-id type="integer">20011</user-id>
      <version type="integer">1</version>
      <user-name>Matt Powell</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 this makes a lot of sense. Since the child resource inherits the parent into their URL surely you'd expect the requirements to come across with it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 this makes a lot of sense. Since the child resource inherits
the parent into their URL surely you'd expect the requirements to
come across with it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-22T03:54:59+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2009-05-22T03:55:05+01:00</updated-at>
      <user-id type="integer">57668</user-id>
      <version type="integer">2</version>
      <user-name>David Jones</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:50+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-05-04T18:48:50+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">3</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-27T21:33:49+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
:milestone: 71472
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-06-27T21:33:54+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">4</version>
      <user-name>Andrew White</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This almost works with the new router now:

@@@ ruby
  # Works
  resources :movies, :id =&gt; /\d+/ do
    resources :reviews
  end

  # Works
  resources :movies, :constraints =&gt; { :id =&gt; /\d+/ } do
    resources :reviews
  end

  # Works
  scope :id =&gt; /\d+/ do
    resources :movies do
      resources :reviews
    end
  end

  # Fails
  scope :constraints =&gt; { :id =&gt; /\d+/ } do
    resources :movies do
      resources :reviews
    end
  end

  # Fails
  constraints :id =&gt; /\d+/ do
    resources :movies do
      resources :reviews
    end
  end
@@@

This is because :constraints is a separate hash in the scope. The attached patch merges the constraints from the scope into the resource options.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This almost works with the new router now:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;  # Works
  resources :movies, :id =&amp;gt; /\d+/ do
    resources :reviews
  end

  # Works
  resources :movies, :constraints =&amp;gt; { :id =&amp;gt; /\d+/ } do
    resources :reviews
  end

  # Works
  scope :id =&amp;gt; /\d+/ do
    resources :movies do
      resources :reviews
    end
  end

  # Fails
  scope :constraints =&amp;gt; { :id =&amp;gt; /\d+/ } do
    resources :movies do
      resources :reviews
    end
  end

  # Fails
  constraints :id =&amp;gt; /\d+/ do
    resources :movies do
      resources :reviews
    end
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This is because :constraints is a separate hash in the scope.
The attached patch merges the constraints from the scope into the
resource options.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-28T12:13:43+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-06-28T12:13:58+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">5</version>
      <user-name>Andrew White</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [e717631a8481935e8ac1eeb2445da341bdd4c868]) Merge :constraints from scope into resource options [#2694 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/e717631a8481935e8ac1eeb2445da341bdd4c868</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/e717631a8481935e8ac1eeb2445da341bdd4c868&quot;
title=
&quot;Changeset [e717631a8481935e8ac1eeb2445da341bdd4c868]&quot;&gt;[e717631a8481935e8ac1eeb2445da341bdd4c868]&lt;/a&gt;)
Merge :constraints from scope into resource options [&lt;a href=
&quot;/projects/8994/tickets/2694&quot; title=&quot;Ticket #2694&quot;&gt;#2694&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/e717631a8481935e8ac1eeb2445da341bdd4c868&quot;&gt;
http://github.com/rails/rails/commit/e717631a8481935e8ac1eeb2445da3...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-28T13:41:38+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-06-28T13:41:45+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">6</version>
      <user-name>Repository</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I'm still seeing this bug in Actionpack (3.0.0.rc2) but it has been marked as resolved ?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm still seeing this bug in Actionpack (3.0.0.rc2) but it has
been marked as resolved ?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-29T22:22:51+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-08-29T22:22:54+01:00</updated-at>
      <user-id type="integer">15078</user-id>
      <version type="integer">7</version>
      <user-name>Anthony Green</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>You are using the new router dsl, right? I'm asking because your example is using the old syntax (and it doesn't work using the old syntax). If you're using the old syntax then nothing will have changed as that's been kept the same deliberately to ease the migration of old apps.</body>
      <body-html>&lt;div&gt;&lt;p&gt;You are using the new router dsl, right? I'm asking because your
example is using the old syntax (and it doesn't work using the old
syntax). If you're using the old syntax then nothing will have
changed as that's been kept the same deliberately to ease the
migration of old apps.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T05:58:08+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-08-30T05:58:12+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">8</version>
      <user-name>Andrew White</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Now I'm not sure if this is the same issue or a slight variation:
  
resources :foo, :constraints =&gt; { :id =&gt; /\d+/ } do
   resources :bar
end

rake routes:

    edit_foo_bar GET    /foo/:foo_id/bar/:id/edit(.:format)          {:id=&gt;/\d+/, :foo_id=&gt;/\d+/, ...}
       foo_bar GET    /foo/:foo_id/bar/:id(.:format)               {:id=&gt;/\d+/, :foo_id=&gt;/\d+/, ...}
       foo_bar PUT    /foo/:foo_id/bar/:id(.:format)               {:id=&gt;/\d+/, :foo_id=&gt;/\d+/, ...}
       foo_bar DELETE /foo/:foo_id/bar/:id(.:format)               {:id=&gt;/\d+/, :foo_id=&gt;/\d+/, ...}

here you can see both :foo_id and :id inherit the constraint. It should only be :foo_id</body>
      <body-html>&lt;div&gt;&lt;p&gt;Now I'm not sure if this is the same issue or a slight
variation:&lt;br&gt;&lt;/p&gt;
&lt;p&gt;resources :foo, :constraints =&amp;gt; { :id =&amp;gt; /\d+/ } do&lt;br&gt;
resources :bar end&lt;/p&gt;
&lt;p&gt;rake routes:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;edit_foo_bar GET    /foo/:foo_id/bar/:id/edit(.:format)          {:id=&amp;gt;/\d+/, :foo_id=&amp;gt;/\d+/, ...}
   foo_bar GET    /foo/:foo_id/bar/:id(.:format)               {:id=&amp;gt;/\d+/, :foo_id=&amp;gt;/\d+/, ...}
   foo_bar PUT    /foo/:foo_id/bar/:id(.:format)               {:id=&amp;gt;/\d+/, :foo_id=&amp;gt;/\d+/, ...}
   foo_bar DELETE /foo/:foo_id/bar/:id(.:format)               {:id=&amp;gt;/\d+/, :foo_id=&amp;gt;/\d+/, ...}&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;here you can see both :foo_id and :id inherit the constraint. It
should only be :foo_id&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T09:04:50+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-08-30T09:04:53+01:00</updated-at>
      <user-id type="integer">15078</user-id>
      <version type="integer">9</version>
      <user-name>Anthony Green</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Moments later I spot the typo:

the nested resource should be declared singularly so resource not resources

resources :foo, :constraints =&gt; { :id =&gt; /\d+/ } do
  resource :bar 
end

is there a use case for 

resources :foo do
  resources :bar 
end

or should it throw an error ?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Moments later I spot the typo:&lt;/p&gt;
&lt;p&gt;the nested resource should be declared singularly so resource
not resources&lt;/p&gt;
&lt;p&gt;resources :foo, :constraints =&amp;gt; { :id =&amp;gt; /\d+/ } do&lt;br&gt;
resource :bar end&lt;/p&gt;
&lt;p&gt;is there a use case for&lt;/p&gt;
&lt;p&gt;resources :foo do&lt;br&gt;
resources :bar end&lt;/p&gt;
&lt;p&gt;or should it throw an error ?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T09:11:43+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-08-30T09:11:44+01:00</updated-at>
      <user-id type="integer">15078</user-id>
      <version type="integer">10</version>
      <user-name>Anthony Green</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:32+01:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-10-15T23:01:32+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">11</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs the only boot sale&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs for cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap kids uggs&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap classic tall ugg boots 5815 mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uk cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;super cheap ugg classic mini boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots with zips&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg sunburst boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;really cheap ugg classic mini&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for $64&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots for cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;ugg slippers cheap&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap authentic uggs&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for sale in uk&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots mulberry&lt;/a&gt; So You Can Buy It Now!

&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg brand boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots uk&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg australia boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discount ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale authorized&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;us ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;mens ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;australian ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;fur inside ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;kids ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg bailey boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;shopping for ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg mini boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;womens ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;lowest price ugg boots&lt;/a&gt;,&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt; baby ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg style boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;knock off ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots discount&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discounted ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg roseberry boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;purple ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sydney&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots store&lt;/a&gt; SO Cheap With Free Shipping!

&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store Outlet&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UK UGG Store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg factory store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet stores&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet store locations in pa hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg boots store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia sandals kids&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;boot shoes store ugg hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store locater&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia kids&lt;/a&gt; Thats ugg store uk online shop!

&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;tall boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;cardy ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;uggs sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy chocolate&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots cardy&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots cream&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg mosaic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg tall boot sale&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;cheap classic tall ugg boots 5815 mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;sundance tall ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots classic tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg adirondack tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall wool&lt;/a&gt;. Have You Best Choice, Buy It Now!


&lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Classic Short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Short Boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;Short uggs&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Shop online&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;authentic ugg australia women's classic short #5825 - black sheepskin&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg fern suede classic short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg in grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg short boots fushia&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots 8 short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short black&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;eggplant short ugg&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;short classic ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;short ugg boots chestnut womens&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots black short&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short black paisley&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short sku&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg women's classic short&lt;/a&gt;, Buy It Now! 

&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Triplet&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots 5803, UGG Boots 1873&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots USA&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;bailey button ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots at macys&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty- kids grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button crinkle leather&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triplet boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button blackberry wine&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;discount ugg bailey button&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button 5803 grey size 10&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boot grey&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button cheap&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triple&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty&lt;/a&gt;, Buy It Now!</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap uggs the only boot sale&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs for cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap kids uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap classic tall ugg boots 5815
mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uggs cheap&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;uk cheap ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;super cheap ugg classic mini
boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots
with zips&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg
sunburst boots&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;really
cheap ugg classic mini&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for $64&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg boots for cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;ugg slippers cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.cheapuggshop.com&quot;&gt;cheap authentic uggs&lt;/a&gt;,&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots for sale in
uk&lt;/a&gt;, &lt;a href=&quot;http://www.cheapuggshop.com&quot;&gt;cheap ugg boots
mulberry&lt;/a&gt; So You Can Buy It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;cheap ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg brand boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots uk&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots sale&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg australia boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;discount ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.ugg-boots-uk.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots on sale
authorized&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;us ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;mens ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;australian ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;fur inside ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;kids ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg bailey
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;adirondack tall
ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;shopping for
ugg boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg mini
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;womens ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;lowest price ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;baby ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg style
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;knock off ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
discount&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg cove boots
sale&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;discounted ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg roseberry
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;purple ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
sydney&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
cheap&lt;/a&gt;, &lt;a href=&quot;http://www.ugg-boots-uk.com&quot;&gt;ugg boots
store&lt;/a&gt; SO Cheap With Free Shipping!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;UGG Store Outlet&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;UK UGG Store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;ugg factory store&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet stores&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;what stores sell ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg outlet store locations
in pa hit bg&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg
store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg boots
store&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg
australia sandals kids&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootseshop.com&quot;&gt;boot shoes store ugg hit bg&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;ugg store locater&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootseshop.com&quot;&gt;shoe stores ugg australia
kids&lt;/a&gt; Thats ugg store uk online shop!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;tall boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;cardy ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;uggs sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots on sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy chocolate&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg boots cardy&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;classic cardy ugg boots cream&lt;/a&gt;,
&lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boot&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg cardy boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;adirondack tall ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall boots&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg mosaic tall&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;ugg tall boot sale&lt;/a&gt;, &lt;a href=
&quot;http://www.auuggboots.com&quot;&gt;cheap classic tall ugg boots 5815
mulberry&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;classic tall ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall
boot&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic cardy
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;sundance tall ugg
boots&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg boots classic
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg adirondack
tall&lt;/a&gt;, &lt;a href=&quot;http://www.auuggboots.com&quot;&gt;ugg classic tall
wool&lt;/a&gt;. Have You Best Choice, Buy It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggshop.net&quot;&gt;UGG Classic Short&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;UGG Short Boots&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;Short uggs&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;UGG Shop online&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;authentic ugg australia women's classic
short&lt;/a&gt; &lt;a href=&quot;/projects/8994/tickets/5825&quot; title=
&quot;Ticket #5825&quot;&gt;#5825&lt;/a&gt; - black sheepskin,&lt;br&gt;
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg fern suede classic short&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;classic short ugg in grey&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg short boots fushia&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots 8 short&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;ugg ultra short black&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;eggplant short ugg&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;short classic ugg boots&lt;/a&gt;, &lt;a href=
&quot;http://www.uggshop.net&quot;&gt;short ugg boots chestnut womens&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg boots black short&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short black
paisley&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg classic short
boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg ultra short sku&lt;/a&gt;,
&lt;a href=&quot;http://www.uggshop.net&quot;&gt;ugg women's classic short&lt;/a&gt;, Buy
It Now!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Triplet&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Bailey Button Bomber&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots 5803, UGG Boots
1873&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;UGG Boots USA&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;bailey button ugg boots&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button boots
bomber&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boots at macys&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots
- bailey button novelty- kids grey&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button crinkle
leather&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
boots on sale&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey
button triplet boot&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg
bailey button blackberry wine&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;discount ugg bailey button&lt;/a&gt;,
&lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg australia bailey button
boots&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button
5803 grey size 10&lt;/a&gt;, &lt;a href=&quot;http://www.uggbootsusa.com&quot;&gt;ugg
bailey button boot grey&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button cheap&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg bailey button triple&lt;/a&gt;, &lt;a href=
&quot;http://www.uggbootsusa.com&quot;&gt;ugg boots - bailey button novelty&lt;/a&gt;,
Buy It Now!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-11-25T12:09:27+00:00</created-at>
      <creator-id type="integer">20011</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">2694</number>
      <permalink>nested-resources-inherit-requirements-on-parent-ids</permalink>
      <priority type="integer">2</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack resource resources routes routing</tag>
      <title>Nested resources inherit requirements on parent ids</title>
      <updated-at type="datetime">2010-11-25T12:13:37+00:00</updated-at>
      <user-id type="integer">126682</user-id>
      <version type="integer">12</version>
      <user-name>sunnyabc</user-name>
      <creator-name>Matt Powell</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2694</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Medium</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>f7cf234ce9f938a1971b2b1fc3b0214f4740570e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-22T03:21:44+01:00</created-at>
      <filename>inherit_resource_id_requirements.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">125346</id>
      <size type="integer">5853</size>
      <uploader-id type="integer">20011</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/125346/inherit_resource_id_requirements.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>c82e1e483895be795ab342ac50af82f1dffe9d0a</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-06-28T12:13:43+01:00</created-at>
      <filename>0001-nested-resources-should-inheirit-constraints.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">578281</id>
      <size type="integer">3949</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/578281/0001-nested-resources-should-inheirit-constraints.diff</url>
    </attachment>
  </attachments>
</ticket>
