<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-06-22T19:59:41+01:00</created-at>
  <creator-id type="integer">64254</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">4934</number>
  <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>duplicate</state>
  <tag>accepts_nested_attributes_for</tag>
  <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
  <updated-at type="datetime">2010-07-10T17:14:30+01:00</updated-at>
  <user-id type="integer">40263</user-id>
  <version type="integer">6</version>
  <user-name>Neeraj Singh</user-name>
  <creator-name>wout</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
  <priority-name>Low</priority-name>
  <original-body>Hi,

accepts_nested_attributes_for :association is broken in one of my apps after upgrading to 2.3.8. The model itself is saved but the associations are not. I tried all different setups for the nested forms but it is definitely broken. For the time being I'm saving the associations separately.

Wout</original-body>
  <latest-body>Hi,

accepts_nested_attributes_for :association is broken in one of my apps after upgrading to 2.3.8. The model itself is saved but the associations are not. I tried all different setups for the nested forms but it is definitely broken. For the time being I'm saving the associations separately.

Wout</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;accepts_nested_attributes_for :association is broken in one of
my apps after upgrading to 2.3.8. The model itself is saved but the
associations are not. I tried all different setups for the nested
forms but it is definitely broken. For the time being I'm saving
the associations separately.&lt;/p&gt;
&lt;p&gt;Wout&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi,

accepts_nested_attributes_for :association is broken in one of my apps after upgrading to 2.3.8. The model itself is saved but the associations are not. I tried all different setups for the nested forms but it is definitely broken. For the time being I'm saving the associations separately.

Wout</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;accepts_nested_attributes_for :association is broken in one of
my apps after upgrading to 2.3.8. The model itself is saved but the
associations are not. I tried all different setups for the nested
forms but it is definitely broken. For the time being I'm saving
the associations separately.&lt;/p&gt;
&lt;p&gt;Wout&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-22T19:59:41+01:00</created-at>
      <creator-id type="integer">64254</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4934</number>
      <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for</tag>
      <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
      <updated-at type="datetime">2010-06-22T19:59:43+01:00</updated-at>
      <user-id type="integer">64254</user-id>
      <version type="integer">1</version>
      <user-name>wout</user-name>
      <creator-name>wout</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'v done some tests on three applications which all use nested forms. They were at 2.3.5 and I upgraded to 2.3.8. Now they all have the same symptoms, associations are saved on create but aren't saved on update.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'v done some tests on three applications which all use nested
forms. They were at 2.3.5 and I upgraded to 2.3.8. Now they all
have the same symptoms, associations are saved on create but aren't
saved on update.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-27T09:44:49+01:00</created-at>
      <creator-id type="integer">64254</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4934</number>
      <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for</tag>
      <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
      <updated-at type="datetime">2010-06-27T09:44:54+01:00</updated-at>
      <user-id type="integer">64254</user-id>
      <version type="integer">2</version>
      <user-name>wout</user-name>
      <creator-name>wout</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've got a similar problem with Rails 2.3.5. This is my model: http://bitbucket.org/ebrahim/siva/src/a22fe3913315/app/models/word.rb
If I uncomment the commented validates_size_of validation, no more child WordForm objects of word_forms are destroyed when they receive _destroy=1 attribute, and no error is reported. When that validation is commented, everything works as intended.
I also checked in console: destroying some WordForm of a_word.word_forms does nothing and reports no errors.
I also tried rewriting validate_size_of using a custom validation, but behavior was the same.
I went back to Rails 2.3.5 and everything worked again, with validates_size_of enabled.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've got a similar problem with Rails 2.3.5. This is my model:
&lt;a href=
&quot;http://bitbucket.org/ebrahim/siva/src/a22fe3913315/app/models/word.rb&quot;&gt;
http://bitbucket.org/ebrahim/siva/src/a22fe3913315/app/models/word.rb&lt;/a&gt;&lt;br&gt;
If I uncomment the commented validates_size_of validation, no more
child WordForm objects of word_forms are destroyed when they
receive _destroy=1 attribute, and no error is reported. When that
validation is commented, everything works as intended.&lt;br&gt;
I also checked in console: destroying some WordForm of
a_word.word_forms does nothing and reports no errors.&lt;br&gt;
I also tried rewriting validate_size_of using a custom validation,
but behavior was the same.&lt;br&gt;
I went back to Rails 2.3.5 and everything worked again, with
validates_size_of enabled.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-10T15:24:24+01:00</created-at>
      <creator-id type="integer">64254</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4934</number>
      <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for</tag>
      <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
      <updated-at type="datetime">2010-07-10T15:24:25+01:00</updated-at>
      <user-id type="integer">106667</user-id>
      <version type="integer">3</version>
      <user-name>ebrahim</user-name>
      <creator-name>wout</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I meant 2.3.8 in the first sentence.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I meant 2.3.8 in the first sentence.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-10T15:25:11+01:00</created-at>
      <creator-id type="integer">64254</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4934</number>
      <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for</tag>
      <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
      <updated-at type="datetime">2010-07-10T15:25:16+01:00</updated-at>
      <user-id type="integer">106667</user-id>
      <version type="integer">4</version>
      <user-name>ebrahim</user-name>
      <creator-name>wout</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thank you for noticing me about it.
Commenting out the size validator did the trick indeed.

I'm bumping all apps to Rails 3 anyway.
I'l check if the same bug appears there.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thank you for noticing me about it.&lt;br&gt;
Commenting out the size validator did the trick indeed.&lt;/p&gt;
&lt;p&gt;I'm bumping all apps to Rails 3 anyway.&lt;br&gt;
I'l check if the same bug appears there.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-10T15:39:54+01:00</created-at>
      <creator-id type="integer">64254</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4934</number>
      <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>accepts_nested_attributes_for</tag>
      <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
      <updated-at type="datetime">2010-07-10T15:39:55+01:00</updated-at>
      <user-id type="integer">64254</user-id>
      <version type="integer">5</version>
      <user-name>wout</user-name>
      <creator-name>wout</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@wout Rails3 has same issue with size validation.

This ticket is duplicate of #2646 .</body>
      <body-html>&lt;div&gt;&lt;p&gt;@wout Rails3 has same issue with size validation.&lt;/p&gt;
&lt;p&gt;This ticket is duplicate of &lt;a href=
&quot;/projects/8994/tickets/2646&quot; title=&quot;Ticket #2646&quot;&gt;#2646&lt;/a&gt; .&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-10T17:14:26+01:00</created-at>
      <creator-id type="integer">64254</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4934</number>
      <permalink>accepts_nested_attributes_for-broken-after-upgrade-from-235-to-238</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>duplicate</state>
      <tag>accepts_nested_attributes_for</tag>
      <title>accepts_nested_attributes_for broken after upgrade from 2.3.5 to 2.3.8</title>
      <updated-at type="datetime">2010-07-10T17:14:30+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">6</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>wout</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4934</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
