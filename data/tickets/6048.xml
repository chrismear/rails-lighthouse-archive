<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">40272</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2010-11-23T18:57:37+00:00</created-at>
  <creator-id type="integer">16027</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71470</milestone-id>
  <number type="integer">6048</number>
  <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>open</state>
  <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
  <title>db:test:clone_structure fails for Postgres &amp; SQLite when your rails app has a space in the directory name</title>
  <updated-at type="datetime">2011-02-24T16:51:22+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">8</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Jeffrey Chupp</creator-name>
  <assigned-user-name>Santiago Pastorino</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
  <milestone-title>3.1</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>Postgres chokes on importing schema for Rails apps with spaces in the folder path, thinking that the path is actually multiple arguments.  Quoting the file is sufficient to solve this.

This affects Rails 2.3 and Rails 3 versions.  I'll attach a patch for both.</original-body>
  <latest-body>Postgres chokes on importing schema for Rails apps with spaces in the folder path, thinking that the path is actually multiple arguments.  Quoting the file is sufficient to solve this.

This affects Rails 2.3 and Rails 3 versions.  I'll attach a patch for both.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Postgres chokes on importing schema for Rails apps with spaces
in the folder path, thinking that the path is actually multiple
arguments. Quoting the file is sufficient to solve this.&lt;/p&gt;
&lt;p&gt;This affects Rails 2.3 and Rails 3 versions. I'll attach a patch
for both.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Postgres chokes on importing schema for Rails apps with spaces in the folder path, thinking that the path is actually multiple arguments.  Quoting the file is sufficient to solve this.

This affects Rails 2.3 and Rails 3 versions.  I'll attach a patch for both.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Postgres chokes on importing schema for Rails apps with spaces
in the folder path, thinking that the path is actually multiple
arguments. Quoting the file is sufficient to solve this.&lt;/p&gt;
&lt;p&gt;This affects Rails 2.3 and Rails 3 versions. I'll attach a patch
for both.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T18:57:37+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugs postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for postgres when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2010-11-23T18:57:39+00:00</updated-at>
      <user-id type="integer">16027</user-id>
      <version type="integer">1</version>
      <user-name>Jeffrey Chupp</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>2.3 patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;2.3 patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T19:05:09+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugs postgresql &quot;rake tasks&quot;
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for postgres when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2010-11-23T19:05:14+00:00</updated-at>
      <user-id type="integer">16027</user-id>
      <version type="integer">2</version>
      <user-name>Jeffrey Chupp</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>current master (Rails 3) patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;current master (Rails 3) patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-23T19:05:48+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for postgres when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2010-11-23T19:05:50+00:00</updated-at>
      <user-id type="integer">16027</user-id>
      <version type="integer">3</version>
      <user-name>Jeffrey Chupp</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-24T00:00:11+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for postgres when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2011-02-24T00:01:18+00:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">4</version>
      <user-name>rails</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-24T00:00:11+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for postgres when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2011-02-24T00:01:39+00:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">5</version>
      <user-name>rails</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The issue still exists in master. Tested for SQLite as well and that too fails when the path has a space in it. Here's a latest patch (Rails 3) that fixes both SQLite and PostgreSQL. 

@Santiago: Please open this issue again. Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;The issue still exists in master. Tested for SQLite as well and
that too fails when the path has a space in it. Here's a latest
patch (Rails 3) that fixes both SQLite and PostgreSQL.&lt;/p&gt;
&lt;p&gt;@Santiago: Please open this issue again. Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-24T15:54:22+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for postgres when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2011-02-24T15:54:32+00:00</updated-at>
      <user-id type="integer">82083</user-id>
      <version type="integer">6</version>
      <user-name>Vijay Dev</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-24T15:54:54+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- 
:title: db:test:clone_structure fails for postgres when your rails app has a space in the directory name
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for Postgres &amp; SQLite when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2011-02-24T15:55:05+00:00</updated-at>
      <user-id type="integer">82083</user-id>
      <version type="integer">7</version>
      <user-name>Vijay Dev</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">40272</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-24T16:49:40+00:00</created-at>
      <creator-id type="integer">16027</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: stale
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">71470</milestone-id>
      <number type="integer">6048</number>
      <permalink>dbtestclone_structure-fails-for-postgres-when-your-rails-app-has-a-space-in-the-directory-name</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>bugs patch postgresql &quot;rake tasks&quot;</tag>
      <title>db:test:clone_structure fails for Postgres &amp; SQLite when your rails app has a space in the directory name</title>
      <updated-at type="datetime">2011-02-24T16:51:22+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">8</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jeffrey Chupp</creator-name>
      <assigned-user-name>Santiago Pastorino</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6048</url>
      <milestone-title>3.1</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>e2ea188228eff83ede29fffc3f5722ff70ee78c4</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-11-23T19:05:09+00:00</created-at>
      <filename>quote_psql_filename-23.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">786061</id>
      <size type="integer">1305</size>
      <uploader-id type="integer">16027</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/786061/quote_psql_filename-23.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>4611e2bd782ceee72eb79acc835c8c177849cfbb</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-11-23T19:05:48+00:00</created-at>
      <filename>quote_psql_filename-3.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">786063</id>
      <size type="integer">1406</size>
      <uploader-id type="integer">16027</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/786063/quote_psql_filename-3.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>692b3cb9a3b7a38560d0214d3e6d8eeebc9b7c07</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2011-02-24T15:54:22+00:00</created-at>
      <filename>fix_db_structure.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">928956</id>
      <size type="integer">1674</size>
      <uploader-id type="integer">82083</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/928956/fix_db_structure.patch</url>
    </attachment>
  </attachments>
</ticket>
