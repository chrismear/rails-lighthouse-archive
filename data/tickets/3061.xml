<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">12714</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-08-16T06:56:25+01:00</created-at>
  <creator-id type="integer">26790</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3061</number>
  <permalink>failing-railties-test</permalink>
  <priority type="integer">132241</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>3-0 3.0 error failing master railties tests</tag>
  <title>Failing railties test in latest clone of master</title>
  <updated-at type="datetime">2010-01-17T19:02:18+00:00</updated-at>
  <user-id type="integer">1366</user-id>
  <version type="integer">10</version>
  <user-name>Pratik</user-name>
  <creator-name>Kieran P</creator-name>
  <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
  <priority-name nil="true"></priority-name>
  <original-body>When I run 'rake' from the latest checkout of master, everything up to Railties passes nicely, but railties errors out with:

    21 tests, 85 assertions, 0 failures, 0 errors
    test/fixtures/tmp/test/functional/users_controller_test.rb:1:in `require': no such file to load -- test_helper (LoadError)
    	from test/fixtures/tmp/test/functional/users_controller_test.rb:1
    rake aborted!
    Failures
    /Users/kieran/Other/Rails Edge/rails-master/railties/Rakefile:33
    (See full trace by running task with --trace)
    rake aborted!
    Errors in railties
    /Users/kieran/Other/Rails Edge/rails-master/Rakefile:22
    (See full trace by running task with --trace)

The line causing issues is:

    require 'test_helper'

Rubygems not in the load path perhaps?

The only files close to it are railties/lib/test_help.rb and railties/test/plugin_test_helper.rb</original-body>
  <latest-body>When I run 'rake' from the latest checkout of master, everything up to Railties passes nicely, but railties errors out with:

    21 tests, 85 assertions, 0 failures, 0 errors
    test/fixtures/tmp/test/functional/users_controller_test.rb:1:in `require': no such file to load -- test_helper (LoadError)
    	from test/fixtures/tmp/test/functional/users_controller_test.rb:1
    rake aborted!
    Failures
    /Users/kieran/Other/Rails Edge/rails-master/railties/Rakefile:33
    (See full trace by running task with --trace)
    rake aborted!
    Errors in railties
    /Users/kieran/Other/Rails Edge/rails-master/Rakefile:22
    (See full trace by running task with --trace)

The line causing issues is:

    require 'test_helper'

Rubygems not in the load path perhaps?

The only files close to it are railties/lib/test_help.rb and railties/test/plugin_test_helper.rb</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;When I run 'rake' from the latest checkout of master, everything
up to Railties passes nicely, but railties errors out with:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;21 tests, 85 assertions, 0 failures, 0 errors
test/fixtures/tmp/test/functional/users_controller_test.rb:1:in `require': no such file to load -- test_helper (LoadError)
    from test/fixtures/tmp/test/functional/users_controller_test.rb:1
rake aborted!
Failures
/Users/kieran/Other/Rails Edge/rails-master/railties/Rakefile:33
(See full trace by running task with --trace)
rake aborted!
Errors in railties
/Users/kieran/Other/Rails Edge/rails-master/Rakefile:22
(See full trace by running task with --trace)
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The line causing issues is:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;require 'test_helper'
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Rubygems not in the load path perhaps?&lt;/p&gt;
&lt;p&gt;The only files close to it are railties/lib/test_help.rb and
railties/test/plugin_test_helper.rb&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>When I run 'rake' from the latest checkout of master, everything up to Railties passes nicely, but railties errors out with:

    21 tests, 85 assertions, 0 failures, 0 errors
    test/fixtures/tmp/test/functional/users_controller_test.rb:1:in `require': no such file to load -- test_helper (LoadError)
    	from test/fixtures/tmp/test/functional/users_controller_test.rb:1
    rake aborted!
    Failures
    /Users/kieran/Other/Rails Edge/rails-master/railties/Rakefile:33
    (See full trace by running task with --trace)
    rake aborted!
    Errors in railties
    /Users/kieran/Other/Rails Edge/rails-master/Rakefile:22
    (See full trace by running task with --trace)

The line causing issues is:

    require 'test_helper'

Rubygems not in the load path perhaps?

The only files close to it are railties/lib/test_help.rb and railties/test/plugin_test_helper.rb</body>
      <body-html>&lt;div&gt;&lt;p&gt;When I run 'rake' from the latest checkout of master, everything
up to Railties passes nicely, but railties errors out with:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;21 tests, 85 assertions, 0 failures, 0 errors
test/fixtures/tmp/test/functional/users_controller_test.rb:1:in `require': no such file to load -- test_helper (LoadError)
    from test/fixtures/tmp/test/functional/users_controller_test.rb:1
rake aborted!
Failures
/Users/kieran/Other/Rails Edge/rails-master/railties/Rakefile:33
(See full trace by running task with --trace)
rake aborted!
Errors in railties
/Users/kieran/Other/Rails Edge/rails-master/Rakefile:22
(See full trace by running task with --trace)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The line causing issues is:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;require 'test_helper'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Rubygems not in the load path perhaps?&lt;/p&gt;
&lt;p&gt;The only files close to it are railties/lib/test_help.rb and
railties/test/plugin_test_helper.rb&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-16T06:56:25+01:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test</title>
      <updated-at type="datetime">2009-08-16T06:56:30+01:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">1</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-16T06:56:39+01:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- 
:title: Failing railties test
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2009-08-16T06:56:40+01:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">2</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hey Kieran - I can't replicate your problem.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey Kieran - I can't replicate your problem.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-17T13:45:25+01:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2009-08-17T13:45:28+01:00</updated-at>
      <user-id type="integer">64236</user-id>
      <version type="integer">3</version>
      <user-name>John Pignata</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Well, it is still happening in the latest rails master, but does not affect Rails 2.3.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well, it is still happening in the latest rails master, but does
not affect Rails 2.3.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-17T22:49:01+01:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2009-08-17T22:49:05+01:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">4</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It's not happening in my master and more importantly it's not happening on http://ci.rubyonrails.org. I'd check your setup. I thought maybe it had something to do with the space in the directory name, but I can't duplicate it using the same directory structure.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It's not happening in my master and more importantly it's not
happening on &lt;a href=
&quot;http://ci.rubyonrails.org&quot;&gt;http://ci.rubyonrails.org&lt;/a&gt;. I'd
check your setup. I thought maybe it had something to do with the
space in the directory name, but I can't duplicate it using the
same directory structure.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-17T23:08:19+01:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2009-08-17T23:08:19+01:00</updated-at>
      <user-id type="integer">64236</user-id>
      <version type="integer">5</version>
      <user-name>John Pignata</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I tried removing the space in the path, no difference.

The rest of the tests (activerecord, activesupport actionmailer etc) pass without error (occasional warning, but still passes).

It's only this test. I've seen the same issue when using an brand new app with scaffolding. The generated unit tests fail, until switch 'require 'test_helper'' with something like &quot;require File.join(__FILE__, '../test_helper')&quot;.

So it doesn't appear as if the path to test_helper is set in my environment. Any ideas on how to check this? Any console commands you'd like to compare?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I tried removing the space in the path, no difference.&lt;/p&gt;
&lt;p&gt;The rest of the tests (activerecord, activesupport actionmailer
etc) pass without error (occasional warning, but still passes).&lt;/p&gt;
&lt;p&gt;It's only this test. I've seen the same issue when using an
brand new app with scaffolding. The generated unit tests fail,
until switch 'require 'test_helper'' with something like &quot;require
File.join(&lt;strong&gt;FILE&lt;/strong&gt;, '../test_helper')&quot;.&lt;/p&gt;
&lt;p&gt;So it doesn't appear as if the path to test_helper is set in my
environment. Any ideas on how to check this? Any console commands
you'd like to compare?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-18T02:50:42+01:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2009-08-18T02:50:45+01:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">6</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I don't think this is applicable anymore.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't think this is applicable anymore.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T02:15:41+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2010-01-17T02:15:43+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">7</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I can't verify if this issue is still present. I'm getting quite a few fails and errors in the latest source (one in action mailer, some in AR of all database types, and all through railties about cookies). When things fix up a bit, I'll double check for you.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I can't verify if this issue is still present. I'm getting quite
a few fails and errors in the latest source (one in action mailer,
some in AR of all database types, and all through railties about
cookies). When things fix up a bit, I'll double check for you.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T04:05:11+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2010-01-17T04:05:12+00:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">8</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I too cannot duplicate it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I too cannot duplicate it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T06:02:37+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2010-01-17T06:02:39+00:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">9</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-17T19:02:16+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3061</number>
      <permalink>failing-railties-test</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>3-0 3.0 error failing master railties tests</tag>
      <title>Failing railties test in latest clone of master</title>
      <updated-at type="datetime">2010-01-17T19:02:18+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">10</version>
      <user-name>Pratik</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3061</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
