<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-06-07T09:59:52+01:00</created-at>
  <creator-id type="integer">3633</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2774</number>
  <permalink>activerecord-tests-with-the-same-name</permalink>
  <priority type="integer">1880</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>2-3-stable patch</tag>
  <title>ActiveRecord tests with the same name</title>
  <updated-at type="datetime">2009-08-08T04:00:52+01:00</updated-at>
  <user-id type="integer">141</user-id>
  <version type="integer">7</version>
  <user-name>Michael Koziarski</user-name>
  <creator-name>Paul Campbell</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Hey,

I was mucking about in activerecord/test/cases/finder_test.rb ... about to write a new test, but I came across a bunch of tests with the same name / similar functionality.

For example, lines 158 - 185 have a bunch of finder tests beginning with &quot;test_find_all_with_limit&quot; but this same test is repeated on line 945 and the same functionality tested twice.

It's trivial, but should these repeated tests be removed? I've created the tiny patch here.

Paul</original-body>
  <latest-body>Hey,

I was mucking about in activerecord/test/cases/finder_test.rb ... about to write a new test, but I came across a bunch of tests with the same name / similar functionality.

For example, lines 158 - 185 have a bunch of finder tests beginning with &quot;test_find_all_with_limit&quot; but this same test is repeated on line 945 and the same functionality tested twice.

It's trivial, but should these repeated tests be removed? I've created the tiny patch here.

Paul</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Hey,&lt;/p&gt;
&lt;p&gt;I was mucking about in activerecord/test/cases/finder_test.rb
... about to write a new test, but I came across a bunch of tests
with the same name / similar functionality.&lt;/p&gt;
&lt;p&gt;For example, lines 158 - 185 have a bunch of finder tests
beginning with &quot;test_find_all_with_limit&quot; but this same test is
repeated on line 945 and the same functionality tested twice.&lt;/p&gt;
&lt;p&gt;It's trivial, but should these repeated tests be removed? I've
created the tiny patch here.&lt;/p&gt;
&lt;p&gt;Paul&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hey,

I was mucking about in activerecord/test/cases/finder_test.rb ... about to write a new test, but I came across a bunch of tests with the same name / similar functionality.

For example, lines 158 - 185 have a bunch of finder tests beginning with &quot;test_find_all_with_limit&quot; but this same test is repeated on line 945 and the same functionality tested twice.

It's trivial, but should these repeated tests be removed? I've created the tiny patch here.

Paul</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey,&lt;/p&gt;
&lt;p&gt;I was mucking about in activerecord/test/cases/finder_test.rb
... about to write a new test, but I came across a bunch of tests
with the same name / similar functionality.&lt;/p&gt;
&lt;p&gt;For example, lines 158 - 185 have a bunch of finder tests
beginning with &quot;test_find_all_with_limit&quot; but this same test is
repeated on line 945 and the same functionality tested twice.&lt;/p&gt;
&lt;p&gt;It's trivial, but should these repeated tests be removed? I've
created the tiny patch here.&lt;/p&gt;
&lt;p&gt;Paul&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-07T09:59:52+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-06-07T09:59:59+01:00</updated-at>
      <user-id type="integer">3633</user-id>
      <version type="integer">1</version>
      <user-name>Paul Campbell</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-07T13:54:43+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable patch
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-08-07T13:54:48+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Verified that there are duplicate tests going on here -- but I would take this patch a but further:</body>
      <body-html>&lt;div&gt;&lt;p&gt;Verified that there are duplicate tests going on here -- but I
would take this patch a but further:&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T02:15:15+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-08-08T02:15:19+01:00</updated-at>
      <user-id type="integer">20273</user-id>
      <version type="integer">3</version>
      <user-name>Josh Sharpe</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>--test_find_all_with_limit
Was previously testing :order clause when it shouldn't be

--test_find_all_with_prepared_limit_and_offset
Having specifically 3 Entrant fixtures is a requirement for this test, in the event someone adds a fourth down the road, this failing test will be a bit more obvious.

--test_find_all_with_limit_and_offset_and_multiple_order_clauses
I prefer the test that I kept here since it explicitly uses the IDs of the fixtures in the expected order.</body>
      <body-html>&lt;div&gt;&lt;p&gt;--test_find_all_with_limit Was previously testing :order clause
when it shouldn't be&lt;/p&gt;
&lt;p&gt;--test_find_all_with_prepared_limit_and_offset Having
specifically 3 Entrant fixtures is a requirement for this test, in
the event someone adds a fourth down the road, this failing test
will be a bit more obvious.&lt;/p&gt;
&lt;p&gt;--test_find_all_with_limit_and_offset_and_multiple_order_clauses
I prefer the test that I kept here since it explicitly uses the IDs
of the fixtures in the expected order.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T02:20:49+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-08-08T02:20:53+01:00</updated-at>
      <user-id type="integer">20273</user-id>
      <version type="integer">4</version>
      <user-name>Josh Sharpe</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [9aaeb18781f329bf04c3174898bb8f32581a515e]) Tidy up the AR tests, removing duplicates and making tests clearer / more focussed.

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;

[#2774 state:committed]
http://github.com/rails/rails/commit/9aaeb18781f329bf04c3174898bb8f32581a515e</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/9aaeb18781f329bf04c3174898bb8f32581a515e&quot;
title=
&quot;Changeset [9aaeb18781f329bf04c3174898bb8f32581a515e]&quot;&gt;[9aaeb18781f329bf04c3174898bb8f32581a515e]&lt;/a&gt;)
Tidy up the AR tests, removing duplicates and making tests clearer
/ more focussed.&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski &lt;a href=
&quot;mailto:michael@koziarski.com&quot;&gt;michael@koziarski.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/2774&quot; title=
&quot;Ticket #2774&quot;&gt;#2774&lt;/a&gt; state:committed] &lt;a href=
&quot;http://github.com/rails/rails/commit/9aaeb18781f329bf04c3174898bb8f32581a515e&quot;&gt;
http://github.com/rails/rails/commit/9aaeb18781f329bf04c3174898bb8f...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T03:57:56+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>2-3-stable bugmash patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-08-08T03:57:57+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [54e7f5ba435b7573c68c7acd65c9d2537427de7e]) Tidy up the AR tests, removing duplicates and making tests clearer / more focussed.

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;

[#2774 state:committed]
http://github.com/rails/rails/commit/54e7f5ba435b7573c68c7acd65c9d2537427de7e</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/54e7f5ba435b7573c68c7acd65c9d2537427de7e&quot;
title=
&quot;Changeset [54e7f5ba435b7573c68c7acd65c9d2537427de7e]&quot;&gt;[54e7f5ba435b7573c68c7acd65c9d2537427de7e]&lt;/a&gt;)
Tidy up the AR tests, removing duplicates and making tests clearer
/ more focussed.&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski
&lt;a&gt;michael@koziarski.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/2774&quot; title=
&quot;Ticket #2774&quot;&gt;#2774&lt;/a&gt; state:committed] &lt;a href=
&quot;http://github.com/rails/rails/commit/54e7f5ba435b7573c68c7acd65c9d2537427de7e&quot;&gt;
http://github.com/rails/rails/commit/54e7f5ba435b7573c68c7acd65c9d2...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T03:57:56+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>2-3-stable bugmash patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-08-08T03:57:58+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">6</version>
      <user-name>Repository</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-08T04:00:50+01:00</created-at>
      <creator-id type="integer">3633</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable bugmash patch
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2774</number>
      <permalink>activerecord-tests-with-the-same-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>2-3-stable patch</tag>
      <title>ActiveRecord tests with the same name</title>
      <updated-at type="datetime">2009-08-08T04:00:52+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">7</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Paul Campbell</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2774</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>0c83b34c96987029d6fdae2c40b397766eac9f42</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-06-07T09:59:52+01:00</created-at>
      <filename>remove_dupe_tests.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">130348</id>
      <size type="integer">2545</size>
      <uploader-id type="integer">3633</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/130348/remove_dupe_tests.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>f8c0c256844f54a20ed0c259afc8840a057c632b</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-08T02:15:16+01:00</created-at>
      <filename>2774-alt.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">238947</id>
      <size type="integer">4656</size>
      <uploader-id type="integer">20273</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/238947/2774-alt.diff</url>
    </attachment>
  </attachments>
</ticket>
