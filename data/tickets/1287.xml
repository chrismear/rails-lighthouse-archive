<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-10-29T03:05:51+00:00</created-at>
  <creator-id type="integer">27823</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">1287</number>
  <permalink>fix-failing-translationhelpertest</permalink>
  <priority type="integer">692</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>i18n patch test</tag>
  <title>Fix failing TranslationHelperTest</title>
  <updated-at type="datetime">2008-12-14T23:17:14+00:00</updated-at>
  <user-id type="integer">17477</user-id>
  <version type="integer">2</version>
  <user-name>Frederick Cheung</user-name>
  <creator-name>Will Harris</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1287</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>A simplification to TranslationHelper's translate method's handling of options caused a test failure:

  1) Error:
test_delegates_to_i18n_setting_the_raise_option(TranslationHelperTest):
IndexError: index 3969 out of string
    ./test/../lib/action_view/helpers/translation_helper.rb:7:in `[]='
    ./test/../lib/action_view/helpers/translation_helper.rb:7:in `translate'
    ./test/template/translation_helper_test.rb:14:in `test_delegates_to_i18n_setting_the_raise_option'
    ./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `__send__'
    ./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `run'

The test was sending the locale String as the second argument to translate, which was treating it as its options Hash, leading to an error when it tried to index the locale string using a Symbol.</original-body>
  <latest-body>A simplification to TranslationHelper's translate method's handling of options caused a test failure:

  1) Error:
test_delegates_to_i18n_setting_the_raise_option(TranslationHelperTest):
IndexError: index 3969 out of string
    ./test/../lib/action_view/helpers/translation_helper.rb:7:in `[]='
    ./test/../lib/action_view/helpers/translation_helper.rb:7:in `translate'
    ./test/template/translation_helper_test.rb:14:in `test_delegates_to_i18n_setting_the_raise_option'
    ./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `__send__'
    ./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `run'

The test was sending the locale String as the second argument to translate, which was treating it as its options Hash, leading to an error when it tried to index the locale string using a Symbol.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;A simplification to TranslationHelper's translate method's
handling of options caused a test failure:&lt;/p&gt;
&lt;p&gt;1) Error:
test_delegates_to_i18n_setting_the_raise_option(TranslationHelperTest):
IndexError: index 3969 out of string&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;./test/../lib/action_view/helpers/translation_helper.rb:7:in `[]='
./test/../lib/action_view/helpers/translation_helper.rb:7:in `translate'
./test/template/translation_helper_test.rb:14:in `test_delegates_to_i18n_setting_the_raise_option'
./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `__send__'
./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `run'
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The test was sending the locale String as the second argument to
translate, which was treating it as its options Hash, leading to an
error when it tried to index the locale string using a Symbol.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>A simplification to TranslationHelper's translate method's handling of options caused a test failure:

  1) Error:
test_delegates_to_i18n_setting_the_raise_option(TranslationHelperTest):
IndexError: index 3969 out of string
    ./test/../lib/action_view/helpers/translation_helper.rb:7:in `[]='
    ./test/../lib/action_view/helpers/translation_helper.rb:7:in `translate'
    ./test/template/translation_helper_test.rb:14:in `test_delegates_to_i18n_setting_the_raise_option'
    ./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `__send__'
    ./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `run'

The test was sending the locale String as the second argument to translate, which was treating it as its options Hash, leading to an error when it tried to index the locale string using a Symbol.</body>
      <body-html>&lt;div&gt;&lt;p&gt;A simplification to TranslationHelper's translate method's
handling of options caused a test failure:&lt;/p&gt;
&lt;p&gt;1) Error:
test_delegates_to_i18n_setting_the_raise_option(TranslationHelperTest):
IndexError: index 3969 out of string&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;./test/../lib/action_view/helpers/translation_helper.rb:7:in `[]='
./test/../lib/action_view/helpers/translation_helper.rb:7:in `translate'
./test/template/translation_helper_test.rb:14:in `test_delegates_to_i18n_setting_the_raise_option'
./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `__send__'
./test/../../activesupport/lib/active_support/testing/setup_and_teardown.rb:94:in `run'
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The test was sending the locale String as the second argument to
translate, which was treating it as its options Hash, leading to an
error when it tried to index the locale string using a Symbol.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-29T03:05:51+00:00</created-at>
      <creator-id type="integer">27823</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1287</number>
      <permalink>fix-failing-translationhelpertest</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>i18n patch test</tag>
      <title>Fix failing TranslationHelperTest</title>
      <updated-at type="datetime">2008-10-29T03:05:53+00:00</updated-at>
      <user-id type="integer">27823</user-id>
      <version type="integer">1</version>
      <user-name>Will Harris</user-name>
      <creator-name>Will Harris</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1287</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Was fixed in [4dbfe18b37ad4fa95eecb9082a446c798e84e499](http://github.com/rails/rails/commit/4dbfe18b37ad4fa95eecb9082a446c798e84e499)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Was fixed in &lt;a href=&quot;http://github.com/rails/rails/commit/4dbfe18b37ad4fa95eecb9082a446c798e84e499&quot;&gt;
4dbfe18b37ad4fa95eecb9082a446c798e84e499&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-12-14T23:17:09+00:00</created-at>
      <creator-id type="integer">27823</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1287</number>
      <permalink>fix-failing-translationhelpertest</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>i18n patch test</tag>
      <title>Fix failing TranslationHelperTest</title>
      <updated-at type="datetime">2008-12-14T23:17:14+00:00</updated-at>
      <user-id type="integer">17477</user-id>
      <version type="integer">2</version>
      <user-name>Frederick Cheung</user-name>
      <creator-name>Will Harris</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1287</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>c9d0e23f1150ba2ee95de25ed77bdb4a10863f82</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-29T03:05:51+00:00</created-at>
      <filename>fix_translation_helper_test.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">57763</id>
      <size type="integer">1045</size>
      <uploader-id type="integer">27823</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/57763/fix_translation_helper_test.diff</url>
    </attachment>
  </attachments>
</ticket>
