<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">7697</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-09-11T15:17:46+01:00</created-at>
  <creator-id type="integer">29525</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">1024</number>
  <permalink>defaults-routes-for-namespaces</permalink>
  <priority type="integer">462</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>patch</tag>
  <title>defaults routes for namespaces</title>
  <updated-at type="datetime">2010-07-01T06:43:23+01:00</updated-at>
  <user-id type="integer">7697</user-id>
  <version type="integer">6</version>
  <user-name>Andrew White</user-name>
  <creator-name>Lori Holden</creator-name>
  <assigned-user-name>Andrew White</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Namespace support in routes is a little lacking, and if we want to support any form of defaults for our namespace, we have to rely on whatever default route we have setup. 

This patch adds support for defaults within namespaces.

The following example now works:

    map.namespace 'api' do |api|
      api.connect ':controller/:action/:id'
    end

urls like:
/api/product/list

will now match to the api's default route.</original-body>
  <latest-body>Namespace support in routes is a little lacking, and if we want to support any form of defaults for our namespace, we have to rely on whatever default route we have setup. 

This patch adds support for defaults within namespaces.

The following example now works:

    map.namespace 'api' do |api|
      api.connect ':controller/:action/:id'
    end

urls like:
/api/product/list

will now match to the api's default route.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Namespace support in routes is a little lacking, and if we want
to support any form of defaults for our namespace, we have to rely
on whatever default route we have setup.&lt;/p&gt;
&lt;p&gt;This patch adds support for defaults within namespaces.&lt;/p&gt;
&lt;p&gt;The following example now works:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;map.namespace 'api' do |api|
  api.connect ':controller/:action/:id'
end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;urls like: /api/product/list&lt;/p&gt;
&lt;p&gt;will now match to the api's default route.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Namespace support in routes is a little lacking, and if we want to support any form of defaults for our namespace, we have to rely on whatever default route we have setup. 

This patch adds support for defaults within namespaces.

The following example now works:

    map.namespace 'api' do |api|
      api.connect ':controller/:action/:id'
    end

urls like: `/api/product/list` will now match to the api's default route.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Namespace support in routes is a little lacking, and if we want
to support any form of defaults for our namespace, we have to rely
on whatever default route we have setup.&lt;/p&gt;
&lt;p&gt;This patch adds support for defaults within namespaces.&lt;/p&gt;
&lt;p&gt;The following example now works:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;map.namespace 'api' do |api|
  api.connect ':controller/:action/:id'
end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;urls like: &lt;code&gt;/api/product/list&lt;/code&gt; will now match to the
api's default route.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-11T15:17:46+01:00</created-at>
      <creator-id type="integer">29525</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1024</number>
      <permalink>defaults-routes-for-namespaces</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>patch</tag>
      <title>defaults routes for namespaces</title>
      <updated-at type="datetime">2008-09-11T15:18:57+01:00</updated-at>
      <user-id type="integer">29525</user-id>
      <version type="integer">1</version>
      <user-name>Lori Holden</user-name>
      <creator-name>Lori Holden</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hey Lori,

The patch doesn't apply clean anymore. Could you please upload a new patch against the latest edge ?

The feature seem reasonable to me.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey Lori,&lt;/p&gt;
&lt;p&gt;The patch doesn't apply clean anymore. Could you please upload a
new patch against the latest edge ?&lt;/p&gt;
&lt;p&gt;The feature seem reasonable to me.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-12-20T17:19:35+00:00</created-at>
      <creator-id type="integer">29525</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1024</number>
      <permalink>defaults-routes-for-namespaces</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>patch</tag>
      <title>defaults routes for namespaces</title>
      <updated-at type="datetime">2008-12-20T17:19:38+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">2</version>
      <user-name>Pratik</user-name>
      <creator-name>Lori Holden</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Forward ported to edge.

http://github.com/lholden/rails/tree/namespace_route_fixes
http://github.com/lholden/rails/commit/54d9beeb23730c3a3aaad112016adfd84c2c155f</body>
      <body-html>&lt;div&gt;&lt;p&gt;Forward ported to edge.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/lholden/rails/tree/namespace_route_fixes&quot;&gt;http://github.com/lholden/rails/...&lt;/a&gt;
&lt;a href=&quot;http://github.com/lholden/rails/commit/54d9beeb23730c3a3aaad112016adfd84c2c155f&quot;&gt;
http://github.com/lholden/rails/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-12-30T22:10:32+00:00</created-at>
      <creator-id type="integer">29525</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1024</number>
      <permalink>defaults-routes-for-namespaces</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>patch</tag>
      <title>defaults routes for namespaces</title>
      <updated-at type="datetime">2008-12-30T22:10:35+00:00</updated-at>
      <user-id type="integer">29525</user-id>
      <version type="integer">3</version>
      <user-name>Lori Holden</user-name>
      <creator-name>Lori Holden</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:34+01:00</created-at>
      <creator-id type="integer">29525</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1024</number>
      <permalink>defaults-routes-for-namespaces</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>patch</tag>
      <title>defaults routes for namespaces</title>
      <updated-at type="datetime">2010-05-04T18:48:34+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">4</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Lori Holden</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This is an old ticket. Since then a lot has changed in routing.

Assigning it to Andrew to get his perspective.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is an old ticket. Since then a lot has changed in
routing.&lt;/p&gt;
&lt;p&gt;Assigning it to Andrew to get his perspective.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-01T04:23:29+01:00</created-at>
      <creator-id type="integer">29525</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:assigned_user: 141
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1024</number>
      <permalink>defaults-routes-for-namespaces</permalink>
      <priority type="integer">462</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>patch</tag>
      <title>defaults routes for namespaces</title>
      <updated-at type="datetime">2010-07-01T04:23:35+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">5</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Lori Holden</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Well, I wouldn't recommend adding a route like this but it does work now:

@@@ ruby
  namespace :api do
    match '/(:controller/(:action/(:id)))'
  end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well, I wouldn't recommend adding a route like this but it does
work now:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;  namespace :api do
    match '/(:controller/(:action/(:id)))'
  end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-01T06:43:18+01:00</created-at>
      <creator-id type="integer">29525</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1024</number>
      <permalink>defaults-routes-for-namespaces</permalink>
      <priority type="integer">462</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch</tag>
      <title>defaults routes for namespaces</title>
      <updated-at type="datetime">2010-07-01T06:43:23+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">6</version>
      <user-name>Andrew White</user-name>
      <creator-name>Lori Holden</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1024</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>39ac8bc44956a42f8c6bdfbc7dd741eff52c30e8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-09-11T15:17:46+01:00</created-at>
      <filename>defaults_in_named_routes.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">45301</id>
      <size type="integer">6805</size>
      <uploader-id type="integer">29525</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/45301/defaults_in_named_routes.diff</url>
    </attachment>
  </attachments>
</ticket>
