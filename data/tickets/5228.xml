<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">12714</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-25T03:23:38+01:00</created-at>
  <creator-id type="integer">31980</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5228</number>
  <permalink>belongs_to-association-doesnt-work</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag nil="true"></tag>
  <title>belongs_to association doesn't work</title>
  <updated-at type="datetime">2011-02-02T16:28:52+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">10</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Mario Uher</creator-name>
  <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
  <priority-name>Low</priority-name>
  <original-body>After updating to Rails 3.0 RC my belongs_to associations didn't work anymore. They failed with
&lt;code&gt;
undefined method 'find' for MyApplication::User
&lt;/code&gt;
after accessing &lt;code&gt;@session.user&lt;/code&gt;.

###user.rb###
@@@ ruby
module MyApplication::User
  def self.table_name_prefix 'my_application_user_' end
end
@@@

###user/user.rb###
@@@ ruby
class MyApplication::User::User &lt; ActiveRecord::Base
  has_many :sessions
end
@@@

###user/session.rb###
@@@ ruby
class MyApplication::User::Session &lt; ActiveRecord::Base
  belongs_to :user
end
@@@</original-body>
  <latest-body>After updating to Rails 3.0 RC my belongs_to associations didn't work anymore. They failed with
&lt;code&gt;
undefined method 'find' for MyApplication::User
&lt;/code&gt;
after accessing &lt;code&gt;@session.user&lt;/code&gt;.

###user.rb###
@@@ ruby
module MyApplication::User
  def self.table_name_prefix 'my_application_user_' end
end
@@@

###user/user.rb###
@@@ ruby
class MyApplication::User::User &lt; ActiveRecord::Base
  has_many :sessions
end
@@@

###user/session.rb###
@@@ ruby
class MyApplication::User::Session &lt; ActiveRecord::Base
  belongs_to :user
end
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;After updating to Rails 3.0 RC my belongs_to associations didn't
work anymore. They failed with&lt;br&gt;
&lt;code&gt;&lt;br&gt;
undefined method 'find' for MyApplication::User&lt;br&gt;&lt;/code&gt;&lt;br&gt;
after accessing &lt;code&gt;@session.user&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;user.rb&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;module MyApplication::User
  def self.table_name_prefix 'my_application_user_' end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;user/user.rb&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class MyApplication::User::User &amp;lt; ActiveRecord::Base
  has_many :sessions
end&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;user/session.rb&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class MyApplication::User::Session &amp;lt; ActiveRecord::Base
  belongs_to :user
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>After updating to Rails 3.0 RC my belongs_to associations didn't work anymore. They failed with
&lt;code&gt;
undefined method 'find' for MyApplication::User
&lt;/code&gt;
after accessing &lt;code&gt;@session.user&lt;/code&gt;.

###user.rb###
@@@ ruby
module MyApplication::User
  def self.table_name_prefix 'my_application_user_' end
end
@@@

###user/user.rb###
@@@ ruby
class MyApplication::User::User &lt; ActiveRecord::Base
  has_many :sessions
end
@@@

###user/session.rb###
@@@ ruby
class MyApplication::User::Session &lt; ActiveRecord::Base
  belongs_to :user
end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;After updating to Rails 3.0 RC my belongs_to associations didn't
work anymore. They failed with&lt;br&gt;
&lt;code&gt;&lt;br&gt;
undefined method 'find' for MyApplication::User&lt;br&gt;&lt;/code&gt;&lt;br&gt;
after accessing &lt;code&gt;@session.user&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;user.rb&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;module MyApplication::User
  def self.table_name_prefix 'my_application_user_' end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;user/user.rb&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class MyApplication::User::User &amp;lt; ActiveRecord::Base
  has_many :sessions
end&lt;/code&gt;
&lt;/pre&gt;
&lt;h3&gt;user/session.rb&lt;/h3&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class MyApplication::User::Session &amp;lt; ActiveRecord::Base
  belongs_to :user
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-28T11:09:29+01:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>rails3.0rc rails3rc</tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2010-07-28T11:09:31+01:00</updated-at>
      <user-id type="integer">31980</user-id>
      <version type="integer">1</version>
      <user-name>Mario Uher</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-02T12:22:48+01:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>rails3.0rc rails3rc</tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2010-08-02T12:22:52+01:00</updated-at>
      <user-id type="integer">31980</user-id>
      <version type="integer">2</version>
      <user-name>Mario Uher</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Please confirm this is still an issue in 3.0.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Please confirm this is still an issue in 3.0.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T02:10:03+01:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>rails3.0rc rails3rc</tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2010-10-11T02:10:05+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">3</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T02:56:28+01:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: rails3.0rc rails3rc
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2010-10-11T02:56:31+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">5</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T08:24:27+01:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2010-10-19T08:24:30+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">7</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ginseng is also useful for preventing acne &lt;a href=&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;&lt;strong&gt;buy wow cataclysm cdkey&lt;/strong&gt;&lt;/a&gt; by helping  with the hormonal balance in your system. It is very helpful in reducing  hormonal imbalance, which makes it very possible for it to totally prevent the  occurrence of acne. The &lt;a href=&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;wow cataclysm cd key&lt;/strong&gt;&lt;/a&gt; best helping  mate you can give to &lt;a href=&quot;http://www.ffxivgilsale.de/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd key&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt; &lt;/strong&gt;your immune system is ginseng; it  prevents any acne flare up.
  Ginseng &lt;a href=&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;cataclysm cd key&lt;/strong&gt;&lt;/a&gt; is not only useful  for preventing acne. It can also be very useful in caring for your acne in such  a way that your body will be more capable of putting things under control. The  pus filled acne &lt;a href=&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;&lt;strong&gt;buy world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; you have on your skin can be very painful at times. But when you make use of  ginseng plant, it will help you to reduce the pain. It &lt;a href=&quot;http://www.topffxiv.fr/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv  cd key&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt; &lt;/strong&gt;can also help  you to reduce any form of infection that the acne may end up causing.
  To suit all forms of users, ginseng had  been prepared in all forms of ways &lt;a href=&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;buy cataclysm cd key&lt;/strong&gt;&lt;/a&gt;. It can  come in form of powder, tea, soup, tincture, capsule and even tablet. The  common dosage for &lt;a href=&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;&lt;strong&gt;world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; the ginseng herb is just 200mg for one to three times every day. You will need  to take it for alternate two weeks. You will need to avoid taking excessive  measure of ginseng. Overdose intake &lt;a href=&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;&lt;strong&gt;buy world of warcraft cataclysm&lt;/strong&gt;&lt;/a&gt; may  lead to several forms of side effects like &lt;a href=&quot;http://www.topffxiv.fr/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ff14  cd key&lt;/strong&gt;&lt;/a&gt;headache and insomnia; to mention a few.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ginseng is also useful for preventing acne &lt;a href=
&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;
&lt;strong&gt;buy wow cataclysm cdkey&lt;/strong&gt;&lt;/a&gt; by helping with the
hormonal balance in your system. It is very helpful in reducing
hormonal imbalance, which makes it very possible for it to totally
prevent the occurrence of acne. The &lt;a href=
&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;wow
cataclysm cd key&lt;/strong&gt;&lt;/a&gt; best helping mate you can give to
&lt;a href=&quot;http://www.ffxivgilsale.de/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv
cd key&lt;/strong&gt;&lt;/a&gt; your immune system is ginseng; it prevents any
acne flare up.&lt;br&gt;
Ginseng &lt;a href=
&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;cataclysm
cd key&lt;/strong&gt;&lt;/a&gt; is not only useful for preventing acne. It can
also be very useful in caring for your acne in such a way that your
body will be more capable of putting things under control. The pus
filled acne &lt;a href=
&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;
&lt;strong&gt;buy world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; you
have on your skin can be very painful at times. But when you make
use of ginseng plant, it will help you to reduce the pain. It
&lt;a href=&quot;http://www.topffxiv.fr/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ffxiv cd
key&lt;/strong&gt;&lt;/a&gt; can also help you to reduce any form of infection
that the acne may end up causing. To suit all forms of users,
ginseng had been prepared in all forms of ways &lt;a href=
&quot;http://www.gamevive.com/WoW/WoW-CD-Key/WoW-CD-Key.html&quot;&gt;&lt;strong&gt;buy
cataclysm cd key&lt;/strong&gt;&lt;/a&gt;. It can come in form of powder, tea,
soup, tincture, capsule and even tablet. The common dosage for
&lt;a href=
&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;
&lt;strong&gt;world of warcraft cataclysm cd key&lt;/strong&gt;&lt;/a&gt; the ginseng
herb is just 200mg for one to three times every day. You will need
to take it for alternate two weeks. You will need to avoid taking
excessive measure of ginseng. Overdose intake &lt;a href=
&quot;http://www.gamevive.com/WoW-EU/Cheap-WoW-CD-Key/Cheap-WoW-CD-Key.html&quot;&gt;
&lt;strong&gt;buy world of warcraft cataclysm&lt;/strong&gt;&lt;/a&gt; may lead to
several forms of side effects like &lt;a href=
&quot;http://www.topffxiv.fr/ffxiv-cdkey.html&quot;&gt;&lt;strong&gt;ff14 cd
key&lt;/strong&gt;&lt;/a&gt;headache and insomnia; to mention a few.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-23T07:16:02+01:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag nil="true"></tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2010-10-25T03:23:38+01:00</updated-at>
      <user-id type="integer">121508</user-id>
      <version type="integer">8</version>
      <user-name>ffxivgil</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:21:20+00:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- 
:state: needs-more-info
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2011-02-02T16:28:37+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">9</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:21:21+00:00</created-at>
      <creator-id type="integer">31980</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5228</number>
      <permalink>belongs_to-association-doesnt-work</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag nil="true"></tag>
      <title>belongs_to association doesn't work</title>
      <updated-at type="datetime">2011-02-02T16:28:52+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Mario Uher</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5228</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
