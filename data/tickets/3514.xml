<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-11-27T01:29:37+00:00</created-at>
  <creator-id type="integer">26790</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3514</number>
  <permalink>adding-proc-support-on-validation-messages</permalink>
  <priority type="integer">179726</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>bug bugmash message patch proc validations</tag>
  <title>Adding Proc support on validation messages</title>
  <updated-at type="datetime">2010-01-17T13:59:14+00:00</updated-at>
  <user-id type="integer">19965</user-id>
  <version type="integer">6</version>
  <user-name>Jos&#233; Valim</user-name>
  <creator-name>Kieran P</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
  <priority-name nil="true"></priority-name>
  <original-body>Things like I18n.t  and Time.now   in the models within validation messages get cached on application load. Support proc helps things a bit.

Patch attached for 2-3-stable.</original-body>
  <latest-body>Things like I18n.t  and Time.now   in the models within validation messages get cached on application load. Support proc helps things a bit.

Patch attached for 2-3-stable.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Things like I18n.t and Time.now in the models within validation
messages get cached on application load. Support proc helps things
a bit.&lt;/p&gt;
&lt;p&gt;Patch attached for 2-3-stable.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Things like I18n.t  and Time.now   in the models within validation messages get cached on application load. Support proc helps things a bit.

Patch attached for 2-3-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Things like I18n.t and Time.now in the models within validation
messages get cached on application load. Support proc helps things
a bit.&lt;/p&gt;
&lt;p&gt;Patch attached for 2-3-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-11-27T01:29:37+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3514</number>
      <permalink>adding-proc-support-on-validation-messages</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>message proc validations</tag>
      <title>Adding Proc support on validation messages</title>
      <updated-at type="datetime">2009-11-27T01:29:46+00:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">1</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-11T20:39:13+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: message proc validations
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3514</number>
      <permalink>adding-proc-support-on-validation-messages</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug bugmash message proc validations</tag>
      <title>Adding Proc support on validation messages</title>
      <updated-at type="datetime">2010-01-11T20:39:17+00:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">2</version>
      <user-name>Kieran P</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I think the following patch should apply to rails 3, on top of commit afd0c06dfa

I have altered the message to put more emphasis on the fact that this makes it dynamic, rather than allows us to use I18n, as now I18n is possible using activemodel validations.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think the following patch should apply to rails 3, on top of
commit afd0c06dfa&lt;/p&gt;
&lt;p&gt;I have altered the message to put more emphasis on the fact that
this makes it dynamic, rather than allows us to use I18n, as now
I18n is possible using activemodel validations.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T11:25:50+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bug bugmash message proc validations
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3514</number>
      <permalink>adding-proc-support-on-validation-messages</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bug bugmash message patch proc validations</tag>
      <title>Adding Proc support on validation messages</title>
      <updated-at type="datetime">2010-01-17T11:25:58+00:00</updated-at>
      <user-id type="integer">40660</user-id>
      <version type="integer">3</version>
      <user-name>Lenary</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T13:12:34+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3514</number>
      <permalink>adding-proc-support-on-validation-messages</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>bug bugmash message patch proc validations</tag>
      <title>Adding Proc support on validation messages</title>
      <updated-at type="datetime">2010-01-17T13:12:37+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">4</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [31ea83eb898786f853bd7ce7075986fa120f949d]) Adding Proc support to validation messages so that they can become a little more dynamic, allowing for customisations during the request [#3514 status:resolved].

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/31ea83eb898786f853bd7ce7075986fa120f949d</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/31ea83eb898786f853bd7ce7075986fa120f949d&quot;
title=
&quot;Changeset [31ea83eb898786f853bd7ce7075986fa120f949d]&quot;&gt;[31ea83eb898786f853bd7ce7075986fa120f949d]&lt;/a&gt;)
Adding Proc support to validation messages so that they can become
a little more dynamic, allowing for customisations during the
request [&lt;a href=&quot;/projects/8994/tickets/3514&quot; title=
&quot;Ticket #3514&quot;&gt;#3514&lt;/a&gt; status:resolved].&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/31ea83eb898786f853bd7ce7075986fa120f949d&quot;&gt;
http://github.com/rails/rails/commit/31ea83eb898786f853bd7ce7075986...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T13:56:30+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3514</number>
      <permalink>adding-proc-support-on-validation-messages</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>bug bugmash message patch proc validations</tag>
      <title>Adding Proc support on validation messages</title>
      <updated-at type="datetime">2010-01-17T13:56:31+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-17T13:59:13+00:00</created-at>
      <creator-id type="integer">26790</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3514</number>
      <permalink>adding-proc-support-on-validation-messages</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>bug bugmash message patch proc validations</tag>
      <title>Adding Proc support on validation messages</title>
      <updated-at type="datetime">2010-01-17T13:59:14+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">6</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Kieran P</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3514</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>ab135a694e1b293d00420c1867c575763056c87f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-11-27T01:29:39+00:00</created-at>
      <filename>proc_support_for_validations.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">335249</id>
      <size type="integer">2231</size>
      <uploader-id type="integer">26790</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/335249/proc_support_for_validations.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>cb4db1dcb0739741d3f3ff455ad593fab19e2b58</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-01-17T11:25:50+00:00</created-at>
      <filename>procs_in_validation_messages.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">380839</id>
      <size type="integer">2050</size>
      <uploader-id type="integer">40660</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/380839/procs_in_validation_messages.patch</url>
    </attachment>
  </attachments>
</ticket>
