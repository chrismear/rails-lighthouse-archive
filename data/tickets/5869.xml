<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">7697</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-11-17T01:58:28+00:00</created-at>
  <creator-id type="integer">121966</creator-id>
  <milestone-due-on type="datetime">2011-02-27T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">101623</milestone-id>
  <number type="integer">5869</number>
  <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag nil="true"></tag>
  <title>params in functional tests not sent to controller encoded</title>
  <updated-at type="datetime">2011-02-12T21:58:22+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">14</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>johnjosephbachir (at gmail)</creator-name>
  <assigned-user-name>Andrew White</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
  <milestone-title>3.0.5</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>I'm not exactly sure at what layer this problem is happening, so I'll just describe the behavior. I have an action in my `foo` controller, `bar`:

    def bar
      &quot;123!@/#$%^&quot; == params[:number]
    end

and a spec (also tried with test_unit, same behavior):

    it &quot;should be equal&quot; do
      post :bar, :number =&gt; &quot;123!@/#$%^&quot;
    end

now, that failed, and complained that there was no route that matched what I was asking for. I then realized that another spec worked, where the param being sent was completely alphanumeric. So I tried:

    it &quot;should be equal&quot;
      post :bar, :number =&gt; CGI::escape(&quot;123!@/#$%^&quot;)
    end

And it worked! So the problem was the '/' being sent as part of the URL.

However, my code didn't work, because the param value was &quot;still&quot; escaped in the controller. I thought, am I crazy or doesn't rails unescape params for me? (been a rails developer for 4 years). Just to make sure I tried it in the browser, and I was right, rails does do the unescaping.

Also, aren't controller specs/tests supposed to never be at the http level? I'm not sending a url to the controller, I'm invoking it with some values... escaping, urls, etc, should never ben an issue, right?

Let me know if you'd like any more info. I can put together some example code of that's helpful.</original-body>
  <latest-body>I'm not exactly sure at what layer this problem is happening, so I'll just describe the behavior. I have an action in my `foo` controller, `bar`:

    def bar
      &quot;123!@/#$%^&quot; == params[:number]
    end

and a spec (also tried with test_unit, same behavior):

    it &quot;should be equal&quot; do
      post :bar, :number =&gt; &quot;123!@/#$%^&quot;
    end

now, that failed, and complained that there was no route that matched what I was asking for. I then realized that another spec worked, where the param being sent was completely alphanumeric. So I tried:

    it &quot;should be equal&quot;
      post :bar, :number =&gt; CGI::escape(&quot;123!@/#$%^&quot;)
    end

And it worked! So the problem was the '/' being sent as part of the URL.

However, my code didn't work, because the param value was &quot;still&quot; escaped in the controller. I thought, am I crazy or doesn't rails unescape params for me? (been a rails developer for 4 years). Just to make sure I tried it in the browser, and I was right, rails does do the unescaping.

Also, aren't controller specs/tests supposed to never be at the http level? I'm not sending a url to the controller, I'm invoking it with some values... escaping, urls, etc, should never ben an issue, right?

Let me know if you'd like any more info. I can put together some example code of that's helpful.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I'm not exactly sure at what layer this problem is happening, so
I'll just describe the behavior. I have an action in my
&lt;code&gt;foo&lt;/code&gt; controller, &lt;code&gt;bar&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def bar
  &quot;123!@/#$%^&quot; == params[:number]
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and a spec (also tried with test_unit, same behavior):&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;it &quot;should be equal&quot; do
  post :bar, :number =&amp;gt; &quot;123!@/#$%^&quot;
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;now, that failed, and complained that there was no route that
matched what I was asking for. I then realized that another spec
worked, where the param being sent was completely alphanumeric. So
I tried:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;it &quot;should be equal&quot;
  post :bar, :number =&amp;gt; CGI::escape(&quot;123!@/#$%^&quot;)
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;And it worked! So the problem was the '/' being sent as part of
the URL.&lt;/p&gt;
&lt;p&gt;However, my code didn't work, because the param value was
&quot;still&quot; escaped in the controller. I thought, am I crazy or doesn't
rails unescape params for me? (been a rails developer for 4 years).
Just to make sure I tried it in the browser, and I was right, rails
does do the unescaping.&lt;/p&gt;
&lt;p&gt;Also, aren't controller specs/tests supposed to never be at the
http level? I'm not sending a url to the controller, I'm invoking
it with some values... escaping, urls, etc, should never ben an
issue, right?&lt;/p&gt;
&lt;p&gt;Let me know if you'd like any more info. I can put together some
example code of that's helpful.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm not exactly sure at what layer this problem is happening, so I'll just describe the behavior. I have an action in my `foo` controller, `bar`:

    def bar
      &quot;123!@/#$%^&quot; == params[:number]
    end

and a spec (also tried with test_unit, same behavior):

    it &quot;should be equal&quot; do
      post :bar, :number =&gt; &quot;123!@/#$%^&quot;
    end

now, that failed, and complained that there was no route that matched what I was asking for. I then realized that another spec worked, where the param being sent was completely alphanumeric. So I tried:

    it &quot;should be equal&quot;
      post :bar, :number =&gt; CGI::escape(&quot;123!@/#$%^&quot;)
    end

And it worked! So the problem was the '/' being sent as part of the URL.

However, my code didn't work, because the param value was &quot;still&quot; escaped in the controller. I thought, am I crazy or doesn't rails unescape params for me? (been a rails developer for 4 years). Just to make sure I tried it in the browser, and I was right, rails does do the unescaping.

Also, aren't controller specs/tests supposed to never be at the http level? I'm not sending a url to the controller, I'm invoking it with some values... escaping, urls, etc, should never ben an issue, right?

Let me know if you'd like any more info. I can put together some example code of that's helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm not exactly sure at what layer this problem is happening, so
I'll just describe the behavior. I have an action in my
&lt;code&gt;foo&lt;/code&gt; controller, &lt;code&gt;bar&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def bar
  &quot;123!@/#$%^&quot; == params[:number]
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and a spec (also tried with test_unit, same behavior):&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;it &quot;should be equal&quot; do
  post :bar, :number =&amp;gt; &quot;123!@/#$%^&quot;
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;now, that failed, and complained that there was no route that
matched what I was asking for. I then realized that another spec
worked, where the param being sent was completely alphanumeric. So
I tried:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;it &quot;should be equal&quot;
  post :bar, :number =&amp;gt; CGI::escape(&quot;123!@/#$%^&quot;)
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;And it worked! So the problem was the '/' being sent as part of
the URL.&lt;/p&gt;
&lt;p&gt;However, my code didn't work, because the param value was
&quot;still&quot; escaped in the controller. I thought, am I crazy or doesn't
rails unescape params for me? (been a rails developer for 4 years).
Just to make sure I tried it in the browser, and I was right, rails
does do the unescaping.&lt;/p&gt;
&lt;p&gt;Also, aren't controller specs/tests supposed to never be at the
http level? I'm not sending a url to the controller, I'm invoking
it with some values... escaping, urls, etc, should never ben an
issue, right?&lt;/p&gt;
&lt;p&gt;Let me know if you'd like any more info. I can put together some
example code of that's helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-26T18:39:25+01:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>cgi escape testunit</tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-10-26T18:40:04+01:00</updated-at>
      <user-id type="integer">121966</user-id>
      <version type="integer">1</version>
      <user-name>johnjosephbachir (at gmail)</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-26T20:50:49+01:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>cgi escape testunit</tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-10-26T20:50:55+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">2</version>
      <user-name>Andrew White</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>You're right that the params in controller functional tests are never at the HTTP level which is why your param is still escaped. If you look at [the code which processes the request](http://github.com/rails/rails/blob/master/actionpack/lib/action_controller/test_case.rb#L386-418) then all that happens to the params is that they are [merged into to @controller.params](http://github.com/rails/rails/blob/master/actionpack/lib/action_controller/test_case.rb#L412). 

The problem is that slashes aren't allowed in path parameters so you get the route not matching error. There are two things you can do to workaround the problem. The first one is to customise the path parameter regexp (e.g: :number =&gt; /.+/). The second escape the parameter manually (as you've done) - which you'd have to do in your app as well as only query params are automatically escaped.

I think there's definitely something that needs to be addressed here the question is how - do we automatically escape the params on the way in or automatically unescape the params on the way out.</body>
      <body-html>&lt;div&gt;&lt;p&gt;You're right that the params in controller functional tests are
never at the HTTP level which is why your param is still escaped.
If you look at &lt;a href=
&quot;http://github.com/rails/rails/blob/master/actionpack/lib/action_controller/test_case.rb#L386-418&quot;&gt;
the code which processes the request&lt;/a&gt; then all that happens to
the params is that they are &lt;a href=
&quot;http://github.com/rails/rails/blob/master/actionpack/lib/action_controller/test_case.rb#L412&quot;&gt;
merged into to @controller.params&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The problem is that slashes aren't allowed in path parameters so
you get the route not matching error. There are two things you can
do to workaround the problem. The first one is to customise the
path parameter regexp (e.g: :number =&amp;gt; /.+/). The second escape
the parameter manually (as you've done) - which you'd have to do in
your app as well as only query params are automatically
escaped.&lt;/p&gt;
&lt;p&gt;I think there's definitely something that needs to be addressed
here the question is how - do we automatically escape the params on
the way in or automatically unescape the params on the way out.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-29T12:47:59+01:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>cgi escape testunit</tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-10-29T12:48:02+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">3</version>
      <user-name>Andrew White</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Are you looking for Designer Replica Handbags? My-Handbag.com is happy to offer you the best replicas handbags and watches made with high quality materials at lowest price you'll find anywhere.
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;handbags fake&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags fake&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;Fake bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;replica handbags Wholesale&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;gucci handbags on sale&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;gucci luggage bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;best gucci handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_31.html&quot;&gt;Replica Fendi handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_31.html&quot;&gt;discount fendi handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_31.html&quot;&gt;discount Fendi bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_15.html&quot;&gt;Chanel handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;Gucci handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_12.html&quot;&gt;Louis Vuitton handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;watches replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;cheap watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;designer watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;Swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;mens watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;ladies watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;fake watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;discounted watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;sport watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;wholesale replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;knockoff watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica watches on sale&lt;/a&gt;
replicasincn.com is dedicated to bring buyers the top grade replica handbags and watches at wholesale price. Here you can find a genuine pool of replica bags and watches with a wide range varieties.
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags fake&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags replica&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags cheap&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags cheap&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags discounted&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags discounted&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;replica gucci handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;replica chanel handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;replica Louis Vuitton handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Cheap handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale replica handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale fake handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale cheap handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale designer handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;designer Louis Vuitton handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;Wholesale Louis Vuitton handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;Wholesale Balenciaga handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;Fake Balenciaga handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;designer Chanel handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;designer Gucci handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;Wholesale Chanel handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;Wholesale Gucci handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;watches replica&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;cheap watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;designer watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;Swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;mens watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;ladies watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;fake watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;discounted watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;sport watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;wholesale replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;knockoff watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica watches on sale&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Are you looking for Designer Replica Handbags? My-Handbag.com is
happy to offer you the best replicas handbags and watches made with
high quality materials at lowest price you'll find anywhere.&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;handbags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;Fake bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;replica handbags
Wholesale&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;gucci handbags
on sale&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;gucci luggage
bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;best gucci
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_31.html&quot;&gt;Replica Fendi
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_31.html&quot;&gt;discount fendi
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_31.html&quot;&gt;discount Fendi
bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_15.html&quot;&gt;Chanel handbags
Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;Gucci handbags
Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_12.html&quot;&gt;Louis Vuitton
handbags Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;watches
replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;cheap
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;designer
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;Swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;mens
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;ladies
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;fake
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;discounted
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;sport
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;wholesale
replica watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;knockoff
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica
watches on sale&lt;/a&gt;&lt;br&gt;
replicasincn.com is dedicated to bring buyers the top grade replica
handbags and watches at wholesale price. Here you can find a
genuine pool of replica bags and watches with a wide range
varieties.&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags cheap&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags cheap&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags discounted&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags discounted&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;replica gucci
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;replica
chanel handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;replica Louis
Vuitton handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Cheap handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale replica
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale fake
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale cheap
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale designer
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;designer
Louis Vuitton handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;Wholesale
Louis Vuitton handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;Wholesale
Balenciaga handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_28.html&quot;&gt;Fake
Balenciaga handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;designer
Chanel handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;designer
Gucci handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;Wholesale
Chanel handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;Wholesale
Gucci handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;watches
replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;cheap
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;designer
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;Swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;mens
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;ladies
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;fake
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;discounted
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;sport
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;wholesale
replica watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
swiss watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;knockoff
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
watches on sale&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-30T07:27:39+01:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>cgi escape testunit</tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-10-31T06:02:33+00:00</updated-at>
      <user-id type="integer">122552</user-id>
      <version type="integer">4</version>
      <user-name>fstory</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-01T17:03:32+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: cgi escape testunit
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-11-01T17:03:36+00:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">6</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Param values in functional tests are raw, whatever you put goes.

I am not sure Rails can do the escaping automatically because values may not be strings. They should in your tests generally speaking as a best practice, because the controller expects them to be strings. But in practice sometimes they aren't, eg a model's ID passed directly as an integer, nested hashes.... In particular Rails cannot assume they are strings.

Converting values to strings should be done before considering this patch in my view. That has been sometimes discussed, I don't remember why isn't done off the top of my head. Anyone?

That is, either values are raw, or else they fully emulate HTTP params. A mix of both could be confusing IMO.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Param values in functional tests are raw, whatever you put
goes.&lt;/p&gt;
&lt;p&gt;I am not sure Rails can do the escaping automatically because
values may not be strings. They should in your tests generally
speaking as a best practice, because the controller expects them to
be strings. But in practice sometimes they aren't, eg a model's ID
passed directly as an integer, nested hashes.... In particular
Rails cannot assume they are strings.&lt;/p&gt;
&lt;p&gt;Converting values to strings should be done before considering
this patch in my view. That has been sometimes discussed, I don't
remember why isn't done off the top of my head. Anyone?&lt;/p&gt;
&lt;p&gt;That is, either values are raw, or else they fully emulate HTTP
params. A mix of both could be confusing IMO.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-02T11:52:46+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-11-02T11:52:49+00:00</updated-at>
      <user-id type="integer">11378</user-id>
      <version type="integer">7</version>
      <user-name>Xavier Noria</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-08T01:49:29+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-11-08T01:49:31+00:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">9</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/34349)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/34349&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-15T21:04:52+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 88038
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-11-15T21:04:52+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>00zoe
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots Sale&lt;/strong&gt;&lt;/a&gt;, insulated boot and set. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face jacket&lt;/strong&gt;&lt;/a&gt;, have been the. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland boots&lt;/strong&gt;&lt;/a&gt;, &#32463;&#20856;1956. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale&lt;/strong&gt;&lt;/a&gt;, qkl000. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland&lt;/strong&gt;&lt;/a&gt;, &#35199;&#38376;&#21561;&#38634;. 
&lt;a href=&quot;http://www.mbtclearance.org/&quot;&gt;&lt;strong&gt;MBT shoes clearance&lt;/strong&gt;&lt;/a&gt;, styles, sizes. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT trainers&lt;/strong&gt;&lt;/a&gt;, boots sale online. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg boots uk&lt;/strong&gt;&lt;/a&gt;, making cutprice. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;ugg handbags uk&lt;/strong&gt;&lt;/a&gt;, have not looked back.. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;cheap ugg handbags&lt;/strong&gt;&lt;/a&gt;, The result was the. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT lami shoes&lt;/strong&gt;&lt;/a&gt;, We have a long term. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT tunisha&lt;/strong&gt;&lt;/a&gt;, cooperative manufacturer. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland boots sale&lt;/strong&gt;&lt;/a&gt;, The source of. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/ugg-boots-sale-gissella-c-18.html&quot;&gt;&lt;strong&gt;ugg gissella&lt;/strong&gt;&lt;/a&gt;, &#24680;&#22312;&#20170;&#22825;&#25165;&#30456;&#36935;. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face outlet&lt;/strong&gt;&lt;/a&gt;, now timberland boots. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland roll top&lt;/strong&gt;&lt;/a&gt;, footwear. They. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland chukka&lt;/strong&gt;&lt;/a&gt;, &#31505;&#19977;&#23569;. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Cheap Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#21326;&#20180; a subsidiary. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Waterproof Boots&lt;/strong&gt;&lt;/a&gt;, Timberland. By 1978 more. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#21338;&#23458;. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT UK&lt;/strong&gt;&lt;/a&gt;, Nothing to worry. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland UK&lt;/strong&gt;&lt;/a&gt;, ak11-. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland outlet&lt;/strong&gt;&lt;/a&gt;, myaifeili. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale uk&lt;/strong&gt;&lt;/a&gt;, asisi. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg boots&lt;/strong&gt;&lt;/a&gt;, mercury. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots UK&lt;/strong&gt;&lt;/a&gt;, to produce it, under. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#22914;&#26085; the brand name. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Cheap Timberland Boots&lt;/strong&gt;&lt;/a&gt;, ak22-. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;ugg handbags sale&lt;/strong&gt;&lt;/a&gt;, dry in Timberlands. And. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face boots sale&lt;/strong&gt;&lt;/a&gt;, on the Internet.. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face jacket sale&lt;/strong&gt;&lt;/a&gt;, in a river, and your. 
&lt;a href=&quot;http://www.bootsue.com/mbt-shoes-clearance-sale-c-5.html&quot;&gt;&lt;strong&gt;MBT shoes clearance&lt;/strong&gt;&lt;/a&gt;, can steadily. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes UK&lt;/strong&gt;&lt;/a&gt;, &#28023;&#23376; 1990. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT sale&lt;/strong&gt;&lt;/a&gt;, about, you could. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;cheap timberland boots&lt;/strong&gt;&lt;/a&gt;, timberland is. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberlands&lt;/strong&gt;&lt;/a&gt;, an offshoot.</body>
      <body-html>&lt;div&gt;&lt;p&gt;00zoe&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots Sale&lt;/strong&gt;&lt;/a&gt;, insulated boot and set.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
jacket&lt;/strong&gt;&lt;/a&gt;, have been the.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
boots&lt;/strong&gt;&lt;/a&gt;, &amp;#32463;&amp;#20856;1956.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots
sale&lt;/strong&gt;&lt;/a&gt;, qkl000.&lt;br&gt;
&lt;a href=
&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland&lt;/strong&gt;&lt;/a&gt;,
&amp;#35199;&amp;#38376;&amp;#21561;&amp;#38634;.&lt;br&gt;
&lt;a href=&quot;http://www.mbtclearance.org/&quot;&gt;&lt;strong&gt;MBT shoes
clearance&lt;/strong&gt;&lt;/a&gt;, styles, sizes.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
trainers&lt;/strong&gt;&lt;/a&gt;, boots sale online.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg
boots uk&lt;/strong&gt;&lt;/a&gt;, making cutprice.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;ugg handbags uk&lt;/strong&gt;&lt;/a&gt;, have not looked back..&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;cheap ugg handbags&lt;/strong&gt;&lt;/a&gt;, The result was the.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT lami
shoes&lt;/strong&gt;&lt;/a&gt;, We have a long term.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
tunisha&lt;/strong&gt;&lt;/a&gt;, cooperative manufacturer.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
boots sale&lt;/strong&gt;&lt;/a&gt;, The source of.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/ugg-boots-sale-gissella-c-18.html&quot;&gt;
&lt;strong&gt;ugg gissella&lt;/strong&gt;&lt;/a&gt;,
&amp;#24680;&amp;#22312;&amp;#20170;&amp;#22825;&amp;#25165;&amp;#30456;&amp;#36935;.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
outlet&lt;/strong&gt;&lt;/a&gt;, now timberland boots.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
roll top&lt;/strong&gt;&lt;/a&gt;, footwear. They.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
chukka&lt;/strong&gt;&lt;/a&gt;, &amp;#31505;&amp;#19977;&amp;#23569;.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Cheap
Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#21326;&amp;#20180; a subsidiary.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Waterproof
Boots&lt;/strong&gt;&lt;/a&gt;, Timberland. By 1978 more.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#21338;&amp;#23458;.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
UK&lt;/strong&gt;&lt;/a&gt;, Nothing to worry.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
UK&lt;/strong&gt;&lt;/a&gt;, ak11-.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
outlet&lt;/strong&gt;&lt;/a&gt;, myaifeili.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale
uk&lt;/strong&gt;&lt;/a&gt;, asisi.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg
boots&lt;/strong&gt;&lt;/a&gt;, mercury.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots UK&lt;/strong&gt;&lt;/a&gt;, to produce it, under.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#22914;&amp;#26085; the brand name.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Cheap
Timberland Boots&lt;/strong&gt;&lt;/a&gt;, ak22-.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;ugg handbags sale&lt;/strong&gt;&lt;/a&gt;, dry in Timberlands.
And.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
boots sale&lt;/strong&gt;&lt;/a&gt;, on the Internet..&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
jacket sale&lt;/strong&gt;&lt;/a&gt;, in a river, and your.&lt;br&gt;
&lt;a href=
&quot;http://www.bootsue.com/mbt-shoes-clearance-sale-c-5.html&quot;&gt;&lt;strong&gt;MBT
shoes clearance&lt;/strong&gt;&lt;/a&gt;, can steadily.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes
UK&lt;/strong&gt;&lt;/a&gt;, &amp;#28023;&amp;#23376; 1990.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
sale&lt;/strong&gt;&lt;/a&gt;, about, you could.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;cheap
timberland boots&lt;/strong&gt;&lt;/a&gt;, timberland is.&lt;br&gt;
&lt;a href=
&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberlands&lt;/strong&gt;&lt;/a&gt;,
an offshoot.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-17T01:54:44+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-11-17T01:58:28+00:00</updated-at>
      <user-id type="integer">125438</user-id>
      <version type="integer">11</version>
      <user-name>zoery</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Since submitting this ticket I've realized/concluded that in the scenario described, we actually should not expect rails to do the decoding. The whole point of url encoding something is that so that url syntax can be used within a url variable. So, there is in fact no way for the application stack to inherently know when part of a url is encoded.

Sorry for confusing the issue -- this ticket can be closed.

Cheers,
John</body>
      <body-html>&lt;div&gt;&lt;p&gt;Since submitting this ticket I've realized/concluded that in the
scenario described, we actually should not expect rails to do the
decoding. The whole point of url encoding something is that so that
url syntax can be used within a url variable. So, there is in fact
no way for the application stack to inherently know when part of a
url is encoded.&lt;/p&gt;
&lt;p&gt;Sorry for confusing the issue -- this ticket can be closed.&lt;/p&gt;
&lt;p&gt;Cheers,&lt;br&gt;
John&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-17T03:07:57+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-11-17T03:07:59+00:00</updated-at>
      <user-id type="integer">121966</user-id>
      <version type="integer">12</version>
      <user-name>johnjosephbachir (at gmail)</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-12-12T02:21:28+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2010-12-12T02:21:44+00:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">13</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/42275)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/42275&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-12T21:58:22+00:00</created-at>
      <creator-id type="integer">121966</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 92071
</diffable-attributes>
      <milestone-id type="integer">101623</milestone-id>
      <number type="integer">5869</number>
      <permalink>params-in-functional-tests-not-sent-to-controller-encoded</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>params in functional tests not sent to controller encoded</title>
      <updated-at type="datetime">2011-02-12T21:58:22+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">14</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>johnjosephbachir (at gmail)</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5869</url>
      <milestone-title>3.0.5</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
