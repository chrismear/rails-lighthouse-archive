<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-09-01T17:54:49+01:00</created-at>
  <creator-id type="integer">40263</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">5519</number>
  <permalink>order-is-reversed</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>activerecord</tag>
  <title>order is reversed</title>
  <updated-at type="datetime">2010-09-05T12:16:19+01:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">10</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Neeraj Singh</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
  <milestone-title>3.x</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>Not sure if this format is supported

@@@ ruby
Car.order('name').find(:all, :order =&gt; 'id')

#=&gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY id, name
@@@

Notice that order is reversed. Usually order is concatenated.

Tested with rails master after this commit http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0af9f2c1ada

If it is a bug then I can create a failing test and possibly look into patch.</original-body>
  <latest-body>Not sure if this format is supported

@@@ ruby
Car.order('name').find(:all, :order =&gt; 'id')

#=&gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY id, name
@@@

Notice that order is reversed. Usually order is concatenated.

Tested with rails master after this commit http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0af9f2c1ada

If it is a bug then I can create a failing test and possibly look into patch.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Not sure if this format is supported&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;Car.order('name').find(:all, :order =&amp;gt; 'id')

#=&amp;gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY id, name&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Notice that order is reversed. Usually order is
concatenated.&lt;/p&gt;
&lt;p&gt;Tested with rails master after this commit &lt;a href=
&quot;http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0af9f2c1ada&quot;&gt;
http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If it is a bug then I can create a failing test and possibly
look into patch.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Not sure if this format is supported

@@@ ruby
Car.order('name').find(:all, :order =&gt; 'id')

#=&gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY id, name
@@@

Notice that order is reversed. Usually order is concatenated.

Tested with rails master after this commit http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0af9f2c1ada

If it is a bug then I can create a failing test and possibly look into patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Not sure if this format is supported&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;Car.order('name').find(:all, :order =&amp;gt; 'id')

#=&amp;gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY id, name&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Notice that order is reversed. Usually order is
concatenated.&lt;/p&gt;
&lt;p&gt;Tested with rails master after this commit &lt;a href=
&quot;http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0af9f2c1ada&quot;&gt;
http://github.com/rails/rails/commit/c07f0ae52ecf9a45116e1b6ab422e0...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If it is a bug then I can create a failing test and possibly
look into patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T04:10:38+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T04:10:42+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">1</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Yeah, looks like a bug. Patch please!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yeah, looks like a bug. Patch please!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T13:32:01+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T13:32:04+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">2</version>
      <user-name>Pratik</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This code is not working because of the reason mentioned here https://rails.lighthouseapp.com/projects/8994/tickets/5424-merging-order-clauses-from-default_scope-and-regular-scope#ticket-5424-8 .

However I have a larger question about the usage of with_scope and the order.

@@@ ruby
    Car.send(:with_scope, :find =&gt; { :order =&gt; 'id DESC' }) do
      Car.find(:all, :order =&gt; 'name asc')
    end

    # existing code is producing
    #=&gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY name asc, id DESC

@@@

Since order is always concatenated, I would expect the final query to have order 'id desc, name asc'. However the current code produces the sql which has order 'name asc, id desc'.

It means that if I have deeply nested with_scope then current code will give precedence to the innermost order. However I would expect order from the outermost with_scope to have precedence.

Any reason why the innermost code will have priority over outermost when it comes to building order in with_scope?</body>
      <body-html>&lt;div&gt;&lt;p&gt;This code is not working because of the reason mentioned here
&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/5424-merging-order-clauses-from-default_scope-and-regular-scope#ticket-5424-8&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/5424-merging-...&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;However I have a larger question about the usage of with_scope
and the order.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;    Car.send(:with_scope, :find =&amp;gt; { :order =&amp;gt; 'id DESC' }) do
      Car.find(:all, :order =&amp;gt; 'name asc')
    end

    # existing code is producing
    #=&amp;gt; SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY name asc, id DESC&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Since order is always concatenated, I would expect the final
query to have order 'id desc, name asc'. However the current code
produces the sql which has order 'name asc, id desc'.&lt;/p&gt;
&lt;p&gt;It means that if I have deeply nested with_scope then current
code will give precedence to the innermost order. However I would
expect order from the outermost with_scope to have precedence.&lt;/p&gt;
&lt;p&gt;Any reason why the innermost code will have priority over
outermost when it comes to building order in with_scope?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T14:46:41+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T15:00:44+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">3</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>with_scope is definitely wrong. However, note that with_scope will be a deprecated API in 3.1, so it is also interesting to add tests to ensure that the scoping API recently added (http://blog.plataformatec.com.br/2010/07/new-active-record-scoping-syntax/) also works!

Thanks for you work Neeraj!</body>
      <body-html>&lt;div&gt;&lt;p&gt;with_scope is definitely wrong. However, note that with_scope
will be a deprecated API in 3.1, so it is also interesting to add
tests to ensure that the scoping API recently added (&lt;a href=
&quot;http://blog.plataformatec.com.br/2010/07/new-active-record-scoping-syntax/&quot;&gt;http://blog.plataformatec.com.br/2010/07/new-active-record-scoping-...&lt;/a&gt;)
also works!&lt;/p&gt;
&lt;p&gt;Thanks for you work Neeraj!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T15:04:13+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T15:04:14+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">4</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It is broken even with scoping. Check this out

@@@ ruby
    Car.order('id DESC').scoping do
      Car.find(:all, :order =&gt; 'name asc')
    end
    
    #=&gt;  SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY name asc, id DESC
@@@

That is because no matter what the relation holds when finder is applied then the order of find is taking precedence. 

If I reverse the order in apply_finder_methods then that will fix all of this. However it breaks tons of test. So before I fix all those tests want to be sure that this new behavior is the desired behavior in both with_scope and scoping.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It is broken even with scoping. Check this out&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;    Car.order('id DESC').scoping do
      Car.find(:all, :order =&amp;gt; 'name asc')
    end
    
    #=&amp;gt;  SELECT &quot;cars&quot;.* FROM &quot;cars&quot; ORDER BY name asc, id DESC&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;That is because no matter what the relation holds when finder is
applied then the order of find is taking precedence.&lt;/p&gt;
&lt;p&gt;If I reverse the order in apply_finder_methods then that will
fix all of this. However it breaks tons of test. So before I fix
all those tests want to be sure that this new behavior is the
desired behavior in both with_scope and scoping.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T15:14:55+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T15:14:57+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">5</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Neeraj, nice work it could be awesome if you can provide test cases at least.
Of course if you provide tests and a patch is better :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Neeraj, nice work it could be awesome if you can provide test
cases at least.&lt;br&gt;
Of course if you provide tests and a patch is better :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T15:22:17+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T15:22:19+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">6</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@@@ ruby
class DeveloperOrderedBySalary &lt; ActiveRecord::Base
  default_scope :order =&gt; 'salary DESC'
end

DeveloperOrderedBySalary.find(:all, :order =&gt; 'salary').
@@@ 

current code is producing sql with order &quot;salary&quot;

After my patch the order would bd &quot;salary desc&quot;

If there is an objection then please let me know. 

Since the order is always concatenated the order mentioned in default_scope should prevail just like it prevails with with_scope and scoping.</body>
      <body-html>&lt;div&gt;&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class DeveloperOrderedBySalary &amp;lt; ActiveRecord::Base
  default_scope :order =&amp;gt; 'salary DESC'
end

DeveloperOrderedBySalary.find(:all, :order =&amp;gt; 'salary').&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;current code is producing sql with order &quot;salary&quot;&lt;/p&gt;
&lt;p&gt;After my patch the order would bd &quot;salary desc&quot;&lt;/p&gt;
&lt;p&gt;If there is an objection then please let me know.&lt;/p&gt;
&lt;p&gt;Since the order is always concatenated the order mentioned in
default_scope should prevail just like it prevails with with_scope
and scoping.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T15:51:56+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T15:52:00+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">7</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Attached is patch with test.

I am attaching the patch for the sake of completeness. This patch makes order behave consistent in rails 3.

While discussing with Jos&#233; Valim , he mentioned that we should not break backward compatibility. So now I am going to take a look at rails 2.3.8 to see what kind of behavior it has. I will report my findings here.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached is patch with test.&lt;/p&gt;
&lt;p&gt;I am attaching the patch for the sake of completeness. This
patch makes order behave consistent in rails 3.&lt;/p&gt;
&lt;p&gt;While discussing with Jos&amp;eacute; Valim , he mentioned that we
should not break backward compatibility. So now I am going to take
a look at rails 2.3.8 to see what kind of behavior it has. I will
report my findings here.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T17:09:17+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T17:09:19+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">8</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>@@@ ruby
# Following code has been tested with rails 2.3.8
#
# In rails 2.3.8 this is what's happening
# 
# * find has the highest priority. order defined in find wins all the time
# * named_scope comes second. order defined in named_scope wins over order defined in default_scope
# * default_scope has lowest priority.
#

class User &lt; ActiveRecord::Base

  named_scope :order_by_name, :order =&gt; 'name desc'

  def self.lab
    User.order_by_name.find(:all, :order =&gt; 'id desc')  
    #=&gt; SELECT * FROM &quot;users&quot; ORDER BY id desc, name desc
  end
end


class BigUser &lt; User

  default_scope :order =&gt; 'id desc'

  def self.lab

    BigUser.order_by_name.find(:all, :order =&gt; 'name')
    #=&gt; SELECT * FROM &quot;users&quot; ORDER BY name, name desc
    
    BigUser.order_by_name
    #=&gt; SELECT * FROM &quot;users&quot; ORDER BY name desc
  end

end
@@@


Current code in rails 3 master is backward compatible. 

However I feel the rules are too vague in 2.3.x. I like the rules defined in rails3 where order is always concatenated. I fully understand that fixing ticket like this one will break backward compatibility.</body>
      <body-html>&lt;div&gt;&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;# Following code has been tested with rails 2.3.8
#
# In rails 2.3.8 this is what's happening
# 
# * find has the highest priority. order defined in find wins all the time
# * named_scope comes second. order defined in named_scope wins over order defined in default_scope
# * default_scope has lowest priority.
#

class User &amp;lt; ActiveRecord::Base

  named_scope :order_by_name, :order =&amp;gt; 'name desc'

  def self.lab
    User.order_by_name.find(:all, :order =&amp;gt; 'id desc')  
    #=&amp;gt; SELECT * FROM &quot;users&quot; ORDER BY id desc, name desc
  end
end


class BigUser &amp;lt; User

  default_scope :order =&amp;gt; 'id desc'

  def self.lab

    BigUser.order_by_name.find(:all, :order =&amp;gt; 'name')
    #=&amp;gt; SELECT * FROM &quot;users&quot; ORDER BY name, name desc
    
    BigUser.order_by_name
    #=&amp;gt; SELECT * FROM &quot;users&quot; ORDER BY name desc
  end

end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Current code in rails 3 master is backward compatible.&lt;/p&gt;
&lt;p&gt;However I feel the rules are too vague in 2.3.x. I like the
rules defined in rails3 where order is always concatenated. I fully
understand that fixing ticket like this one will break backward
compatibility.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-01T17:54:49+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord</tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-01T17:55:19+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">9</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>master: http://github.com/rails/rails/commit/91fec0d24d50d3b3e90c48b2501ca913544781cc
3-0-stable: http://github.com/rails/rails/commit/1c7a7545eb108b297252cf8d6835013a918aa519</body>
      <body-html>&lt;div&gt;&lt;p&gt;master: &lt;a href=
&quot;http://github.com/rails/rails/commit/91fec0d24d50d3b3e90c48b2501ca913544781cc&quot;&gt;
http://github.com/rails/rails/commit/91fec0d24d50d3b3e90c48b2501ca9...&lt;/a&gt;&lt;br&gt;
3-0-stable: &lt;a href=
&quot;http://github.com/rails/rails/commit/1c7a7545eb108b297252cf8d6835013a918aa519&quot;&gt;
http://github.com/rails/rails/commit/1c7a7545eb108b297252cf8d683501...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-05T12:16:15+01:00</created-at>
      <creator-id type="integer">40263</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5519</number>
      <permalink>order-is-reversed</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord</tag>
      <title>order is reversed</title>
      <updated-at type="datetime">2010-09-05T12:16:19+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">10</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Neeraj Singh</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5519</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>b79cdbd4984172b5e63d1e205f9eaf4d6782622b</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-09-01T17:09:17+01:00</created-at>
      <filename>5519_fix_for_edge.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">655082</id>
      <size type="integer">5961</size>
      <uploader-id type="integer">40263</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/655082/5519_fix_for_edge.diff</url>
    </attachment>
  </attachments>
</ticket>
