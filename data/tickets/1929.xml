<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-02-10T13:04:18+00:00</created-at>
  <creator-id type="integer">24895</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">1929</number>
  <permalink>configcache_classes-true-causes-missingsourcefile-error</permalink>
  <priority type="integer">1191</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag nil="true"></tag>
  <title>config.cache_classes = true causes MissingSourceFile error</title>
  <updated-at type="datetime">2009-02-27T13:53:54+00:00</updated-at>
  <user-id type="integer">83</user-id>
  <version type="integer">4</version>
  <user-name>DHH</user-name>
  <creator-name>Fredrik Bj&#246;rk</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1929</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>When I run my Rails 2.2.2 app in production mode and config.cache_classes = true, I get the following error message:

c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:40:in `load': Failed to load c:/Projects/au/app/models/member_mailer using extensions rb, treetop, tt (MissingSourceFile)
from c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:56:in `require'
from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:155:in `require'
from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:262:in `require_or_load' from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:221:in `depend_on' from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:133:in `require_dependency' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:368:in `load_application_classes' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in `each' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in `load_application_classes'
... 10 levels...
from c:/Ruby/lib/ruby/1.8/irb/init.rb:250:in `load_modules'
from c:/Ruby/lib/ruby/1.8/irb/init.rb:21:in `setup'
from c:/Ruby/lib/ruby/1.8/irb.rb:54:in `start'
from c:/Ruby/bin/irb:13

The error only occurs for my mailer (ActionMailer::Base) classes whenever cache_classes is set to true.

Any ideas what is wrong?</original-body>
  <latest-body>When I run my Rails 2.2.2 app in production mode and config.cache_classes = true, I get the following error message:

c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:40:in `load': Failed to load c:/Projects/au/app/models/member_mailer using extensions rb, treetop, tt (MissingSourceFile)
from c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:56:in `require'
from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:155:in `require'
from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:262:in `require_or_load' from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:221:in `depend_on' from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:133:in `require_dependency' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:368:in `load_application_classes' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in `each' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in `load_application_classes'
... 10 levels...
from c:/Ruby/lib/ruby/1.8/irb/init.rb:250:in `load_modules'
from c:/Ruby/lib/ruby/1.8/irb/init.rb:21:in `setup'
from c:/Ruby/lib/ruby/1.8/irb.rb:54:in `start'
from c:/Ruby/bin/irb:13

The error only occurs for my mailer (ActionMailer::Base) classes whenever cache_classes is set to true.

Any ideas what is wrong?</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;When I run my Rails 2.2.2 app in production mode and
config.cache_classes = true, I get the following error message:&lt;/p&gt;
&lt;p&gt;
c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:40:in
&lt;code&gt;load': Failed to load c:/Projects/au/app/models/member_mailer
using extensions rb, treetop, tt (MissingSourceFile) from
c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:56:in&lt;/code&gt;require'
from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:155:in
&lt;code&gt;require' from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:262:in&lt;/code&gt;require_or_load'
from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:221:in
&lt;code&gt;depend_on' from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:133:in&lt;/code&gt;require_dependency'
from
C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:368:in
&lt;code&gt;load_application_classes' from
C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in&lt;/code&gt;each'
from
C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in
&lt;code&gt;load_application_classes' ... 10 levels... from
c:/Ruby/lib/ruby/1.8/irb/init.rb:250:in&lt;/code&gt;load_modules' from
c:/Ruby/lib/ruby/1.8/irb/init.rb:21:in &lt;code&gt;setup' from
c:/Ruby/lib/ruby/1.8/irb.rb:54:in&lt;/code&gt;start' from
c:/Ruby/bin/irb:13&lt;/p&gt;
&lt;p&gt;The error only occurs for my mailer (ActionMailer::Base) classes
whenever cache_classes is set to true.&lt;/p&gt;
&lt;p&gt;Any ideas what is wrong?&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>When I run my Rails 2.2.2 app in production mode and config.cache_classes = true, I get the following error message:

c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:40:in `load': Failed to load c:/Projects/au/app/models/member_mailer using extensions rb, treetop, tt (MissingSourceFile)
from c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:56:in `require'
from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:155:in `require'
from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:262:in `require_or_load' from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:221:in `depend_on' from C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:133:in `require_dependency' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:368:in `load_application_classes' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in `each' from C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in `load_application_classes'
... 10 levels...
from c:/Ruby/lib/ruby/1.8/irb/init.rb:250:in `load_modules'
from c:/Ruby/lib/ruby/1.8/irb/init.rb:21:in `setup'
from c:/Ruby/lib/ruby/1.8/irb.rb:54:in `start'
from c:/Ruby/bin/irb:13

The error only occurs for my mailer (ActionMailer::Base) classes whenever cache_classes is set to true.

Any ideas what is wrong?</body>
      <body-html>&lt;div&gt;&lt;p&gt;When I run my Rails 2.2.2 app in production mode and
config.cache_classes = true, I get the following error message:&lt;/p&gt;
&lt;p&gt;
c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:40:in
&lt;code&gt;load': Failed to load c:/Projects/au/app/models/member_mailer
using extensions rb, treetop, tt (MissingSourceFile) from
c:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.3/lib/polyglot.rb:56:in&lt;/code&gt;require'
from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:155:in
&lt;code&gt;require' from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:262:in&lt;/code&gt;require_or_load'
from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:221:in
&lt;code&gt;depend_on' from
C:/Projects/avatarsunited.com_new/vendor/rails/activesupport/lib/active_support/dependencies.rb:133:in&lt;/code&gt;require_dependency'
from
C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:368:in
&lt;code&gt;load_application_classes' from
C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in&lt;/code&gt;each'
from
C:/Projects/avatarsunited.com_new/config/../vendor/rails/railties/lib/initializer.rb:367:in
&lt;code&gt;load_application_classes' ... 10 levels... from
c:/Ruby/lib/ruby/1.8/irb/init.rb:250:in&lt;/code&gt;load_modules' from
c:/Ruby/lib/ruby/1.8/irb/init.rb:21:in &lt;code&gt;setup' from
c:/Ruby/lib/ruby/1.8/irb.rb:54:in&lt;/code&gt;start' from
c:/Ruby/bin/irb:13&lt;/p&gt;
&lt;p&gt;The error only occurs for my mailer (ActionMailer::Base) classes
whenever cache_classes is set to true.&lt;/p&gt;
&lt;p&gt;Any ideas what is wrong?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-10T13:04:18+00:00</created-at>
      <creator-id type="integer">24895</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1929</number>
      <permalink>configcache_classes-true-causes-missingsourcefile-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>config.cache_classes = true causes MissingSourceFile error</title>
      <updated-at type="datetime">2009-02-10T13:04:21+00:00</updated-at>
      <user-id type="integer">24895</user-id>
      <version type="integer">1</version>
      <user-name>Fredrik Bj&#246;rk</user-name>
      <creator-name>Fredrik Bj&#246;rk</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1929</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Probably some weird conflicting setup between rails and polyglot.  Both swap out Kernel#require (rails does it for loading per request, and polyglot does it for .treetop files).

I found polyglot quite buggy in the past, so I'd look for issues there.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Probably some weird conflicting setup between rails and
polyglot. Both swap out Kernel#require (rails does it for loading
per request, and polyglot does it for .treetop files).&lt;/p&gt;
&lt;p&gt;I found polyglot quite buggy in the past, so I'd look for issues
there.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-11T08:04:25+00:00</created-at>
      <creator-id type="integer">24895</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1929</number>
      <permalink>configcache_classes-true-causes-missingsourcefile-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>config.cache_classes = true causes MissingSourceFile error</title>
      <updated-at type="datetime">2009-02-11T08:04:26+00:00</updated-at>
      <user-id type="integer">13817</user-id>
      <version type="integer">2</version>
      <user-name>Scott Taylor</user-name>
      <creator-name>Fredrik Bj&#246;rk</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1929</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>As a work around just require actionmailer and your ActionMailer class in environment.rb

This will load your ActionMailer class before polyglot tries to require it. 

http://gist.github.com/69116</body>
      <body-html>&lt;div&gt;&lt;p&gt;As a work around just require actionmailer and your ActionMailer
class in environment.rb&lt;/p&gt;
&lt;p&gt;This will load your ActionMailer class before polyglot tries to
require it.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://gist.github.com/69116&quot;&gt;http://gist.github.com/69116&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-23T19:17:21+00:00</created-at>
      <creator-id type="integer">24895</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1929</number>
      <permalink>configcache_classes-true-causes-missingsourcefile-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>config.cache_classes = true causes MissingSourceFile error</title>
      <updated-at type="datetime">2009-02-23T19:17:26+00:00</updated-at>
      <user-id type="integer">22192</user-id>
      <version type="integer">3</version>
      <user-name>Tyler Montgomery</user-name>
      <creator-name>Fredrik Bj&#246;rk</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1929</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Seems to be related to polygot. Please do raise it over there.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Seems to be related to polygot. Please do raise it over
there.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-02-27T13:53:51+00:00</created-at>
      <creator-id type="integer">24895</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1929</number>
      <permalink>configcache_classes-true-causes-missingsourcefile-error</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>config.cache_classes = true causes MissingSourceFile error</title>
      <updated-at type="datetime">2009-02-27T13:53:54+00:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">4</version>
      <user-name>DHH</user-name>
      <creator-name>Fredrik Bj&#246;rk</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1929</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
