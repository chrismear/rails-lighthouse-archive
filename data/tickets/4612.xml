<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">15316</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-08T12:15:59+00:00</created-at>
  <creator-id type="integer">40272</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">4612</number>
  <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
  <priority type="integer">1</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activerecord bugmash sqlite3</tag>
  <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
  <updated-at type="datetime">2011-02-08T12:15:59+00:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">15</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>Santiago Pastorino</creator-name>
  <assigned-user-name>Aaron Patterson</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>High</priority-name>
  <original-body>To show some of them ...

&lt;pre&gt;&lt;code&gt;1041) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:199:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1042) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:224:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1043) Error:
test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Array was given.
    test/cases/transaction_callbacks_test.rb:125:in `test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

2175 tests, 3968 assertions, 0 failures, 1043 errors, 0 skips

Test run options: --seed 49357
rake aborted!
Command failed with status (1): [/home/santiago/.rvm/rubies/ruby-1.9.2-head...]&lt;/code&gt;&lt;/pre&gt;</original-body>
  <latest-body>To show some of them ...

&lt;pre&gt;&lt;code&gt;1041) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:199:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1042) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:224:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1043) Error:
test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Array was given.
    test/cases/transaction_callbacks_test.rb:125:in `test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

2175 tests, 3968 assertions, 0 failures, 1043 errors, 0 skips

Test run options: --seed 49357
rake aborted!
Command failed with status (1): [/home/santiago/.rvm/rubies/ruby-1.9.2-head...]&lt;/code&gt;&lt;/pre&gt;</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;To show some of them ...&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;1041) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:199:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1042) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:224:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1043) Error:
test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Array was given.
    test/cases/transaction_callbacks_test.rb:125:in `test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

2175 tests, 3968 assertions, 0 failures, 1043 errors, 0 skips

Test run options: --seed 49357
rake aborted!
Command failed with status (1): [/home/santiago/.rvm/rubies/ruby-1.9.2-head...]&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>To show some of them ...

&lt;pre&gt;&lt;code&gt;1041) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:199:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1042) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:224:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1043) Error:
test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Array was given.
    test/cases/transaction_callbacks_test.rb:125:in `test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

2175 tests, 3968 assertions, 0 failures, 1043 errors, 0 skips

Test run options: --seed 49357
rake aborted!
Command failed with status (1): [/home/santiago/.rvm/rubies/ruby-1.9.2-head...]&lt;/code&gt;&lt;/pre&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;To show some of them ...&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;1041) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:199:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1042) Error:
test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Fixnum was given.
    test/cases/transaction_callbacks_test.rb:224:in `test_only_call_after_rollback_on_records_rolled_back_to_a_savepoint_when_release_savepoint_fails'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1043) Error:
test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record(TransactionCallbacksTest):
ArgumentError: assertion message must be String or Proc, but Array was given.
    test/cases/transaction_callbacks_test.rb:125:in `test_only_call_after_rollback_on_update_after_transaction_rollsback_for_existing_record'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:26:in `run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:413:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

2175 tests, 3968 assertions, 0 failures, 1043 errors, 0 skips

Test run options: --seed 49357
rake aborted!
Command failed with status (1): [/home/santiago/.rvm/rubies/ruby-1.9.2-head...]&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T06:00:20+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-16T06:00:24+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">1</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Verified.

In a clean installation of ruby-1.9.2-head with rvm in rails edge</body>
      <body-html>&lt;div&gt;&lt;p&gt;Verified.&lt;/p&gt;
&lt;p&gt;In a clean installation of ruby-1.9.2-head with rvm in rails
edge&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T15:32:31+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-16T15:32:35+01:00</updated-at>
      <user-id type="integer">48525</user-id>
      <version type="integer">2</version>
      <user-name>PacoGuzman</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've found some not correct uses of assert and I changed them to assert_select. But this break the tests, I think this test not broken well before

I've attached the tests rewrite

I don't know how to proceed with this, any suggestions?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've found some not correct uses of assert and I changed them to
assert_select. But this break the tests, I think this test not
broken well before&lt;/p&gt;
&lt;p&gt;I've attached the tests rewrite&lt;/p&gt;
&lt;p&gt;I don't know how to proceed with this, any suggestions?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T16:27:19+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-16T16:27:23+01:00</updated-at>
      <user-id type="integer">48525</user-id>
      <version type="integer">3</version>
      <user-name>PacoGuzman</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Excuse me. What I wanted to say is that those tests not worked well before</body>
      <body-html>&lt;div&gt;&lt;p&gt;Excuse me. What I wanted to say is that those tests not worked
well before&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T16:28:17+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-16T16:28:19+01:00</updated-at>
      <user-id type="integer">48525</user-id>
      <version type="integer">4</version>
      <user-name>PacoGuzman</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Verified

I think we need a way to break up those tests (maybe filewise?) so that individuals can work on them without tripping each other.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Verified&lt;/p&gt;
&lt;p&gt;I think we need a way to break up those tests (maybe filewise?)
so that individuals can work on them without tripping each
other.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-17T01:26:37+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-17T01:26:39+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">5</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Paco, thanks for the test fixes (even if they now fail!)

Please upload a diff using `git format-patch` so we can credit you as patch author.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Paco, thanks for the test fixes (even if they now fail!)&lt;/p&gt;
&lt;p&gt;Please upload a diff using &lt;code&gt;git format-patch&lt;/code&gt; so we
can credit you as patch author.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-17T01:50:14+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-17T01:50:19+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">6</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Jeremy, I've attached a new patch using git format-patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jeremy, I've attached a new patch using git format-patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-17T07:24:45+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-17T07:24:49+01:00</updated-at>
      <user-id type="integer">48525</user-id>
      <version type="integer">7</version>
      <user-name>PacoGuzman</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [c2fb8afaa0e6a8f3d1782c97790a4bea8d4f0b0b]) Use assert_equal correctly in transaction callback tests (exposing some of them as broken)

[#4612]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/c2fb8afaa0e6a8f3d1782c97790a4bea8d4f0b0b</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/c2fb8afaa0e6a8f3d1782c97790a4bea8d4f0b0b&quot;
title=
&quot;Changeset [c2fb8afaa0e6a8f3d1782c97790a4bea8d4f0b0b]&quot;&gt;[c2fb8afaa0e6a8f3d1782c97790a4bea8d4f0b0b]&lt;/a&gt;)
Use assert_equal correctly in transaction callback tests (exposing
some of them as broken)&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/4612&quot; title=
&quot;Ticket #4612&quot;&gt;#4612&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a href=
&quot;mailto:jeremy@bitsweat.net&quot;&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/c2fb8afaa0e6a8f3d1782c97790a4bea8d4f0b0b&quot;&gt;
http://github.com/rails/rails/commit/c2fb8afaa0e6a8f3d1782c97790a4b...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-17T15:58:59+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-17T15:59:01+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">8</version>
      <user-name>Repository</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Sorry guys, i didn't realize that i paste the wrong part of the output ... here are two of the hard failures ...

&lt;pre&gt;&lt;code&gt;1034) Error:
test_sane_find_with_scoped_lock(PessimisticLockingTest):
SQLite3::SQLException: cannot rollback - no transaction is active
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `close'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `ensure in prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:125:in `execute'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:512:in `rollback'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `block in rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:176:in `rescue in transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:162:in `transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:512:in `block (2 levels) in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:109:in `disable_referential_integrity'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:503:in `block in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/benchmarkable.rb:55:in `silence'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:502:in `create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:964:in `load_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:939:in `setup_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:409:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1035) Error:
test_sane_lock_method(PessimisticLockingTest):
SQLite3::SQLException: cannot rollback - no transaction is active
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `close'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `ensure in prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:125:in `execute'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:512:in `rollback'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `block in rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:176:in `rescue in transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:162:in `transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:512:in `block (2 levels) in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:109:in `disable_referential_integrity'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:503:in `block in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/benchmarkable.rb:55:in `silence'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:502:in `create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:964:in `load_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:939:in `setup_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:409:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'&lt;/code&gt;&lt;/pre&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry guys, i didn't realize that i paste the wrong part of the
output ... here are two of the hard failures ...&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;1034) Error:
test_sane_find_with_scoped_lock(PessimisticLockingTest):
SQLite3::SQLException: cannot rollback - no transaction is active
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `close'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `ensure in prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:125:in `execute'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:512:in `rollback'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `block in rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:176:in `rescue in transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:162:in `transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:512:in `block (2 levels) in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:109:in `disable_referential_integrity'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:503:in `block in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/benchmarkable.rb:55:in `silence'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:502:in `create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:964:in `load_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:939:in `setup_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:409:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'

1035) Error:
test_sane_lock_method(PessimisticLockingTest):
SQLite3::SQLException: cannot rollback - no transaction is active
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `close'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `ensure in prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:89:in `prepare'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:125:in `execute'
    /home/santiago/.rvm/gems/ruby-1.9.2-head/gems/sqlite3-ruby-1.3.0.beta.2/lib/sqlite3/database.rb:512:in `rollback'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `block in rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:390:in `catch_schema_changes'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:183:in `rollback_db_transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:176:in `rescue in transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:162:in `transaction'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:512:in `block (2 levels) in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:109:in `disable_referential_integrity'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:503:in `block in create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/benchmarkable.rb:55:in `silence'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:502:in `create_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:964:in `load_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activerecord/lib/active_record/fixtures.rb:939:in `setup_fixtures'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/callbacks.rb:409:in `_run_setup_callbacks'
    /home/santiago/Documentos/WyeWorks/Proys/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-17T16:34:23+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-17T16:34:25+01:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">9</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Note that Rails is using sqlite3-ruby-1.3.0.beta.2 I think it's beta.2 that's causing problems because that cannot rollback error is pretty common.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Note that Rails is using sqlite3-ruby-1.3.0.beta.2 I think it's
beta.2 that's causing problems because that cannot rollback error
is pretty common.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-19T01:58:22+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-19T01:58:24+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">10</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Hi Rohit, 

Santiago Pastorino detected this error when Rails edge were using sqlite3-ruby-1.3.0.beta.1</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Rohit,&lt;/p&gt;
&lt;p&gt;Santiago Pastorino detected this error when Rails edge were
using sqlite3-ruby-1.3.0.beta.1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-19T07:06:13+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-19T07:06:15+01:00</updated-at>
      <user-id type="integer">48525</user-id>
      <version type="integer">11</version>
      <user-name>PacoGuzman</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>PacoGuzman, Santiago is it possible that the beta version of sqlite3 is causing this problem? Maybe something to do with transactions or rollbacks has changed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;PacoGuzman, Santiago is it possible that the beta version of
sqlite3 is causing this problem? Maybe something to do with
transactions or rollbacks has changed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-19T08:48:15+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-05-19T08:48:17+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">12</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I've attached a patch that fixes it.  The problem is that rails stores &quot;binary&quot; columns in sqlite3 as UTF-8 columns.  It needs to force encoding the binary columns back to ascii-8bit before returning them.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've attached a patch that fixes it. The problem is that rails
stores &quot;binary&quot; columns in sqlite3 as UTF-8 columns. It needs to
force encoding the binary columns back to ascii-8bit before
returning them.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-08T15:26:47+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-06-08T15:26:58+01:00</updated-at>
      <user-id type="integer">15316</user-id>
      <version type="integer">13</version>
      <user-name>Aaron Patterson</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [eb69721c9bf2bd0f8957a231ecc91080b0645b84]) forcing encoding on 1.9 when dealing with &quot;binary&quot; columns [#4612 state:resolved]

Signed-off-by: wycats &lt;wycats@gmail.com&gt;
http://github.com/rails/rails/commit/eb69721c9bf2bd0f8957a231ecc91080b0645b84</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/eb69721c9bf2bd0f8957a231ecc91080b0645b84&quot;
title=
&quot;Changeset [eb69721c9bf2bd0f8957a231ecc91080b0645b84]&quot;&gt;[eb69721c9bf2bd0f8957a231ecc91080b0645b84]&lt;/a&gt;)
forcing encoding on 1.9 when dealing with &quot;binary&quot; columns
[&lt;a href=&quot;/projects/8994/tickets/4612&quot; title=
&quot;Ticket #4612&quot;&gt;#4612&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: wycats &lt;a&gt;wycats@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/eb69721c9bf2bd0f8957a231ecc91080b0645b84&quot;&gt;
http://github.com/rails/rails/commit/eb69721c9bf2bd0f8957a231ecc910...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-08T19:33:44+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-06-08T19:33:50+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">14</version>
      <user-name>Repository</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:54+01:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">1</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2010-10-15T23:01:54+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">15</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>High</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>thank you very much......&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/&quot;&gt;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f86.html&quot;&gt;&#1605;&#1603;&#1610;&#1575;&#1580;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&#1575;&#1586;&#1610;&#1575;&#1569;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&#1601;&#1587;&#1575;&#1578;&#1610;&#1606;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f17.html&quot;&gt;&#1585;&#1587;&#1575;&#1574;&#1604; 
- &#1605;&#1587;&#1580;&#1575;&#1578; - &#1608;&#1587;&#1575;&#1574;&#1591;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f18.html&quot;&gt;&#1578;&#1608;&#1576;&#1610;&#1603;&#1575;&#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;&#1608;&#1592;&#1575;&#1574;&#1601;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;jobs&lt;/a&gt; &lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;&#1576;&#1585;&#1608;&#1603;&#1587;&#1610;&lt;/a&gt; &lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;proxy&lt;/a&gt;&lt;a href=&quot;http://forum.line-sport.tv/&quot;&gt;&#1604;&#1575;&#1610;&#1606; &#1587;&#1576;&#1608;&#1585;&#1578;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;thank you very much......&lt;span class=
&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=
&quot;http://www.tran33m.com/vb/&quot;&gt;&amp;#1605;&amp;#1606;&amp;#1578;&amp;#1583;&amp;#1610;&amp;#1575;&amp;#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f86.html&quot;&gt;&amp;#1605;&amp;#1603;&amp;#1610;&amp;#1575;&amp;#1580;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&amp;#1575;&amp;#1586;&amp;#1610;&amp;#1575;&amp;#1569;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&amp;#1601;&amp;#1587;&amp;#1575;&amp;#1578;&amp;#1610;&amp;#1606;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f17.html&quot;&gt;&amp;#1585;&amp;#1587;&amp;#1575;&amp;#1574;&amp;#1604;&lt;br&gt;
- &amp;#1605;&amp;#1587;&amp;#1580;&amp;#1575;&amp;#1578; -
&amp;#1608;&amp;#1587;&amp;#1575;&amp;#1574;&amp;#1591;&lt;/a&gt;&lt;span class=
&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=
&quot;http://www.tran33m.com/vb/f18.html&quot;&gt;&amp;#1578;&amp;#1608;&amp;#1576;&amp;#1610;&amp;#1603;&amp;#1575;&amp;#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;&amp;#1608;&amp;#1592;&amp;#1575;&amp;#1574;&amp;#1601;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;jobs&lt;/a&gt;
&lt;a href=
&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;&amp;#1576;&amp;#1585;&amp;#1608;&amp;#1603;&amp;#1587;&amp;#1610;&lt;/a&gt;
&lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;proxy&lt;/a&gt;&lt;a href=
&quot;http://forum.line-sport.tv/&quot;&gt;&amp;#1604;&amp;#1575;&amp;#1610;&amp;#1606;
&amp;#1587;&amp;#1576;&amp;#1608;&amp;#1585;&amp;#1578;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-08T11:10:07+00:00</created-at>
      <creator-id type="integer">40272</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">4612</number>
      <permalink>thousands-of-errors-on-ar-with-ruby-sqlite3-and-ruby-192</permalink>
      <priority type="integer">1</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord bugmash sqlite3</tag>
      <title>Thousands of errors on AR with ruby-sqlite3 and ruby 1.9.2</title>
      <updated-at type="datetime">2011-02-08T12:15:59+00:00</updated-at>
      <user-id type="integer">136126</user-id>
      <version type="integer">16</version>
      <user-name>alasiri1</user-name>
      <creator-name>Santiago Pastorino</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4612</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>High</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>9c156e5b3ba60990947016d3b89d55c94fb91471</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-16T16:27:19+01:00</created-at>
      <filename>use_assert_equal_correctly.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">522902</id>
      <size type="integer">4583</size>
      <uploader-id type="integer">48525</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/522902/use_assert_equal_correctly.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>08634335b687220ec7c1ec60e99e7254d54d87f5</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-17T07:24:45+01:00</created-at>
      <filename>use_assert_equal_correctly_break_tests.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">523176</id>
      <size type="integer">5241</size>
      <uploader-id type="integer">48525</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/523176/use_assert_equal_correctly_break_tests.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>0823309cd445b90faf9747751c9ee796ea2584da</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-06-08T15:26:47+01:00</created-at>
      <filename>your-patch-file.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">550925</id>
      <size type="integer">1083</size>
      <uploader-id type="integer">15316</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/550925/your-patch-file.diff</url>
    </attachment>
  </attachments>
</ticket>
