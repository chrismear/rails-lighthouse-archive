<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">141</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-21T14:04:59+00:00</created-at>
  <creator-id type="integer">8407</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">951</number>
  <permalink>multibyte-revisited</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>multibyte patch</tag>
  <title>Multibyte revisited</title>
  <updated-at type="datetime">2011-02-21T14:04:59+00:00</updated-at>
  <user-id type="integer">141</user-id>
  <version type="integer">15</version>
  <user-name>Michael Koziarski</user-name>
  <creator-name>Manfred Stienstra</creator-name>
  <assigned-user-name>Michael Koziarski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
  <priority-name nil="true"></priority-name>
  <original-body>Multibyte Revisited is an attempt to clean up the current implementation of ActiveSupport::Multibyte and make it 
compatible with Ruby 1.9.

http://github.com/Manfred/rails/tree/multibyte-revisited</original-body>
  <latest-body>Multibyte Revisited is an attempt to clean up the current implementation of ActiveSupport::Multibyte and make it 
compatible with Ruby 1.9.

http://github.com/Manfred/rails/tree/multibyte-revisited</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Multibyte Revisited is an attempt to clean up the current
implementation of ActiveSupport::Multibyte and make it compatible
with Ruby 1.9.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/Manfred/rails/tree/multibyte-revisited&quot;&gt;http://github.com/Manfred/rails/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Multibyte Revisited is an attempt to clean up the current implementation of ActiveSupport::Multibyte and make it 
compatible with Ruby 1.9.

http://github.com/Manfred/rails/tree/multibyte-revisited</body>
      <body-html>&lt;div&gt;&lt;p&gt;Multibyte Revisited is an attempt to clean up the current
implementation of ActiveSupport::Multibyte and make it compatible
with Ruby 1.9.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/Manfred/rails/tree/multibyte-revisited&quot;&gt;http://github.com/Manfred/rails/...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-01T14:59:21+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-01T14:59:21+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">1</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Could you write up the changes in a little more detail.  We also need to think about how we handle the migration for people using chars to .mb_chars, and which release streams need it</body>
      <body-html>&lt;div&gt;&lt;p&gt;Could you write up the changes in a little more detail. We also
need to think about how we handle the migration for people using
chars to .mb_chars, and which release streams need it&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-03T15:27:14+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited-2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-03T15:27:14+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">2</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The most significant change in the API is the change from String#chars to String#mb_chars. Because Ruby 1.8.7 and Ruby 1.9 use String#chars as an iterator over the characters in a string we can no longer use that method for our purposes.

All uses of String#chars in other parts of Rails have been changed to use the new method. In 1.8.6 String#chars is aliased to String#mb_chars.

|| &lt;= 1.8.6 | 1.8.7 | 1.9 |
| String#chars | multibyte accessor | iterator | iterator |
| String#mb_chars| multibyte accessor | multibyte accessor | multibyte accessor |

The other big change is that a level of indirection has been removed. In the old version you would define a handler and the Chars proxy class would delegate methods to the handler.

@@@
String#chars --&gt; ActiveSupport::Multibyte::Chars --&gt; ActiveSupport::Multibyte::Handlers::UTF8Handler
@@@

In the new version methods are called directly on the proxy class.

@@@
String#mb_chars --&gt; ActiveSupport::Multibyte::Chars
@@@

Of course you can still define your own proxy class if you want to add support for another encoding:

@@@
class UTF32Chars &lt; ActiveSupport::Multibyte::Chars
  def size
    @wrapped_string.length / 4
  end
end

ActiveSupport::Multibyte.proxy_class = UTF32Chars
@@@

This change means less code and less inderection during execution. Because of this the implementation is faster than the old implementation. The speedup varies somewhere between zero and 25% depending on the method.

We can choose to deprecate the call to String#chars on 1.8.6, but there is no really pressing reason why people should stop using it. When they decide to run their application on 1.8.7 or 1.9 this is probably going to be a concious decision anyway and other stuff will break because the Ruby API changed. I'm not sure if we need to do anything besides warn people about it.

@@@
&gt; &quot;Hello&quot;.chars.upcase
NoMethodError: undefined method `upcase' for #&lt;Enumerator:0x3ab600&gt;
  from (irb):1
  from /opt/ruby19/bin/irb:12:in `&lt;main&gt;'
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;The most significant change in the API is the change from
String#chars to String#mb_chars. Because Ruby 1.8.7 and Ruby 1.9
use String#chars as an iterator over the characters in a string we
can no longer use that method for our purposes.&lt;/p&gt;
&lt;p&gt;All uses of String#chars in other parts of Rails have been
changed to use the new method. In 1.8.6 String#chars is aliased to
String#mb_chars.&lt;/p&gt;
&lt;p&gt;|| &amp;lt;= 1.8.6 | 1.8.7 | 1.9 | | String#chars | multibyte
accessor | iterator | iterator | | String#mb_chars| multibyte
accessor | multibyte accessor | multibyte accessor |&lt;/p&gt;
&lt;p&gt;The other big change is that a level of indirection has been
removed. In the old version you would define a handler and the
Chars proxy class would delegate methods to the handler.&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
String#chars --&amp;gt; ActiveSupport::Multibyte::Chars --&amp;gt; ActiveSupport::Multibyte::Handlers::UTF8Handler
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the new version methods are called directly on the proxy
class.&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
String#mb_chars --&amp;gt; ActiveSupport::Multibyte::Chars
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Of course you can still define your own proxy class if you want
to add support for another encoding:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
class UTF32Chars &amp;lt; ActiveSupport::Multibyte::Chars
  def size
    @wrapped_string.length / 4
  end
end

ActiveSupport::Multibyte.proxy_class = UTF32Chars
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This change means less code and less inderection during
execution. Because of this the implementation is faster than the
old implementation. The speedup varies somewhere between zero and
25% depending on the method.&lt;/p&gt;
&lt;p&gt;We can choose to deprecate the call to String#chars on 1.8.6,
but there is no really pressing reason why people should stop using
it. When they decide to run their application on 1.8.7 or 1.9 this
is probably going to be a concious decision anyway and other stuff
will break because the Ruby API changed. I'm not sure if we need to
do anything besides warn people about it.&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
&amp;gt; &amp;quot;Hello&amp;quot;.chars.upcase
NoMethodError: undefined method `upcase' for #&amp;lt;Enumerator:0x3ab600&amp;gt;
  from (irb):1
  from /opt/ruby19/bin/irb:12:in `&amp;lt;main&amp;gt;'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-04T18:01:39+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited-3</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-04T18:01:39+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">3</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This seems good to me,  there's a bunch of commented out code in the parsing code.  

As for handling the deprecation of #chars.  I think that for 1.8.6 and earlier we define a #chars method which is deprecated and delegates to mb_chars, for 1.8.7 and up we just define the .mb_chars method.

Am I missing anything?</body>
      <body-html>&lt;div&gt;&lt;p&gt;This seems good to me, there's a bunch of commented out code in
the parsing code.&lt;/p&gt;
&lt;p&gt;As for handling the deprecation of #chars. I think that for
1.8.6 and earlier we define a #chars method which is deprecated and
delegates to mb_chars, for 1.8.7 and up we just define the
.mb_chars method.&lt;/p&gt;
&lt;p&gt;Am I missing anything?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-11T14:53:15+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-11T14:53:18+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">4</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The commented lines in the parsing code are for Unicode character properties we don't use. It's also in the current parse code. I can remove it if it really bothers you?

I'm fine with deprecating #chars. I guess it'll save people some trouble if they move over to Ruby 1.9.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The commented lines in the parsing code are for Unicode
character properties we don't use. It's also in the current parse
code. I can remove it if it really bothers you?&lt;/p&gt;
&lt;p&gt;I'm fine with deprecating #chars. I guess it'll save people some
trouble if they move over to Ruby 1.9.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-11T15:20:21+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-11T15:20:28+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">5</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Nah, I don't mind about the commented code, was just wondering if it was deliberate or not.   That stuff's only used when generating the tables anyway, right?

Ironically we chose chars so people could easily move to 1.9...  So can you update with the deprecation behaviour, then I think we're probably good to go.

Jeremy, any thoughts?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Nah, I don't mind about the commented code, was just wondering
if it was deliberate or not. That stuff's only used when generating
the tables anyway, right?&lt;/p&gt;
&lt;p&gt;Ironically we chose chars so people could easily move to 1.9...
So can you update with the deprecation behaviour, then I think
we're probably good to go.&lt;/p&gt;
&lt;p&gt;Jeremy, any thoughts?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-11T15:22:57+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-11T15:23:04+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">6</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yes, the parsing code is only used to generate the unicode tables.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yes, the parsing code is only used to generate the unicode
tables.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-11T15:31:12+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-11T15:31:16+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">7</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Updated patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-11T23:36:49+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-11T23:36:56+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">8</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I don't see any tests which assert_deprecated 'mb_chars' { &quot;something&quot;.chars}

Apart from that this is looking great.  Thanks again for all your awesome work on this stuff.

Feel free to push this to a rebased branch on github if it's easier for you.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I don't see any tests which assert_deprecated 'mb_chars' {
&quot;something&quot;.chars}&lt;/p&gt;
&lt;p&gt;Apart from that this is looking great. Thanks again for all your
awesome work on this stuff.&lt;/p&gt;
&lt;p&gt;Feel free to push this to a rebased branch on github if it's
easier for you.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-12T14:36:35+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-12T14:36:42+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">9</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hmm, I must have messed up the last merge. I'll fix it this weekend.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hmm, I must have messed up the last merge. I'll fix it this
weekend.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-12T14:46:27+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-12T14:46:34+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">10</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Michael, I pushed my changes to [Manfred/rails:multibyte-revisited](http://github.com/Manfred/rails/tree/multibyte-revisited).

Do you guys have any idea where this fits into the Rails timeline? Is this 2.1 or 2.2 material?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Michael, I pushed my changes to &lt;a href=&quot;http://github.com/Manfred/rails/tree/multibyte-revisited&quot;&gt;Manfred/rails:multibyte-revisited&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Do you guys have any idea where this fits into the Rails
timeline? Is this 2.1 or 2.2 material?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-21T17:06:50+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: multibyte patch
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-21T17:06:51+01:00</updated-at>
      <user-id type="integer">8407</user-id>
      <version type="integer">11</version>
      <user-name>Manfred Stienstra</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I think we should probably merge this for 2.2 as it helps with the 1.9 / 1.8.7 compatibility stuff.

Any objections jeremy?  Otherwise I'll get to it this week</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think we should probably merge this for 2.2 as it helps with
the 1.9 / 1.8.7 compatibility stuff.&lt;/p&gt;
&lt;p&gt;Any objections jeremy? Otherwise I'll get to it this week&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-22T07:51:21+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-22T07:51:27+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">12</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Applied and merged and all that.

Really nice work!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Applied and merged and all that.&lt;/p&gt;
&lt;p&gt;Really nice work!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-09-22T20:58:53+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-09-22T20:58:54+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">13</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>@koz : This is already resolved afaik ?</body>
      <body-html>&lt;div&gt;&lt;p&gt;@koz : This is already resolved afaik ?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-17T17:16:50+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 85
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-10-17T17:16:55+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">14</version>
      <user-name>Pratik</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>indeed</body>
      <body-html>&lt;div&gt;&lt;p&gt;indeed&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-17T17:17:24+01:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2008-10-17T17:17:26+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">15</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Replica Tag Watches sell at low prices. Buy Tag Heuer Replica Watches, Fake TAG Heuer Watches please come to our &lt;a href=&quot;http://www.replicawatchesi.com/tag-heuer-watches&quot;&gt;Replica Tag Heuer watches&lt;/a&gt;.Look no further for &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica rolex&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches uk&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/breitling-watches&quot;&gt;Replica Breitling watches&lt;/a&gt;, Swiss Replica Rolex, fake watch, and swiss replica watch.Buy Omega Watch, Omega Replicas, Alpha Omega Watches, Ladies Omega Replica Watches from our &lt;a href=&quot;http://www.replicawatchesi.com/omega-watches&quot;&gt;Replica Omega watches&lt;/a&gt; store.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Replica Tag Watches sell at low prices. Buy Tag Heuer Replica
Watches, Fake TAG Heuer Watches please come to our &lt;a href=
&quot;http://www.replicawatchesi.com/tag-heuer-watches&quot;&gt;Replica Tag
Heuer watches&lt;/a&gt;.Look no further for &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica rolex&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches uk&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/breitling-watches&quot;&gt;Replica
Breitling watches&lt;/a&gt;, Swiss Replica Rolex, fake watch, and swiss
replica watch.Buy Omega Watch, Omega Replicas, Alpha Omega Watches,
Ladies Omega Replica Watches from our &lt;a href=
&quot;http://www.replicawatchesi.com/omega-watches&quot;&gt;Replica Omega
watches&lt;/a&gt; store.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-21T14:01:44+00:00</created-at>
      <creator-id type="integer">8407</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">951</number>
      <permalink>multibyte-revisited</permalink>
      <priority type="integer">26</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>multibyte patch</tag>
      <title>Multibyte revisited</title>
      <updated-at type="datetime">2011-02-21T14:04:59+00:00</updated-at>
      <user-id type="integer">138022</user-id>
      <version type="integer">16</version>
      <user-name>benben</user-name>
      <creator-name>Manfred Stienstra</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/951</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>94c594587f5665b107bd220d1aed11a6332fb852</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-09-11T23:36:49+01:00</created-at>
      <filename>multibyte-revisited.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">45450</id>
      <size type="integer">594640</size>
      <uploader-id type="integer">8407</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/45450/multibyte-revisited.diff</url>
    </attachment>
  </attachments>
</ticket>
