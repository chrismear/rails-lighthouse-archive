<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-05-09T13:30:06+01:00</created-at>
  <creator-id type="integer">6387</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">4563</number>
  <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>action_controller bug bugmash patch rails3 responder</tag>
  <title>Patch for incorrect template choice in ActionController::Responder</title>
  <updated-at type="datetime">2010-06-20T15:09:12+01:00</updated-at>
  <user-id type="integer">89656</user-id>
  <version type="integer">8</version>
  <user-name>Rohit Arondekar</user-name>
  <creator-name>Darcy Laycock</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
  <priority-name>Low</priority-name>
  <original-body>The current head version of the bundled ActionController::Responder has a bug
that causes it to render new even if the method is put when the method is overriden.

This was caused by recent (well, Rails 3.0.0.beta3) changes that introduced 
request.request_method and it's counterparts alongside request.method, the former
being equivalent to the old version of the latter. Unfortunately, in this change
the responder didn't get updated to use the correct method (request_method_symbol
versus the incorrect method_symbol).

The attached patch fixes this and includes tests that reproduce the bug. It applies
cleanly on master as of May 9th, 2010.</original-body>
  <latest-body>The current head version of the bundled ActionController::Responder has a bug
that causes it to render new even if the method is put when the method is overriden.

This was caused by recent (well, Rails 3.0.0.beta3) changes that introduced 
request.request_method and it's counterparts alongside request.method, the former
being equivalent to the old version of the latter. Unfortunately, in this change
the responder didn't get updated to use the correct method (request_method_symbol
versus the incorrect method_symbol).

The attached patch fixes this and includes tests that reproduce the bug. It applies
cleanly on master as of May 9th, 2010.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The current head version of the bundled
ActionController::Responder has a bug&lt;br&gt;
that causes it to render new even if the method is put when the
method is overriden.&lt;/p&gt;
&lt;p&gt;This was caused by recent (well, Rails 3.0.0.beta3) changes that
introduced&lt;br&gt;
request.request_method and it's counterparts alongside
request.method, the former&lt;br&gt;
being equivalent to the old version of the latter. Unfortunately,
in this change&lt;br&gt;
the responder didn't get updated to use the correct method
(request_method_symbol&lt;br&gt;
versus the incorrect method_symbol).&lt;/p&gt;
&lt;p&gt;The attached patch fixes this and includes tests that reproduce
the bug. It applies&lt;br&gt;
cleanly on master as of May 9th, 2010.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The current head version of the bundled ActionController::Responder has a bug
that causes it to render new even if the method is put when the method is overriden.

This was caused by recent (well, Rails 3.0.0.beta3) changes that introduced 
request.request_method and it's counterparts alongside request.method, the former
being equivalent to the old version of the latter. Unfortunately, in this change
the responder didn't get updated to use the correct method (request_method_symbol
versus the incorrect method_symbol).

The attached patch fixes this and includes tests that reproduce the bug. It applies
cleanly on master as of May 9th, 2010.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The current head version of the bundled
ActionController::Responder has a bug&lt;br&gt;
that causes it to render new even if the method is put when the
method is overriden.&lt;/p&gt;
&lt;p&gt;This was caused by recent (well, Rails 3.0.0.beta3) changes that
introduced&lt;br&gt;
request.request_method and it's counterparts alongside
request.method, the former&lt;br&gt;
being equivalent to the old version of the latter. Unfortunately,
in this change&lt;br&gt;
the responder didn't get updated to use the correct method
(request_method_symbol&lt;br&gt;
versus the incorrect method_symbol).&lt;/p&gt;
&lt;p&gt;The attached patch fixes this and includes tests that reproduce
the bug. It applies&lt;br&gt;
cleanly on master as of May 9th, 2010.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-09T13:30:06+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-09T13:30:08+01:00</updated-at>
      <user-id type="integer">6387</user-id>
      <version type="integer">1</version>
      <user-name>Darcy Laycock</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-09T18:38:36+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: action_controller bug patch rails3 responder
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-09T18:38:42+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">2</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>verified

Submitting a rebased patch for current master with no changes.</body>
      <body-html>&lt;div&gt;&lt;p&gt;verified&lt;/p&gt;
&lt;p&gt;Submitting a rebased patch for current master with no
changes.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T18:54:07+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-15T18:54:09+01:00</updated-at>
      <user-id type="integer">9698</user-id>
      <version type="integer">3</version>
      <user-name>Diego Algorta</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 verified on master</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified on master&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T21:49:22+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-15T21:49:24+01:00</updated-at>
      <user-id type="integer">73206</user-id>
      <version type="integer">4</version>
      <user-name>Michal Kuklis</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1

Applies cleanly against master, verified that the test fails without the provided code that fixes the issue (and that tests pass when it is in place).</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;
&lt;p&gt;Applies cleanly against master, verified that the test fails
without the provided code that fixes the issue (and that tests pass
when it is in place).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T01:17:03+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-16T01:17:04+01:00</updated-at>
      <user-id type="integer">54225</user-id>
      <version type="integer">5</version>
      <user-name>Enrico Bianco</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I didn't notice this ticket, and created a patch too, attached. I am happy with Diego's solution, but here's an alternative for reference, with a slightly different way of testing.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I didn't notice this ticket, and created a patch too, attached.
I am happy with Diego's solution, but here's an alternative for
reference, with a slightly different way of testing.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-23T12:41:17+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-23T12:41:31+01:00</updated-at>
      <user-id type="integer">10260</user-id>
      <version type="integer">6</version>
      <user-name>Antti Tarvainen</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Looks like http://github.com/rails/rails/commit/59d1c418be47694a5b79d860bced6f9b7f11f3a8 fixes this independently so it can be ignored now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Looks like &lt;a href=
&quot;http://github.com/rails/rails/commit/59d1c418be47694a5b79d860bced6f9b7f11f3a8&quot;&gt;
http://github.com/rails/rails/commit/59d1c418be47694a5b79d860bced6f...&lt;/a&gt;
fixes this independently so it can be ignored now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-30T17:21:32+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-05-30T17:21:35+01:00</updated-at>
      <user-id type="integer">6387</user-id>
      <version type="integer">7</version>
      <user-name>Darcy Laycock</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-06-20T15:09:08+01:00</created-at>
      <creator-id type="integer">6387</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4563</number>
      <permalink>patch-for-incorrect-template-choice-in-actioncontrollerresponder</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>action_controller bug bugmash patch rails3 responder</tag>
      <title>Patch for incorrect template choice in ActionController::Responder</title>
      <updated-at type="datetime">2010-06-20T15:09:12+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">8</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Darcy Laycock</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4563</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>91d2b98fdbf28b4a8ee7a4368b8a7daba28d805d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-09T13:30:06+01:00</created-at>
      <filename>rails3-responder-fix.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">514818</id>
      <size type="integer">3061</size>
      <uploader-id type="integer">6387</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/514818/rails3-responder-fix.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>a6e818db5763902f50f294fc3e7231a29f5334c4</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-15T18:54:07+01:00</created-at>
      <filename>rails3-responder-fix-rebased.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">522649</id>
      <size type="integer">3061</size>
      <uploader-id type="integer">9698</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/522649/rails3-responder-fix-rebased.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>e05e627c881dd819efba02d24ffa8b6f2b2ce6fb</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-23T12:41:17+01:00</created-at>
      <filename>responder_with_method_override.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">531128</id>
      <size type="integer">4981</size>
      <uploader-id type="integer">10260</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/531128/responder_with_method_override.diff</url>
    </attachment>
  </attachments>
</ticket>
