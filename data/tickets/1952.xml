<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">424</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-02-12T16:10:37+00:00</created-at>
  <creator-id type="integer">20015</creator-id>
  <milestone-due-on type="datetime">2009-01-31T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">1952</number>
  <permalink>bug-using-responseheadersexpires</permalink>
  <priority type="integer">43</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag nil="true"></tag>
  <title>Bug using response.headers[&quot;expires&quot;]</title>
  <updated-at type="datetime">2009-02-17T14:26:21+00:00</updated-at>
  <user-id type="integer">20015</user-id>
  <version type="integer">5</version>
  <user-name>Joe F.</user-name>
  <creator-name>Joe F.</creator-name>
  <assigned-user-name>Joshua Peek</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1952</url>
  <priority-name nil="true"></priority-name>
  <original-body>Just upgraded our project to edge Rails and we saw an exception using response.headers[&quot;expires&quot;]. We looked at the code and found the problem. I have attached the patch. Is this actually a bug? Could we get it in before 2.3 is final?

Thanks!
Joe Fiorini</original-body>
  <latest-body>Just upgraded our project to edge Rails and we saw an exception using response.headers[&quot;expires&quot;]. We looked at the code and found the problem. I have attached the patch. Is this actually a bug? Could we get it in before 2.3 is final?

Thanks!
Joe Fiorini</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Just upgraded our project to edge Rails and we saw an exception
using response.headers[&quot;expires&quot;]. We looked at the code and found
the problem. I have attached the patch. Is this actually a bug?
Could we get it in before 2.3 is final?&lt;/p&gt;
&lt;p&gt;Thanks! Joe Fiorini&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Just upgraded our project to edge Rails and we saw an exception using response.headers[&quot;expires&quot;]. We looked at the code and found the problem. I have attached the patch. Is this actually a bug? Could we get it in before 2.3 is final?

Thanks!
Joe Fiorini</body>
      <body-html>&lt;div&gt;&lt;p&gt;Just upgraded our project to edge Rails and we saw an exception
using response.headers[&quot;expires&quot;]. We looked at the code and found
the problem. I have attached the patch. Is this actually a bug?
Could we get it in before 2.3 is final?&lt;/p&gt;
&lt;p&gt;Thanks! Joe Fiorini&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-12T16:10:38+00:00</created-at>
      <creator-id type="integer">20015</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1952</number>
      <permalink>bug-using-responseheadersexpires</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Bug using response.headers[&quot;expires&quot;]</title>
      <updated-at type="datetime">2009-02-12T16:10:44+00:00</updated-at>
      <user-id type="integer">20015</user-id>
      <version type="integer">1</version>
      <user-name>Joe F.</user-name>
      <creator-name>Joe F.</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1952</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-12T16:14:06+00:00</created-at>
      <creator-id type="integer">20015</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1952</number>
      <permalink>bug-using-responseheadersexpires</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Bug using response.headers[&quot;expires&quot;]</title>
      <updated-at type="datetime">2009-02-12T16:14:12+00:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">2</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Joe F.</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1952</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Could you please attach a unit test as well.

Actually, I think we could omit that entire method. Rack should be normalizing the header keys so it shouldn't really matter in this case.

Can you try to reproduce the error and see if removing the method altogether will fix it too?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Could you please attach a unit test as well.&lt;/p&gt;
&lt;p&gt;Actually, I think we could omit that entire method. Rack should
be normalizing the header keys so it shouldn't really matter in
this case.&lt;/p&gt;
&lt;p&gt;Can you try to reproduce the error and see if removing the
method altogether will fix it too?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-12T20:10:30+00:00</created-at>
      <creator-id type="integer">20015</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1952</number>
      <permalink>bug-using-responseheadersexpires</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Bug using response.headers[&quot;expires&quot;]</title>
      <updated-at type="datetime">2009-02-12T20:10:34+00:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">3</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Joe F.</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1952</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [0096eb1555a3e61e89ff90eddefdc28739adc618]) Removed dead convert_expires! in Response [#1952 state:resolved]

Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;
http://github.com/rails/rails/commit/0096eb1555a3e61e89ff90eddefdc28739adc618</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [0096eb1555a3e61e89ff90eddefdc28739adc618]) Removed dead
convert_expires! in Response [&lt;a href=&quot;/projects/8994/tickets/1952&quot; title=&quot;Ticket #1952&quot;&gt;#1952&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Joshua Peek &lt;a href=&quot;mailto:josh@joshpeek.com&quot;&gt;josh@joshpeek.com&lt;/a&gt; &lt;a href=&quot;http://github.com/rails/rails/commit/0096eb1555a3e61e89ff90eddefdc28739adc618&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-02-16T20:18:19+00:00</created-at>
      <creator-id type="integer">20015</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1952</number>
      <permalink>bug-using-responseheadersexpires</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Bug using response.headers[&quot;expires&quot;]</title>
      <updated-at type="datetime">2009-02-16T20:18:21+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">4</version>
      <user-name>Repository</user-name>
      <creator-name>Joe F.</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1952</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Thanks for taking care of this! Sorry I never updated my patch, this was my first submission and I wasn't sure where to put the test. Where exactly did you put the test for this? I'd like to take a look at it so I have a better idea next time.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks for taking care of this! Sorry I never updated my patch,
this was my first submission and I wasn't sure where to put the
test. Where exactly did you put the test for this? I'd like to take
a look at it so I have a better idea next time.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-02-17T14:26:17+00:00</created-at>
      <creator-id type="integer">20015</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">1952</number>
      <permalink>bug-using-responseheadersexpires</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Bug using response.headers[&quot;expires&quot;]</title>
      <updated-at type="datetime">2009-02-17T14:26:21+00:00</updated-at>
      <user-id type="integer">20015</user-id>
      <version type="integer">5</version>
      <user-name>Joe F.</user-name>
      <creator-name>Joe F.</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1952</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>6f7f3de6116f5e949c4819586248efa30993250a</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-02-12T16:10:38+00:00</created-at>
      <filename>header-expires.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">88155</id>
      <size type="integer">862</size>
      <uploader-id type="integer">20015</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/88155/header-expires.diff</url>
    </attachment>
  </attachments>
</ticket>
