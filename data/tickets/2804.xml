<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-07-21T01:46:46+01:00</created-at>
  <creator-id type="integer">50960</creator-id>
  <milestone-due-on type="datetime">2010-01-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">50064</milestone-id>
  <number type="integer">2804</number>
  <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2-3-stable master partial partial_counter render verified</tag>
  <title>Partial collection counter variable improperly named using :as</title>
  <updated-at type="datetime">2010-07-21T01:46:46+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">18</version>
  <user-name>Repository</user-name>
  <creator-name>graham (at votary)</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
  <milestone-title>2.3.6</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>This is my first bug submission, so please forgive any deviations from protocol.

It seems that the :as option doesn't affect the counter variable name when rendering a collection. Here is an example.

From a brand new 2.3.2 app...

---

@@@ ruby
# [ApplicationController#index]

&lt;% @cheesecakes = %w(strawberry chocolate graham-cracker) %&gt;
&lt;%= render :partial =&gt; &quot;item&quot;, :collection =&gt; @cheesecakes, :as =&gt; :cheesecake %&gt;

# [application/_item.html.erb]

&lt;%= &quot;#{item_counter+1} #{cheesecake}&quot; %&gt;
&lt;/br&gt;
@@@

@@@ 
[OUTPUT]

1 strawberry 
2 chocolate 
3 graham-cracker 
@@@

---

Should this &quot;item_counter&quot; not be &quot;cheesecake_counter&quot;? Instead &quot;cheesecake_counter&quot; does not exist.

@@@ trace
undefined local variable or method `cheesecake_counter'
@@@</original-body>
  <latest-body>This is my first bug submission, so please forgive any deviations from protocol.

It seems that the :as option doesn't affect the counter variable name when rendering a collection. Here is an example.

From a brand new 2.3.2 app...

---

@@@ ruby
# [ApplicationController#index]

&lt;% @cheesecakes = %w(strawberry chocolate graham-cracker) %&gt;
&lt;%= render :partial =&gt; &quot;item&quot;, :collection =&gt; @cheesecakes, :as =&gt; :cheesecake %&gt;

# [application/_item.html.erb]

&lt;%= &quot;#{item_counter+1} #{cheesecake}&quot; %&gt;
&lt;/br&gt;
@@@

@@@ 
[OUTPUT]

1 strawberry 
2 chocolate 
3 graham-cracker 
@@@

---

Should this &quot;item_counter&quot; not be &quot;cheesecake_counter&quot;? Instead &quot;cheesecake_counter&quot; does not exist.

@@@ trace
undefined local variable or method `cheesecake_counter'
@@@</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;This is my first bug submission, so please forgive any
deviations from protocol.&lt;/p&gt;
&lt;p&gt;It seems that the :as option doesn't affect the counter variable
name when rendering a collection. Here is an example.&lt;/p&gt;
&lt;p&gt;From a brand new 2.3.2 app...&lt;/p&gt;
&lt;hr&gt;

&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
# [ApplicationController#index]

&amp;lt;% @cheesecakes = %w(strawberry chocolate graham-cracker) %&amp;gt;
&amp;lt;%= render :partial =&amp;gt; &amp;quot;item&amp;quot;, :collection =&amp;gt; @cheesecakes, :as =&amp;gt; :cheesecake %&amp;gt;

# [application/_item.html.erb]

&amp;lt;%= &amp;quot;#{item_counter+1} #{cheesecake}&amp;quot; %&amp;gt;
&amp;lt;/br&amp;gt;
&lt;/code&gt;&lt;/pre&gt;


&lt;pre&gt;&lt;code&gt;
[OUTPUT]

1 strawberry 
2 chocolate 
3 graham-cracker 
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;Should this &quot;item_counter&quot; not be &quot;cheesecake_counter&quot;? Instead
&quot;cheesecake_counter&quot; does not exist.&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;trace&quot;&gt;
undefined local variable or method `cheesecake_counter'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is my first bug submission, so please forgive any deviations from protocol.

It seems that the :as option doesn't affect the counter variable name when rendering a collection. Here is an example.

From a brand new 2.3.2 app...

---

@@@ ruby
# [ApplicationController#index]

&lt;% @cheesecakes = %w(strawberry chocolate graham-cracker) %&gt;
&lt;%= render :partial =&gt; &quot;item&quot;, :collection =&gt; @cheesecakes, :as =&gt; :cheesecake %&gt;

# [application/_item.html.erb]

&lt;%= &quot;#{item_counter+1} #{cheesecake}&quot; %&gt;
&lt;/br&gt;
@@@

@@@ 
[OUTPUT]

1 strawberry 
2 chocolate 
3 graham-cracker 
@@@

---

Should this &quot;item_counter&quot; not be &quot;cheesecake_counter&quot;? Instead &quot;cheesecake_counter&quot; does not exist.

@@@ trace
undefined local variable or method `cheesecake_counter'
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is my first bug submission, so please forgive any
deviations from protocol.&lt;/p&gt;
&lt;p&gt;It seems that the :as option doesn't affect the counter variable
name when rendering a collection. Here is an example.&lt;/p&gt;
&lt;p&gt;From a brand new 2.3.2 app...&lt;/p&gt;
&lt;hr&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;# [ApplicationController#index]

&amp;lt;% @cheesecakes = %w(strawberry chocolate graham-cracker) %&amp;gt;
&amp;lt;%= render :partial =&amp;gt; &quot;item&quot;, :collection =&amp;gt; @cheesecakes, :as =&amp;gt; :cheesecake %&amp;gt;

# [application/_item.html.erb]

&amp;lt;%= &quot;#{item_counter+1} #{cheesecake}&quot; %&amp;gt;
&amp;lt;/br&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code&gt;[OUTPUT]

1 strawberry 
2 chocolate 
3 graham-cracker&lt;/code&gt;
&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;Should this &quot;item_counter&quot; not be &quot;cheesecake_counter&quot;? Instead
&quot;cheesecake_counter&quot; does not exist.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;trace&quot;&gt;undefined local variable or method `cheesecake_counter'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-16T01:13:04+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable partial partial_counter render</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2009-06-16T01:13:04+01:00</updated-at>
      <user-id type="integer">50960</user-id>
      <version type="integer">1</version>
      <user-name>graham (at votary)</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:52+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable partial partial_counter render</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-04T18:48:52+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">2</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-09T19:12:41+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable partial partial_counter render
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash partial partial_counter render</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-09T19:12:43+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">3</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Verified on master and 2-3-stable using the code snippet Graham provided.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Verified on master and 2-3-stable using the code snippet Graham
provided.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T10:49:45+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable bugmash partial partial_counter render
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T10:49:49+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">4</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've attached a patch that allows you to use `cheesecake_counter` in addition to `item_counter` in the above example for master. I'm working on a patch for 2-3-stable as we speak.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've attached a patch that allows you to use
&lt;code&gt;cheesecake_counter&lt;/code&gt; in addition to
&lt;code&gt;item_counter&lt;/code&gt; in the above example for master. I'm
working on a patch for 2-3-stable as we speak.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T12:36:26+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T12:36:28+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">5</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>And here's the patch for 2-3-stable. :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;And here's the patch for 2-3-stable. :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T13:12:35+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T13:12:36+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">6</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Sorry, was using wrong ticket numbers in my commit messages so I removed the patches. Here they are again.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry, was using wrong ticket numbers in my commit messages so I
removed the patches. Here they are again.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T13:19:12+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T13:19:14+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">7</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T13:21:05+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T13:21:07+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">8</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for this patch. I verified it against Rails master. It definitely helps in improving readability of code.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for this patch. I verified it against Rails master. It
definitely helps in improving readability of code.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T13:41:25+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable bugmash master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T13:41:26+01:00</updated-at>
      <user-id type="integer">1300</user-id>
      <version type="integer">9</version>
      <user-name>Anil Wadghule</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T17:03:12+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable bugmash master partial partial_counter render verified
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2-3-stable bugmash bugmash-review master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T17:03:14+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">10</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T18:32:52+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 71472
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>verified</state>
      <tag>2-3-stable bugmash bugmash-review master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T18:32:54+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">11</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [fa99de0bd054576336c940ca78f3d1b35b6e490e]) partial counters with :as [#2804 state:resolved]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/fa99de0bd054576336c940ca78f3d1b35b6e490e</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/fa99de0bd054576336c940ca78f3d1b35b6e490e&quot;
title=
&quot;Changeset [fa99de0bd054576336c940ca78f3d1b35b6e490e]&quot;&gt;[fa99de0bd054576336c940ca78f3d1b35b6e490e]&lt;/a&gt;)
partial counters with :as [&lt;a href=&quot;/projects/8994/tickets/2804&quot;
title=&quot;Ticket #2804&quot;&gt;#2804&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/fa99de0bd054576336c940ca78f3d1b35b6e490e&quot;&gt;
http://github.com/rails/rails/commit/fa99de0bd054576336c940ca78f3d1...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-15T18:33:11+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:state: verified
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable bugmash bugmash-review master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T18:33:13+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">12</version>
      <user-name>Repository</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [2de364636c06487faf48cbf9198bccd90a02eaf8]) partial counters with :as [#2804 state:resolved]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/2de364636c06487faf48cbf9198bccd90a02eaf8</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/2de364636c06487faf48cbf9198bccd90a02eaf8&quot;
title=
&quot;Changeset [2de364636c06487faf48cbf9198bccd90a02eaf8]&quot;&gt;[2de364636c06487faf48cbf9198bccd90a02eaf8]&lt;/a&gt;)
partial counters with :as [&lt;a href=&quot;/projects/8994/tickets/2804&quot;
title=&quot;Ticket #2804&quot;&gt;#2804&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a href=
&quot;mailto:jeremy@bitsweat.net&quot;&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/2de364636c06487faf48cbf9198bccd90a02eaf8&quot;&gt;
http://github.com/rails/rails/commit/2de364636c06487faf48cbf9198bcc...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-15T18:33:13+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable bugmash bugmash-review master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T18:33:14+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">13</version>
      <user-name>Repository</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-15T18:35:42+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable bugmash bugmash-review master partial partial_counter render verified
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T18:35:45+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">14</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Fix failing tests.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fix failing tests.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T18:44:30+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2-3-stable master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T18:44:33+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">15</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Needed to check if `as` is set before trying to create a counter for it. I&#8217;ve attached a patch. :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Needed to check if &lt;code&gt;as&lt;/code&gt; is set before trying to
create a counter for it. I&amp;#8217;ve attached a patch. :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-15T19:11:59+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2-3-stable master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T19:12:01+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">16</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [5d7ad7ba41c1c4298ad6467d63ee20e6c6acdbfd]) make sure `as` is set before trying to build an #{as}_counter. [#2804 state:resolved]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/5d7ad7ba41c1c4298ad6467d63ee20e6c6acdbfd</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/5d7ad7ba41c1c4298ad6467d63ee20e6c6acdbfd&quot;
title=
&quot;Changeset [5d7ad7ba41c1c4298ad6467d63ee20e6c6acdbfd]&quot;&gt;[5d7ad7ba41c1c4298ad6467d63ee20e6c6acdbfd]&lt;/a&gt;)
make sure &lt;code&gt;as&lt;/code&gt; is set before trying to build an
#{as}_counter. [&lt;a href=&quot;/projects/8994/tickets/2804&quot; title=
&quot;Ticket #2804&quot;&gt;#2804&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a href=
&quot;mailto:jeremy@bitsweat.net&quot;&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/5d7ad7ba41c1c4298ad6467d63ee20e6c6acdbfd&quot;&gt;
http://github.com/rails/rails/commit/5d7ad7ba41c1c4298ad6467d63ee20...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-15T19:22:48+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T19:22:48+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">17</version>
      <user-name>Repository</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [da90fe94662b338a2430e99ff0d3298059a28a51]) make sure `as` is set before trying to build an #{as}_counter. [#2804 state:resolved]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/da90fe94662b338a2430e99ff0d3298059a28a51</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/da90fe94662b338a2430e99ff0d3298059a28a51&quot;
title=
&quot;Changeset [da90fe94662b338a2430e99ff0d3298059a28a51]&quot;&gt;[da90fe94662b338a2430e99ff0d3298059a28a51]&lt;/a&gt;)
make sure &lt;code&gt;as&lt;/code&gt; is set before trying to build an
#{as}_counter. [&lt;a href=&quot;/projects/8994/tickets/2804&quot; title=
&quot;Ticket #2804&quot;&gt;#2804&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/da90fe94662b338a2430e99ff0d3298059a28a51&quot;&gt;
http://github.com/rails/rails/commit/da90fe94662b338a2430e99ff0d329...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-15T19:22:53+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-05-15T19:22:54+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">18</version>
      <user-name>Repository</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>chronometer of &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;silver jewelry wholesale&lt;/a&gt;&lt;/b&gt; first-class badge at big &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;wholesale fashion jewelry&lt;/a&gt;&lt;/b&gt; price. Care has to &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net/collection/cartier-pendant.html&quot;&gt;Cartier Pendant Jewelry&lt;/a&gt;&lt;/b&gt; stage inspirited when patience &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net/collection/christian-dior-earrings.html&quot;&gt;Christian Dior Earrings Jewelry&lt;/a&gt;&lt;/b&gt; this homologous that this &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;wholesale fashion silver jewelry&lt;/a&gt;&lt;/b&gt; Companys cast is not &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;wholesale fine jewelry&lt;/a&gt;&lt;/b&gt; rancid. This is for &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net/collection/links-of-london-bracelets.html&quot;&gt;Links of London Bracelets Jewelry&lt;/a&gt;&lt;/b&gt; when irrefutable sans pareil &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;cheap jewelry&lt;/a&gt;&lt;/b&gt; emanates from the Company, &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;fine jewelry stores&lt;/a&gt;&lt;/b&gt; the customers commit advance &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net/collection/chanel-brooches.html&quot;&gt;Chanel Brooches Jewelry&lt;/a&gt;&lt;/b&gt; their loyalty than if they finish from contrastive sources</body>
      <body-html>&lt;div&gt;&lt;p&gt;chronometer of &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net&quot;&gt;silver jewelry wholesale&lt;/a&gt;&lt;/b&gt;
first-class badge at big &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net&quot;&gt;wholesale fashion
jewelry&lt;/a&gt;&lt;/b&gt; price. Care has to &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net/collection/cartier-pendant.html&quot;&gt;Cartier
Pendant Jewelry&lt;/a&gt;&lt;/b&gt; stage inspirited when patience &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net/collection/christian-dior-earrings.html&quot;&gt;
Christian Dior Earrings Jewelry&lt;/a&gt;&lt;/b&gt; this homologous that this
&lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;wholesale fashion
silver jewelry&lt;/a&gt;&lt;/b&gt; Companys cast is not &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net&quot;&gt;wholesale fine jewelry&lt;/a&gt;&lt;/b&gt;
rancid. This is for &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net/collection/links-of-london-bracelets.html&quot;&gt;
Links of London Bracelets Jewelry&lt;/a&gt;&lt;/b&gt; when irrefutable sans
pareil &lt;b&gt;&lt;a href=&quot;http://www.finesilverjewelry.net&quot;&gt;cheap
jewelry&lt;/a&gt;&lt;/b&gt; emanates from the Company, &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net&quot;&gt;fine jewelry stores&lt;/a&gt;&lt;/b&gt; the
customers commit advance &lt;b&gt;&lt;a href=
&quot;http://www.finesilverjewelry.net/collection/chanel-brooches.html&quot;&gt;Chanel
Brooches Jewelry&lt;/a&gt;&lt;/b&gt; their loyalty than if they finish from
contrastive sources&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-19T07:18:13+01:00</created-at>
      <creator-id type="integer">50960</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2804</number>
      <permalink>partial-collection-counter-variable-improperly-named-using-as</permalink>
      <priority type="integer">1904</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable master partial partial_counter render verified</tag>
      <title>Partial collection counter variable improperly named using :as</title>
      <updated-at type="datetime">2010-07-21T01:46:46+01:00</updated-at>
      <user-id type="integer">107784</user-id>
      <version type="integer">19</version>
      <user-name>laiji</user-name>
      <creator-name>graham (at votary)</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2804</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>5898dfc155135be01fae9c3db964ed0fc5f41cc7</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-15T13:21:05+01:00</created-at>
      <filename>partial_counter_with_as_master.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">522564</id>
      <size type="integer">2635</size>
      <uploader-id type="integer">94458</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/522564/partial_counter_with_as_master.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>80eefb1e3d362955239a3cf8e04ed70925362512</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-15T13:21:05+01:00</created-at>
      <filename>partial_counter_with_as_stable.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">522565</id>
      <size type="integer">2806</size>
      <uploader-id type="integer">94458</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/522565/partial_counter_with_as_stable.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>5e4a4776ed955719a4112a97e45058b5d1edc520</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-15T19:11:59+01:00</created-at>
      <filename>as_counter_stable.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">522652</id>
      <size type="integer">1161</size>
      <uploader-id type="integer">94458</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/522652/as_counter_stable.diff</url>
    </attachment>
  </attachments>
</ticket>
