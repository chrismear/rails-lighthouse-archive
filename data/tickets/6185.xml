<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">7697</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2010-12-17T10:11:41+00:00</created-at>
  <creator-id type="integer">129362</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">6185</number>
  <permalink>webrick-serving-files-from-public-produces-routing-error-for-files-which-have-a-in-their-name</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>open</state>
  <tag nil="true"></tag>
  <title>WEBrick serving files from /public produces routing error for files which have a &quot;+&quot; in their name</title>
  <updated-at type="datetime">2011-02-09T06:37:38+00:00</updated-at>
  <user-id type="integer">7697</user-id>
  <version type="integer">4</version>
  <user-name>Andrew White</user-name>
  <creator-name>Andrew Dvorak</creator-name>
  <assigned-user-name>Andrew White</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6185</url>
  <milestone-title>3.x</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>I have the following file: public/javascripts/jq+ui.min.js

When I attempt to view the file in my browser, rails generates an &quot;Action Controller: Exception Caught; Routing Error; No route matches &quot;/javascripts/jq+ui.min.js&quot;.

When I rename the file to: public/javascripts/jq-ui.min.js, the error is resolved and the file is served.

It rails apparently dislikes a &quot;+&quot; in the filename serving from public/

I am using Rails 3.0.3 (&quot;development&quot; environment), WEBrick 1.3.1, and Ruby 1.9.2 using RVM 1.1.3 on Ubuntu 10.10.

I've not tried it, but tests by others suggest that a setup using Apache is immune to this bug.</original-body>
  <latest-body>I have the following file: public/javascripts/jq+ui.min.js

When I attempt to view the file in my browser, rails generates an &quot;Action Controller: Exception Caught; Routing Error; No route matches &quot;/javascripts/jq+ui.min.js&quot;.

When I rename the file to: public/javascripts/jq-ui.min.js, the error is resolved and the file is served.

It rails apparently dislikes a &quot;+&quot; in the filename serving from public/

I am using Rails 3.0.3 (&quot;development&quot; environment), WEBrick 1.3.1, and Ruby 1.9.2 using RVM 1.1.3 on Ubuntu 10.10.

I've not tried it, but tests by others suggest that a setup using Apache is immune to this bug.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I have the following file: public/javascripts/jq+ui.min.js&lt;/p&gt;
&lt;p&gt;When I attempt to view the file in my browser, rails generates
an &quot;Action Controller: Exception Caught; Routing Error; No route
matches &quot;/javascripts/jq+ui.min.js&quot;.&lt;/p&gt;
&lt;p&gt;When I rename the file to: public/javascripts/jq-ui.min.js, the
error is resolved and the file is served.&lt;/p&gt;
&lt;p&gt;It rails apparently dislikes a &quot;+&quot; in the filename serving from
public/&lt;/p&gt;
&lt;p&gt;I am using Rails 3.0.3 (&quot;development&quot; environment), WEBrick
1.3.1, and Ruby 1.9.2 using RVM 1.1.3 on Ubuntu 10.10.&lt;/p&gt;
&lt;p&gt;I've not tried it, but tests by others suggest that a setup
using Apache is immune to this bug.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I have the following file: public/javascripts/jq+ui.min.js

When I attempt to view the file in my browser, rails generates an &quot;Action Controller: Exception Caught; Routing Error; No route matches &quot;/javascripts/jq+ui.min.js&quot;.

When I rename the file to: public/javascripts/jq-ui.min.js, the error is resolved and the file is served.

It rails apparently dislikes a &quot;+&quot; in the filename serving from public/

I am using Rails 3.0.3 (&quot;development&quot; environment), WEBrick 1.3.1, and Ruby 1.9.2 using RVM 1.1.3 on Ubuntu 10.10.

I've not tried it, but tests by others suggest that a setup using Apache is immune to this bug.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have the following file: public/javascripts/jq+ui.min.js&lt;/p&gt;
&lt;p&gt;When I attempt to view the file in my browser, rails generates
an &quot;Action Controller: Exception Caught; Routing Error; No route
matches &quot;/javascripts/jq+ui.min.js&quot;.&lt;/p&gt;
&lt;p&gt;When I rename the file to: public/javascripts/jq-ui.min.js, the
error is resolved and the file is served.&lt;/p&gt;
&lt;p&gt;It rails apparently dislikes a &quot;+&quot; in the filename serving from
public/&lt;/p&gt;
&lt;p&gt;I am using Rails 3.0.3 (&quot;development&quot; environment), WEBrick
1.3.1, and Ruby 1.9.2 using RVM 1.1.3 on Ubuntu 10.10.&lt;/p&gt;
&lt;p&gt;I've not tried it, but tests by others suggest that a setup
using Apache is immune to this bug.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-17T06:58:49+00:00</created-at>
      <creator-id type="integer">129362</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6185</number>
      <permalink>webrick-serving-files-from-public-produces-routing-error-for-files-which-have-a-in-their-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>WEBrick serving files from /public produces routing error for files which have a &quot;+&quot; in their name</title>
      <updated-at type="datetime">2010-12-17T06:58:51+00:00</updated-at>
      <user-id type="integer">129362</user-id>
      <version type="integer">1</version>
      <user-name>Andrew Dvorak</user-name>
      <creator-name>Andrew Dvorak</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6185</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Niels van de Ven of Tilburg &lt;strong&gt;&lt;A href=&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg boots sale&lt;/A&gt;&lt;/strong&gt; University said: 'In anthropology, they say if you are envied, you might act more &lt;strong&gt;&lt;A href=&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg boots cheap&lt;/A&gt;&lt;/strong&gt; socially because you try to appease those envious people.' He cited as an example the fisherman who shared his bigger catch around.In lab &lt;strong&gt;&lt;A href=&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg kids&lt;/A&gt;&lt;/strong&gt; experiments a group of people were made to feel like they would be maliciously envied by &lt;strong&gt;&lt;A href=&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg classic cardy&lt;/A&gt;&lt;/strong&gt; being told they would receive an &lt;strong&gt;&lt;A href=&quot; http://www.uggsstoreboots.com/ug42-ugg-bailey-button-boots.html&quot;&gt;ugg boots bailey button&lt;/A&gt;&lt;/strong&gt; award of five euros. Sometimes the prize was deserved and &lt;strong&gt;&lt;A href=&quot; http://www.uggsstoreboots.com/ug42-ugg-classic-knit-boots.html&quot;&gt;ugg boots knit&lt;/A&gt;&lt;/strong&gt; was based on the score they were told they had earned on a quiz. But sometimes it was &lt;strong&gt;&lt;A href=&quot; http://www.uggsstoreboots.com/ug42-ugg-kids-boots.html&quot;&gt;ugg boots kids&lt;/A&gt;&lt;/strong&gt; not based on &lt;strong&gt;&lt;A href=&quot; http://www.uggsstoreboots.com/ug42-ugg-classic-tall-boots.html&quot;&gt;ugg boots classic tall&lt;/A&gt;&lt;/strong&gt; their score at all.The researchers &lt;strong&gt;&lt;A href=&quot; http://www.uggsstoreboots.com/ug42-ugg-classic-cardy-boots.html&quot;&gt;ugg boots classic cardy&lt;/A&gt;&lt;/strong&gt; thought that the deserved prize would lead to benign envy, while the undeserved prize would &lt;strong&gt;&lt;A href=&quot; http://www.uggsstoreboots.com/ug42-ugg-classic-tall-boots.html&quot;&gt;ugg classic tall&lt;/A&gt;&lt;/strong&gt; lead to malicious envy.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Niels van de Ven of Tilburg &lt;strong&gt;&lt;a href=
&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg boots sale&lt;/a&gt;&lt;/strong&gt;
University said: 'In anthropology, they say if you are envied, you
might act more &lt;strong&gt;&lt;a href=&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg
boots cheap&lt;/a&gt;&lt;/strong&gt; socially because you try to appease those
envious people.' He cited as an example the fisherman who shared
his bigger catch around.In lab &lt;strong&gt;&lt;a href=
&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg kids&lt;/a&gt;&lt;/strong&gt; experiments
a group of people were made to feel like they would be maliciously
envied by &lt;strong&gt;&lt;a href=&quot;http://www.uggsstoreboots.com/&quot;&gt;ugg
classic cardy&lt;/a&gt;&lt;/strong&gt; being told they would receive an
&lt;strong&gt;&lt;a&gt;ugg boots bailey button&lt;/a&gt;&lt;/strong&gt; award of five
euros. Sometimes the prize was deserved and &lt;strong&gt;&lt;a&gt;ugg boots
knit&lt;/a&gt;&lt;/strong&gt; was based on the score they were told they had
earned on a quiz. But sometimes it was &lt;strong&gt;&lt;a&gt;ugg boots
kids&lt;/a&gt;&lt;/strong&gt; not based on &lt;strong&gt;&lt;a&gt;ugg boots classic
tall&lt;/a&gt;&lt;/strong&gt; their score at all.The researchers &lt;strong&gt;&lt;a&gt;ugg
boots classic cardy&lt;/a&gt;&lt;/strong&gt; thought that the deserved prize
would lead to benign envy, while the undeserved prize would
&lt;strong&gt;&lt;a&gt;ugg classic tall&lt;/a&gt;&lt;/strong&gt; lead to malicious
envy.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-17T08:29:55+00:00</created-at>
      <creator-id type="integer">129362</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6185</number>
      <permalink>webrick-serving-files-from-public-produces-routing-error-for-files-which-have-a-in-their-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>WEBrick serving files from /public produces routing error for files which have a &quot;+&quot; in their name</title>
      <updated-at type="datetime">2010-12-17T10:11:41+00:00</updated-at>
      <user-id type="integer">129370</user-id>
      <version type="integer">2</version>
      <user-name>xiaoxiao</user-name>
      <creator-name>Andrew Dvorak</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6185</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>hi
i encountered the same problem
i just reinstall my computer and  installed rails 3.0.3 and ruby 1.9.2 on windows 7 and WEBrick
when I open my application in the browser rails cannot find my JavaScript files and i am getting ActionController::routingError 
I worked previously with rails 3.0 and all was fine</body>
      <body-html>&lt;div&gt;&lt;p&gt;hi&lt;br&gt;
i encountered the same problem&lt;br&gt;
i just reinstall my computer and installed rails 3.0.3 and ruby
1.9.2 on windows 7 and WEBrick&lt;br&gt;
when I open my application in the browser rails cannot find my
JavaScript files and i am getting
ActionController::routingError&lt;br&gt;
I worked previously with rails 3.0 and all was fine&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-03T12:07:56+00:00</created-at>
      <creator-id type="integer">129362</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6185</number>
      <permalink>webrick-serving-files-from-public-produces-routing-error-for-files-which-have-a-in-their-name</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>WEBrick serving files from /public produces routing error for files which have a &quot;+&quot; in their name</title>
      <updated-at type="datetime">2011-01-03T12:07:59+00:00</updated-at>
      <user-id type="integer">130967</user-id>
      <version type="integer">3</version>
      <user-name>pnina</user-name>
      <creator-name>Andrew Dvorak</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6185</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is because the '+' is getting decoded as a space by Rack::Utils.unescape in ActionDispatch::Static and Rack::File. In production mode static file serving is handled by Apache so it works fine. Rack::Utils.unescape is very basic implementation in that it doesn't take into account the context of the + symbol which is allowed unescaped in paths but is treated as a space in query parameters.

This needs fixing in both places for it to work - URI.unescape (or URI::Parser.unescape in 1.9.2) would seem to provide the necessary method.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is because the '+' is getting decoded as a space by
Rack::Utils.unescape in ActionDispatch::Static and Rack::File. In
production mode static file serving is handled by Apache so it
works fine. Rack::Utils.unescape is very basic implementation in
that it doesn't take into account the context of the + symbol which
is allowed unescaped in paths but is treated as a space in query
parameters.&lt;/p&gt;
&lt;p&gt;This needs fixing in both places for it to work - URI.unescape
(or URI::Parser.unescape in 1.9.2) would seem to provide the
necessary method.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-09T06:37:30+00:00</created-at>
      <creator-id type="integer">129362</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">6185</number>
      <permalink>webrick-serving-files-from-public-produces-routing-error-for-files-which-have-a-in-their-name</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>WEBrick serving files from /public produces routing error for files which have a &quot;+&quot; in their name</title>
      <updated-at type="datetime">2011-02-09T06:37:38+00:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">4</version>
      <user-name>Andrew White</user-name>
      <creator-name>Andrew Dvorak</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6185</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
