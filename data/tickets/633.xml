<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-01-13T06:52:10+00:00</created-at>
  <creator-id type="integer">16399</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">633</number>
  <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>actionpack bug helper patch tested</tag>
  <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
  <updated-at type="datetime">2011-01-13T06:52:10+00:00</updated-at>
  <user-id type="integer">19215</user-id>
  <version type="integer">17</version>
  <user-name>Han Kessels</user-name>
  <creator-name>Jose Fernandez</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>When the :disable_with option is used in the FormTagHelper#submit_tag, the button's value isn't passed along in the parameters,  { :commit =&gt; 'Foobar' }.  

This occurs because when :disabled_with is used, we overwrite the onclick event and manually submit the form executing 'this.form.submit()'. Thus, the submit button acts as if it was never clicked.

This is a problem when you have forms with more than one submit_tag's, and your update/create logic is depending on the 'commit' value to react accordingly.

What the patch does is add some js at the beggining of the onclick event, so that it clones the submit_tag into a hidden input element with the original values.  This way way when the form is finally submitted, it still passes along the submit button value.</original-body>
  <latest-body>When the :disable_with option is used in the FormTagHelper#submit_tag, the button's value isn't passed along in the parameters,  { :commit =&gt; 'Foobar' }.  

This occurs because when :disabled_with is used, we overwrite the onclick event and manually submit the form executing 'this.form.submit()'. Thus, the submit button acts as if it was never clicked.

This is a problem when you have forms with more than one submit_tag's, and your update/create logic is depending on the 'commit' value to react accordingly.

What the patch does is add some js at the beggining of the onclick event, so that it clones the submit_tag into a hidden input element with the original values.  This way way when the form is finally submitted, it still passes along the submit button value.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
When the :disable_with option is used in the FormTagHelper#submit_tag, the button's value isn't passed along in the parameters,  { :commit =&gt; 'Foobar' }.
&lt;/p&gt;&lt;p&gt;
This occurs because when :disabled_with is used, we overwrite the onclick event and manually submit the form executing 'this.form.submit()'. Thus, the submit button acts as if it was never clicked.
&lt;/p&gt;&lt;p&gt;
This is a problem when you have forms with more than one submit_tag's, and your update/create logic is depending on the 'commit' value to react accordingly.
&lt;/p&gt;&lt;p&gt;
What the patch does is add some js at the beggining of the onclick event, so that it clones the submit_tag into a hidden input element with the original values.  This way way when the form is finally submitted, it still passes along the submit button value.
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>When the :disable_with option is used in the FormTagHelper#submit_tag, the button's value isn't passed along in the parameters,  { :commit =&gt; 'Foobar' }.  

This occurs because when :disabled_with is used, we overwrite the onclick event and manually submit the form executing 'this.form.submit()'. Thus, the submit button acts as if it was never clicked.  Also, disabled input fields do not get submitted.

This is a problem when you have forms with more than one submit_tag's, and your update/create logic is depending on the 'commit' value to react accordingly.

What the patch does is add some js at the beggining of the onclick event, so that it clones the submit_tag into a hidden input element with the original values.  This way way when the form is finally submitted, it still passes along the submit button value.

The FormTagHelper submit_tag tests have also been refactored to support this new feature.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
When the :disable_with option is used in the FormTagHelper#submit_tag, the button's value isn't passed along in the parameters,  { :commit =&gt; 'Foobar' }.
&lt;/p&gt;&lt;p&gt;
This occurs because when :disabled_with is used, we overwrite the onclick event and manually submit the form executing 'this.form.submit()'. Thus, the submit button acts as if it was never clicked.  Also, disabled input fields do not get submitted.
&lt;/p&gt;&lt;p&gt;
This is a problem when you have forms with more than one submit_tag's, and your update/create logic is depending on the 'commit' value to react accordingly.
&lt;/p&gt;&lt;p&gt;
What the patch does is add some js at the beggining of the onclick event, so that it clones the submit_tag into a hidden input element with the original values.  This way way when the form is finally submitted, it still passes along the submit button value.
&lt;/p&gt;&lt;p&gt;
The FormTagHelper submit_tag tests have also been refactored to support this new feature.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-16T17:03:20+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack helper patch tested</tag>
      <title>[PATCH] FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-16T17:03:20+01:00</updated-at>
      <user-id type="integer">16399</user-id>
      <version type="integer">1</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Clarification: The submit_tag original value is the one that gets submitted, *not* the disable_with one.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Clarification: The submit_tag original value is the one that gets submitted, &lt;strong&gt;not&lt;/strong&gt; the disable_with one.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-16T17:09:57+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack helper patch tested</tag>
      <title>[PATCH] FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-16T17:09:57+01:00</updated-at>
      <user-id type="integer">16399</user-id>
      <version type="integer">2</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>If this is a bug, the patch would be more awesome if it had a test that would fail without this patch, e.g. the value of the submit button should be passed when using :disable_with.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
If this is a bug, the patch would be more awesome if it had a test that would fail without this patch, e.g. the value of the submit button should be passed when using :disable_with.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-16T21:57:27+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack helper patch tested</tag>
      <title>[PATCH] FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-16T21:57:27+01:00</updated-at>
      <user-id type="integer">17822</user-id>
      <version type="integer">3</version>
      <user-name>Jonathan Dance</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The problem with that is how to simulate a click on the submit_tag and a mocked form submission (in order to check that the hidden input fields gets successfully created and passed long the request).

I think as long as the modified submit_tag tests do a dom check that includes the extra js, its all good.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
The problem with that is how to simulate a click on the submit_tag and a mocked form submission (in order to check that the hidden input fields gets successfully created and passed long the request).
&lt;/p&gt;&lt;p&gt;
I think as long as the modified submit_tag tests do a dom check that includes the extra js, its all good.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-16T22:58:38+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionpack helper patch tested
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>[PATCH] FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-16T22:58:38+01:00</updated-at>
      <user-id type="integer">16399</user-id>
      <version type="integer">4</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hm, I guess it would require Selenium (or something similar). Oh well, it was a good thought.

+1</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Hm, I guess it would require Selenium (or something similar). Oh well, it was a good thought.
&lt;/p&gt;&lt;p&gt;
+1
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-16T23:02:02+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>[PATCH] FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-16T23:02:02+01:00</updated-at>
      <user-id type="integer">17822</user-id>
      <version type="integer">5</version>
      <user-name>Jonathan Dance</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-17T01:27:00+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- 
:title: &quot;[PATCH] FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked&quot;
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-17T01:27:00+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">6</version>
      <user-name>Pratik</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I think you need to test whether the hidden field already exists or not. This is because the form can have a custom onsubmit handler (doing some ajax stuff for example). When that fails, the submit button is enabled again. When you press submit again, the current patch will again add a hidden field.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
I think you need to test whether the hidden field already exists or not. This is because the form can have a custom onsubmit handler (doing some ajax stuff for example). When that fails, the submit button is enabled again. When you press submit again, the current patch will again add a hidden field.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-21T02:51:34+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-21T02:51:34+01:00</updated-at>
      <user-id type="integer">20836</user-id>
      <version type="integer">7</version>
      <user-name>Lawrence Pit</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I was actually thinking about that issue recently, will update patch tomorrow</body>
      <body-html>&lt;div&gt;&lt;p&gt;
I was actually thinking about that issue recently, will update patch tomorrow
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-21T04:10:51+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-21T04:10:51+01:00</updated-at>
      <user-id type="integer">16399</user-id>
      <version type="integer">8</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Updated the patch with a a check to see if the reference to the dynamically created (hiddenCommit) element exists in the window object before creating and appending it again.

Tests have also been updated, all passed too.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Updated the patch with a a check to see if the reference to the dynamically created (hiddenCommit) element exists in the window object before creating and appending it again.
&lt;/p&gt;&lt;p&gt;
Tests have also been updated, all passed too.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-21T18:02:17+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-07-21T18:02:17+01:00</updated-at>
      <user-id type="integer">16399</user-id>
      <version type="integer">9</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1

We were bitten by this bug.  Would love to see this fixed in Rails 2.1.1</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;We were bitten by this bug.  Would love to see this fixed in Rails 2.1.1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-18T22:32:01+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-08-18T22:32:01+01:00</updated-at>
      <user-id type="integer">17728</user-id>
      <version type="integer">10</version>
      <user-name>spovich</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-18T22:45:55+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-08-18T22:45:55+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">11</version>
      <user-name>Pratik</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1, I've run into this problem before too.

But does this patch handle the case where a different button is pressed after the original onsubmit failed? Maybe add an &quot;else&quot; condition if the hidden field exists and override the value there.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1, I've run into this problem before too.&lt;/p&gt;

&lt;p&gt;But does this patch handle the case where a different button is pressed after the original onsubmit failed? Maybe add an &quot;else&quot; condition if the hidden field exists and override the value there.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-19T00:26:25+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-08-19T00:26:25+01:00</updated-at>
      <user-id type="integer">5701</user-id>
      <version type="integer">12</version>
      <user-name>Ryan Bates</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Good idea Ryan, updating the patch atm.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Good idea Ryan, updating the patch atm.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-19T02:42:29+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-08-19T02:42:29+01:00</updated-at>
      <user-id type="integer">16399</user-id>
      <version type="integer">13</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Here's the updated patch.  It will check the window DOM object for the hiddenCommit element and update the value if it already exists, or create it otherwise.

I also stopped using the array of strings + joining with ';' way of writing the javascript since it was causing problems with the if/else js statements.

Tests were also updated, both passed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Here's the updated patch.  It will check the window DOM object for the hiddenCommit element and update the value if it already exists, or create it otherwise.&lt;/p&gt;

&lt;p&gt;I also stopped using the array of strings + joining with ';' way of writing the javascript since it was causing problems with the if/else js statements.&lt;/p&gt;

&lt;p&gt;Tests were also updated, both passed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-19T23:21:37+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-08-19T23:21:37+01:00</updated-at>
      <user-id type="integer">19498</user-id>
      <version type="integer">14</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Oh yeah, and I also switched the += operator with &lt;&lt; at line 363.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oh yeah, and I also switched the += operator with &amp;lt;&amp;lt; at line 363.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-19T23:25:34+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-08-19T23:25:34+01:00</updated-at>
      <user-id type="integer">19498</user-id>
      <version type="integer">15</version>
      <user-name>Jose Fernandez</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-09-10T06:05:46+01:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2008-09-10T06:06:11+01:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">16</version>
      <user-name>DHH</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This patch breaks the :disable_with option on all versions of Internet Explorer.

IE does not allow the modification of the type attribute of an element. This can be fixed by replacing cloneNode on the submit input element in the original patch by the creation of a new hidden input element. A small patch with updated tests is attached.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This patch breaks the :disable_with option on all versions of
Internet Explorer.&lt;/p&gt;
&lt;p&gt;IE does not allow the modification of the type attribute of an
element. This can be fixed by replacing cloneNode on the submit
input element in the original patch by the creation of a new hidden
input element. A small patch with updated tests is attached.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-27T07:20:57+00:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2009-03-27T07:20:59+00:00</updated-at>
      <user-id type="integer">19215</user-id>
      <version type="integer">17</version>
      <user-name>Han Kessels</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>&lt;a href=&quot;http://www.mp4converter.jp/dvd-creator-mac.html&quot;&gt;DVD&#20316;&#25104;Mac &lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/dvd-ripper-mac.html&quot;&gt;DVD&#12522;&#12483;&#12500;&#12531;&#12464;Mac&lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/dvd-copy-mac.html&quot;&gt; DVD&#12467;&#12500;&#12540;Mac &lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/avi-to-dvd-converter-mac.html&quot;&gt;AVI DVD&#22793;&#25563; Mac&lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/video-to-dvd-converter-mac.html&quot;&gt;&#21205;&#30011; DVD&#22793;&#25563; Mac &lt;/a&gt;
&lt;a href=&quot;http://www.mp4converter.jp/dvd-audio-ripper-mac.html&quot;&gt;DVD&#38899;&#22768;&#12522;&#12483;&#12500;&#12531;&#12464; Mac&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=
&quot;http://www.mp4converter.jp/dvd-creator-mac.html&quot;&gt;DVD&amp;#20316;&amp;#25104;Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/dvd-ripper-mac.html&quot;&gt;DVD&amp;#12522;&amp;#12483;&amp;#12500;&amp;#12531;&amp;#12464;Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/dvd-copy-mac.html&quot;&gt;DVD&amp;#12467;&amp;#12500;&amp;#12540;Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/avi-to-dvd-converter-mac.html&quot;&gt;AVI
DVD&amp;#22793;&amp;#25563; Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/video-to-dvd-converter-mac.html&quot;&gt;&amp;#21205;&amp;#30011;
DVD&amp;#22793;&amp;#25563; Mac&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://www.mp4converter.jp/dvd-audio-ripper-mac.html&quot;&gt;DVD&amp;#38899;&amp;#22768;&amp;#12522;&amp;#12483;&amp;#12500;&amp;#12531;&amp;#12464;
Mac&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-12-06T06:31:40+00:00</created-at>
      <creator-id type="integer">16399</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">633</number>
      <permalink>patch-formtaghelper-submit_tag-with-disable_with-option-doesn-t-submit-the-button-s-value-when-clicked</permalink>
      <priority type="integer">115</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actionpack bug helper patch tested</tag>
      <title>FormTagHelper#submit_tag with :disable_with option doesn't submit the button's value when clicked</title>
      <updated-at type="datetime">2011-01-13T06:52:10+00:00</updated-at>
      <user-id type="integer">127909</user-id>
      <version type="integer">18</version>
      <user-name>xiangxiang</user-name>
      <creator-name>Jose Fernandez</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/633</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>6e2633e20202560d41449df1fb98c23ef2be18a3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-07-21T18:02:16+01:00</created-at>
      <filename>submit_tag_and_disable_with_option_original_value_submission.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">33939</id>
      <size type="integer">3710</size>
      <uploader-id type="integer">16399</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/33939/submit_tag_and_disable_with_option_original_value_submission.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>cbe510a7740d4295d4a4e4353f7be92fe6fc92f3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-19T23:21:37+01:00</created-at>
      <filename>updated_submit_tag_and_disable_with_option_original_value_submission.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">40269</id>
      <size type="integer">5298</size>
      <uploader-id type="integer">19498</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/40269/updated_submit_tag_and_disable_with_option_original_value_submission.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>074a236d0bd4a3fa82d967f2fec2244a96a2f0ef</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-03-27T07:20:57+00:00</created-at>
      <filename>disable_with_patch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">104779</id>
      <size type="integer">6452</size>
      <uploader-id type="integer">19215</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/104779/disable_with_patch.diff</url>
    </attachment>
  </attachments>
</ticket>
