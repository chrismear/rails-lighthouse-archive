<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-01-23T05:21:17+00:00</created-at>
  <creator-id type="integer">19162</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6317</number>
  <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>&quot;active record&quot; activesupport</tag>
  <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
  <updated-at type="datetime">2011-04-30T01:00:46+01:00</updated-at>
  <user-id type="integer">136779</user-id>
  <version type="integer">6</version>
  <user-name>rails</user-name>
  <creator-name>Andriy Tyurnikov</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
  <priority-name nil="true"></priority-name>
  <original-body>Environment: ruby 1.9.2, rails 3.0.3, mysql 5.1.54.
MySql database has record with created_at field - datetime type.
Value of the field is '0000-00-00 00:00:00', problem is simple - when value is passed to activerecord instance it is converted to ruby nil, not to ruby DateTime or something.
This is the reason why model.created_at.to_s(:my_format) fails with exception. (nil's to_s has no format parameter)</original-body>
  <latest-body>Environment: ruby 1.9.2, rails 3.0.3, mysql 5.1.54.
MySql database has record with created_at field - datetime type.
Value of the field is '0000-00-00 00:00:00', problem is simple - when value is passed to activerecord instance it is converted to ruby nil, not to ruby DateTime or something.
This is the reason why model.created_at.to_s(:my_format) fails with exception. (nil's to_s has no format parameter)</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Environment: ruby 1.9.2, rails 3.0.3, mysql 5.1.54.&lt;br&gt;
MySql database has record with created_at field - datetime
type.&lt;br&gt;
Value of the field is '0000-00-00 00:00:00', problem is simple -
when value is passed to activerecord instance it is converted to
ruby nil, not to ruby DateTime or something.&lt;br&gt;
This is the reason why model.created_at.to_s(:my_format) fails with
exception. (nil's to_s has no format parameter)&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Environment: ruby 1.9.2, rails 3.0.3, mysql 5.1.54.
MySql database has record with created_at field - datetime type.
Value of the field is '0000-00-00 00:00:00', problem is simple - when value is passed to activerecord instance it is converted to ruby nil, not to ruby DateTime or something.
This is the reason why model.created_at.to_s(:my_format) fails with exception. (nil's to_s has no format parameter)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Environment: ruby 1.9.2, rails 3.0.3, mysql 5.1.54.&lt;br&gt;
MySql database has record with created_at field - datetime
type.&lt;br&gt;
Value of the field is '0000-00-00 00:00:00', problem is simple -
when value is passed to activerecord instance it is converted to
ruby nil, not to ruby DateTime or something.&lt;br&gt;
This is the reason why model.created_at.to_s(:my_format) fails with
exception. (nil's to_s has no format parameter)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-20T09:42:54+00:00</created-at>
      <creator-id type="integer">19162</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6317</number>
      <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;active record&quot; activesupport</tag>
      <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
      <updated-at type="datetime">2011-01-20T09:42:56+00:00</updated-at>
      <user-id type="integer">19162</user-id>
      <version type="integer">1</version>
      <user-name>Andriy Tyurnikov</user-name>
      <creator-name>Andriy Tyurnikov</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thanks to &lt;a href=&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Sale Supra Footwear&lt;/b&gt;&lt;/a&gt; buyer's suport,then we can growing up.Today,we are proud to offer you the newest design &lt;a href=&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Supra Shoes&lt;/b&gt;&lt;/a&gt;.Our &lt;a href=&quot;http://www.salesuprashoe.com/supra-tk-society-c-7.html&quot;&gt;&lt;b&gt;Supra TK Society&lt;/b&gt;&lt;/a&gt; are made with only superior craftsmanship,truly reflect the image that is so well loved by all fashionistas.The famous &lt;a href=&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Supra Footwear&lt;/b&gt;&lt;/a&gt; line is with no question a leading luxury brand.We offer unbeatable quality and unbeatable price for all our &lt;a href=&quot;http://www.salesuprashoe.com/supra-skytop-c-16.html&quot;&gt;&lt;b&gt;Supra Skytop&lt;/b&gt;&lt;/a&gt;.These &lt;a href=&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Supra Sneakers&lt;/b&gt;&lt;/a&gt; bring you some of the most fashionable &lt;a href=&quot;http://www.salesuprashoe.com/supra-muska-skytop-high-men-c-10.html&quot;&gt;&lt;b&gt;Supra Muska Skytop&lt;/b&gt;&lt;/a&gt; for sale this season. You will find there are more colors coming out for the Cheap &lt;a href=&quot;http://www.salesuprashoe.com/supra-society-c-6.html&quot;&gt;&lt;b&gt;Supra Society&lt;/b&gt;&lt;/a&gt;.They are more popular than ever.You have no reason not to own &lt;a href=&quot;http://www.salesuprashoe.com/supra-vaider-mid-c-9.html&quot;&gt;&lt;b&gt;Supra Vaiders&lt;/b&gt;&lt;/a&gt;.
&lt;br /&gt;Open &lt;b&gt;&lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;Beats By Dre&lt;/a&gt;&lt;/b&gt; to listen for the basic perception inside the natural,at ease to wear,precisely where that perception of comfort is not hot,standard in home appreciation &lt;a href=&quot;http://www.bydrdrebeats.com/monster-beats-solo-c-42.html&quot;&gt;&lt;b&gt;Monster Beats Solo&lt;/b&gt;&lt;/a&gt;.It seem can leak out,and vice versa also can listen to &lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Beats By Dr Dre&lt;/b&gt;&lt;/a&gt; inside the outside world,the stress inside the &lt;a href=&quot;http://www.bydrdrebeats.com/beats-by-dr-dre-studio-c-13.html&quot;&gt;&lt;b&gt;Beats By Dr. Dre Studio&lt;/b&gt;&lt;/a&gt; small.As we know,a pair of &lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Dr Dre Beats&lt;/b&gt;&lt;/a&gt; differs in their quality,price,function,feature and style in life,and different people pursue different kinds of &lt;a href=&quot;http://www.bydrdrebeats.com/monster-turbine-pro-high-performance-inear-speakers-headphone-p-1807.html&quot;&gt;&lt;b&gt;Monster Turbine&lt;/b&gt;&lt;/a&gt;. Some love to choose a pair of &lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Monster Beats By Dre&lt;/b&gt;&lt;/a&gt; with good quality; some prefer to choose a pair of &lt;a href=&quot;http://www.bydrdrebeats.com/lady-gaga-headphones-c-48.html&quot;&gt;&lt;b&gt;Lady Gaga Headphones&lt;/b&gt;&lt;/a&gt; with inexpensive price.The &lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Dre Beats&lt;/b&gt;&lt;/a&gt; is personal stereo audio, its choice is of individual problems, any one person's know-how is to not push and and wide. using headphones, take advantage of the &lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Monster Beats&lt;/b&gt;&lt;/a&gt; in the time and place, their individual likes and dislikes, the seem best quality headphones undoubtedly are a appropriate choice when &lt;a href=&quot;http://www.bydrdrebeats.com/monster-beats-solo-c-42.html&quot;&gt;&lt;b&gt;Monster Solo&lt;/b&gt;&lt;/a&gt; for getting considered.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks to &lt;a href=&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Sale Supra
Footwear&lt;/b&gt;&lt;/a&gt; buyer's suport,then we can growing up.Today,we are
proud to offer you the newest design &lt;a href=
&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Supra Shoes&lt;/b&gt;&lt;/a&gt;.Our &lt;a href=
&quot;http://www.salesuprashoe.com/supra-tk-society-c-7.html&quot;&gt;&lt;b&gt;Supra
TK Society&lt;/b&gt;&lt;/a&gt; are made with only superior craftsmanship,truly
reflect the image that is so well loved by all fashionistas.The
famous &lt;a href=&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Supra
Footwear&lt;/b&gt;&lt;/a&gt; line is with no question a leading luxury brand.We
offer unbeatable quality and unbeatable price for all our &lt;a href=
&quot;http://www.salesuprashoe.com/supra-skytop-c-16.html&quot;&gt;&lt;b&gt;Supra
Skytop&lt;/b&gt;&lt;/a&gt;.These &lt;a href=
&quot;http://www.salesuprashoe.com/&quot;&gt;&lt;b&gt;Supra Sneakers&lt;/b&gt;&lt;/a&gt; bring you
some of the most fashionable &lt;a href=
&quot;http://www.salesuprashoe.com/supra-muska-skytop-high-men-c-10.html&quot;&gt;
&lt;b&gt;Supra Muska Skytop&lt;/b&gt;&lt;/a&gt; for sale this season. You will find
there are more colors coming out for the Cheap &lt;a href=
&quot;http://www.salesuprashoe.com/supra-society-c-6.html&quot;&gt;&lt;b&gt;Supra
Society&lt;/b&gt;&lt;/a&gt;.They are more popular than ever.You have no reason
not to own &lt;a href=
&quot;http://www.salesuprashoe.com/supra-vaider-mid-c-9.html&quot;&gt;&lt;b&gt;Supra
Vaiders&lt;/b&gt;&lt;/a&gt;.&lt;br&gt;
&lt;br&gt;
Open &lt;b&gt;&lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;Beats By Dre&lt;/a&gt;&lt;/b&gt;
to listen for the basic perception inside the natural,at ease to
wear,precisely where that perception of comfort is not hot,standard
in home appreciation &lt;a href=
&quot;http://www.bydrdrebeats.com/monster-beats-solo-c-42.html&quot;&gt;&lt;b&gt;Monster
Beats Solo&lt;/b&gt;&lt;/a&gt;.It seem can leak out,and vice versa also can
listen to &lt;a href=&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Beats By Dr
Dre&lt;/b&gt;&lt;/a&gt; inside the outside world,the stress inside the &lt;a href=
&quot;http://www.bydrdrebeats.com/beats-by-dr-dre-studio-c-13.html&quot;&gt;&lt;b&gt;Beats
By Dr. Dre Studio&lt;/b&gt;&lt;/a&gt; small.As we know,a pair of &lt;a href=
&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Dr Dre Beats&lt;/b&gt;&lt;/a&gt; differs in
their quality,price,function,feature and style in life,and
different people pursue different kinds of &lt;a href=
&quot;http://www.bydrdrebeats.com/monster-turbine-pro-high-performance-inear-speakers-headphone-p-1807.html&quot;&gt;
&lt;b&gt;Monster Turbine&lt;/b&gt;&lt;/a&gt;. Some love to choose a pair of &lt;a href=
&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Monster Beats By Dre&lt;/b&gt;&lt;/a&gt; with
good quality; some prefer to choose a pair of &lt;a href=
&quot;http://www.bydrdrebeats.com/lady-gaga-headphones-c-48.html&quot;&gt;&lt;b&gt;Lady
Gaga Headphones&lt;/b&gt;&lt;/a&gt; with inexpensive price.The &lt;a href=
&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Dre Beats&lt;/b&gt;&lt;/a&gt; is personal
stereo audio, its choice is of individual problems, any one
person's know-how is to not push and and wide. using headphones,
take advantage of the &lt;a href=
&quot;http://www.bydrdrebeats.com/&quot;&gt;&lt;b&gt;Monster Beats&lt;/b&gt;&lt;/a&gt; in the time
and place, their individual likes and dislikes, the seem best
quality headphones undoubtedly are a appropriate choice when
&lt;a href=
&quot;http://www.bydrdrebeats.com/monster-beats-solo-c-42.html&quot;&gt;&lt;b&gt;Monster
Solo&lt;/b&gt;&lt;/a&gt; for getting considered.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-20T10:45:08+00:00</created-at>
      <creator-id type="integer">19162</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6317</number>
      <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;active record&quot; activesupport</tag>
      <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
      <updated-at type="datetime">2011-01-23T05:21:17+00:00</updated-at>
      <user-id type="integer">133396</user-id>
      <version type="integer">2</version>
      <user-name>yedda</user-name>
      <creator-name>Andriy Tyurnikov</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The DATETIME type is used when you need values that contain both date and time information. MySQL retrieves and displays DATETIME values in 'YYYY-MM-DD HH:MM:SS' format. The supported range is '1000-01-01 00:00:00' to '9999-12-31 23:59:59'.

From the official docs - http://dev.mysql.com/doc/refman/5.0/en/datetime.html

So, looks like the DB value is corrupted, right?</body>
      <body-html>&lt;div&gt;&lt;p&gt;The DATETIME type is used when you need values that contain both
date and time information. MySQL retrieves and displays DATETIME
values in 'YYYY-MM-DD HH:MM:SS' format. The supported range is
'1000-01-01 00:00:00' to '9999-12-31 23:59:59'.&lt;/p&gt;
&lt;p&gt;From the official docs - &lt;a href=
&quot;http://dev.mysql.com/doc/refman/5.0/en/datetime.html&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/datetime.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So, looks like the DB value is corrupted, right?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-29T21:02:08+00:00</created-at>
      <creator-id type="integer">19162</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6317</number>
      <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;active record&quot; activesupport</tag>
      <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
      <updated-at type="datetime">2011-01-29T21:02:13+00:00</updated-at>
      <user-id type="integer">86215</user-id>
      <version type="integer">3</version>
      <user-name>Alexey Nayden</user-name>
      <creator-name>Andriy Tyurnikov</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hmm, good point.
So it looks like MySQL accepts and stores values which are not supported according to MySQL docs (</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hmm, good point.&lt;br&gt;
So it looks like MySQL accepts and stores values which are not
supported according to MySQL docs (&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-29T21:26:51+00:00</created-at>
      <creator-id type="integer">19162</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6317</number>
      <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;active record&quot; activesupport</tag>
      <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
      <updated-at type="datetime">2011-01-29T21:26:52+00:00</updated-at>
      <user-id type="integer">19162</user-id>
      <version type="integer">4</version>
      <user-name>Andriy Tyurnikov</user-name>
      <creator-name>Andriy Tyurnikov</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-04-30T01:00:05+01:00</created-at>
      <creator-id type="integer">19162</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6317</number>
      <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>&quot;active record&quot; activesupport</tag>
      <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
      <updated-at type="datetime">2011-04-30T01:00:12+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">5</version>
      <user-name>rails</user-name>
      <creator-name>Andriy Tyurnikov</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-30T01:00:05+01:00</created-at>
      <creator-id type="integer">19162</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6317</number>
      <permalink>activerecord-mysql-zero-filled-datetime-processing</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>&quot;active record&quot; activesupport</tag>
      <title>ActiveRecord MySQL zero-filled DATETIME processing</title>
      <updated-at type="datetime">2011-04-30T01:00:46+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">6</version>
      <user-name>rails</user-name>
      <creator-name>Andriy Tyurnikov</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6317</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
