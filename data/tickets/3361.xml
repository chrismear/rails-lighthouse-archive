<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">8406</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-10-09T17:56:53+01:00</created-at>
  <creator-id type="integer">8547</creator-id>
  <milestone-due-on type="datetime">2010-01-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">50064</milestone-id>
  <number type="integer">3361</number>
  <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
  <priority type="integer">160172</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>2-3-stable activerecord</tag>
  <title>accepts_nested_attributes_for and has_one relations</title>
  <updated-at type="datetime">2010-07-19T07:33:27+01:00</updated-at>
  <user-id type="integer">107789</user-id>
  <version type="integer">7</version>
  <user-name>xhming</user-name>
  <creator-name>tim</creator-name>
  <assigned-user-name>Eloy Duran</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
  <milestone-title>2.3.6</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>when you add accepts_nested_attributes_for(:child) to a &quot;parent&quot; model, the &quot;child&quot; objects will be saved automaticly. But they are not going to be validated automaticly.
This means you will add invalid object into the database by default, since validation for child in a has_one relations are turned of by default.

I suggest to set autosave and validation to true by accepts_nested_attributes_for !!!

In our case, in combination with attachment_fu which use after-validation-callbacks to save the file, we searched a long-time to find the source why there was no file.</original-body>
  <latest-body>when you add accepts_nested_attributes_for(:child) to a &quot;parent&quot; model, the &quot;child&quot; objects will be saved automaticly. But they are not going to be validated automaticly.
This means you will add invalid object into the database by default, since validation for child in a has_one relations are turned of by default.

I suggest to set autosave and validation to true by accepts_nested_attributes_for !!!

In our case, in combination with attachment_fu which use after-validation-callbacks to save the file, we searched a long-time to find the source why there was no file.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;when you add accepts_nested_attributes_for(:child) to a &quot;parent&quot;
model, the &quot;child&quot; objects will be saved automaticly. But they are
not going to be validated automaticly.&lt;br&gt;
This means you will add invalid object into the database by
default, since validation for child in a has_one relations are
turned of by default.&lt;/p&gt;
&lt;p&gt;I suggest to set autosave and validation to true by
accepts_nested_attributes_for !!!&lt;/p&gt;
&lt;p&gt;In our case, in combination with attachment_fu which use
after-validation-callbacks to save the file, we searched a
long-time to find the source why there was no file.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>when you add accepts_nested_attributes_for(:child) to a &quot;parent&quot; model, the &quot;child&quot; objects will be saved automaticly. But they are not going to be validated automaticly.
This means you will add invalid object into the database by default, since validation for child in a has_one relations are turned of by default.

I suggest to set autosave and validation to true by accepts_nested_attributes_for !!!

In our case, in combination with attachment_fu which use after-validation-callbacks to save the file, we searched a long-time to find the source why there was no file.</body>
      <body-html>&lt;div&gt;&lt;p&gt;when you add accepts_nested_attributes_for(:child) to a &quot;parent&quot;
model, the &quot;child&quot; objects will be saved automaticly. But they are
not going to be validated automaticly.&lt;br&gt;
This means you will add invalid object into the database by
default, since validation for child in a has_one relations are
turned of by default.&lt;/p&gt;
&lt;p&gt;I suggest to set autosave and validation to true by
accepts_nested_attributes_for !!!&lt;/p&gt;
&lt;p&gt;In our case, in combination with attachment_fu which use
after-validation-callbacks to save the file, we searched a
long-time to find the source why there was no file.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-09T17:56:53+01:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2009-10-09T17:56:58+01:00</updated-at>
      <user-id type="integer">8547</user-id>
      <version type="integer">1</version>
      <user-name>tim</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-30T19:39:01+00:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2009-12-30T19:39:04+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">2</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I wasn't able to spot this bug anymore, at least not on my current 2-3-stable and master branches. In case it still exists there, could you create a test case that demonstrates the problem?

Closing for now, thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I wasn't able to spot this bug anymore, at least not on my
current 2-3-stable and master branches. In case it still exists
there, could you create a test case that demonstrates the
problem?&lt;/p&gt;
&lt;p&gt;Closing for now, thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-03T21:04:54+00:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2010-01-03T21:04:58+00:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">3</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This is a bit messed up. I'm experiencing the same issue. 

accepts_nested_attributes_for for has_one completely skips validation on the nested element. has_many works fine though.

I'm using 2.3.5, ruby 1.8.7p173</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is a bit messed up. I'm experiencing the same issue.&lt;/p&gt;
&lt;p&gt;accepts_nested_attributes_for for has_one completely skips
validation on the nested element. has_many works fine though.&lt;/p&gt;
&lt;p&gt;I'm using 2.3.5, ruby 1.8.7p173&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-15T16:01:34+01:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2010-04-15T16:01:39+01:00</updated-at>
      <user-id type="integer">18911</user-id>
      <version type="integer">4</version>
      <user-name>Oleg</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This is a bit messed up. I'm experiencing the same issue. 

accepts_nested_attributes_for for has_one completely skips validation on the nested element. has_many works fine though.

I'm using 2.3.5, ruby 1.8.7p173</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is a bit messed up. I'm experiencing the same issue.&lt;/p&gt;
&lt;p&gt;accepts_nested_attributes_for for has_one completely skips
validation on the nested element. has_many works fine though.&lt;/p&gt;
&lt;p&gt;I'm using 2.3.5, ruby 1.8.7p173&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-15T16:01:37+01:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2010-04-15T16:01:42+01:00</updated-at>
      <user-id type="integer">18911</user-id>
      <version type="integer">5</version>
      <user-name>Oleg</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>never mind, I re-froze 2.3.5 and started to work. I must have frozen rails before it became 'really stable'</body>
      <body-html>&lt;div&gt;&lt;p&gt;never mind, I re-froze 2.3.5 and started to work. I must have
frozen rails before it became 'really stable'&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-15T16:05:07+01:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2010-04-15T16:05:09+01:00</updated-at>
      <user-id type="integer">18911</user-id>
      <version type="integer">6</version>
      <user-name>Oleg</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>e exorbitantly &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/hermes-handbags.html&quot;&gt;replica Hermes handbags cheap sale&lt;/a&gt;&lt;/b&gt; supernal monopoly their singularity &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/dior-handbags.html&quot;&gt;Dior handbags replica&lt;/a&gt;&lt;/b&gt; whereas compared to skin &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com&quot;&gt;handbags on sale&lt;/a&gt;&lt;/b&gt; carry bags. Canvas move &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/boston.html&quot;&gt;cheap replica Boston&lt;/a&gt;&lt;/b&gt;  &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/new-items.html&quot;&gt;replica NEW ITEMS wholesale&lt;/a&gt;&lt;/b&gt;  &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/burberry-wallet.html&quot;&gt;replica Burberry  wallet wholesale&lt;/a&gt;&lt;/b&gt;  &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/cartier-handbags.html&quot;&gt;Cartier&lt;/a&gt;&lt;/b&gt;  &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/loewe-handbags.html&quot;&gt;cheap replica Loewe handbags&lt;/a&gt;&lt;/b&gt;  &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com&quot;&gt;handbags for cheap&lt;/a&gt;&lt;/b&gt;  &lt;b&gt;&lt;a href=&quot;http://www.replicahandbagss.com/replica-handbags/hermes-handbags.html&quot;&gt;cheap replica Hermes handbags&lt;/a&gt;&lt;/b&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;e exorbitantly &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/hermes-handbags.html&quot;&gt;
replica Hermes handbags cheap sale&lt;/a&gt;&lt;/b&gt; supernal monopoly their
singularity &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/dior-handbags.html&quot;&gt;
Dior handbags replica&lt;/a&gt;&lt;/b&gt; whereas compared to skin &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com&quot;&gt;handbags on sale&lt;/a&gt;&lt;/b&gt; carry
bags. Canvas move &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/boston.html&quot;&gt;cheap
replica Boston&lt;/a&gt;&lt;/b&gt; &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/new-items.html&quot;&gt;replica
NEW ITEMS wholesale&lt;/a&gt;&lt;/b&gt; &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/burberry-wallet.html&quot;&gt;
replica Burberry wallet wholesale&lt;/a&gt;&lt;/b&gt; &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/cartier-handbags.html&quot;&gt;
Cartier&lt;/a&gt;&lt;/b&gt; &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/loewe-handbags.html&quot;&gt;
cheap replica Loewe handbags&lt;/a&gt;&lt;/b&gt; &lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com&quot;&gt;handbags for cheap&lt;/a&gt;&lt;/b&gt;
&lt;b&gt;&lt;a href=
&quot;http://www.replicahandbagss.com/replica-handbags/hermes-handbags.html&quot;&gt;
cheap replica Hermes handbags&lt;/a&gt;&lt;/b&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-07-19T07:33:25+01:00</created-at>
      <creator-id type="integer">8547</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">3361</number>
      <permalink>accepts_nested_attributes_for-and-has_one-relations</permalink>
      <priority type="integer">160172</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2-3-stable activerecord</tag>
      <title>accepts_nested_attributes_for and has_one relations</title>
      <updated-at type="datetime">2010-07-19T07:33:27+01:00</updated-at>
      <user-id type="integer">107789</user-id>
      <version type="integer">7</version>
      <user-name>xhming</user-name>
      <creator-name>tim</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3361</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>3f808f79a5c0e86aa63786d8764a5dbbe0722b86</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-10-09T17:56:55+01:00</created-at>
      <filename>0001-active_record-accept_nested_attributes_for-makes-the.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">291426</id>
      <size type="integer">978</size>
      <uploader-id type="integer">8547</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/291426/0001-active_record-accept_nested_attributes_for-makes-the.patch</url>
    </attachment>
  </attachments>
</ticket>
