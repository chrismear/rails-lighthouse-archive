<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">4</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-08-25T01:46:12+01:00</created-at>
  <creator-id type="integer">20779</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5434</number>
  <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
  <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
  <updated-at type="datetime">2010-09-24T12:12:48+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">19</version>
  <user-name>Repository</user-name>
  <creator-name>Willem van Bergen</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
  <priority-name>Low</priority-name>
  <original-body>When running rake rails:update using Rails 3.0.0.rc2, it will not generate the correct session key. It generates:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_config_session'

Instead of:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_my_app_session'</original-body>
  <latest-body>When running rake rails:update using Rails 3.0.0.rc2, it will not generate the correct session key. It generates:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_config_session'

Instead of:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_my_app_session'</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;When running rake rails:update using Rails 3.0.0.rc2, it will
not generate the correct session key. It generates:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;MyApp::Application.config.session_store :cookie_store, :key =&amp;gt; '_config_session'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Instead of:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;MyApp::Application.config.session_store :cookie_store, :key =&amp;gt; '_my_app_session'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>When running rake rails:update using Rails 3.0.0.rc2, it will not generate the correct session key. It generates:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_config_session'

Instead of:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_my_app_session'</body>
      <body-html>&lt;div&gt;&lt;p&gt;When running rake rails:update using Rails 3.0.0.rc2, it will
not generate the correct session key. It generates:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;MyApp::Application.config.session_store :cookie_store, :key =&amp;gt; '_config_session'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Instead of:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;MyApp::Application.config.session_store :cookie_store, :key =&amp;gt; '_my_app_session'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T10:14:07+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T10:14:09+01:00</updated-at>
      <user-id type="integer">20779</user-id>
      <version type="integer">1</version>
      <user-name>Willem van Bergen</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This looks very similar to https://rails.lighthouseapp.com/projects/8994/tickets/5207

Assigning to Jose, since he knew how to fix that issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This looks very similar to &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/5207&quot;&gt;https://rails.lighthouseapp.com/projects/8994/tickets/5207&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Assigning to Jose, since he knew how to fix that issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T15:20:00+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T15:20:03+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">2</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Attached is code patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached is code patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T16:02:26+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:tag: &quot;\&quot;rails:update generator session_store.rb\&quot;&quot;
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T16:02:31+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">3</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Nice Neeraj! Can you try to add a test case? You can reproduce the rake test calls inside app_generator_test.rb!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Nice Neeraj! Can you try to add a test case? You can reproduce
the rake test calls inside app_generator_test.rb!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T16:13:28+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T16:13:29+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">4</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I attached patch that fixes this issue. And also added test for it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I attached patch that fixes this issue. And also added test for
it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T16:56:01+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T16:56:05+01:00</updated-at>
      <user-id type="integer">86902</user-id>
      <version type="integer">5</version>
      <user-name>Marjan Krekoten'</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Oops... I missed that there is a patch already :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oops... I missed that there is a patch already :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T16:57:19+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T16:57:23+01:00</updated-at>
      <user-id type="integer">86902</user-id>
      <version type="integer">6</version>
      <user-name>Marjan Krekoten'</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Krekoten, thanks for the patch! Your fix looks good however the test needs to be improved. It relies to heavily on stubs, meaning that minor changes in Thor or Rails can make it fail, even when it should not. Could you please try to provide a test that does not use stubs/mocks?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Krekoten, thanks for the patch! Your fix looks good however the
test needs to be improved. It relies to heavily on stubs, meaning
that minor changes in Thor or Rails can make it fail, even when it
should not. Could you please try to provide a test that does not
use stubs/mocks?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T17:00:42+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T17:00:46+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">7</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Sure, I'll try.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sure, I'll try.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T17:01:44+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T17:01:46+01:00</updated-at>
      <user-id type="integer">86902</user-id>
      <version type="integer">8</version>
      <user-name>Marjan Krekoten'</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Well, I didn't find better way. We need that stubs to execute generator with already initialized app or it will not fail.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Well, I didn't find better way. We need that stubs to execute
generator with already initialized app or it will not fail.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-24T18:32:24+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-24T18:32:26+01:00</updated-at>
      <user-id type="integer">86902</user-id>
      <version type="integer">9</version>
      <user-name>Marjan Krekoten'</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Hey guys,

Since I was the one who submitted the app_name fix, here's my patch for it. I've improved the tests a bit also.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey guys,&lt;/p&gt;
&lt;p&gt;Since I was the one who submitted the app_name fix, here's my
patch for it. I've improved the tests a bit also.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-25T02:38:08+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-25T02:38:10+01:00</updated-at>
      <user-id type="integer">65978</user-id>
      <version type="integer">10</version>
      <user-name>Fred Wu</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [83f4507cf153ea6081dd70326f5f3a0331cc167e]) Fixed the session name generated by the app_generator. Also refactored the corresponding test suites to be cleaner. [#5434 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/83f4507cf153ea6081dd70326f5f3a0331cc167e</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/83f4507cf153ea6081dd70326f5f3a0331cc167e&quot;
title=
&quot;Changeset [83f4507cf153ea6081dd70326f5f3a0331cc167e]&quot;&gt;[83f4507cf153ea6081dd70326f5f3a0331cc167e]&lt;/a&gt;)
Fixed the session name generated by the app_generator. Also
refactored the corresponding test suites to be cleaner. [&lt;a href=
&quot;/projects/8994/tickets/5434&quot; title=&quot;Ticket #5434&quot;&gt;#5434&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/83f4507cf153ea6081dd70326f5f3a0331cc167e&quot;&gt;
http://github.com/rails/rails/commit/83f4507cf153ea6081dd70326f5f3a...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-28T22:08:39+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-28T22:08:43+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">11</version>
      <user-name>Repository</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [3edd3d052efc6d39345aaa3258109ec2fc92baa4]) Fixed the session name generated by the app_generator. Also refactored the corresponding test suites to be cleaner. [#5434 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/3edd3d052efc6d39345aaa3258109ec2fc92baa4</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/3edd3d052efc6d39345aaa3258109ec2fc92baa4&quot;
title=
&quot;Changeset [3edd3d052efc6d39345aaa3258109ec2fc92baa4]&quot;&gt;[3edd3d052efc6d39345aaa3258109ec2fc92baa4]&lt;/a&gt;)
Fixed the session name generated by the app_generator. Also
refactored the corresponding test suites to be cleaner. [&lt;a href=
&quot;/projects/8994/tickets/5434&quot; title=&quot;Ticket #5434&quot;&gt;#5434&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a href=
&quot;mailto:jose.valim@gmail.com&quot;&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/3edd3d052efc6d39345aaa3258109ec2fc92baa4&quot;&gt;
http://github.com/rails/rails/commit/3edd3d052efc6d39345aaa3258109e...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-28T22:09:24+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-28T22:09:28+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">12</version>
      <user-name>Repository</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>The new generator uses the directory name to create the session key prefix, instead of the application name. So, when I fork &quot;MyApp&quot; in a directory called &quot;their_app&quot;, this is what I'll get.

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_their_app_session'

I think it should generate:

    MyApp::Application.config.session_store :cookie_store, :key =&gt; '_my_app_session'

Sorry for nitpicking guys! :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;The new generator uses the directory name to create the session
key prefix, instead of the application name. So, when I fork
&quot;MyApp&quot; in a directory called &quot;their_app&quot;, this is what I'll
get.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;MyApp::Application.config.session_store :cookie_store, :key =&amp;gt; '_their_app_session'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I think it should generate:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;MyApp::Application.config.session_store :cookie_store, :key =&amp;gt; '_my_app_session'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Sorry for nitpicking guys! :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T06:24:15+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-30T06:24:18+01:00</updated-at>
      <user-id type="integer">20779</user-id>
      <version type="integer">13</version>
      <user-name>Willem van Bergen</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Good catch Willem.

Here's the patch for it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Good catch Willem.&lt;/p&gt;
&lt;p&gt;Here's the patch for it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T12:54:55+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-30T12:54:57+01:00</updated-at>
      <user-id type="integer">65978</user-id>
      <version type="integer">14</version>
      <user-name>Fred Wu</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>:) last patch almost identical to mine just said in other words...</body>
      <body-html>&lt;div&gt;&lt;p&gt;:) last patch almost identical to mine just said in other
words...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-08-30T13:06:36+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-08-30T13:06:38+01:00</updated-at>
      <user-id type="integer">86902</user-id>
      <version type="integer">15</version>
      <user-name>Marjan Krekoten'</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Ah it appears so. :D

@Jos&#233;: Any change to include either the patch in 3.0.1?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ah it appears so. :D&lt;/p&gt;
&lt;p&gt;@Jos&amp;eacute;: Any change to include either the patch in
3.0.1?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-24T07:48:23+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-09-24T07:48:25+01:00</updated-at>
      <user-id type="integer">65978</user-id>
      <version type="integer">16</version>
      <user-name>Fred Wu</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-24T08:06:20+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- 
:state: resolved
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-09-24T08:06:25+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">17</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>(from [51e8435e346c3f2f6356342b661231fcaeaa357a]) Ensures the app generator generates the correct @app_name. [#5434 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/51e8435e346c3f2f6356342b661231fcaeaa357a</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/51e8435e346c3f2f6356342b661231fcaeaa357a&quot;
title=
&quot;Changeset [51e8435e346c3f2f6356342b661231fcaeaa357a]&quot;&gt;[51e8435e346c3f2f6356342b661231fcaeaa357a]&lt;/a&gt;)
Ensures the app generator generates the correct @app_name.
[&lt;a href=&quot;/projects/8994/tickets/5434&quot; title=
&quot;Ticket #5434&quot;&gt;#5434&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/51e8435e346c3f2f6356342b661231fcaeaa357a&quot;&gt;
http://github.com/rails/rails/commit/51e8435e346c3f2f6356342b661231...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-24T12:11:08+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-09-24T12:11:11+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">18</version>
      <user-name>Repository</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>(from [b0f059136bf9f99095738c5a1f4b57ed927771cd]) Ensures the app generator generates the correct @app_name. [#5434 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/b0f059136bf9f99095738c5a1f4b57ed927771cd</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/b0f059136bf9f99095738c5a1f4b57ed927771cd&quot;
title=
&quot;Changeset [b0f059136bf9f99095738c5a1f4b57ed927771cd]&quot;&gt;[b0f059136bf9f99095738c5a1f4b57ed927771cd]&lt;/a&gt;)
Ensures the app generator generates the correct @app_name.
[&lt;a href=&quot;/projects/8994/tickets/5434&quot; title=
&quot;Ticket #5434&quot;&gt;#5434&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/b0f059136bf9f99095738c5a1f4b57ed927771cd&quot;&gt;
http://github.com/rails/rails/commit/b0f059136bf9f99095738c5a1f4b57...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-09-24T12:12:46+01:00</created-at>
      <creator-id type="integer">20779</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5434</number>
      <permalink>small-generator-issue-for-generator-in-configinitializerssession_storerb-rails-300rc2</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>patch &quot;rails 3&quot; &quot;rails:update generator session_store.rb&quot;</tag>
      <title>Small generator issue  for generator in config/initializers/session_store.rb (Rails 3.0.0.rc2)</title>
      <updated-at type="datetime">2010-09-24T12:12:48+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">19</version>
      <user-name>Repository</user-name>
      <creator-name>Willem van Bergen</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5434</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>3108c51b16f8190a3ee26f2f453ad248f79e1774</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-08-24T16:02:26+01:00</created-at>
      <filename>5434_fix_for_edge.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">642328</id>
      <size type="integer">945</size>
      <uploader-id type="integer">40263</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/642328/5434_fix_for_edge.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>bdcdb0078775e73723f97dc1f5e41476879e10f3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-08-24T16:56:02+01:00</created-at>
      <filename>fix_app_name_detection.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">642493</id>
      <size type="integer">2504</size>
      <uploader-id type="integer">86902</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/642493/fix_app_name_detection.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>689a9d15a9eee0fc5399906b1e8152ed386283b9</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-08-25T02:38:08+01:00</created-at>
      <filename>app_name_fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">643874</id>
      <size type="integer">3611</size>
      <uploader-id type="integer">65978</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/643874/app_name_fix.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>7a93134a74806b5d553bee8baf82dccaa52ece70</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-08-30T12:54:55+01:00</created-at>
      <filename>app_name_fix.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">650395</id>
      <size type="integer">2256</size>
      <uploader-id type="integer">65978</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/650395/app_name_fix.diff</url>
    </attachment>
  </attachments>
</ticket>
