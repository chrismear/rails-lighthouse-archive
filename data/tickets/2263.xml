<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">4</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-03-17T05:34:51+00:00</created-at>
  <creator-id type="integer">50548</creator-id>
  <milestone-due-on type="datetime">2010-01-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">50064</milestone-id>
  <number type="integer">2263</number>
  <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
  <priority type="integer">1</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2.3.2 actionmailer verified view_paths</tag>
  <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
  <updated-at type="datetime">2010-03-25T14:36:57+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">36</version>
  <user-name>Repository</user-name>
  <creator-name>Philippe Huibonhoa</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
  <milestone-title>2.3.6</milestone-title>
  <priority-name>High</priority-name>
  <original-body>In rails 2.3.2 mailer tests break when you are using implicit multipart emails (ie your content type is part of the view file name: example.text.plain.erb) and you run the tests manually (ie not using rake)

As far as I can tell this is because ActionMailer:Base.template_path returns a relative path &quot;app/views/xxx_mailer&quot; where in the older versions of rails it would return &quot;#{RAILS_ROOT}/app/views/xxx_mailer&quot; because template_root now returns a relative path when you call to_s on it.</original-body>
  <latest-body>In rails 2.3.2 mailer tests break when you are using implicit multipart emails (ie your content type is part of the view file name: example.text.plain.erb) and you run the tests manually (ie not using rake)

As far as I can tell this is because ActionMailer:Base.template_path returns a relative path &quot;app/views/xxx_mailer&quot; where in the older versions of rails it would return &quot;#{RAILS_ROOT}/app/views/xxx_mailer&quot; because template_root now returns a relative path when you call to_s on it.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;In rails 2.3.2 mailer tests break when you are using implicit
multipart emails (ie your content type is part of the view file
name: example.text.plain.erb) and you run the tests manually (ie
not using rake)&lt;/p&gt;
&lt;p&gt;As far as I can tell this is because
ActionMailer:Base.template_path returns a relative path
&quot;app/views/xxx_mailer&quot; where in the older versions of rails it
would return &quot;#{RAILS_ROOT}/app/views/xxx_mailer&quot; because
template_root now returns a relative path when you call to_s on
it.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>In rails 2.3.2 mailer tests break when you are using implicit multipart emails (ie your content type is part of the view file name: example.text.plain.erb) and you run the tests manually (ie not using rake)

As far as I can tell this is because ActionMailer:Base.template_path returns a relative path &quot;app/views/xxx_mailer&quot; where in the older versions of rails it would return &quot;#{RAILS_ROOT}/app/views/xxx_mailer&quot; because template_root now returns a relative path when you call to_s on it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;In rails 2.3.2 mailer tests break when you are using implicit
multipart emails (ie your content type is part of the view file
name: example.text.plain.erb) and you run the tests manually (ie
not using rake)&lt;/p&gt;
&lt;p&gt;As far as I can tell this is because
ActionMailer:Base.template_path returns a relative path
&quot;app/views/xxx_mailer&quot; where in the older versions of rails it
would return &quot;#{RAILS_ROOT}/app/views/xxx_mailer&quot; because
template_root now returns a relative path when you call to_s on
it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-17T05:34:51+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-17T05:34:56+00:00</updated-at>
      <user-id type="integer">50548</user-id>
      <version type="integer">1</version>
      <user-name>Philippe Huibonhoa</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>FYI - I'm also seeing this behaviour.</body>
      <body-html>&lt;div&gt;&lt;p&gt;FYI - I'm also seeing this behaviour.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-25T17:28:21+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-25T17:28:25+00:00</updated-at>
      <user-id type="integer">137</user-id>
      <version type="integer">2</version>
      <user-name>James Adam</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>me too</body>
      <body-html>&lt;div&gt;&lt;p&gt;me too&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-25T22:21:29+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-25T22:21:31+00:00</updated-at>
      <user-id type="integer">16965</user-id>
      <version type="integer">3</version>
      <user-name>Chris Williams</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Can't reproduce, what exactly do I need to do to get an error?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can't reproduce, what exactly do I need to do to get an
error?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-25T22:51:49+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-25T22:51:52+00:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">4</version>
      <user-name>thedarkone</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I have the problem even in development mode.  When ActionMailer attempts to deliver the email:

#&lt;ActionView::MissingTemplate: Missing template my_mailer/mailer_action.erb in view path app/views&gt;

But the view is a multipart:

my_mailer/mailer_action.text.plain.erb
my_mailer/mailer_action.text.html.erb


Everything worked fine before the upgrade to 2.3.2.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have the problem even in development mode. When ActionMailer
attempts to deliver the email:&lt;/p&gt;
&lt;h1&gt;&amp;lt;ActionView::MissingTemplate: Missing template
my_mailer/mailer_action.erb in view path app/views&amp;gt;&lt;/h1&gt;
&lt;p&gt;But the view is a multipart:&lt;/p&gt;
&lt;p&gt;my_mailer/mailer_action.text.plain.erb
my_mailer/mailer_action.text.html.erb&lt;/p&gt;
&lt;p&gt;Everything worked fine before the upgrade to 2.3.2.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-25T23:25:47+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-25T23:25:49+00:00</updated-at>
      <user-id type="integer">5867</user-id>
      <version type="integer">5</version>
      <user-name>Tom</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>A 1 mailer example app on github would be awesome.</body>
      <body-html>&lt;div&gt;&lt;p&gt;A 1 mailer example app on github would be awesome.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-26T01:18:30+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-26T01:18:32+00:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">6</version>
      <user-name>thedarkone</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I think I figured out the problem.  When you are only sending 1 format, the view file should be email_name.erb; you cannot have email_name.text.plain.erb unless you also have email_name.other_format.erb.  In rails 2.2.2 it was happy to send email_name.text.plain.erb even if you didn't have another format you were sending.

The weird part now, though, is that when you do have multiple formats (email_name.text.plain.erb, email_name.text.html.erb), email.parts is empty.  Shouldn't parts be populated with the html and plain text versions of the email?  I attached a fresh project with a implicit multipart email, and a test on email.parts.size.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think I figured out the problem. When you are only sending 1
format, the view file should be email_name.erb; you cannot have
email_name.text.plain.erb unless you also have
email_name.other_format.erb. In rails 2.2.2 it was happy to send
email_name.text.plain.erb even if you didn't have another format
you were sending.&lt;/p&gt;
&lt;p&gt;The weird part now, though, is that when you do have multiple
formats (email_name.text.plain.erb, email_name.text.html.erb),
email.parts is empty. Shouldn't parts be populated with the html
and plain text versions of the email? I attached a fresh project
with a implicit multipart email, and a test on
email.parts.size.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-26T02:10:43+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-26T02:10:52+00:00</updated-at>
      <user-id type="integer">50548</user-id>
      <version type="integer">7</version>
      <user-name>Philippe Huibonhoa</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>With Rails tag v2.3.2.1 in `vendor/rails`:

@@@
$ cat ./test/unit/emailer_test.rb
require 'test_helper'

class EmailerTest &lt; ActionMailer::TestCase
  def setup
    ActionMailer::Base.delivery_method = :test
    ActionMailer::Base.perform_deliveries = true
    ActionMailer::Base.deliveries = []
  end

  def test_general
    email = Emailer.create_general()
    assert email.parts.size &gt; 0 #should be an html and a plain text part
  end
end

$ ruby -Itest ./test/unit/emailer_test.rb
Loaded suite ./test/unit/emailer_test
Started
.
Finished in 0.173692 seconds.

1 tests, 1 assertions, 0 failures, 0 errors
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;With Rails tag v2.3.2.1 in &lt;code&gt;vendor/rails&lt;/code&gt;:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
$ cat ./test/unit/emailer_test.rb
require 'test_helper'

class EmailerTest &amp;lt; ActionMailer::TestCase
  def setup
    ActionMailer::Base.delivery_method = :test
    ActionMailer::Base.perform_deliveries = true
    ActionMailer::Base.deliveries = []
  end

  def test_general
    email = Emailer.create_general()
    assert email.parts.size &amp;gt; 0 #should be an html and a plain text part
  end
end

$ ruby -Itest ./test/unit/emailer_test.rb
Loaded suite ./test/unit/emailer_test
Started
.
Finished in 0.173692 seconds.

1 tests, 1 assertions, 0 failures, 0 errors
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-26T03:28:47+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-03-26T03:28:53+00:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">8</version>
      <user-name>thedarkone</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The error occurs if Dir.pwd != RAILS_ROOT

This is the case for fastCGI scripts, and apparently tests.  I'm seeing this behavior as well.  Check line 468 of base.rb:

Dir.glob(&quot;#{template_path}/#{@template}.*&quot;).each do |path|

Should read: 

Dir.glob(&quot;#{RAILS_ROOT}/#{template_path}/#{@template}.*&quot;).each do |path|</body>
      <body-html>&lt;div&gt;&lt;p&gt;The error occurs if Dir.pwd != RAILS_ROOT&lt;/p&gt;
&lt;p&gt;This is the case for fastCGI scripts, and apparently tests. I'm
seeing this behavior as well. Check line 468 of base.rb:&lt;/p&gt;
&lt;p&gt;Dir.glob(&quot;#{template_path}/#{@template}.*&quot;).each do |path|&lt;/p&gt;
&lt;p&gt;Should read:&lt;/p&gt;
&lt;p&gt;Dir.glob(&quot;#{RAILS_ROOT}/#{template_path}/#{@template}.*&quot;).each
do |path|&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-04T01:41:16+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-04-04T01:41:22+01:00</updated-at>
      <user-id type="integer">52996</user-id>
      <version type="integer">9</version>
      <user-name>Logan Bowers</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm not sure `ActionMailer` should depend on `RAILS_ROOT` constant to be defined. I would also like to note that all view template lookup machinery is dependent on `pwd` making sense and not being a random dir.

If you are having issues with `pwd` my suggestion would be to absolutize `ActionView` and `ActionMailer` `view_paths` with something like this:

@@@ ruby
ActionView::Base.view_paths = ActionView::Base.view_paths.map{|path| File.expand_path(path, Rails.root)}
// same for ActionMailer
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm not sure &lt;code&gt;ActionMailer&lt;/code&gt; should depend on
&lt;code&gt;RAILS_ROOT&lt;/code&gt; constant to be defined. I would also like
to note that all view template lookup machinery is dependent on
&lt;code&gt;pwd&lt;/code&gt; making sense and not being a random dir.&lt;/p&gt;
&lt;p&gt;If you are having issues with &lt;code&gt;pwd&lt;/code&gt; my suggestion
would be to absolutize &lt;code&gt;ActionView&lt;/code&gt; and
&lt;code&gt;ActionMailer&lt;/code&gt; &lt;code&gt;view_paths&lt;/code&gt; with something
like this:&lt;/p&gt;


&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
ActionView::Base.view_paths = ActionView::Base.view_paths.map{|path| File.expand_path(path, Rails.root)}
// same for ActionMailer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-04T18:22:42+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-04-04T18:22:48+01:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">10</version>
      <user-name>thedarkone</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>When serving rails via FastCGI, the pwd is RAILS_ROOT/public (always has been) and ActionView most definitely works (its paths are most definitely expanded).  ActionMailer is broken in this respect.  It does its own lookup to try to find the templates with embedded types and fails because it does the search relative to pwd.  When it falls back to ActionView machinery, it finds the template just fine because AV does not run relative to pwd.</body>
      <body-html>&lt;div&gt;&lt;p&gt;When serving rails via FastCGI, the pwd is RAILS_ROOT/public
(always has been) and ActionView most definitely works (its paths
are most definitely expanded). ActionMailer is broken in this
respect. It does its own lookup to try to find the templates with
embedded types and fails because it does the search relative to
pwd. When it falls back to ActionView machinery, it finds the
template just fine because AV does not run relative to pwd.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-06T19:20:55+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-04-06T19:20:59+01:00</updated-at>
      <user-id type="integer">52996</user-id>
      <version type="integer">11</version>
      <user-name>Logan Bowers</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Fair enough.

PS: the paths are expanded because Rails initializer for some reason goes ahead and pre-expands them on its own. `ActionView` machinery makes no assumptions and works perfectly fine with relative template paths (in fact the whole Rails test suite runs on relative view paths, including all the `ActionMailer` tests), also any user defined `view_paths`, per controller `view_paths`, per request `view_paths` are not auto-expanded. Expanded `view_paths` are an exception not the rule.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Fair enough.&lt;/p&gt;
&lt;p&gt;PS: the paths are expanded because Rails initializer for some
reason goes ahead and pre-expands them on its own.
&lt;code&gt;ActionView&lt;/code&gt; machinery makes no assumptions and works
perfectly fine with relative template paths (in fact the whole
Rails test suite runs on relative view paths, including all the
&lt;code&gt;ActionMailer&lt;/code&gt; tests), also any user defined
&lt;code&gt;view_paths&lt;/code&gt;, per controller &lt;code&gt;view_paths&lt;/code&gt;,
per request &lt;code&gt;view_paths&lt;/code&gt; are not auto-expanded. Expanded
&lt;code&gt;view_paths&lt;/code&gt; are an exception not the rule.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-06T20:54:09+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-04-06T20:54:14+01:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">12</version>
      <user-name>thedarkone</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>PS2: the bug doesn't have that much to do with `ActionMailer`, but stems from the fact that `ActionView::Path` suspects, that an initializer had its way with it and is now prudently trying to hide the aforementioned fact in `Path#to_s`.</body>
      <body-html>&lt;div&gt;&lt;p&gt;PS2: the bug doesn't have that much to do with
&lt;code&gt;ActionMailer&lt;/code&gt;, but stems from the fact that
&lt;code&gt;ActionView::Path&lt;/code&gt; suspects, that an initializer had its
way with it and is now prudently trying to hide the aforementioned
fact in &lt;code&gt;Path#to_s&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-06T21:15:19+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-04-06T21:15:25+01:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">13</version>
      <user-name>thedarkone</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for the patch by thedarkone. It fixes my problem with multipart emails (under fastcgi).</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for the patch by thedarkone. It fixes my problem with
multipart emails (under fastcgi).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-22T20:31:07+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-04-22T20:31:11+01:00</updated-at>
      <user-id type="integer">14798</user-id>
      <version type="integer">14</version>
      <user-name>Bruno Michel</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for thedarkone's patch; it fixed my mailer tests</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for thedarkone's patch; it fixed my mailer tests&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-01T01:37:54+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-05-01T01:37:57+01:00</updated-at>
      <user-id type="integer">50548</user-id>
      <version type="integer">15</version>
      <user-name>Philippe Huibonhoa</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This problem also surfaces when running a mail-delivery task through script/runner ( in cron /absolute/path/to/app/script/runner -e production 'Mail.deliver_newsletter' for example ). Very nasty because our unit-tests did all pass, only to discover we were sending out plain-text in production.

Applied thedarkone's patch on v2.3.2.1 and fixed the problem, so +1.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This problem also surfaces when running a mail-delivery task
through script/runner ( in cron /absolute/path/to/app/script/runner
-e production 'Mail.deliver_newsletter' for example ). Very nasty
because our unit-tests did all pass, only to discover we were
sending out plain-text in production.&lt;/p&gt;
&lt;p&gt;Applied thedarkone's patch on v2.3.2.1 and fixed the problem, so
+1.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-08T15:25:05+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.2 actionmailer view_paths
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-05-08T15:25:10+01:00</updated-at>
      <user-id type="integer">27589</user-id>
      <version type="integer">16</version>
      <user-name>Menno van der Sman</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>My ActionMailer was also broken after upgrading to 2.3.2. thedarkone's patch saved the day and fixed it. +1</body>
      <body-html>&lt;div&gt;&lt;p&gt;My ActionMailer was also broken after upgrading to 2.3.2.
thedarkone's patch saved the day and fixed it. +1&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-18T21:00:02+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-05-18T21:00:04+01:00</updated-at>
      <user-id type="integer">9435</user-id>
      <version type="integer">17</version>
      <user-name>Vidal Graupera</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I'm seeing rails send my text.html.erb mail templates as plaintext, and no plaintext (text.plain.erb) templates added at all. Setting content_type &quot;text/html&quot; fixes it but the plaintext template still isn't attached.

This is in development, and since 2.3.2.

The patch above didn't seem to work for my situation.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm seeing rails send my text.html.erb mail templates as
plaintext, and no plaintext (text.plain.erb) templates added at
all. Setting content_type &quot;text/html&quot; fixes it but the plaintext
template still isn't attached.&lt;/p&gt;
&lt;p&gt;This is in development, and since 2.3.2.&lt;/p&gt;
&lt;p&gt;The patch above didn't seem to work for my situation.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-19T02:31:00+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-05-19T02:31:02+01:00</updated-at>
      <user-id type="integer">34659</user-id>
      <version type="integer">18</version>
      <user-name>Brendon</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Thedarkone's patch seemed to fix some of the errors I was seeing, but not all.

I was still seeing some &quot;missing template&quot; errors in from my Cron jobs which use script/runner:

find_template': Missing template notifier/some_cron_email.erb in view path app/views (ActionView::MissingTemplate)

There was a &quot;some_cron.email.plain.txt.erb&quot; file present which it wasn't finding.

I was able to fix the remaining errors by cd'ing to my RAILS_ROOT before running script/runner

So instead of this in my Cron:

RAILS_ENV=production /home/admin/public_html/universitytutor.com/current/script/runner &quot;Cron.some_cron_job&quot;

I changed it to:

cd /home/admin/public_html/universitytutor.com/current; RAILS_ENV=production script/runner &quot;Cron.some_cron_job&quot;

And it works now!

Hope this helps...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thedarkone's patch seemed to fix some of the errors I was
seeing, but not all.&lt;/p&gt;
&lt;p&gt;I was still seeing some &quot;missing template&quot; errors in from my
Cron jobs which use script/runner:&lt;/p&gt;
&lt;p&gt;find_template': Missing template notifier/some_cron_email.erb in
view path app/views (ActionView::MissingTemplate)&lt;/p&gt;
&lt;p&gt;There was a &quot;some_cron.email.plain.txt.erb&quot; file present which
it wasn't finding.&lt;/p&gt;
&lt;p&gt;I was able to fix the remaining errors by cd'ing to my
RAILS_ROOT before running script/runner&lt;/p&gt;
&lt;p&gt;So instead of this in my Cron:&lt;/p&gt;
&lt;p&gt;RAILS_ENV=production
/home/admin/public_html/universitytutor.com/current/script/runner
&quot;Cron.some_cron_job&quot;&lt;/p&gt;
&lt;p&gt;I changed it to:&lt;/p&gt;
&lt;p&gt;cd /home/admin/public_html/universitytutor.com/current;
RAILS_ENV=production script/runner &quot;Cron.some_cron_job&quot;&lt;/p&gt;
&lt;p&gt;And it works now!&lt;/p&gt;
&lt;p&gt;Hope this helps...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-31T20:05:59+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-05-31T20:06:05+01:00</updated-at>
      <user-id type="integer">57403</user-id>
      <version type="integer">19</version>
      <user-name>Brian Armstrong</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>+1 for the patch by thedarkone - fixed our deployment.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for the patch by thedarkone - fixed our deployment.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-08T20:27:20+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-06-08T20:27:23+01:00</updated-at>
      <user-id type="integer">59420</user-id>
      <version type="integer">20</version>
      <user-name>Randy Puro</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Would it be possible to have this patch incorporated into the next release of Rails?  I ran into this problem since my shared host account on railsplayground is running under FCGI.  I suspect that lots of people who are using shared accounts may also be running under FCGI and experiencing this.  Additionally, in a shared account situation, you don't have the permissions to apply patches so other than asking your hosting company to apply a patch (which they are nervous about &amp; will affect everyone else on the box), don't have many other options.

If this fix won't be incorporated into Rails, would it be possible to monkey patch action_mailer to replace the methods being changed?  If so, does anyone have any pointers on how you would do that in order to get it to happen in time?  Would putting a file in lib/ work?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Would it be possible to have this patch incorporated into the
next release of Rails? I ran into this problem since my shared host
account on railsplayground is running under FCGI. I suspect that
lots of people who are using shared accounts may also be running
under FCGI and experiencing this. Additionally, in a shared account
situation, you don't have the permissions to apply patches so other
than asking your hosting company to apply a patch (which they are
nervous about &amp;amp; will affect everyone else on the box), don't
have many other options.&lt;/p&gt;
&lt;p&gt;If this fix won't be incorporated into Rails, would it be
possible to monkey patch action_mailer to replace the methods being
changed? If so, does anyone have any pointers on how you would do
that in order to get it to happen in time? Would putting a file in
lib/ work?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-08T23:29:24+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-06-08T23:29:29+01:00</updated-at>
      <user-id type="integer">33080</user-id>
      <version type="integer">21</version>
      <user-name>Steven</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I'm trying to use the mailer in a Ruby on Rails 2.3.2 Engine and I'm experiencing a similar problem.  All of my html emails show up as plain text.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm trying to use the mailer in a Ruby on Rails 2.3.2 Engine and
I'm experiencing a similar problem. All of my html emails show up
as plain text.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-27T00:48:17+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-06-27T00:48:21+01:00</updated-at>
      <user-id type="integer">17333</user-id>
      <version type="integer">22</version>
      <user-name>jbasdf</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Also seeing this same issue, just patched it myself (almost the same patch as above).

Fixed it in production with the following hack:

@@@
raise &quot;Not needed in rails 2.3.3 and above! You should delete this.&quot; unless Rails.version &lt; &quot;2.3.3&quot;

# Fix for relative paths when running tests.
# https://rails.lighthouseapp.com/projects/8994/tickets/2263-rails-232-breaks-implicit-multipart-actionmailer-tests
module ActionMailer
  class Base
    def template_path
      File.join(template_root, mailer_name)
    end
  end
end
@@@

Also attached the patch I wrote for good measure, but just take it as a +1 for thedarkone's patch, it's functionally equivalent.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Also seeing this same issue, just patched it myself (almost the
same patch as above).&lt;/p&gt;
&lt;p&gt;Fixed it in production with the following hack:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;raise &quot;Not needed in rails 2.3.3 and above! You should delete this.&quot; unless Rails.version &amp;lt; &quot;2.3.3&quot;

# Fix for relative paths when running tests.
# https://rails.lighthouseapp.com/projects/8994/tickets/2263-rails-232-breaks-implicit-multipart-actionmailer-tests
module ActionMailer
  class Base
    def template_path
      File.join(template_root, mailer_name)
    end
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Also attached the patch I wrote for good measure, but just take
it as a +1 for thedarkone's patch, it's functionally
equivalent.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-09T16:40:57+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-07-09T16:41:03+01:00</updated-at>
      <user-id type="integer">28420</user-id>
      <version type="integer">23</version>
      <user-name>Tom Lea</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-03T06:10:22+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-08-03T06:10:26+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">24</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-03T20:15:30+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 424
</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-08-03T20:15:37+01:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">25</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.4</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>[milestone:id#50064 bulk edit command]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[milestone:id#50064 bulk edit command]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-11T23:04:35+01:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 41987
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2009-09-11T23:04:35+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">26</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>+1 to the aforementioned patch, was breaking the email sending from cron tasks</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 to the aforementioned patch, was breaking the email sending
from cron tasks&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-04T14:32:43+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-01-04T14:32:47+00:00</updated-at>
      <user-id type="integer">43210</user-id>
      <version type="integer">27</version>
      <user-name>Evgeniy Dolzhenko</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>+1 for Tom Lea's patch (using File.join is a little more elegant) - other examples of &quot;#{&lt;path element 1&gt;}/#{&lt;path element 2&gt;}&quot; should probably also be replaced by File.join in base.rb.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 for Tom Lea's patch (using File.join is a little more
elegant) - other examples of &quot;#{}/#{}&quot; should probably also be
replaced by File.join in base.rb.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-25T21:16:30+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-01-25T21:16:34+00:00</updated-at>
      <user-id type="integer">78412</user-id>
      <version type="integer">28</version>
      <user-name>CDD Developers</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>swallowed my square brackets, should have been &quot;#{&amp;lt;path element 1&amp;gt;}/#{&amp;lt;path element 2&amp;gt;}&quot;, but you get the point.</body>
      <body-html>&lt;div&gt;&lt;p&gt;swallowed my square brackets, should have been &quot;#{&amp;lt;path
element 1&amp;gt;}/#{&amp;lt;path element 2&amp;gt;}&quot;, but you get the
point.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-25T21:17:25+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-01-25T21:17:31+00:00</updated-at>
      <user-id type="integer">78412</user-id>
      <version type="integer">29</version>
      <user-name>CDD Developers</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Tried to apply the patch, but the tests added fail. Can someone rebase it please?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Tried to apply the patch, but the tests added fail. Can someone
rebase it please?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T00:15:08+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:assigned_user: 12714
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-20T00:15:12+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">30</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Should it be rebase on top of master or 2-3-stable, or both?

Cheers</body>
      <body-html>&lt;div&gt;&lt;p&gt;Should it be rebase on top of master or 2-3-stable, or both?&lt;/p&gt;
&lt;p&gt;Cheers&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T18:17:24+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-20T18:17:31+00:00</updated-at>
      <user-id type="integer">1543</user-id>
      <version type="integer">31</version>
      <user-name>Rodrigo Kochenburger</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>On top of 2-3-stable. In master this works for sure.</body>
      <body-html>&lt;div&gt;&lt;p&gt;On top of 2-3-stable. In master this works for sure.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T18:26:28+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-20T18:26:35+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">32</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Which patch did you use? Both breaks?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Which patch did you use? Both breaks?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T19:52:17+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-20T19:52:23+00:00</updated-at>
      <user-id type="integer">1543</user-id>
      <version type="integer">33</version>
      <user-name>Rodrigo Kochenburger</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I used the latest one:

https://rails.lighthouseapp.com/projects/8994/tickets/2263/a/217365/Fix-incorrect-relative-paths-being-used-when-looking.diff</body>
      <body-html>&lt;div&gt;&lt;p&gt;I used the latest one:&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/2263/a/217365/Fix-incorrect-relative-paths-being-used-when-looking.diff&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/2263/a/217365...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-20T21:53:59+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-20T21:54:04+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">34</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>The tests was breaking because the template_root path was being set to an relative path. Since we want it to work from outside the application path we need to set it as absolute.

In rails this already happens because it is set relative to Rails.root, which is an absolute path.

I'm adding a up-to-date patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The tests was breaking because the template_root path was being
set to an relative path. Since we want it to work from outside the
application path we need to set it as absolute.&lt;/p&gt;
&lt;p&gt;In rails this already happens because it is set relative to
Rails.root, which is an absolute path.&lt;/p&gt;
&lt;p&gt;I'm adding a up-to-date patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-22T23:20:53+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-22T23:20:59+00:00</updated-at>
      <user-id type="integer">1543</user-id>
      <version type="integer">35</version>
      <user-name>Rodrigo Kochenburger</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>(from [0022fa309b6dd88d4019d1a94e6cd89866695349]) Set mailer template_root as absolute path [#2263 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/0022fa309b6dd88d4019d1a94e6cd89866695349</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/0022fa309b6dd88d4019d1a94e6cd89866695349&quot;
title=
&quot;Changeset [0022fa309b6dd88d4019d1a94e6cd89866695349]&quot;&gt;[0022fa309b6dd88d4019d1a94e6cd89866695349]&lt;/a&gt;)
Set mailer template_root as absolute path [&lt;a href=
&quot;/projects/8994/tickets/2263&quot; title=&quot;Ticket #2263&quot;&gt;#2263&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/0022fa309b6dd88d4019d1a94e6cd89866695349&quot;&gt;
http://github.com/rails/rails/commit/0022fa309b6dd88d4019d1a94e6cd8...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-03-25T14:36:52+00:00</created-at>
      <creator-id type="integer">50548</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2263</number>
      <permalink>rails-232-breaks-implicit-multipart-actionmailer-tests</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2.3.2 actionmailer verified view_paths</tag>
      <title>Rails 2.3.2 breaks implicit multipart actionmailer tests</title>
      <updated-at type="datetime">2010-03-25T14:36:57+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">36</version>
      <user-name>Repository</user-name>
      <creator-name>Philippe Huibonhoa</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2263</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>86408464e2e8279046bf20557b9c082279a4c31a</code>
      <content-type>application/zip</content-type>
      <created-at type="datetime">2009-03-26T02:10:43+00:00</created-at>
      <filename>test.zip</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">104214</id>
      <size type="integer">98666</size>
      <uploader-id type="integer">50548</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/104214/test.zip</url>
    </attachment>
    <attachment type="Attachment">
      <code>ea6669f06dac4393f490de9c3d4042a625f56a05</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-04-06T20:54:09+01:00</created-at>
      <filename>0001-Fix-implicit-multipart-mailer-views-when-RAILS_ROOT.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">108548</id>
      <size type="integer">2623</size>
      <uploader-id type="integer">46643</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/108548/0001-Fix-implicit-multipart-mailer-views-when-RAILS_ROOT.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>b4dda58b2a639c871daf85bf2d2411137ae939cf</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-09T16:40:57+01:00</created-at>
      <filename>Fix-incorrect-relative-paths-being-used-when-looking.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">217365</id>
      <size type="integer">2823</size>
      <uploader-id type="integer">28420</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/217365/Fix-incorrect-relative-paths-being-used-when-looking.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>9364a07b6a3484c5cdf511349d8c03a14facae58</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-03-22T23:20:53+00:00</created-at>
      <filename>v2-fix-incorrect-relative-paths-being-used-when-looking.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">455607</id>
      <size type="integer">3775</size>
      <uploader-id type="integer">1543</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/455607/v2-fix-incorrect-relative-paths-being-used-when-looking.diff</url>
    </attachment>
  </attachments>
</ticket>
