<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-07-09T17:57:55+01:00</created-at>
  <creator-id type="integer">9751</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2894</number>
  <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
  <priority type="integer">1980</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>railties rake</tag>
  <title>Rake db:create and db:drop do not work with jdbcmysql or jdbcpostgresql adapters</title>
  <updated-at type="datetime">2010-10-09T03:30:59+01:00</updated-at>
  <user-id type="integer">89656</user-id>
  <version type="integer">6</version>
  <user-name>Rohit Arondekar</user-name>
  <creator-name>Trotter Cashion</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>As the title states, having jdbcmysql or jdbcpostgresql as your database adapter will cause rails to not create your database and not display an error message. 

The attached patch makes db:create work with jdbcmysql and jdbcpostgresql and outputs an error for unsupported adapters.</original-body>
  <latest-body>As the title states, having jdbcmysql or jdbcpostgresql as your database adapter will cause rails to not create your database and not display an error message. 

The attached patch makes db:create work with jdbcmysql and jdbcpostgresql and outputs an error for unsupported adapters.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;As the title states, having jdbcmysql or jdbcpostgresql as your
database adapter will cause rails to not create your database and
not display an error message.&lt;/p&gt;
&lt;p&gt;The attached patch makes db:create work with jdbcmysql and
jdbcpostgresql and outputs an error for unsupported adapters.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>As the title states, having jdbcmysql or jdbcpostgresql as your database adapter will cause rails to not create your database and not display an error message. 

The attached patch makes db:create work with jdbcmysql and jdbcpostgresql and outputs an error for unsupported adapters.</body>
      <body-html>&lt;div&gt;&lt;p&gt;As the title states, having jdbcmysql or jdbcpostgresql as your
database adapter will cause rails to not create your database and
not display an error message.&lt;/p&gt;
&lt;p&gt;The attached patch makes db:create work with jdbcmysql and
jdbcpostgresql and outputs an error for unsupported adapters.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-09T17:57:55+01:00</created-at>
      <creator-id type="integer">9751</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2894</number>
      <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>railties rake</tag>
      <title>Rake db:create does not work with jdbcmysql or jdbcpostgresql adapters</title>
      <updated-at type="datetime">2009-07-09T17:57:58+01:00</updated-at>
      <user-id type="integer">9751</user-id>
      <version type="integer">1</version>
      <user-name>Trotter Cashion</user-name>
      <creator-name>Trotter Cashion</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Oops, the old diff was made improperly. Here's a properly created patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oops, the old diff was made improperly. Here's a properly
created patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-09T22:37:38+01:00</created-at>
      <creator-id type="integer">9751</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2894</number>
      <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>railties rake</tag>
      <title>Rake db:create does not work with jdbcmysql or jdbcpostgresql adapters</title>
      <updated-at type="datetime">2009-07-10T00:03:55+01:00</updated-at>
      <user-id type="integer">9751</user-id>
      <version type="integer">2</version>
      <user-name>Trotter Cashion</user-name>
      <creator-name>Trotter Cashion</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I've added support for db:drop as well.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've added support for db:drop as well.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-15T13:42:49+01:00</created-at>
      <creator-id type="integer">9751</creator-id>
      <diffable-attributes type="yaml">--- 
:title: Rake db:create does not work with jdbcmysql or jdbcpostgresql adapters
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2894</number>
      <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>railties rake</tag>
      <title>Rake db:create and db:drop do not work with jdbcmysql or jdbcpostgresql adapters</title>
      <updated-at type="datetime">2009-07-15T13:42:59+01:00</updated-at>
      <user-id type="integer">9751</user-id>
      <version type="integer">3</version>
      <user-name>Trotter Cashion</user-name>
      <creator-name>Trotter Cashion</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>So this problem is actually regarding *any* db driver that isn't named exactly 'mysql', 'postgres' or like 'sqlite'.
Even with the patch attached to this ticket, drivers that don't have 'mysql', 'postgres' or 'sqlite' in the name are out of luck (think Oracle, Firebird, CouchDB or even something custom...).

I found this because I'm using the mysqlplus gem, and Lourens' mysqlplus_adapter. Although the proposed patch in this ticket will  fix my problem, it doesn't solve it for everyone.

After talking to Lourens a little about it, seems like this should be the responsibility of the Adapter itself. Whatever the mechanism is, it should be implemented by the AbstractAdapter interface, and overridden by the actual Adapter if it needs to do something special.

I'll play around with some ideas and see if I can get something together that might work and attach it to this ticket.</body>
      <body-html>&lt;div&gt;&lt;p&gt;So this problem is actually regarding &lt;em&gt;any&lt;/em&gt; db driver
that isn't named exactly 'mysql', 'postgres' or like 'sqlite'.&lt;br&gt;
Even with the patch attached to this ticket, drivers that don't
have 'mysql', 'postgres' or 'sqlite' in the name are out of luck
(think Oracle, Firebird, CouchDB or even something custom...).&lt;/p&gt;
&lt;p&gt;I found this because I'm using the mysqlplus gem, and Lourens'
mysqlplus_adapter. Although the proposed patch in this ticket will
fix my problem, it doesn't solve it for everyone.&lt;/p&gt;
&lt;p&gt;After talking to Lourens a little about it, seems like this
should be the responsibility of the Adapter itself. Whatever the
mechanism is, it should be implemented by the AbstractAdapter
interface, and overridden by the actual Adapter if it needs to do
something special.&lt;/p&gt;
&lt;p&gt;I'll play around with some ideas and see if I can get something
together that might work and attach it to this ticket.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-22T18:59:00+01:00</created-at>
      <creator-id type="integer">9751</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2894</number>
      <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>railties rake</tag>
      <title>Rake db:create and db:drop do not work with jdbcmysql or jdbcpostgresql adapters</title>
      <updated-at type="datetime">2009-07-22T18:59:06+01:00</updated-at>
      <user-id type="integer">51632</user-id>
      <version type="integer">4</version>
      <user-name>Brian Lopez</user-name>
      <creator-name>Trotter Cashion</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:53+01:00</created-at>
      <creator-id type="integer">9751</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2894</number>
      <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>railties rake</tag>
      <title>Rake db:create and db:drop do not work with jdbcmysql or jdbcpostgresql adapters</title>
      <updated-at type="datetime">2010-05-04T18:48:53+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">5</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Trotter Cashion</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Marking ticket as stale. If this is still an issue please leave a comment with suggested changes, creating a patch with tests, rebasing an existing patch or just confirming the issue on a latest release or master/branches.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Marking ticket as stale. If this is still an issue please leave
a comment with suggested changes, creating a patch with tests,
rebasing an existing patch or just confirming the issue on a latest
release or master/branches.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-09T03:30:57+01:00</created-at>
      <creator-id type="integer">9751</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2894</number>
      <permalink>rake-dbcreate-does-not-work-with-jdbcmysql-or-jdbcpostgresql-adapters</permalink>
      <priority type="integer">1980</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>railties rake</tag>
      <title>Rake db:create and db:drop do not work with jdbcmysql or jdbcpostgresql adapters</title>
      <updated-at type="datetime">2010-10-09T03:30:59+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">6</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Trotter Cashion</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2894</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>11cff33052b2dab984f8ec15b5ad435c45995797</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-15T13:42:49+01:00</created-at>
      <filename>add_jdbc_to_db_create_and_drop.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">221134</id>
      <size type="integer">3381</size>
      <uploader-id type="integer">9751</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/221134/add_jdbc_to_db_create_and_drop.diff</url>
    </attachment>
  </attachments>
</ticket>
