<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-11T18:40:52+01:00</created-at>
  <creator-id type="integer">119467</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5788</number>
  <permalink>mysql-time</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>activerecord</tag>
  <title>mysql time</title>
  <updated-at type="datetime">2010-10-12T23:13:59+01:00</updated-at>
  <user-id type="integer">119467</user-id>
  <version type="integer">9</version>
  <user-name>jerome187</user-name>
  <creator-name>jerome187</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
  <priority-name>Low</priority-name>
  <original-body>setting something in migration as .time and the resulting table contains date when its supposed to be just time.

this in migration

t.time :time, :default =&gt; &quot;00:00:00&quot;

this is what schema ends up being after running the migration

t.time     &quot;time&quot;,        :default =&gt; '2000-01-01 00:00:00'</original-body>
  <latest-body>setting something in migration as .time and the resulting table contains date when its supposed to be just time.

this in migration

t.time :time, :default =&gt; &quot;00:00:00&quot;

this is what schema ends up being after running the migration

t.time     &quot;time&quot;,        :default =&gt; '2000-01-01 00:00:00'</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;setting something in migration as .time and the resulting table
contains date when its supposed to be just time.&lt;/p&gt;
&lt;p&gt;this in migration&lt;/p&gt;
&lt;p&gt;t.time :time, :default =&amp;gt; &quot;00:00:00&quot;&lt;/p&gt;
&lt;p&gt;this is what schema ends up being after running the
migration&lt;/p&gt;
&lt;p&gt;t.time &quot;time&quot;, :default =&amp;gt; '2000-01-01 00:00:00'&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>setting something in migration as .time and the resulting table contains date when its supposed to be just time.

this in migration

t.time :time, :default =&gt; &quot;00:00:00&quot;

this is what schema ends up being after running the migration

t.time     &quot;time&quot;,        :default =&gt; '2000-01-01 00:00:00'</body>
      <body-html>&lt;div&gt;&lt;p&gt;setting something in migration as .time and the resulting table
contains date when its supposed to be just time.&lt;/p&gt;
&lt;p&gt;this in migration&lt;/p&gt;
&lt;p&gt;t.time :time, :default =&amp;gt; &quot;00:00:00&quot;&lt;/p&gt;
&lt;p&gt;this is what schema ends up being after running the
migration&lt;/p&gt;
&lt;p&gt;t.time &quot;time&quot;, :default =&amp;gt; '2000-01-01 00:00:00'&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T18:40:52+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-11T18:40:54+01:00</updated-at>
      <user-id type="integer">119467</user-id>
      <version type="integer">1</version>
      <user-name>jerome187</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Please submit a failing test case as a patch as per the http://guides.rubyonrails.org/contributing_to_rails.html guide so that this issue can be resolved.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Please submit a failing test case as a patch as per the &lt;a href=
&quot;http://guides.rubyonrails.org/contributing_to_rails.html&quot;&gt;http://guides.rubyonrails.org/contributing_to_rails.html&lt;/a&gt;
guide so that this issue can be resolved.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T23:33:21+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag nil="true"></tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-11T23:33:22+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">2</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>no problem

how is this test?</body>
      <body-html>&lt;div&gt;&lt;p&gt;no problem&lt;/p&gt;
&lt;p&gt;how is this test?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-12T05:12:57+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T05:13:00+01:00</updated-at>
      <user-id type="integer">119467</user-id>
      <version type="integer">3</version>
      <user-name>jerome187</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Rails maps SQL types to Ruby classes, SQL time gets mapped to Ruby's Time class. Time class in ruby has a date component. Rails defaults this to 2000-01-01. If you need to work on the time component, you need to regard &lt;code&gt;bonus_time&lt;/code&gt; as an object of Ruby's Time class. If you need to read the Time component of &lt;code&gt;bonus_time&lt;/code&gt;, you should refer to the Time class' documentation and send required methods.

To get &lt;code&gt;&quot;00:00:00&quot;&lt;/code&gt;, you would do &lt;code&gt;t.bonus_time.strftime(&quot;%H:%M:%S&quot;)&lt;/code&gt; or &lt;code&gt;t.bonus_time.to_s(:time)&lt;/code&gt; to get &lt;code&gt;&quot;00:00&quot;&lt;/code&gt;.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rails maps SQL types to Ruby classes, SQL time gets mapped to
Ruby's Time class. Time class in ruby has a date component. Rails
defaults this to 2000-01-01. If you need to work on the time
component, you need to regard &lt;code&gt;bonus_time&lt;/code&gt; as an object
of Ruby's Time class. If you need to read the Time component of
&lt;code&gt;bonus_time&lt;/code&gt;, you should refer to the Time class'
documentation and send required methods.&lt;/p&gt;
&lt;p&gt;To get &lt;code&gt;&quot;00:00:00&quot;&lt;/code&gt;, you would do
&lt;code&gt;t.bonus_time.strftime(&quot;%H:%M:%S&quot;)&lt;/code&gt; or
&lt;code&gt;t.bonus_time.to_s(:time)&lt;/code&gt; to get
&lt;code&gt;&quot;00:00&quot;&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-12T08:52:25+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T08:52:30+01:00</updated-at>
      <user-id type="integer">17433</user-id>
      <version type="integer">4</version>
      <user-name>Aditya Sanghi</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>right my bad for using strings for comparison.  well ok take a look at this test, if you try to save a time with more than 24 hours, no joy.</body>
      <body-html>&lt;div&gt;&lt;p&gt;right my bad for using strings for comparison. well ok take a
look at this test, if you try to save a time with more than 24
hours, no joy.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-12T15:31:03+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T15:31:08+01:00</updated-at>
      <user-id type="integer">119467</user-id>
      <version type="integer">5</version>
      <user-name>jerome187</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Not sure what the use case here is, but 25:00:00 does not parse as a time, it will throw argument out of range. 
If you want to store the semantic &quot;duration&quot;, you would be better off with another field not a time sql type.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Not sure what the use case here is, but 25:00:00 does not parse
as a time, it will throw argument out of range.&lt;br&gt;
If you want to store the semantic &quot;duration&quot;, you would be better
off with another field not a time sql type.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-12T21:41:10+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T21:41:11+01:00</updated-at>
      <user-id type="integer">17433</user-id>
      <version type="integer">6</version>
      <user-name>Aditya Sanghi</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>http://dev.mysql.com/doc/refman/5.0/en/date-and-time-type-overview.html

quote &quot;
TIME

A time. The range is '-838:59:59' to '838:59:59'. MySQL displays TIME values in 'HH:MM:SS' format, but permits assignment of values to TIME columns using either strings or numbers. &quot;

I want to use it for markers in video content.  Having a limit of 24hrs when -838 to 838 hrs is available in mysql (not sure of other databases) seems, uh, lame, for lack of better word.

I found it easy to write the test, I could take a crack at implementation as well.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=
&quot;http://dev.mysql.com/doc/refman/5.0/en/date-and-time-type-overview.html&quot;&gt;
http://dev.mysql.com/doc/refman/5.0/en/date-and-time-type-overview....&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;quote &quot;&lt;br&gt;
TIME&lt;/p&gt;
&lt;p&gt;A time. The range is '-838:59:59' to '838:59:59'. MySQL displays
TIME values in 'HH:MM:SS' format, but permits assignment of values
to TIME columns using either strings or numbers. &quot;&lt;/p&gt;
&lt;p&gt;I want to use it for markers in video content. Having a limit of
24hrs when -838 to 838 hrs is available in mysql (not sure of other
databases) seems, uh, lame, for lack of better word.&lt;/p&gt;
&lt;p&gt;I found it easy to write the test, I could take a crack at
implementation as well.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-12T21:58:14+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T21:58:20+01:00</updated-at>
      <user-id type="integer">119467</user-id>
      <version type="integer">7</version>
      <user-name>jerome187</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Awesome, please do send a patch. 

However, I do maintain, if you want to use video markers, you would be better off storing seconds from start in an integer field.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Awesome, please do send a patch.&lt;/p&gt;
&lt;p&gt;However, I do maintain, if you want to use video markers, you
would be better off storing seconds from start in an integer
field.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-12T22:56:01+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T22:56:05+01:00</updated-at>
      <user-id type="integer">17433</user-id>
      <version type="integer">8</version>
      <user-name>Aditya Sanghi</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>We will want milliseconds or at least tenths of a second too now that I think about it.  There does not seem to be support for milliseconds in any of the mysql datatypes.  Probably better off storing as a floating point disguised as string, or HH:MM:SS:hundredths of a sec

I guess means I will not implement it, at least for the time being, as I don't think we will use it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;We will want milliseconds or at least tenths of a second too now
that I think about it. There does not seem to be support for
milliseconds in any of the mysql datatypes. Probably better off
storing as a floating point disguised as string, or
HH:MM:SS:hundredths of a sec&lt;/p&gt;
&lt;p&gt;I guess means I will not implement it, at least for the time
being, as I don't think we will use it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-12T23:13:55+01:00</created-at>
      <creator-id type="integer">119467</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5788</number>
      <permalink>mysql-time</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>activerecord</tag>
      <title>mysql time</title>
      <updated-at type="datetime">2010-10-12T23:13:59+01:00</updated-at>
      <user-id type="integer">119467</user-id>
      <version type="integer">9</version>
      <user-name>jerome187</user-name>
      <creator-name>jerome187</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5788</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>4813fd1ad217d9ec45b1a32edc4f763c26f2029f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-10-12T05:12:57+01:00</created-at>
      <filename>time_test_patch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">714752</id>
      <size type="integer">1035</size>
      <uploader-id type="integer">119467</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/714752/time_test_patch.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>2191f9381eaaace192aed78efa6f4c71654dfae7</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-10-12T15:31:03+01:00</created-at>
      <filename>time_test_2_patch.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">715421</id>
      <size type="integer">2196</size>
      <uploader-id type="integer">119467</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/715421/time_test_2_patch.diff</url>
    </attachment>
  </attachments>
</ticket>
