<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">25293</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-10-27T17:29:13+00:00</created-at>
  <creator-id type="integer">17345</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">1282</number>
  <permalink>has_many-dependent-restrict</permalink>
  <priority type="integer">687</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>22 activerecord association has_many</tag>
  <title>has_many :dependent =&gt; :restrict</title>
  <updated-at type="datetime">2011-03-21T00:01:20+00:00</updated-at>
  <user-id type="integer">136779</user-id>
  <version type="integer">16</version>
  <user-name>rails</user-name>
  <creator-name>Steven Soroka</creator-name>
  <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Referential databases implementing SQL have a references option to &quot;on delete restrict&quot;, preventing a record from being deleted if it has child records.

Rails doesn't have anything like that, and since that's exactly what I need in my project (ie, users with ledger entries should never be deleted), I'm creating a ticket for it.

Patch to follow shortly.</original-body>
  <latest-body>Referential databases implementing SQL have a references option to &quot;on delete restrict&quot;, preventing a record from being deleted if it has child records.

Rails doesn't have anything like that, and since that's exactly what I need in my project (ie, users with ledger entries should never be deleted), I'm creating a ticket for it.

Patch to follow shortly.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Referential databases implementing SQL have a references option
to &quot;on delete restrict&quot;, preventing a record from being deleted if
it has child records.&lt;/p&gt;
&lt;p&gt;Rails doesn't have anything like that, and since that's exactly
what I need in my project (ie, users with ledger entries should
never be deleted), I'm creating a ticket for it.&lt;/p&gt;
&lt;p&gt;Patch to follow shortly.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Referential databases implementing SQL have a references option to &quot;on delete restrict&quot;, preventing a record from being deleted if it has child records.

Rails doesn't have anything like that, and since that's exactly what I need in my project (ie, users with ledger entries should never be deleted), I'm creating a ticket for it.

Patch to follow shortly.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Referential databases implementing SQL have a references option
to &quot;on delete restrict&quot;, preventing a record from being deleted if
it has child records.&lt;/p&gt;
&lt;p&gt;Rails doesn't have anything like that, and since that's exactly
what I need in my project (ie, users with ledger entries should
never be deleted), I'm creating a ticket for it.&lt;/p&gt;
&lt;p&gt;Patch to follow shortly.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-27T17:29:13+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2008-10-27T17:29:18+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">1</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Patch attached</body>
      <body-html>&lt;div&gt;&lt;p&gt;Patch attached&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-28T08:36:11+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2008-10-28T08:36:13+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">2</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>+1 on the idea. However I think there's a bug if you have other associations with :dependent =&gt; :destroy on the same model. See http://lists.rubyonrails.org/pipermail/rails-core/2006-July/002034.html for a previous discussion of the problem.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 on the idea. However I think there's a bug if you have other
associations with :dependent =&amp;gt; :destroy on the same model. See
&lt;a href=&quot;http://lists.rubyonrails.org/pipermail/rails-core/2006-July/002034.html&quot;&gt;
http://lists.rubyonrails.org/pip...&lt;/a&gt; for a previous discussion
of the problem.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-06T05:13:06+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2009-01-06T05:13:10+00:00</updated-at>
      <user-id type="integer">42674</user-id>
      <version type="integer">3</version>
      <user-name>Marshall</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I should've posted a bit more information on the problem... if you have :dependent =&gt; :destroy on a different association that is defined before the :dependent =&gt; :restrict association, then the first association's before_destroy will fire before the restricted association raises the exception.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I should've posted a bit more information on the problem... if
you have :dependent =&amp;gt; :destroy on a different association that
is defined before the :dependent =&amp;gt; :restrict association, then
the first association's before_destroy will fire before the
restricted association raises the exception.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-06T05:16:30+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2009-01-06T05:16:34+00:00</updated-at>
      <user-id type="integer">42674</user-id>
      <version type="integer">4</version>
      <user-name>Marshall</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hmm, good point, I'll have to fix that.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hmm, good point, I'll have to fix that.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-06T15:24:32+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2009-01-06T15:24:36+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">5</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I want this</body>
      <body-html>&lt;div&gt;&lt;p&gt;I want this&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-08T17:54:02+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2009-02-08T17:54:04+00:00</updated-at>
      <user-id type="integer">17200</user-id>
      <version type="integer">6</version>
      <user-name>Xavier Shay</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>though it should return false rather than raise
I don't quite understand Marshall's problem - all the callbacks happen in a transaction so who cares if the :destroy callbacks trigger first? (aside from maybe performance)</body>
      <body-html>&lt;div&gt;&lt;p&gt;though it should return false rather than raise I don't quite
understand Marshall's problem - all the callbacks happen in a
transaction so who cares if the :destroy callbacks trigger first?
(aside from maybe performance)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-08T17:57:24+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2009-02-08T17:57:29+00:00</updated-at>
      <user-id type="integer">17200</user-id>
      <version type="integer">7</version>
      <user-name>Xavier Shay</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Maybe it's a problem because mysql in myisam mode doesn't support db transactions?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Maybe it's a problem because mysql in myisam mode doesn't
support db transactions?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-09T14:52:07+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2009-03-09T14:52:13+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">8</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Quite useful. Any status update?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Quite useful. Any status update?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-21T07:40:47+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2010-03-21T07:41:48+00:00</updated-at>
      <user-id type="integer">8322</user-id>
      <version type="integer">9</version>
      <user-name>wildchild</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I have some time, I'll take another look at this.  I think you'd be fine to use the patch as long as you have transaction support in the database.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I have some time, I'll take another look at this. I think you'd
be fine to use the patch as long as you have transaction support in
the database.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-21T15:30:41+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2010-03-21T15:30:45+00:00</updated-at>
      <user-id type="integer">17345</user-id>
      <version type="integer">10</version>
      <user-name>Steven Soroka</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:36+01:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2010-05-04T18:48:36+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">11</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Please update this patch to apply to current Rails master and 2-3-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Please update this patch to apply to current Rails master and
2-3-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T04:49:59+01:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">687</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2010-10-11T04:50:00+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">12</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I think this would be better included in 3.1.

However, do you think this feature should support non-transactional database engine too? If so, I have to find the way to make the relational checking to be the topmost callback.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I think this would be better included in 3.1.&lt;/p&gt;
&lt;p&gt;However, do you think this feature should support
non-transactional database engine too? If so, I have to find the
way to make the relational checking to be the topmost callback.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T12:12:55+01:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">687</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2010-10-11T12:12:57+01:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">13</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Couldn't this simply add a validation check before anything else? Then validation will pick the problem, and before_destroy callbacks won't have a chance to fire. This should anyway be complemented with a constraint in the DB.

I created a duplicate ticket, even though Google didn't return anything useful: https://rails.lighthouseapp.com/projects/8994/tickets/6199-has_many-dependent-deny</body>
      <body-html>&lt;div&gt;&lt;p&gt;Couldn't this simply add a validation check before anything
else? Then validation will pick the problem, and before_destroy
callbacks won't have a chance to fire. This should anyway be
complemented with a constraint in the DB.&lt;/p&gt;
&lt;p&gt;I created a duplicate ticket, even though Google didn't return
anything useful: &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/6199-has_many-dependent-deny&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/6199-has_many...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-12-20T15:45:52+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">687</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.2 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2010-12-20T15:46:10+00:00</updated-at>
      <user-id type="integer">7319</user-id>
      <version type="integer">14</version>
      <user-name>Fran&#231;ois Beausoleil</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-21T00:00:16+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
:tag: 2.2 activerecord association has_many
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">687</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>22 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2011-03-21T00:01:07+00:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">15</version>
      <user-name>rails</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-03-21T00:00:16+00:00</created-at>
      <creator-id type="integer">17345</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">1282</number>
      <permalink>has_many-dependent-restrict</permalink>
      <priority type="integer">687</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>22 activerecord association has_many</tag>
      <title>has_many :dependent =&gt; :restrict</title>
      <updated-at type="datetime">2011-03-21T00:01:20+00:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">16</version>
      <user-name>rails</user-name>
      <creator-name>Steven Soroka</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1282</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>d96ec8ec1154ddd5c53c0e66645aafaaffe87dc3</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-28T08:36:11+00:00</created-at>
      <filename>active_record_restrict_dependency.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">57500</id>
      <size type="integer">12235</size>
      <uploader-id type="integer">17345</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/57500/active_record_restrict_dependency.diff</url>
    </attachment>
  </attachments>
</ticket>
