<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">424</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-05-24T03:23:56+01:00</created-at>
  <creator-id type="integer">38796</creator-id>
  <milestone-due-on type="datetime">2009-01-31T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">2703</number>
  <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
  <priority type="integer">2</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>cookies session</tag>
  <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
  <updated-at type="datetime">2009-05-30T15:37:05+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">12</version>
  <user-name>Repository</user-name>
  <creator-name>trevor</creator-name>
  <assigned-user-name>Joshua Peek</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
  <priority-name>Medium</priority-name>
  <original-body>there doesn't seem to be a way to check if a session already exists without lazy-loading a new session.</original-body>
  <latest-body>there doesn't seem to be a way to check if a session already exists without lazy-loading a new session.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;there doesn't seem to be a way to check if a session already
exists without lazy-loading a new session.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>there doesn't seem to be a way to check if a session already exists without lazy-loading a new session.</body>
      <body-html>&lt;div&gt;&lt;p&gt;there doesn't seem to be a way to check if a session already
exists without lazy-loading a new session.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-24T03:23:56+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-24T03:23:59+01:00</updated-at>
      <user-id type="integer">38796</user-id>
      <version type="integer">1</version>
      <user-name>trevor</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I couldn't agree more. Attached is a patch series that only writes to the session store if the SessionHash setter was accessed.

As a bonus, there's also a patch for not saving to the session when the flash content is empty.

The upside of both of these is that it's not setting any cookies (eg. user not logged in etc), which makes things _quite_ easier for edge-proxies</body>
      <body-html>&lt;div&gt;&lt;p&gt;I couldn't agree more. Attached is a patch series that only
writes to the session store if the SessionHash setter was
accessed.&lt;/p&gt;
&lt;p&gt;As a bonus, there's also a patch for not saving to the session
when the flash content is empty.&lt;/p&gt;
&lt;p&gt;The upside of both of these is that it's not setting any cookies
(eg. user not logged in etc), which makes things &lt;em&gt;quite&lt;/em&gt;
easier for edge-proxies&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-27T14:27:40+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
:title: 2.3.2 need a way to check if a session exists without creating one
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-27T14:27:42+01:00</updated-at>
      <user-id type="integer">1151</user-id>
      <version type="integer">2</version>
      <user-name>Johan S&#248;rensen</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Second part of the patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;Second part of the patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-27T14:28:51+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-27T14:28:55+01:00</updated-at>
      <user-id type="integer">1151</user-id>
      <version type="integer">3</version>
      <user-name>Johan S&#248;rensen</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-28T15:11:09+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 9903
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-28T15:11:13+01:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">4</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [dc94c095031036ffc0f9ac0ee98a1162e57062eb]) The FlashHash and friends causes a lot of needless session storing, when we know for a fact that there's no content in the flash. By not storing the empty hash in the session we save a lot of communication with the various session backends, while still keeping the same interface to the flash. [#2703 state:resolved]

Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;
http://github.com/rails/rails/commit/dc94c095031036ffc0f9ac0ee98a1162e57062eb</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/dc94c095031036ffc0f9ac0ee98a1162e57062eb&quot;
title=
&quot;Changeset [dc94c095031036ffc0f9ac0ee98a1162e57062eb]&quot;&gt;[dc94c095031036ffc0f9ac0ee98a1162e57062eb]&lt;/a&gt;)
The FlashHash and friends causes a lot of needless session storing,
when we know for a fact that there's no content in the flash. By
not storing the empty hash in the session we save a lot of
communication with the various session backends, while still
keeping the same interface to the flash. [&lt;a href=
&quot;/projects/8994/tickets/2703&quot; title=&quot;Ticket #2703&quot;&gt;#2703&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Joshua Peek &lt;a&gt;josh@joshpeek.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/dc94c095031036ffc0f9ac0ee98a1162e57062eb&quot;&gt;
http://github.com/rails/rails/commit/dc94c095031036ffc0f9ac0ee98a11...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-28T15:35:48+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-28T15:35:48+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [14edaa104de7b71a4cd11b03121c911ce221b813]) Only save the session if we're actually writing to it [#2703 state:resolved]

Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;
http://github.com/rails/rails/commit/14edaa104de7b71a4cd11b03121c911ce221b813</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/14edaa104de7b71a4cd11b03121c911ce221b813&quot;
title=
&quot;Changeset [14edaa104de7b71a4cd11b03121c911ce221b813]&quot;&gt;[14edaa104de7b71a4cd11b03121c911ce221b813]&lt;/a&gt;)
Only save the session if we're actually writing to it [&lt;a href=
&quot;/projects/8994/tickets/2703&quot; title=&quot;Ticket #2703&quot;&gt;#2703&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Joshua Peek &lt;a&gt;josh@joshpeek.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/14edaa104de7b71a4cd11b03121c911ce221b813&quot;&gt;
http://github.com/rails/rails/commit/14edaa104de7b71a4cd11b03121c91...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-28T15:35:48+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-28T15:35:49+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">6</version>
      <user-name>Repository</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [72cb6f58be6590ac2590eea420a1b3ef175189b3]) The FlashHash and friends causes a lot of needless session storing, when we know for a fact that there's no content in the flash. By not storing the empty hash in the session we save a lot of communication with the various session backends, while still keeping the same interface to the flash. [#2703 state:resolved]

Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;
http://github.com/rails/rails/commit/72cb6f58be6590ac2590eea420a1b3ef175189b3</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/72cb6f58be6590ac2590eea420a1b3ef175189b3&quot;
title=
&quot;Changeset [72cb6f58be6590ac2590eea420a1b3ef175189b3]&quot;&gt;[72cb6f58be6590ac2590eea420a1b3ef175189b3]&lt;/a&gt;)
The FlashHash and friends causes a lot of needless session storing,
when we know for a fact that there's no content in the flash. By
not storing the empty hash in the session we save a lot of
communication with the various session backends, while still
keeping the same interface to the flash. [&lt;a href=
&quot;/projects/8994/tickets/2703&quot; title=&quot;Ticket #2703&quot;&gt;#2703&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Joshua Peek &lt;a&gt;josh@joshpeek.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/72cb6f58be6590ac2590eea420a1b3ef175189b3&quot;&gt;
http://github.com/rails/rails/commit/72cb6f58be6590ac2590eea420a1b3...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-28T15:35:57+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-28T15:35:57+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">7</version>
      <user-name>Repository</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [dd98280e38d640f5724887cf8a715b79f0439d2d]) Only save the session if we're actually writing to it [#2703 state:resolved]

Signed-off-by: Joshua Peek &lt;josh@joshpeek.com&gt;
http://github.com/rails/rails/commit/dd98280e38d640f5724887cf8a715b79f0439d2d</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/dd98280e38d640f5724887cf8a715b79f0439d2d&quot;
title=
&quot;Changeset [dd98280e38d640f5724887cf8a715b79f0439d2d]&quot;&gt;[dd98280e38d640f5724887cf8a715b79f0439d2d]&lt;/a&gt;)
Only save the session if we're actually writing to it [&lt;a href=
&quot;/projects/8994/tickets/2703&quot; title=&quot;Ticket #2703&quot;&gt;#2703&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Joshua Peek &lt;a&gt;josh@joshpeek.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/dd98280e38d640f5724887cf8a715b79f0439d2d&quot;&gt;
http://github.com/rails/rails/commit/dd98280e38d640f5724887cf8a715b...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-28T15:35:57+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-28T15:35:58+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">8</version>
      <user-name>Repository</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>There is a problem.  If the session contains any sort of mutable object, and that object is retrieved using the SessionHash getter and then updated, then the session is not guaranteed to be stored.

https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/2734-git-head-regression-sessions-lose-changes

I'd like to request that the change be backed out and this ticket reopened.</body>
      <body-html>&lt;div&gt;&lt;p&gt;There is a problem. If the session contains any sort of mutable
object, and that object is retrieved using the SessionHash getter
and then updated, then the session is not guaranteed to be
stored.&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/2734-git-head-regression-sessions-lose-changes&quot;&gt;
https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I'd like to request that the change be backed out and this
ticket reopened.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-30T04:12:00+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-30T04:12:03+01:00</updated-at>
      <user-id type="integer">23341</user-id>
      <version type="integer">9</version>
      <user-name>Sam Ruby</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>*facepalm*

That's quite a gaping hole indeed, I suggest reverting the commits as well until I (or someone else) come up with a better patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;em&gt;facepalm&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;That's quite a gaping hole indeed, I suggest reverting the
commits as well until I (or someone else) come up with a better
patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-30T11:29:21+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-30T11:29:22+01:00</updated-at>
      <user-id type="integer">1151</user-id>
      <version type="integer">10</version>
      <user-name>Johan S&#248;rensen</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [c73cf7d2c0d164d819a483c83302cd4a62ca24b9]) Revert &quot;Only save the session if we're actually writing to it [#2703 state:resolved]&quot;

This reverts commit 14edaa104de7b71a4cd11b03121c911ce221b813.
http://github.com/rails/rails/commit/c73cf7d2c0d164d819a483c83302cd4a62ca24b9</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/c73cf7d2c0d164d819a483c83302cd4a62ca24b9&quot;
title=
&quot;Changeset [c73cf7d2c0d164d819a483c83302cd4a62ca24b9]&quot;&gt;[c73cf7d2c0d164d819a483c83302cd4a62ca24b9]&lt;/a&gt;)
Revert &quot;Only save the session if we're actually writing to it
[&lt;a href=&quot;/projects/8994/tickets/2703&quot; title=
&quot;Ticket #2703&quot;&gt;#2703&lt;/a&gt; state:resolved]&quot;&lt;/p&gt;
&lt;p&gt;This reverts commit
14edaa104de7b71a4cd11b03121c911ce221b813.&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/c73cf7d2c0d164d819a483c83302cd4a62ca24b9&quot;&gt;
http://github.com/rails/rails/commit/c73cf7d2c0d164d819a483c83302cd...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-30T15:36:58+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-30T15:36:58+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">11</version>
      <user-name>Repository</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">424</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [a1140a10318a79b5dace11679f654c33f477ef57]) Revert &quot;Only save the session if we're actually writing to it [#2703 state:resolved]&quot;

This reverts commit dd98280e38d640f5724887cf8a715b79f0439d2d.
http://github.com/rails/rails/commit/a1140a10318a79b5dace11679f654c33f477ef57</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/a1140a10318a79b5dace11679f654c33f477ef57&quot;
title=
&quot;Changeset [a1140a10318a79b5dace11679f654c33f477ef57]&quot;&gt;[a1140a10318a79b5dace11679f654c33f477ef57]&lt;/a&gt;)
Revert &quot;Only save the session if we're actually writing to it
[&lt;a href=&quot;/projects/8994/tickets/2703&quot; title=
&quot;Ticket #2703&quot;&gt;#2703&lt;/a&gt; state:resolved]&quot;&lt;/p&gt;
&lt;p&gt;This reverts commit
dd98280e38d640f5724887cf8a715b79f0439d2d.&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/a1140a10318a79b5dace11679f654c33f477ef57&quot;&gt;
http://github.com/rails/rails/commit/a1140a10318a79b5dace11679f654c...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-05-30T15:37:04+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2703</number>
      <permalink>232-need-a-way-to-check-if-a-session-exists-without-creating-one</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>cookies session</tag>
      <title>[PATCH] 2.3.2 need a way to check if a session exists without creating one</title>
      <updated-at type="datetime">2009-05-30T15:37:05+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">12</version>
      <user-name>Repository</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Joshua Peek</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2703</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>b7a753b60b1f8d0d3b2f766716345c8484043411</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-27T14:27:40+01:00</created-at>
      <filename>0001-Only-store-flash-keys-in-the-session-if-there-s-anyt.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">126653</id>
      <size type="integer">3111</size>
      <uploader-id type="integer">1151</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/126653/0001-Only-store-flash-keys-in-the-session-if-there-s-anyt.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>3eea3a9d2d46538be8bd193636b5d050de9bf691</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-27T14:28:51+01:00</created-at>
      <filename>0002-Only-save-the-session-if-we-re-actually-writing-to-i.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">126654</id>
      <size type="integer">4341</size>
      <uploader-id type="integer">1151</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/126654/0002-Only-save-the-session-if-we-re-actually-writing-to-i.patch</url>
    </attachment>
  </attachments>
</ticket>
