<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-07-28T23:51:49+01:00</created-at>
  <creator-id type="integer">29892</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">2968</number>
  <permalink>http-digest-authentication-raise-an-exception-if-the-client-fails-to-include-a-nonce</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>actionpack bugmash digest http_authentication patch tested</tag>
  <title>HTTP Digest authentication raise an exception if the client fails to include a nonce</title>
  <updated-at type="datetime">2009-10-21T20:06:37+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">5</version>
  <user-name>Repository</user-name>
  <creator-name>Adam Milligan</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2968</url>
  <priority-name nil="true"></priority-name>
  <original-body>The HTTP Digest authentication will raise an exception, and return a 500, if the client fails to include a nonce key/value in the Authorization header value.  Rather than raise an exception it should simply return 401.

This also happens if the client specifies Basic authentication credentials.  Again, it should return 401 rather than 500.

The fix is a single line check.  Tests included.</original-body>
  <latest-body>The HTTP Digest authentication will raise an exception, and return a 500, if the client fails to include a nonce key/value in the Authorization header value.  Rather than raise an exception it should simply return 401.

This also happens if the client specifies Basic authentication credentials.  Again, it should return 401 rather than 500.

The fix is a single line check.  Tests included.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The HTTP Digest authentication will raise an exception, and
return a 500, if the client fails to include a nonce key/value in
the Authorization header value. Rather than raise an exception it
should simply return 401.&lt;/p&gt;
&lt;p&gt;This also happens if the client specifies Basic authentication
credentials. Again, it should return 401 rather than 500.&lt;/p&gt;
&lt;p&gt;The fix is a single line check. Tests included.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The HTTP Digest authentication will raise an exception, and return a 500, if the client fails to include a nonce key/value in the Authorization header value.  Rather than raise an exception it should simply return 401.

This also happens if the client specifies Basic authentication credentials.  Again, it should return 401 rather than 500.

The fix is a single line check.  Tests included.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The HTTP Digest authentication will raise an exception, and
return a 500, if the client fails to include a nonce key/value in
the Authorization header value. Rather than raise an exception it
should simply return 401.&lt;/p&gt;
&lt;p&gt;This also happens if the client specifies Basic authentication
credentials. Again, it should return 401 rather than 500.&lt;/p&gt;
&lt;p&gt;The fix is a single line check. Tests included.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-28T23:51:49+01:00</created-at>
      <creator-id type="integer">29892</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2968</number>
      <permalink>http-digest-authentication-raise-an-exception-if-the-client-fails-to-include-a-nonce</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack digest http_authentication patch tested</tag>
      <title>HTTP Digest authentication raise an exception if the client fails to include a nonce</title>
      <updated-at type="datetime">2009-07-28T23:51:56+01:00</updated-at>
      <user-id type="integer">29892</user-id>
      <version type="integer">1</version>
      <user-name>Adam Milligan</user-name>
      <creator-name>Adam Milligan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2968</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-29T02:48:16+01:00</created-at>
      <creator-id type="integer">29892</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">41987</milestone-id>
      <number type="integer">2968</number>
      <permalink>http-digest-authentication-raise-an-exception-if-the-client-fails-to-include-a-nonce</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack digest http_authentication patch tested</tag>
      <title>HTTP Digest authentication raise an exception if the client fails to include a nonce</title>
      <updated-at type="datetime">2009-07-29T02:48:19+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">2</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Adam Milligan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2968</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <milestone-title>2.3.4</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[milestone:id#50064 bulk edit command]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[milestone:id#50064 bulk edit command]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-11T23:04:37+01:00</created-at>
      <creator-id type="integer">29892</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 41987
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2968</number>
      <permalink>http-digest-authentication-raise-an-exception-if-the-client-fails-to-include-a-nonce</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack digest http_authentication patch tested</tag>
      <title>HTTP Digest authentication raise an exception if the client fails to include a nonce</title>
      <updated-at type="datetime">2009-09-11T23:04:37+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">3</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Adam Milligan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2968</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <milestone-title>2.3.6</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-25T13:01:50+01:00</created-at>
      <creator-id type="integer">29892</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: actionpack digest http_authentication patch tested
:milestone: 50064
:assigned_user: 141
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2968</number>
      <permalink>http-digest-authentication-raise-an-exception-if-the-client-fails-to-include-a-nonce</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actionpack bugmash digest http_authentication patch tested</tag>
      <title>HTTP Digest authentication raise an exception if the client fails to include a nonce</title>
      <updated-at type="datetime">2009-09-25T13:01:54+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">4</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Adam Milligan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2968</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [fdf356d74b9054d44f23356051dd3a85ee9a83b3]) Fixed HTTP digest to properly return 401 when the Authorization header has no nonce specified, or the Authorization header specifies Basic auth [#2968 state:resolved]
http://github.com/rails/rails/commit/fdf356d74b9054d44f23356051dd3a85ee9a83b3</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/fdf356d74b9054d44f23356051dd3a85ee9a83b3&quot;
title=
&quot;Changeset [fdf356d74b9054d44f23356051dd3a85ee9a83b3]&quot;&gt;[fdf356d74b9054d44f23356051dd3a85ee9a83b3]&lt;/a&gt;)
Fixed HTTP digest to properly return 401 when the Authorization
header has no nonce specified, or the Authorization header
specifies Basic auth [&lt;a href=&quot;/projects/8994/tickets/2968&quot; title=
&quot;Ticket #2968&quot;&gt;#2968&lt;/a&gt; state:resolved] &lt;a href=
&quot;http://github.com/rails/rails/commit/fdf356d74b9054d44f23356051dd3a85ee9a83b3&quot;&gt;
http://github.com/rails/rails/commit/fdf356d74b9054d44f23356051dd3a...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-10-21T20:06:35+01:00</created-at>
      <creator-id type="integer">29892</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2968</number>
      <permalink>http-digest-authentication-raise-an-exception-if-the-client-fails-to-include-a-nonce</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>actionpack bugmash digest http_authentication patch tested</tag>
      <title>HTTP Digest authentication raise an exception if the client fails to include a nonce</title>
      <updated-at type="datetime">2009-10-21T20:06:37+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Adam Milligan</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2968</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>4a69aad6ab4634140a093f66be54207d67853ff8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-28T23:51:51+01:00</created-at>
      <filename>missing_nonce.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">231451</id>
      <size type="integer">3338</size>
      <uploader-id type="integer">29892</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/231451/missing_nonce.patch</url>
    </attachment>
  </attachments>
</ticket>
