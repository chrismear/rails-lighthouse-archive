<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">19965</assigned-user-id>
  <attachments-count type="integer">5</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-07-28T15:37:14+01:00</created-at>
  <creator-id type="integer">63624</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">2965</number>
  <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
  <priority type="integer">128723</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activerecord fixtures modules patch</tag>
  <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
  <updated-at type="datetime">2010-10-15T23:01:34+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">15</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>kmpm</creator-name>
  <assigned-user-name>Jos&#233; Valim</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body></original-body>
  <latest-body></latest-body>
  <original-body-html></original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If models reside within modules then fixture loading doesn't work when you use advanced / foxy fixture features like label references.
The attached patch adds some tests that fail already when loading.
`
test_relations(FoxyFixturesInModulesTest):
ActiveRecord::StatementInvalid: SQLite3::SQLException: table tracks has no column named album: INSERT INTO &quot;tracks&quot; (&quot;title&quot;, &quot;album&quot;) VALUES ('Foxy Lady', 'album1')
`


One could argue the **set_table_name** and/or **set_fixture_class** should be used but that is certainly not convention over configuration and you can't do **set_fixture_class** when doing a *rake db:fixtures:load*.


According to #1976 so should fixtures for a module possibly be in a folder with the fixture name by default but that makes the current situation even worse.</body>
      <body-html>&lt;div&gt;&lt;p&gt;If models reside within modules then fixture loading doesn't
work when you use advanced / foxy fixture features like label
references.&lt;br&gt;
The attached patch adds some tests that fail already when
loading.&lt;br&gt;
&lt;code&gt;test_relations(FoxyFixturesInModulesTest):&amp;lt;br/&amp;gt;
ActiveRecord::StatementInvalid: SQLite3::SQLException: table tracks
has no column named album: INSERT INTO &quot;tracks&quot; (&quot;title&quot;, &quot;album&quot;)
VALUES ('Foxy Lady', 'album1')&amp;lt;br/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;One could argue the &lt;strong&gt;set_table_name&lt;/strong&gt; and/or
&lt;strong&gt;set_fixture_class&lt;/strong&gt; should be used but that is
certainly not convention over configuration and you can't do
&lt;strong&gt;set_fixture_class&lt;/strong&gt; when doing a &lt;em&gt;rake
db:fixtures:load&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;According to &lt;a href=&quot;/projects/8994/tickets/1976&quot; title=
&quot;Ticket #1976&quot;&gt;#1976&lt;/a&gt; so should fixtures for a module possibly
be in a folder with the fixture name by default but that makes the
current situation even worse.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-28T15:37:14+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-07-28T20:07:09+01:00</updated-at>
      <user-id type="integer">63624</user-id>
      <version type="integer">1</version>
      <user-name>kmpm</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>missed adding the patch</body>
      <body-html>&lt;div&gt;&lt;p&gt;missed adding the patch&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-07-28T15:39:21+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-07-28T15:39:26+01:00</updated-at>
      <user-id type="integer">63624</user-id>
      <version type="integer">2</version>
      <user-name>kmpm</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hey,

I took your tests modifed them to reflect #1976 so fixtures are in subfolders representing the namespace for organisational purpose. generators should now generate the fixtures and models (no namespace in tablename) correctly.

also modified fixtures:load but no clue how to test it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey,&lt;/p&gt;
&lt;p&gt;I took your tests modifed them to reflect &lt;a href=
&quot;/projects/8994/tickets/1976&quot; title=&quot;Ticket #1976&quot;&gt;#1976&lt;/a&gt; so
fixtures are in subfolders representing the namespace for
organisational purpose. generators should now generate the fixtures
and models (no namespace in tablename) correctly.&lt;/p&gt;
&lt;p&gt;also modified fixtures:load but no clue how to test it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-16T03:13:16+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-08-16T03:13:20+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">3</version>
      <user-name>Kane</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>@Kane, awesome! I have some small feedback about the patch:

1) This code repeats in three parts in the patch:

@@@ ruby
  namespace = Fixtures.extract_namespace(fixture_file)
  class_name = Fixtures.build_class_name(table_name, namespace)
  Fixtures.try_to_load_dependency(class_name.underscore)
  class_name if Fixtures.class_exists? class_name
@@@

Could you put it in its own method?

2) There is a &quot;debug&quot; line in the patch:

@@@ ruby
if table_names.include?'albums'
puts table_names.inspect
puts class_names.inspect
end
@@@

3) One question, why do you have split, prune and join the namespace?

@@@ ruby
namespace = namespace.split('/')[0..-2].join('/')
@@@

4) And there is no need to add the generators changes on this patch. We will do that in #1976. :)

Good work, thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;@Kane, awesome! I have some small feedback about the patch:&lt;/p&gt;
&lt;p&gt;1) This code repeats in three parts in the patch:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  namespace = Fixtures.extract_namespace(fixture_file)
  class_name = Fixtures.build_class_name(table_name, namespace)
  Fixtures.try_to_load_dependency(class_name.underscore)
  class_name if Fixtures.class_exists? class_name&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Could you put it in its own method?&lt;/p&gt;
&lt;p&gt;2) There is a &quot;debug&quot; line in the patch:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;if table_names.include?'albums'
puts table_names.inspect
puts class_names.inspect
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;3) One question, why do you have split, prune and join the
namespace?&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;namespace = namespace.split('/')[0..-2].join('/')&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;4) And there is no need to add the generators changes on this
patch. We will do that in &lt;a href=&quot;/projects/8994/tickets/1976&quot;
title=&quot;Ticket #1976&quot;&gt;#1976&lt;/a&gt;. :)&lt;/p&gt;
&lt;p&gt;Good work, thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-16T08:37:44+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-08-16T08:37:45+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">4</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>thanks for the feedback

i removed all generator specific changes and the debug lines.
also made refactoring to reduce the repeating code. and to 3) i assume you mean line 510, its to remove the classname.</body>
      <body-html>&lt;div&gt;&lt;p&gt;thanks for the feedback&lt;/p&gt;
&lt;p&gt;i removed all generator specific changes and the debug
lines.&lt;br&gt;
also made refactoring to reduce the repeating code. and to 3) i
assume you mean line 510, its to remove the classname.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-16T19:48:50+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-08-16T19:48:54+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">5</version>
      <user-name>Kane</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body nil="true"></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-28T00:39:39+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-08-28T00:39:42+01:00</updated-at>
      <user-id type="integer">33030</user-id>
      <version type="integer">6</version>
      <user-name>Kane</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Is there a workaround for this bug? using set_fixture_class doesn't help in my case. I'm trying the same thing a bidirectional one-to-many association with foxy fixtures.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Is there a workaround for this bug? using set_fixture_class
doesn't help in my case. I'm trying the same thing a bidirectional
one-to-many association with foxy fixtures.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-12-03T22:19:35+00:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2009-12-03T22:19:37+00:00</updated-at>
      <user-id type="integer">78499</user-id>
      <version type="integer">7</version>
      <user-name>gjeudy</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Attached patch adds support for namespaced model fixtures. Fixture name uses '/' to specify the namespace, so to use in a test you'd do something like this:

@@@ ruby
class Admin::AccountTest &lt; ActiveSupport::TestCase
  fixtures :&quot;admin/accounts&quot;

  def test_something
    assert admin_accounts(:fixture_name)
  end
end
@@@

Code isn't as clean as I'd like but I'm guessing you don't want a major refactoring of fixtures at this point. It should be possible to backport this to 2-3-stable if desired as soon as the backport of #2283 is applied.

I was in two minds over stripping the namespace off the fixture accessor - what do you think?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Attached patch adds support for namespaced model fixtures.
Fixture name uses '/' to specify the namespace, so to use in a test
you'd do something like this:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class Admin::AccountTest &amp;lt; ActiveSupport::TestCase
  fixtures :&quot;admin/accounts&quot;

  def test_something
    assert admin_accounts(:fixture_name)
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Code isn't as clean as I'd like but I'm guessing you don't want
a major refactoring of fixtures at this point. It should be
possible to backport this to 2-3-stable if desired as soon as the
backport of &lt;a href=&quot;/projects/8994/tickets/2283&quot; title=
&quot;Ticket #2283&quot;&gt;#2283&lt;/a&gt; is applied.&lt;/p&gt;
&lt;p&gt;I was in two minds over stripping the namespace off the fixture
accessor - what do you think?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-14T18:30:07+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-14T18:30:10+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">8</version>
      <user-name>Andrew White</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-14T20:06:02+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 
:assigned_user: 85
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-14T20:06:06+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">9</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>It would help if I included the fixtures and models. Got burned (again!) by the fact that git commit -a doesn't include new files.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It would help if I included the fixtures and models. Got burned
(again!) by the fact that git commit -a doesn't include new
files.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-15T06:12:14+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-15T06:12:28+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">10</version>
      <user-name>Andrew White</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Hey Andrey, sorry for the delay but the patch does not apply anymore. Can you please rebase it?
Also, what is the deal with #2283? It's marked as resolved, but the problem still persists for you?

Finally, I'm -1 in back porting these changes to 2.3 since I don't want to make significative changes and break plugins in a maintenance branch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hey Andrey, sorry for the delay but the patch does not apply
anymore. Can you please rebase it?&lt;br&gt;
Also, what is the deal with &lt;a href=&quot;/projects/8994/tickets/2283&quot;
title=&quot;Ticket #2283&quot;&gt;#2283&lt;/a&gt;? It's marked as resolved, but the
problem still persists for you?&lt;/p&gt;
&lt;p&gt;Finally, I'm -1 in back porting these changes to 2.3 since I
don't want to make significative changes and break plugins in a
maintenance branch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-25T12:23:40+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-25T12:23:45+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">11</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Rebased patch attached.

The issue with #2283 is that I backported the patch but it's never been applied to 2-3-stable. Since I was asked to backport #4032 I thought there was an attempt to get nested models working the same in 2.3 and 3.0, which is why I suggested backporting this patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rebased patch attached.&lt;/p&gt;
&lt;p&gt;The issue with &lt;a href=&quot;/projects/8994/tickets/2283&quot; title=
&quot;Ticket #2283&quot;&gt;#2283&lt;/a&gt; is that I backported the patch but it's
never been applied to 2-3-stable. Since I was asked to backport
&lt;a href=&quot;/projects/8994/tickets/4032&quot; title=
&quot;Ticket #4032&quot;&gt;#4032&lt;/a&gt; I thought there was an attempt to get
nested models working the same in 2.3 and 3.0, which is why I
suggested backporting this patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-25T14:46:23+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-25T14:46:26+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">12</version>
      <user-name>Andrew White</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>(from [8ec085bf1804770a547894967fcdee24087fda87]) Support fixtures for namespaced models [#2965 state:resolved]

Signed-off-by: Jos&#233; Valim &lt;jose.valim@gmail.com&gt;
http://github.com/rails/rails/commit/8ec085bf1804770a547894967fcdee24087fda87</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/8ec085bf1804770a547894967fcdee24087fda87&quot;
title=
&quot;Changeset [8ec085bf1804770a547894967fcdee24087fda87]&quot;&gt;[8ec085bf1804770a547894967fcdee24087fda87]&lt;/a&gt;)
Support fixtures for namespaced models [&lt;a href=
&quot;/projects/8994/tickets/2965&quot; title=&quot;Ticket #2965&quot;&gt;#2965&lt;/a&gt;
state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jos&amp;eacute; Valim &lt;a&gt;jose.valim@gmail.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/8ec085bf1804770a547894967fcdee24087fda87&quot;&gt;
http://github.com/rails/rails/commit/8ec085bf1804770a547894967fcdee...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-25T15:05:19+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-25T15:05:20+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">13</version>
      <user-name>Repository</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Awesome, thanks for the patch! Imho, there is no need to backport for 2-3-stable. If anyone else is interested, they can apply it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Awesome, thanks for the patch! Imho, there is no need to
backport for 2-3-stable. If anyone else is interested, they can
apply it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-04-25T15:06:40+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-04-25T15:06:44+01:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">14</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">19965</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:34+01:00</created-at>
      <creator-id type="integer">63624</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">2965</number>
      <permalink>advanced-foxy-fixture-features-doesnt-work-well-with-models-in-modules</permalink>
      <priority type="integer">128723</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord fixtures modules patch</tag>
      <title>Advanced / foxy fixture features doesn't work well with models in modules</title>
      <updated-at type="datetime">2010-10-15T23:01:34+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">15</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>kmpm</creator-name>
      <assigned-user-name>Jos&#233; Valim</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2965</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>62f8d2f389c5678a2fa8332c8aee31f2f586da3e</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-07-28T15:39:21+01:00</created-at>
      <filename>test_foxy_fixtures_with_module_models.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">231012</id>
      <size type="integer">3260</size>
      <uploader-id type="integer">63624</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/231012/test_foxy_fixtures_with_module_models.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>52c8d16cebc0cfd82f724379294e288db39bf4e8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-08-16T19:48:50+01:00</created-at>
      <filename>namespaced_fixtures.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">244980</id>
      <size type="integer">12077</size>
      <uploader-id type="integer">33030</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/244980/namespaced_fixtures.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>facad232f07076c5465afb25bcb41d6d574a6cc1</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-14T18:30:07+01:00</created-at>
      <filename>0001-fix-nested-model-fixtures.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">482597</id>
      <size type="integer">5995</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/482597/0001-fix-nested-model-fixtures.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>619602d39370eb1dd1f6562c1e7ddd9bcb4751f6</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-15T06:12:14+01:00</created-at>
      <filename>0002-fix-nested-model-fixtures.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">483395</id>
      <size type="integer">8118</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/483395/0002-fix-nested-model-fixtures.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>32bacfd453e7b0c0b59373dbb91f23ecfbe08495</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-04-25T14:46:23+01:00</created-at>
      <filename>0003-fix-nested-model-fixtures.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">495937</id>
      <size type="integer">8076</size>
      <uploader-id type="integer">7697</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/495937/0003-fix-nested-model-fixtures.diff</url>
    </attachment>
  </attachments>
</ticket>
