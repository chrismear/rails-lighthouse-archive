<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">11378</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2011-01-18T18:10:11+00:00</created-at>
  <creator-id type="integer">26148</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6308</number>
  <permalink>fix-filestore-cleanup-method</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>new</state>
  <tag>caching patch</tag>
  <title>Fix FileStore cleanup method</title>
  <updated-at type="datetime">2011-02-21T18:07:56+00:00</updated-at>
  <user-id type="integer">26148</user-id>
  <version type="integer">4</version>
  <user-name>Brian Durand</user-name>
  <creator-name>Brian Durand</creator-name>
  <assigned-user-name>Xavier Noria</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6308</url>
  <priority-name>Low</priority-name>
  <original-body>The cleanup method on ActiveSupport::Cache::FileStore on the 3.0 branch is defined but doesn't actually work. I have fixed the implementation so it can be used to clean up old cache entries either by expiration time or by how recently they've been used and added tests.

This method is needed to keep the cache from growing without bound until if fills up the disk.

The syntax is:

Rails.cache.cleanup(:expired_only =&gt; true)

or

Rails.cache.cleanup(:not_accessed_in =&gt; 2.days)</original-body>
  <latest-body>The cleanup method on ActiveSupport::Cache::FileStore on the 3.0 branch is defined but doesn't actually work. I have fixed the implementation so it can be used to clean up old cache entries either by expiration time or by how recently they've been used and added tests.

This method is needed to keep the cache from growing without bound until if fills up the disk.

The syntax is:

Rails.cache.cleanup(:expired_only =&gt; true)

or

Rails.cache.cleanup(:not_accessed_in =&gt; 2.days)</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;The cleanup method on ActiveSupport::Cache::FileStore on the 3.0
branch is defined but doesn't actually work. I have fixed the
implementation so it can be used to clean up old cache entries
either by expiration time or by how recently they've been used and
added tests.&lt;/p&gt;
&lt;p&gt;This method is needed to keep the cache from growing without
bound until if fills up the disk.&lt;/p&gt;
&lt;p&gt;The syntax is:&lt;/p&gt;
&lt;p&gt;Rails.cache.cleanup(:expired_only =&amp;gt; true)&lt;/p&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;p&gt;Rails.cache.cleanup(:not_accessed_in =&amp;gt; 2.days)&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The cleanup method on ActiveSupport::Cache::FileStore on the 3.0 branch is defined but doesn't actually work. I have fixed the implementation so it can be used to clean up old cache entries either by expiration time or by how recently they've been used and added tests.

This method is needed to keep the cache from growing without bound until if fills up the disk.

The syntax is:

Rails.cache.cleanup(:expired_only =&gt; true)

or

Rails.cache.cleanup(:not_accessed_in =&gt; 2.days)</body>
      <body-html>&lt;div&gt;&lt;p&gt;The cleanup method on ActiveSupport::Cache::FileStore on the 3.0
branch is defined but doesn't actually work. I have fixed the
implementation so it can be used to clean up old cache entries
either by expiration time or by how recently they've been used and
added tests.&lt;/p&gt;
&lt;p&gt;This method is needed to keep the cache from growing without
bound until if fills up the disk.&lt;/p&gt;
&lt;p&gt;The syntax is:&lt;/p&gt;
&lt;p&gt;Rails.cache.cleanup(:expired_only =&amp;gt; true)&lt;/p&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;p&gt;Rails.cache.cleanup(:not_accessed_in =&amp;gt; 2.days)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-18T18:10:11+00:00</created-at>
      <creator-id type="integer">26148</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6308</number>
      <permalink>fix-filestore-cleanup-method</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>caching</tag>
      <title>Fix FileStore cleanup method</title>
      <updated-at type="datetime">2011-01-18T18:15:44+00:00</updated-at>
      <user-id type="integer">26148</user-id>
      <version type="integer">1</version>
      <user-name>Brian Durand</user-name>
      <creator-name>Brian Durand</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6308</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-18T18:18:51+00:00</created-at>
      <creator-id type="integer">26148</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: caching
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6308</number>
      <permalink>fix-filestore-cleanup-method</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>caching patch</tag>
      <title>Fix FileStore cleanup method</title>
      <updated-at type="datetime">2011-01-18T18:22:27+00:00</updated-at>
      <user-id type="integer">26148</user-id>
      <version type="integer">2</version>
      <user-name>Brian Durand</user-name>
      <creator-name>Brian Durand</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6308</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">11378</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-25T09:52:38+00:00</created-at>
      <creator-id type="integer">26148</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6308</number>
      <permalink>fix-filestore-cleanup-method</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>caching patch</tag>
      <title>Fix FileStore cleanup method</title>
      <updated-at type="datetime">2011-01-25T09:52:50+00:00</updated-at>
      <user-id type="integer">11378</user-id>
      <version type="integer">3</version>
      <user-name>Xavier Noria</user-name>
      <creator-name>Brian Durand</creator-name>
      <assigned-user-name>Xavier Noria</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6308</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">11378</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>New patch file that include documentation update to Rails guide for caching.</body>
      <body-html>&lt;div&gt;&lt;p&gt;New patch file that include documentation update to Rails guide
for caching.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-21T18:07:48+00:00</created-at>
      <creator-id type="integer">26148</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6308</number>
      <permalink>fix-filestore-cleanup-method</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>caching patch</tag>
      <title>Fix FileStore cleanup method</title>
      <updated-at type="datetime">2011-02-21T18:07:56+00:00</updated-at>
      <user-id type="integer">26148</user-id>
      <version type="integer">4</version>
      <user-name>Brian Durand</user-name>
      <creator-name>Brian Durand</creator-name>
      <assigned-user-name>Xavier Noria</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6308</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>db6b7e79c9957ad87190da334b8e8a4a703bd544</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2011-01-18T18:10:11+00:00</created-at>
      <filename>0002-fix-filestore-cleanup-to-actually-work.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">866825</id>
      <size type="integer">3910</size>
      <uploader-id type="integer">26148</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/866825/0002-fix-filestore-cleanup-to-actually-work.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>ecd352efaf8da180c3aabf570976eda6922cfad2</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2011-02-21T18:07:48+00:00</created-at>
      <filename>0001-fix-filestore-cleanup-to-actually-work-6308-state-re.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">922442</id>
      <size type="integer">5483</size>
      <uploader-id type="integer">26148</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/922442/0001-fix-filestore-cleanup-to-actually-work-6308-state-re.patch</url>
    </attachment>
  </attachments>
</ticket>
