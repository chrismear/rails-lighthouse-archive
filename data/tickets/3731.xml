<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-01-17T23:33:05+00:00</created-at>
  <creator-id type="integer">28714</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">3731</number>
  <permalink>actionmailer-errors-on-ruby-191-p376</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag nil="true"></tag>
  <title>ActionMailer errors on ruby-1.9.1-p376</title>
  <updated-at type="datetime">2010-01-21T16:50:13+00:00</updated-at>
  <user-id type="integer">65556</user-id>
  <version type="integer">5</version>
  <user-name>Rizwan Reza</user-name>
  <creator-name>Thiago Pradi</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3731</url>
  <priority-name nil="true"></priority-name>
  <original-body>1) Error:
test_decode_message_with_incorrect_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:876:in `test_decode_message_with_incorrect_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1035:in `test_decode_message_with_unknown_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  3) Error:
test_decode_message_without_content_type(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:870:in `test_decode_message_without_content_type'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'


Getting this errors with Ruby 1.9.1 p376 running on Mac OSX.</original-body>
  <latest-body>1) Error:
test_decode_message_with_incorrect_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:876:in `test_decode_message_with_incorrect_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1035:in `test_decode_message_with_unknown_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  3) Error:
test_decode_message_without_content_type(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:870:in `test_decode_message_without_content_type'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'


Getting this errors with Ruby 1.9.1 p376 running on Mac OSX.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;1) Error:&lt;br&gt;
test_decode_message_with_incorrect_charset(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:876:in `test_decode_message_with_incorrect_charset'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1035:in `test_decode_message_with_unknown_charset'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;3) Error:
test_decode_message_without_content_type(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:870:in `test_decode_message_without_content_type'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Getting this errors with Ruby 1.9.1 p376 running on Mac OSX.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>1) Error:
test_decode_message_with_incorrect_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:876:in `test_decode_message_with_incorrect_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1035:in `test_decode_message_with_unknown_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  3) Error:
test_decode_message_without_content_type(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:870:in `test_decode_message_without_content_type'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'


Getting this errors with Ruby 1.9.1 p376 running on Mac OSX.</body>
      <body-html>&lt;div&gt;&lt;p&gt;1) Error:&lt;br&gt;
test_decode_message_with_incorrect_charset(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:876:in `test_decode_message_with_incorrect_charset'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1035:in `test_decode_message_with_unknown_charset'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;3) Error:
test_decode_message_without_content_type(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1437:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:1526:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.5.4/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:870:in `test_decode_message_without_content_type'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Getting this errors with Ruby 1.9.1 p376 running on Mac OSX.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-17T23:33:05+00:00</created-at>
      <creator-id type="integer">28714</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3731</number>
      <permalink>actionmailer-errors-on-ruby-191-p376</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash</tag>
      <title>ActionMailer errors on ruby-1.9.1-p376</title>
      <updated-at type="datetime">2010-01-17T23:33:07+00:00</updated-at>
      <user-id type="integer">28714</user-id>
      <version type="integer">1</version>
      <user-name>Thiago Pradi</user-name>
      <creator-name>Thiago Pradi</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3731</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Can't duplicate. Which mail version you have bundled?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can't duplicate. Which mail version you have bundled?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-18T09:00:19+00:00</created-at>
      <creator-id type="integer">28714</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3731</number>
      <permalink>actionmailer-errors-on-ruby-191-p376</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash</tag>
      <title>ActionMailer errors on ruby-1.9.1-p376</title>
      <updated-at type="datetime">2010-01-18T09:00:23+00:00</updated-at>
      <user-id type="integer">19965</user-id>
      <version type="integer">2</version>
      <user-name>Jos&#233; Valim</user-name>
      <creator-name>Thiago Pradi</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3731</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>mail-1.6.0 and mail-1.5.4 raises the same error for me.

  1) Error:
test_decode_message_with_incorrect_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1428:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1517:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:875:in `test_decode_message_with_incorrect_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1428:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1517:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1034:in `test_decode_message_with_unknown_charset'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

  3) Error:
test_decode_message_without_content_type(ActionMailerTest):
ArgumentError: invalid byte sequence in US-ASCII
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `gsub'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `to_crlf'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1428:in `raw_source='
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1517:in `init_with_string'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:106:in `initialize'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
    /Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:869:in `test_decode_message_without_content_type'
    /Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'

143 tests, 385 assertions, 0 failures, 3 errors, 0 skips
rake aborted!
Command failed with status (1): [/Users/tchandy/.rvm/ruby-1.9.1-p376/bin/ru...]

(See full trace by running task with --trace)</body>
      <body-html>&lt;div&gt;&lt;p&gt;mail-1.6.0 and mail-1.5.4 raises the same error for me.&lt;/p&gt;
&lt;p&gt;1) Error:
test_decode_message_with_incorrect_charset(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1428:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1517:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:875:in `test_decode_message_with_incorrect_charset'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;2) Error:
test_decode_message_with_unknown_charset(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1428:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1517:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:1034:in `test_decode_message_with_unknown_charset'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;3) Error:
test_decode_message_without_content_type(ActionMailerTest):&lt;br&gt;
ArgumentError: invalid byte sequence in US-ASCII&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `gsub'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/core_extensions/string.rb:4:in `to_crlf'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1428:in `raw_source='
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:1517:in `init_with_string'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/message.rb:106:in `initialize'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mail-1.6.0/lib/mail/mail.rb:50:in `new'
/Users/tchandy/Projetos/OpenSource/rails/actionmailer/test/mail_service_test.rb:869:in `test_decode_message_without_content_type'
/Users/tchandy/Projetos/OpenSource/rails/vendor/gems/ruby/1.9.1/gems/mocha-0.9.8/lib/mocha/integration/mini_test/version_131_and_above.rb:27:in `run'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;143 tests, 385 assertions, 0 failures, 3 errors, 0 skips&lt;br&gt;
rake aborted!&lt;br&gt;
Command failed with status (1):
[/Users/tchandy/.rvm/ruby-1.9.1-p376/bin/ru...]&lt;/p&gt;
&lt;p&gt;(See full trace by running task with --trace)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-19T04:28:58+00:00</created-at>
      <creator-id type="integer">28714</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3731</number>
      <permalink>actionmailer-errors-on-ruby-191-p376</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash</tag>
      <title>ActionMailer errors on ruby-1.9.1-p376</title>
      <updated-at type="datetime">2010-01-19T04:29:01+00:00</updated-at>
      <user-id type="integer">28714</user-id>
      <version type="integer">3</version>
      <user-name>Thiago Pradi</user-name>
      <creator-name>Thiago Pradi</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3731</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Can you put the email that raised the error as an attachment?

You can sanitise it first, but try not to change the contents (charsets) too much.

Mikel</body>
      <body-html>&lt;div&gt;&lt;p&gt;Can you put the email that raised the error as an
attachment?&lt;/p&gt;
&lt;p&gt;You can sanitise it first, but try not to change the contents
(charsets) too much.&lt;/p&gt;
&lt;p&gt;Mikel&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-19T09:13:41+00:00</created-at>
      <creator-id type="integer">28714</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3731</number>
      <permalink>actionmailer-errors-on-ruby-191-p376</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash</tag>
      <title>ActionMailer errors on ruby-1.9.1-p376</title>
      <updated-at type="datetime">2010-01-19T09:13:43+00:00</updated-at>
      <user-id type="integer">15159</user-id>
      <version type="integer">4</version>
      <user-name>Mikel Lindsaar</user-name>
      <creator-name>Thiago Pradi</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3731</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-21T16:50:10+00:00</created-at>
      <creator-id type="integer">28714</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3731</number>
      <permalink>actionmailer-errors-on-ruby-191-p376</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>ActionMailer errors on ruby-1.9.1-p376</title>
      <updated-at type="datetime">2010-01-21T16:50:13+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">5</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Thiago Pradi</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3731</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
