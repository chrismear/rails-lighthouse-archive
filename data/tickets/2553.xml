<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-21T14:04:58+00:00</created-at>
  <creator-id type="integer">13434</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">82855</milestone-id>
  <number type="integer">2553</number>
  <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>23x actionview bugmash config configuration erb</tag>
  <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
  <updated-at type="datetime">2011-02-21T14:04:58+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">20</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Jos Backus</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
  <milestone-title>2.3.10</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>Adding

{{{
ActionView::TemplateHandlers::ERB.erb_trim_mode = '%-'
}}}

to config/initializers/liveops.rb yields:

{{{
/opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/class/attribute_accessors.rb:37:in `erb_trim_mode=': can't modify frozen class/module (TypeError)
        from /var/home/josb/src/ops/trunk/www/main/config/initializers/liveops.rb:8
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load_without_new_constant_marking'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:600:in `load_application_initializers'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `each'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `load_application_initializers'
         ... 9 levels...
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:84
        from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
        from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
        from /home/josb/src/ops/trunk/www/main/script/server:3
}}}</original-body>
  <latest-body>Adding

{{{
ActionView::TemplateHandlers::ERB.erb_trim_mode = '%-'
}}}

to config/initializers/liveops.rb yields:

{{{
/opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/class/attribute_accessors.rb:37:in `erb_trim_mode=': can't modify frozen class/module (TypeError)
        from /var/home/josb/src/ops/trunk/www/main/config/initializers/liveops.rb:8
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load_without_new_constant_marking'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:600:in `load_application_initializers'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `each'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `load_application_initializers'
         ... 9 levels...
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:84
        from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
        from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
        from /home/josb/src/ops/trunk/www/main/script/server:3
}}}</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Adding&lt;/p&gt;
&lt;p&gt;{{{ ActionView::TemplateHandlers::ERB.erb_trim_mode = '%-'
}}}&lt;/p&gt;
&lt;p&gt;to config/initializers/liveops.rb yields:&lt;/p&gt;
&lt;p&gt;{{{
/opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/class/attribute_accessors.rb:37:in
&lt;code&gt;erb_trim_mode=': can't modify frozen class/module
(TypeError)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    from /var/home/josb/src/ops/trunk/www/main/config/initializers/liveops.rb:8
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load_without_new_constant_marking'
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:600:in `load_application_initializers'
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `each'
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `load_application_initializers'
     ... 9 levels...
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:84
    from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    from /home/josb/src/ops/trunk/www/main/script/server:3
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;}}}&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Adding

{{{
ActionView::TemplateHandlers::ERB.erb_trim_mode = '%-'
}}}

to config/initializers/liveops.rb yields:

{{{
/opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/class/attribute_accessors.rb:37:in `erb_trim_mode=': can't modify frozen class/module (TypeError)
        from /var/home/josb/src/ops/trunk/www/main/config/initializers/liveops.rb:8
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load_without_new_constant_marking'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
        from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:600:in `load_application_initializers'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `each'
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `load_application_initializers'
         ... 9 levels...
        from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:84
        from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
        from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
        from /home/josb/src/ops/trunk/www/main/script/server:3
}}}</body>
      <body-html>&lt;div&gt;&lt;p&gt;Adding&lt;/p&gt;
&lt;p&gt;{{{ ActionView::TemplateHandlers::ERB.erb_trim_mode = '%-'
}}}&lt;/p&gt;
&lt;p&gt;to config/initializers/liveops.rb yields:&lt;/p&gt;
&lt;p&gt;{{{
/opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/class/attribute_accessors.rb:37:in
&lt;code&gt;erb_trim_mode=': can't modify frozen class/module
(TypeError)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    from /var/home/josb/src/ops/trunk/www/main/config/initializers/liveops.rb:8
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load_without_new_constant_marking'
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    from /opt/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:145:in `load'
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:600:in `load_application_initializers'
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `each'
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/initializer.rb:599:in `load_application_initializers'
     ... 9 levels...
    from /opt/ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:84
    from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    from /opt/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    from /home/josb/src/ops/trunk/www/main/script/server:3
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;}}}&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-23T22:27:42+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-04-23T22:27:44+01:00</updated-at>
      <user-id type="integer">13434</user-id>
      <version type="integer">1</version>
      <user-name>Jos Backus</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-06T14:12:02+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-08-06T14:12:04+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>verified

+1 This bug is still there in 2-3-stable but not in master branch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;verified&lt;/p&gt;
&lt;p&gt;+1 This bug is still there in 2-3-stable but not in master
branch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T14:08:34+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-08-08T14:08:38+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">3</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1 verified - although I believe we should come up with a better way to adjust this. 

I'm trying to track down where the class is frozen</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified - although I believe we should come up with a better
way to adjust this.&lt;/p&gt;
&lt;p&gt;I'm trying to track down where the class is frozen&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T17:39:27+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-08-08T17:39:33+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">4</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>tracing this down it has to do with memoization - it looks like line 211 (load!) of actionpack/lib/template.rb 

sorry I couldn't trace it down further</body>
      <body-html>&lt;div&gt;&lt;p&gt;tracing this down it has to do with memoization - it looks like
line 211 (load!) of actionpack/lib/template.rb&lt;/p&gt;
&lt;p&gt;sorry I couldn't trace it down further&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T18:00:01+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-08-08T18:00:06+01:00</updated-at>
      <user-id type="integer">22242</user-id>
      <version type="integer">5</version>
      <user-name>Dan Pickett</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1 verified</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-26T20:28:53+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-09-26T21:22:56+01:00</updated-at>
      <user-id type="integer">64236</user-id>
      <version type="integer">6</version>
      <user-name>John Pignata</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1 verified. Issue reproducible on 2-3-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified. Issue reproducible on 2-3-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-27T05:53:54+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-09-27T05:53:58+01:00</updated-at>
      <user-id type="integer">71121</user-id>
      <version type="integer">7</version>
      <user-name>sr.iniv.t</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1 verified on 2-3-stable indeed, but not on master...
Obviously Dan is right, the `freeze` occurs on load, which is before the initializers are run... hence the error.

i can't help to think that maybe if it will be called in another way.... i successfully tried 

@@@
# initializers/erb_trim.rb

class ActionView::Base
  class_variable_set :@@erb_trim_mode, '-%'
end

@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified on 2-3-stable indeed, but not on master... Obviously
Dan is right, the &lt;code&gt;freeze&lt;/code&gt; occurs on load, which is
before the initializers are run... hence the error.&lt;/p&gt;
&lt;p&gt;i can't help to think that maybe if it will be called in another
way.... i successfully tried&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# initializers/erb_trim.rb

class ActionView::Base
  class_variable_set :@@erb_trim_mode, '-%'
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-27T06:27:55+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-09-27T06:27:58+01:00</updated-at>
      <user-id type="integer">36381</user-id>
      <version type="integer">8</version>
      <user-name>Elad Meidar</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>+1 verified I'm with Elad and Dan for finding a better way to set this though.</body>
      <body-html>&lt;div&gt;&lt;p&gt;+1 verified I'm with Elad and Dan for finding a better way to
set this though.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-09-27T07:12:08+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2009-09-27T07:12:12+01:00</updated-at>
      <user-id type="integer">26790</user-id>
      <version type="integer">9</version>
      <user-name>Kieran P</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-21T07:36:38+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.x actionview bugmash config configuration erb
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-01-21T07:36:39+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">10</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-01-21T07:36:49+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-01-21T07:36:50+00:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">11</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>the workaround suggested by Elad didn't work for me on 2.3.5. I had to use:

@@@ ruby
gem 'actionpack', &quot;=#{RAILS_GEM_VERSION}&quot;
require 'action_view'
class ActionView::TemplateHandlers::ERB
  def erb_trim_mode
    '%-'
  end
end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;the workaround suggested by Elad didn't work for me on 2.3.5. I
had to use:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;gem 'actionpack', &quot;=#{RAILS_GEM_VERSION}&quot;
require 'action_view'
class ActionView::TemplateHandlers::ERB
  def erb_trim_mode
    '%-'
  end
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-17T17:37:54+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-02-17T17:37:57+00:00</updated-at>
      <user-id type="integer">86910</user-id>
      <version type="integer">12</version>
      <user-name>niklas</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is also a problem in the Rails 3 beta.

I used this code in my config/application.rb to get around it:

@@@ ruby
class ActionView::Template::Handler::ERB
  def erb_trim_mode
    '&gt;'
  end
end
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is also a problem in the Rails 3 beta.&lt;/p&gt;
&lt;p&gt;I used this code in my config/application.rb to get around
it:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;class ActionView::Template::Handler::ERB
  def erb_trim_mode
    '&amp;gt;'
  end
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-03-24T19:13:04+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-03-24T19:13:16+00:00</updated-at>
      <user-id type="integer">41154</user-id>
      <version type="integer">13</version>
      <user-name>cult hero</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20088)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20088&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-16T02:41:09+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.x actionview config configuration erb
</diffable-attributes>
      <milestone-id type="integer">50064</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-05-16T02:41:09+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">14</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.6</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20606)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20606&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-23T17:54:43+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 50064
</diffable-attributes>
      <milestone-id type="integer">73241</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-05-23T17:54:43+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">15</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.7</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20631)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20631&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-24T09:40:51+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73241
</diffable-attributes>
      <milestone-id type="integer">73273</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-05-24T09:40:51+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">16</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.8</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/20816)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/20816&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-25T23:45:38+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 73273
</diffable-attributes>
      <milestone-id type="integer">73534</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-05-25T23:45:38+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">17</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.9</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/27613)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/27613&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-30T02:28:49+01:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 73534
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.3.x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2010-08-30T02:28:49+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">18</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:33:03+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.3.x actionview bugmash config configuration erb
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>23x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2011-02-02T16:58:59+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">19</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:33:04+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>23x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2011-02-02T16:59:11+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">20</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Replica Tag Watches sell at low prices. Buy Tag Heuer Replica Watches, Fake TAG Heuer Watches please come to our &lt;a href=&quot;http://www.replicawatchesi.com/tag-heuer-watches&quot;&gt;Replica Tag Heuer watches&lt;/a&gt;.Look no further for &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica rolex&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches uk&lt;/a&gt;, &lt;a href=&quot;http://www.replicawatchesi.com/breitling-watches&quot;&gt;Replica Breitling watches&lt;/a&gt;, Swiss Replica Rolex, fake watch, and swiss replica watch.Buy Omega Watch, Omega Replicas, Alpha Omega Watches, Ladies Omega Replica Watches from our &lt;a href=&quot;http://www.replicawatchesi.com/omega-watches&quot;&gt;Replica Omega watches&lt;/a&gt; store.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Replica Tag Watches sell at low prices. Buy Tag Heuer Replica
Watches, Fake TAG Heuer Watches please come to our &lt;a href=
&quot;http://www.replicawatchesi.com/tag-heuer-watches&quot;&gt;Replica Tag
Heuer watches&lt;/a&gt;.Look no further for &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica rolex&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/&quot;&gt;replica watches uk&lt;/a&gt;, &lt;a href=
&quot;http://www.replicawatchesi.com/breitling-watches&quot;&gt;Replica
Breitling watches&lt;/a&gt;, Swiss Replica Rolex, fake watch, and swiss
replica watch.Buy Omega Watch, Omega Replicas, Alpha Omega Watches,
Ladies Omega Replica Watches from our &lt;a href=
&quot;http://www.replicawatchesi.com/omega-watches&quot;&gt;Replica Omega
watches&lt;/a&gt; store.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-21T14:00:50+00:00</created-at>
      <creator-id type="integer">13434</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">82855</milestone-id>
      <number type="integer">2553</number>
      <permalink>actionviewtemplatehandlerserberb_trim_mode-broken</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>23x actionview bugmash config configuration erb</tag>
      <title>ActionView::TemplateHandlers::ERB.erb_trim_mode= broken</title>
      <updated-at type="datetime">2011-02-21T14:04:58+00:00</updated-at>
      <user-id type="integer">138022</user-id>
      <version type="integer">21</version>
      <user-name>benben</user-name>
      <creator-name>Jos Backus</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2553</url>
      <milestone-title>2.3.10</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
