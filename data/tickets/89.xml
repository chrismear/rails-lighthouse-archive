<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">1366</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-05-01T21:38:21+01:00</created-at>
  <creator-id type="integer">13116</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">89</number>
  <permalink>errors-in-partials-are-reported-as-occurring-in-parent-templates</permalink>
  <priority type="integer">12524</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>actionpack bug edge patch</tag>
  <title>Errors in partials are reported as occurring in parent templates</title>
  <updated-at type="datetime">2008-05-02T10:46:01+01:00</updated-at>
  <user-id type="integer">1366</user-id>
  <version type="integer">3</version>
  <user-name>Pratik</user-name>
  <creator-name>nex3</creator-name>
  <assigned-user-name>Pratik</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/89</url>
  <priority-name nil="true"></priority-name>
  <original-body>When an error is raised in a partial template, it's only wrapped by TemplateError once it bubbles up to Base#render_file. This means that the Template object passed to TemplateError.new is the toplevel object rather than the PartialTemplate object. Since TemplateError uses this object to figure out the filename and line number of the error, the error message is entirely wrong.

&quot;This patch&quot;:http://github.com/nex3/rails/commit/9e46c52044b9be180d7a6516188adaa7bcf4e25a fixes this by delegating error-catching responsibilities to the Template object. This means that each Template will wrap its own errors at the proper time.</original-body>
  <latest-body>When an error is raised in a partial template, it's only wrapped by TemplateError once it bubbles up to Base#render_file. This means that the Template object passed to TemplateError.new is the toplevel object rather than the PartialTemplate object. Since TemplateError uses this object to figure out the filename and line number of the error, the error message is entirely wrong.

&quot;This patch&quot;:http://github.com/nex3/rails/commit/9e46c52044b9be180d7a6516188adaa7bcf4e25a fixes this by delegating error-catching responsibilities to the Template object. This means that each Template will wrap its own errors at the proper time.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
When an error is raised in a partial template, it's only wrapped by TemplateError once it bubbles up to Base#render_file. This means that the Template object passed to TemplateError.new is the toplevel object rather than the PartialTemplate object. Since TemplateError uses this object to figure out the filename and line number of the error, the error message is entirely wrong.
&lt;/p&gt;&lt;p&gt;
&lt;a href=&quot;http://github.com/nex3/rails/commit/9e46c52044b9be180d7a6516188adaa7bcf4e25a&quot;&gt;This patch&lt;/a&gt; fixes this by delegating error-catching responsibilities to the Template object. This means that each Template will wrap its own errors at the proper time.
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>When an error is raised in a partial template, it's only wrapped by TemplateError once it bubbles up to Base#render_file. This means that the Template object passed to TemplateError.new is the toplevel object rather than the PartialTemplate object. Since TemplateError uses this object to figure out the filename and line number of the error, the error message is entirely wrong.

&quot;This patch&quot;:http://github.com/nex3/rails/commit/9e46c52044b9be180d7a6516188adaa7bcf4e25a fixes this by delegating error-catching responsibilities to the Template object. This means that each Template will wrap its own errors at the proper time.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
When an error is raised in a partial template, it's only wrapped by TemplateError once it bubbles up to Base#render_file. This means that the Template object passed to TemplateError.new is the toplevel object rather than the PartialTemplate object. Since TemplateError uses this object to figure out the filename and line number of the error, the error message is entirely wrong.
&lt;/p&gt;&lt;p&gt;
&lt;a href=&quot;http://github.com/nex3/rails/commit/9e46c52044b9be180d7a6516188adaa7bcf4e25a&quot;&gt;This patch&lt;/a&gt; fixes this by delegating error-catching responsibilities to the Template object. This means that each Template will wrap its own errors at the proper time.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-05-01T21:38:22+01:00</created-at>
      <creator-id type="integer">13116</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">89</number>
      <permalink>errors-in-partials-are-reported-as-occurring-in-parent-templates</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Errors in partials are reported as occurring in parent templates</title>
      <updated-at type="datetime">2008-05-01T21:38:22+01:00</updated-at>
      <user-id type="integer">13116</user-id>
      <version type="integer">1</version>
      <user-name>nex3</user-name>
      <creator-name>nex3</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/89</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-05-01T22:23:54+01:00</created-at>
      <creator-id type="integer">13116</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">89</number>
      <permalink>errors-in-partials-are-reported-as-occurring-in-parent-templates</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Errors in partials are reported as occurring in parent templates</title>
      <updated-at type="datetime">2008-05-01T22:23:54+01:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">2</version>
      <user-name>DHH</user-name>
      <creator-name>nex3</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/89</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">1366</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Fixed in http://github.com/rails/rails/commit/b88a6dbc39fcaa12dc58d06d4222f2443f02a32a</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Fixed in &lt;a href=&quot;http://github.com/rails/rails/commit/b88a6dbc39fcaa12dc58d06d4222f2443f02a32a&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-05-02T10:46:01+01:00</created-at>
      <creator-id type="integer">13116</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">89</number>
      <permalink>errors-in-partials-are-reported-as-occurring-in-parent-templates</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag nil="true"></tag>
      <title>Errors in partials are reported as occurring in parent templates</title>
      <updated-at type="datetime">2008-05-02T10:46:01+01:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">3</version>
      <user-name>Pratik</user-name>
      <creator-name>nex3</creator-name>
      <assigned-user-name>Pratik</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/89</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
