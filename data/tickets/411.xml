<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-06-13T19:59:15+01:00</created-at>
  <creator-id type="integer">23335</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">411</number>
  <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
  <priority type="integer">16624</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>21 23x actionpack bug</tag>
  <title>polymorphic_path breaks on uncountable resources</title>
  <updated-at type="datetime">2011-02-02T17:15:26+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">17</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Andy Gregorowicz</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
  <priority-name nil="true"></priority-name>
  <original-body>It seems that passing an uncountable resource to polymorphic_path and associated methods causes an exception to be thrown. 

This causes an exception for me on Rails 2.1 under Ruby 1.8.6

*Migration*
@@@ ruby
create_table :sheep do |t|
  t.string :name

  t.timestamps
end
@@@

*Model*
@@@ ruby
class Sheep &lt; ActiveRecord::Base
end
@@@

*Routes*
@@@ ruby
ActionController::Routing::Routes.draw do |map|
  map.resources :sheep, :singular =&gt; :sheep_instance

  map.connect ':controller/:action/:id'
  map.connect ':controller/:action/:id.:format'
end
@@@

$ script/console 
Loading development environment (Rails 2.1.0)
&gt;&gt; sheep = Sheep.create(:name =&gt; 'Dolly')
=&gt; #&lt;Sheep id: 2, name: &quot;Dolly&quot;, created_at: &quot;2008-06-13 18:57:55&quot;, updated_at: &quot;2008-06-13 18:57:55&quot;&gt;
&gt;&gt; app.polymorphic_path(sheep)
NoMethodError: You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `map'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
	from generated code (/Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:45):3:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:122:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:337:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:88:in `rewrite'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:218:in `url_for'
	from (eval):17:in `sheep_path'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `send!'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `polymorphic_url'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:108:in `polymorphic_path'
	from (irb):2</original-body>
  <latest-body>It seems that passing an uncountable resource to polymorphic_path and associated methods causes an exception to be thrown. 

This causes an exception for me on Rails 2.1 under Ruby 1.8.6

*Migration*
@@@ ruby
create_table :sheep do |t|
  t.string :name

  t.timestamps
end
@@@

*Model*
@@@ ruby
class Sheep &lt; ActiveRecord::Base
end
@@@

*Routes*
@@@ ruby
ActionController::Routing::Routes.draw do |map|
  map.resources :sheep, :singular =&gt; :sheep_instance

  map.connect ':controller/:action/:id'
  map.connect ':controller/:action/:id.:format'
end
@@@

$ script/console 
Loading development environment (Rails 2.1.0)
&gt;&gt; sheep = Sheep.create(:name =&gt; 'Dolly')
=&gt; #&lt;Sheep id: 2, name: &quot;Dolly&quot;, created_at: &quot;2008-06-13 18:57:55&quot;, updated_at: &quot;2008-06-13 18:57:55&quot;&gt;
&gt;&gt; app.polymorphic_path(sheep)
NoMethodError: You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `map'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
	from generated code (/Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:45):3:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:122:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:337:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:88:in `rewrite'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:218:in `url_for'
	from (eval):17:in `sheep_path'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `send!'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `polymorphic_url'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:108:in `polymorphic_path'
	from (irb):2</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
It seems that passing an uncountable resource to polymorphic_path and associated methods causes an exception to be thrown.
&lt;/p&gt;&lt;p&gt;
This causes an exception for me on Rails 2.1 under Ruby 1.8.6
&lt;/p&gt;&lt;p&gt;
&lt;strong&gt;Migration&lt;/strong&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;create_table :sheep do |t|
  t.string :name

  t.timestamps
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;strong&gt;Model&lt;/strong&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;class Sheep &amp;lt; ActiveRecord::Base
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;strong&gt;Routes&lt;/strong&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;ActionController::Routing::Routes.draw do |map|
  map.resources :sheep, :singular =&amp;gt; :sheep_instance

  map.connect ':controller/:action/:id'
  map.connect ':controller/:action/:id.:format'
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
$ script/console
&lt;/p&gt;&lt;p&gt;
Loading development environment (Rails 2.1.0)
&lt;/p&gt;&lt;p&gt;
&gt;&gt; sheep = Sheep.create(:name =&gt; 'Dolly')
&lt;/p&gt;&lt;p&gt;
=&gt; #
&lt;/p&gt;&lt;p&gt;
&gt;&gt; app.polymorphic_path(sheep)
&lt;/p&gt;&lt;p&gt;
NoMethodError: You have a nil object when you didn't expect it!
&lt;/p&gt;&lt;p&gt;
The error occurred while evaluating nil.to_sym
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `map'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
&lt;/p&gt;&lt;p&gt;
from generated code (/Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:45):3:in `generate'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:122:in `generate'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:337:in `generate'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:88:in `rewrite'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:218:in `url_for'
&lt;/p&gt;&lt;p&gt;
from (eval):17:in `sheep_path'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `send!'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `polymorphic_url'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:108:in `polymorphic_path'
&lt;/p&gt;&lt;p&gt;
from (irb):2
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It seems that passing an uncountable resource to polymorphic_path and associated methods causes an exception to be thrown. 

This causes an exception for me on Rails 2.1 under Ruby 1.8.6

*Migration*
@@@ ruby
create_table :sheep do |t|
  t.string :name

  t.timestamps
end
@@@

*Model*
@@@ ruby
class Sheep &lt; ActiveRecord::Base
end
@@@

*Routes*
@@@ ruby
ActionController::Routing::Routes.draw do |map|
  map.resources :sheep, :singular =&gt; :sheep_instance

  map.connect ':controller/:action/:id'
  map.connect ':controller/:action/:id.:format'
end
@@@

$ script/console 
Loading development environment (Rails 2.1.0)
&gt;&gt; sheep = Sheep.create(:name =&gt; 'Dolly')
=&gt; #&lt;Sheep id: 2, name: &quot;Dolly&quot;, created_at: &quot;2008-06-13 18:57:55&quot;, updated_at: &quot;2008-06-13 18:57:55&quot;&gt;
&gt;&gt; app.polymorphic_path(sheep)
NoMethodError: You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `map'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
	from generated code (/Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:45):3:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:122:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:337:in `generate'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:88:in `rewrite'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:218:in `url_for'
	from (eval):17:in `sheep_path'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `send!'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `polymorphic_url'
	from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:108:in `polymorphic_path'
	from (irb):2</body>
      <body-html>&lt;div&gt;&lt;p&gt;
It seems that passing an uncountable resource to polymorphic_path and associated methods causes an exception to be thrown.
&lt;/p&gt;&lt;p&gt;
This causes an exception for me on Rails 2.1 under Ruby 1.8.6
&lt;/p&gt;&lt;p&gt;
&lt;strong&gt;Migration&lt;/strong&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;create_table :sheep do |t|
  t.string :name

  t.timestamps
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;strong&gt;Model&lt;/strong&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;class Sheep &amp;lt; ActiveRecord::Base
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;strong&gt;Routes&lt;/strong&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;ActionController::Routing::Routes.draw do |map|
  map.resources :sheep, :singular =&amp;gt; :sheep_instance

  map.connect ':controller/:action/:id'
  map.connect ':controller/:action/:id.:format'
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
$ script/console
&lt;/p&gt;&lt;p&gt;
Loading development environment (Rails 2.1.0)
&lt;/p&gt;&lt;p&gt;
&gt;&gt; sheep = Sheep.create(:name =&gt; 'Dolly')
&lt;/p&gt;&lt;p&gt;
=&gt; #
&lt;/p&gt;&lt;p&gt;
&gt;&gt; app.polymorphic_path(sheep)
&lt;/p&gt;&lt;p&gt;
NoMethodError: You have a nil object when you didn't expect it!
&lt;/p&gt;&lt;p&gt;
The error occurred while evaluating nil.to_sym
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `map'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:145:in `extra_keys'
&lt;/p&gt;&lt;p&gt;
from generated code (/Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:45):3:in `generate'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route.rb:122:in `generate'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:337:in `generate'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:131:in `rewrite_path'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:110:in `rewrite_url'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/url_rewriter.rb:88:in `rewrite'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:218:in `url_for'
&lt;/p&gt;&lt;p&gt;
from (eval):17:in `sheep_path'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `send!'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:101:in `polymorphic_url'
&lt;/p&gt;&lt;p&gt;
from /Library/Ruby/Gems/1.8/gems/actionpack-2.1.0/lib/action_controller/polymorphic_routes.rb:108:in `polymorphic_path'
&lt;/p&gt;&lt;p&gt;
from (irb):2
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-13T19:59:15+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2008-06-13T19:59:15+01:00</updated-at>
      <user-id type="integer">23335</user-id>
      <version type="integer">1</version>
      <user-name>Andy Gregorowicz</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The problem seems to be that RecordIdentifier is used to determine the singular class name, which is then used to generate the named route call. So for instance, when calling

@@@ ruby

polymorphic_path(sheep) 

@@@

RecordIdentifier will be called and come up with the singular class name of sheep and the following route will be called.

@@@ ruby

sheep_path(sheep) 

@@@

When it should be 

@@@ ruby

sheep_instance_path(sheep)

@@@

RecordIdentifier doesn't know about the :singular option passed into the route definition. I'm not sure what would be the best way to fix this... Any suggestions?</body>
      <body-html>&lt;div&gt;&lt;p&gt;
The problem seems to be that RecordIdentifier is used to determine the singular class name, which is then used to generate the named route call. So for instance, when calling
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
polymorphic_path(sheep) 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
RecordIdentifier will be called and come up with the singular class name of sheep and the following route will be called.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
sheep_path(sheep) 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
When it should be
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;
sheep_instance_path(sheep)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
RecordIdentifier doesn't know about the :singular option passed into the route definition. I'm not sure what would be the best way to fix this... Any suggestions?
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-19T16:27:20+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2008-06-19T16:27:20+01:00</updated-at>
      <user-id type="integer">23335</user-id>
      <version type="integer">2</version>
      <user-name>Andy Gregorowicz</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Currently I patch RecordIdentifier to add _instance to the class name if the singular and plural are the same:

@@@ ruby
module ActionController  
  module RecordIdentifier
    # Returns the singular class name of a record or class. Examples:
    #
    #   singular_class_name(post)             # =&gt; &quot;post&quot;
    #   singular_class_name(Highrise::Person) # =&gt; &quot;highrise_person&quot;
    #   singular_class_name(sheep)             # =&gt; &quot;sheep_instance&quot;
    def singular_class_name(record_or_class)
      model_name = model_name_from_record_or_class(record_or_class)
      model_name.singular + (model_name.singular == model_name.plural ? '_instance':'')
    end
  end
end
@@@

Still looking for a proper fix.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Currently I patch RecordIdentifier to add _instance to the class name if the singular and plural are the same:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;module ActionController  
  module RecordIdentifier
    # Returns the singular class name of a record or class. Examples:
    #
    #   singular_class_name(post)             # =&amp;gt; &amp;quot;post&amp;quot;
    #   singular_class_name(Highrise::Person) # =&amp;gt; &amp;quot;highrise_person&amp;quot;
    #   singular_class_name(sheep)             # =&amp;gt; &amp;quot;sheep_instance&amp;quot;
    def singular_class_name(record_or_class)
      model_name = model_name_from_record_or_class(record_or_class)
      model_name.singular + (model_name.singular == model_name.plural ? '_instance':'')
    end
  end
end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Still looking for a proper fix.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-30T21:39:34+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2008-07-30T21:39:34+01:00</updated-at>
      <user-id type="integer">19237</user-id>
      <version type="integer">3</version>
      <user-name>Zach Carter</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thanks for the monkey patch! This has been driving me nuts. I guess the moral of the story is *never* use any uncountable nouns.

This did produce a problem for me, in that the plural_class_name method just pluralizes the output of the above patch. So I had to add a custom method for that as well:


def plural_class_name(record_or_class)
  class_from_record_or_class(record_or_class).name.underscore.tr('/', '_').pluralize
end</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks for the monkey patch! This has been driving me nuts. I
guess the moral of the story is &lt;em&gt;never&lt;/em&gt; use any uncountable
nouns.&lt;/p&gt;
&lt;p&gt;This did produce a problem for me, in that the plural_class_name
method just pluralizes the output of the above patch. So I had to
add a custom method for that as well:&lt;/p&gt;
&lt;p&gt;def plural_class_name(record_or_class)
class_from_record_or_class(record_or_class).name.underscore.tr('/',
'_').pluralize end&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-30T20:12:56+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2008-10-30T20:12:58+00:00</updated-at>
      <user-id type="integer">36073</user-id>
      <version type="integer">4</version>
      <user-name>ideaoforder</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>By default rails uses name_index_url as plural named route of uncountable names.
The attached patch fixes build_named_route_call() to do the same while building named routes.  So it solves the bug if you use rails defaults.

Tests included.</body>
      <body-html>&lt;div&gt;&lt;p&gt;By default rails uses name_index_url as plural named route of
uncountable names. The attached patch fixes
build_named_route_call() to do the same while building named
routes. So it solves the bug if you use rails defaults.&lt;/p&gt;
&lt;p&gt;Tests included.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-03T13:39:46+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-01-03T13:39:47+00:00</updated-at>
      <user-id type="integer">41907</user-id>
      <version type="integer">5</version>
      <user-name>Marcello Nuccio</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Marcello, I just ran into this problem myself, and the patch worked as advertised. Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Marcello, I just ran into this problem myself, and the patch
worked as advertised. Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-01-20T04:14:35+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-01-20T04:14:38+00:00</updated-at>
      <user-id type="integer">3043</user-id>
      <version type="integer">6</version>
      <user-name>Eric O'Connell</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Differently broken under 2.3 final:

@@@

Loading development environment (Rails 2.3.2)
&gt;&gt; sheep = Sheep.create(:name =&gt; 'Dolly')
=&gt; #&lt;Sheep id: 1, name: &quot;Dolly&quot;, created_at: &quot;2009-03-16 15:19:59&quot;, updated_at: &quot;2009-03-16 15:19:59&quot;&gt;
&gt;&gt; app.polymorphic_path(sheep)
=&gt; &quot;/sheep.%23%3Csheep:0x20b9b5c%3E&quot;

@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Differently broken under 2.3 final:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;

Loading development environment (Rails 2.3.2)
&amp;gt;&amp;gt; sheep = Sheep.create(:name =&amp;gt; 'Dolly')
=&amp;gt; #&amp;lt;Sheep id: 1, name: &amp;quot;Dolly&amp;quot;, created_at: &amp;quot;2009-03-16 15:19:59&amp;quot;, updated_at: &amp;quot;2009-03-16 15:19:59&amp;quot;&amp;gt;
&amp;gt;&amp;gt; app.polymorphic_path(sheep)
=&amp;gt; &amp;quot;/sheep.%23%3Csheep:0x20b9b5c%3E&amp;quot;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-16T15:24:15+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-03-16T15:24:18+00:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">7</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Yep this is definitely broken. How do we get this sorted out?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Yep this is definitely broken. How do we get this sorted
out?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-23T01:51:32+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-03-23T01:51:35+00:00</updated-at>
      <user-id type="integer">34659</user-id>
      <version type="integer">8</version>
      <user-name>Brendon</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>http://github.com/rails/rails/commit/638b3b15a13c4e274cfb317c40248e9feea3bfae is the commit that introduced the issue. Looking at a possible patch now.</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;a href=&quot;http://github.com/rails/rails/commit/638b3b15a13c4e274cfb317c40248e9feea3bfae&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt; is the commit that
introduced the issue. Looking at a possible patch now.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-24T13:41:30+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-03-24T13:41:34+00:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">9</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Thanks Mike, I really appreciate your help :)

The original point of this ticket (incorrectly generated polymorphic paths on uncountable resources) seems to be a separate bug, that's the only reason I started a new ticket :)

Also, I noticed that the patch above is no longer valid in 2.3.2 as the code it fixes has been modified some.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks Mike, I really appreciate your help :)&lt;/p&gt;
&lt;p&gt;The original point of this ticket (incorrectly generated
polymorphic paths on uncountable resources) seems to be a separate
bug, that's the only reason I started a new ticket :)&lt;/p&gt;
&lt;p&gt;Also, I noticed that the patch above is no longer valid in 2.3.2
as the code it fixes has been modified some.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-24T21:31:09+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-03-24T21:31:13+00:00</updated-at>
      <user-id type="integer">34659</user-id>
      <version type="integer">10</version>
      <user-name>Brendon</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7211</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I've done some investigation, and I think the problem lies even deeper than that code change. I commented out the code and the result was:

/admin/1/podcast_series.1

or in your example:

/sheep.1

Seems that it is interpreting the uncountable resource as a format rather than a path segment.

Do you have any insights into where I might find that particular piece of code? :)</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've done some investigation, and I think the problem lies even
deeper than that code change. I commented out the code and the
result was:&lt;/p&gt;
&lt;p&gt;/admin/1/podcast_series.1&lt;/p&gt;
&lt;p&gt;or in your example:&lt;/p&gt;
&lt;p&gt;/sheep.1&lt;/p&gt;
&lt;p&gt;Seems that it is interpreting the uncountable resource as a
format rather than a path segment.&lt;/p&gt;
&lt;p&gt;Do you have any insights into where I might find that particular
piece of code? :)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-29T22:37:23+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-03-29T22:37:24+01:00</updated-at>
      <user-id type="integer">34659</user-id>
      <version type="integer">11</version>
      <user-name>Brendon</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>CancelProfileIsBroken</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7211</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Brendon - On deeper investigation, there's a fundamental mismatch between this sort of routing and the use of polymorphic_url. The basic issue is that polymorphic_url doesn't know anything about inflections specified as part of routing.

There are a couple of us kicking around ideas for a possible patch. Drop me a line (MikeG1@larkfarm.com) and you can help us brainstorm.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Brendon - On deeper investigation, there's a fundamental
mismatch between this sort of routing and the use of
polymorphic_url. The basic issue is that polymorphic_url doesn't
know anything about inflections specified as part of routing.&lt;/p&gt;
&lt;p&gt;There are a couple of us kicking around ideas for a possible
patch. Drop me a line (&lt;a href=&quot;mailto:MikeG1@larkfarm.com&quot;&gt;MikeG1@larkfarm.com&lt;/a&gt;) and you can
help us brainstorm.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-29T22:57:33+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-03-29T22:57:36+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">12</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name>CancelProfileIsBroken</assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-29T11:21:38+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 7211
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2009-04-29T11:21:40+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">13</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Adapted fix for 2.3.5.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Adapted fix for 2.3.5.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-11T21:21:26+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">16624</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2010-07-11T21:21:32+01:00</updated-at>
      <user-id type="integer">106774</user-id>
      <version type="integer">14</version>
      <user-name>Marc Dequ&#232;nes (Duck)</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-07-11T21:31:54+01:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 actionpack bug
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">16624</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2.1 2.3.x actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2010-07-11T21:31:56+01:00</updated-at>
      <user-id type="integer">106774</user-id>
      <version type="integer">15</version>
      <user-name>Marc Dequ&#232;nes (Duck)</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:36:29+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 2.3.x actionpack bug
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">16624</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>21 23x actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2011-02-02T17:14:57+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">16</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:36:30+00:00</created-at>
      <creator-id type="integer">23335</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">411</number>
      <permalink>polymorphic_path-breaks-on-uncountable-resources</permalink>
      <priority type="integer">16624</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>21 23x actionpack bug</tag>
      <title>polymorphic_path breaks on uncountable resources</title>
      <updated-at type="datetime">2011-02-02T17:15:26+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">17</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Andy Gregorowicz</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/411</url>
      <priority-name nil="true"></priority-name>
      <assigned-user-name nil="true"></assigned-user-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>c14b6c76ebc2d107779700103059b28802102e4f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-01-03T13:39:46+00:00</created-at>
      <filename>fix_polymorphic_route_of_uncountable_objects.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">75103</id>
      <size type="integer">3021</size>
      <uploader-id type="integer">41907</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/75103/fix_polymorphic_route_of_uncountable_objects.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>154a454f79d6c76cd71a4062305c889ac2fce834</code>
      <content-type>application/x-ruby</content-type>
      <created-at type="datetime">2010-07-11T21:21:26+01:00</created-at>
      <filename>rails_fixes.rb</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">590590</id>
      <size type="integer">1376</size>
      <uploader-id type="integer">106774</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/590590/rails_fixes.rb</url>
    </attachment>
  </attachments>
</ticket>
