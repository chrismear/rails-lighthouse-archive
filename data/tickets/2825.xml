<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">22589</assigned-user-id>
  <attachments-count type="integer">3</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-06-22T22:22:34+01:00</created-at>
  <creator-id type="integer">14178</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2825</number>
  <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
  <priority type="integer">1920</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
  <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
  <updated-at type="datetime">2009-07-02T18:52:49+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">13</version>
  <user-name>Repository</user-name>
  <creator-name>J.D. Hollis</creator-name>
  <assigned-user-name>Matt Jones</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Running into a problem with one of my apps where when I update vendor/rails to any commit beyond 4b68debb1c4d3d272b237049c88d01b1eceb58f0 on 2-3-stable, I can no longer run 'rake test' or 'rake db:migrate' et al. I get:

The following gems have native components that need to be built
  rmagick  

You're running:
  ruby 1.8.7.174 at /opt/local/bin/ruby
  rubygems 1.3.4 at /Users/jd/.gem/ruby/1.8, /opt/local/lib/ruby/gems/1.8

Run `rake gems:build` to build the unbuilt gems.


I have this in my environment.rb:

config.gem 'rmagick', :lib =&gt; 'RMagick'

But I have the rmagick gem installed (it's not unpacked into vendor/gems), so I'm not sure what's up.</original-body>
  <latest-body>Running into a problem with one of my apps where when I update vendor/rails to any commit beyond 4b68debb1c4d3d272b237049c88d01b1eceb58f0 on 2-3-stable, I can no longer run 'rake test' or 'rake db:migrate' et al. I get:

The following gems have native components that need to be built
  rmagick  

You're running:
  ruby 1.8.7.174 at /opt/local/bin/ruby
  rubygems 1.3.4 at /Users/jd/.gem/ruby/1.8, /opt/local/lib/ruby/gems/1.8

Run `rake gems:build` to build the unbuilt gems.


I have this in my environment.rb:

config.gem 'rmagick', :lib =&gt; 'RMagick'

But I have the rmagick gem installed (it's not unpacked into vendor/gems), so I'm not sure what's up.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Running into a problem with one of my apps where when I update
vendor/rails to any commit beyond
4b68debb1c4d3d272b237049c88d01b1eceb58f0 on 2-3-stable, I can no
longer run 'rake test' or 'rake db:migrate' et al. I get:&lt;/p&gt;
&lt;p&gt;The following gems have native components that need to be built
rmagick&lt;br&gt;&lt;/p&gt;
&lt;p&gt;You're running: ruby 1.8.7.174 at /opt/local/bin/ruby rubygems
1.3.4 at /Users/jd/.gem/ruby/1.8, /opt/local/lib/ruby/gems/1.8&lt;/p&gt;
&lt;p&gt;Run &lt;code&gt;rake gems:build&lt;/code&gt; to build the unbuilt gems.&lt;/p&gt;
&lt;p&gt;I have this in my environment.rb:&lt;/p&gt;
&lt;p&gt;config.gem 'rmagick', :lib =&amp;gt; 'RMagick'&lt;/p&gt;
&lt;p&gt;But I have the rmagick gem installed (it's not unpacked into
vendor/gems), so I'm not sure what's up.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Running into a problem with one of my apps where when I update vendor/rails to any commit beyond 4b68debb1c4d3d272b237049c88d01b1eceb58f0 on 2-3-stable, I can no longer run 'rake test' or 'rake db:migrate' et al. I get:
@@@
The following gems have native components that need to be built
  rmagick  

You're running:
  ruby 1.8.7.174 at /opt/local/bin/ruby
  rubygems 1.3.4 at /Users/jd/.gem/ruby/1.8, /opt/local/lib/ruby/gems/1.8

Run `rake gems:build` to build the unbuilt gems.
@@@

I have this in my environment.rb:
@@@ ruby
config.gem 'rmagick', :lib =&gt; 'RMagick'
@@@

But I have the rmagick gem installed (it's not unpacked into vendor/gems), so I'm not sure what's up.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Running into a problem with one of my apps where when I update
vendor/rails to any commit beyond
4b68debb1c4d3d272b237049c88d01b1eceb58f0 on 2-3-stable, I can no
longer run 'rake test' or 'rake db:migrate' et al. I get:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;The following gems have native components that need to be built
  rmagick&lt;br&gt;
&lt;br&gt;
&lt;br&gt;


&lt;br&gt;
You're running:
  ruby 1.8.7.174 at /opt/local/bin/ruby
  rubygems 1.3.4 at /Users/jd/.gem/ruby/1.8, /opt/local/lib/ruby/gems/1.8&lt;br&gt;
&lt;br&gt;


&lt;br&gt;
Run &lt;/code&gt;rake gems:build to build the unbuilt gems.
&lt;/pre&gt;
&lt;p&gt;I have this in my environment.rb:&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;config.gem 'rmagick', :lib =&amp;gt; 'RMagick'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;But I have the rmagick gem installed (it's not unpacked into
vendor/gems), so I'm not sure what's up.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-22T22:22:34+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency</tag>
      <title>rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-24T20:26:36+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">1</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ok, did some digging. For some reason, rmagick is getting added to the list of @@framework_gems in GemDependency when I run 'rake test'. Best I can tell, this is because rmagick is loaded before any of the gem dependencies. Because framework_gem? returns true for rmagick, when GemDependency#add_load_paths is called for rmagick, it marks the gem as frozen (which it isn't). GemDependency#frozen? is memoized, so a proper check is never performed. By changing

@@@ ruby
if framework_gem?
  @load_paths_added = @loaded = @frozen = true
  return
end
@@@

to

@@@ ruby
if framework_gem?
  @load_paths_added = @loaded = true
  return
end
@@@

the problem goes away.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ok, did some digging. For some reason, rmagick is getting added
to the list of @@framework_gems in GemDependency when I run 'rake
test'. Best I can tell, this is because rmagick is loaded before
any of the gem dependencies. Because framework_gem? returns true
for rmagick, when GemDependency#add_load_paths is called for
rmagick, it marks the gem as frozen (which it isn't).
GemDependency#frozen? is memoized, so a proper check is never
performed. By changing&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;if framework_gem?
  @load_paths_added = @loaded = @frozen = true
  return
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;if framework_gem?
  @load_paths_added = @loaded = true
  return
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;the problem goes away.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-24T19:15:51+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency</tag>
      <title>rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-24T19:15:56+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">2</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>And here's the patch against master. (It should apply cleanly to 2-3-stable as well.)</body>
      <body-html>&lt;div&gt;&lt;p&gt;And here's the patch against master. (It should apply cleanly to
2-3-stable as well.)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-24T20:09:37+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable gem gem.config gems gem_dependency
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-24T20:09:39+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">3</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-24T20:19:59+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- 
:title: rmagick gem dependency is detected as unbuilt even though it isn't vendored
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-24T20:20:03+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">4</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The early freezing was marked to prevent a different situation - users were having issues with gems that were loaded early (&quot;framework gems&quot;, as the code calls them) being frozen in vendor but not being used. In your case, even if you froze RMagick to vendor/gems, it would still need (AFAIK) to be installed in the system repository.

The issue is with the build check - I'll take a look at it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The early freezing was marked to prevent a different situation -
users were having issues with gems that were loaded early
(&quot;framework gems&quot;, as the code calls them) being frozen in vendor
but not being used. In your case, even if you froze RMagick to
vendor/gems, it would still need (AFAIK) to be installed in the
system repository.&lt;/p&gt;
&lt;p&gt;The issue is with the build check - I'll take a look at it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-24T21:06:05+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-24T21:06:08+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">5</version>
      <user-name>Matt Jones</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Cool&#8212;thanks. &quot;framework_gems&quot; is definitely a bit confusing. Would something like &quot;loaded_gems&quot; work better?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Cool&amp;#8212;thanks. &quot;framework_gems&quot; is definitely a bit
confusing. Would something like &quot;loaded_gems&quot; work better?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-24T21:24:09+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-24T21:24:11+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">6</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Looking at :built?, I can see three potential strategies (from my admittedly limited point of view). First option is to add an extra vendor_gem? check to the top of the method (essentially saying that if it isn't in vendor/gems, it's not Rails' problem whether it's built or not). Second option would be to check for the extension Makefiles in the actual path of the loaded gem (instead of assuming it's under vendor/gems). Third option would be to refactor and relabel things a bit to make the early freeze (and &quot;framework gems&quot;) a bit more understandable.

First option seems to be the most straight-forward (and most in spirit with what's already there).

I'd be happy to tackle the patch for any of these.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Looking at :built?, I can see three potential strategies (from
my admittedly limited point of view). First option is to add an
extra vendor_gem? check to the top of the method (essentially
saying that if it isn't in vendor/gems, it's not Rails' problem
whether it's built or not). Second option would be to check for the
extension Makefiles in the actual path of the loaded gem (instead
of assuming it's under vendor/gems). Third option would be to
refactor and relabel things a bit to make the early freeze (and
&quot;framework gems&quot;) a bit more understandable.&lt;/p&gt;
&lt;p&gt;First option seems to be the most straight-forward (and most in
spirit with what's already there).&lt;/p&gt;
&lt;p&gt;I'd be happy to tackle the patch for any of these.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-26T18:39:38+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-26T18:39:41+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">7</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Ok&#8212;here's a patch against master for my first option described above (a vendor_gem? check in built?).</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ok&amp;#8212;here's a patch against master for my first option
described above (a vendor_gem? check in built?).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-29T21:56:59+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-29T21:57:02+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">8</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>The only change I'd recommend to that patch is to split out the new test as a separate method - it makes it easier to tell what's going on. Otherwise looks reasonable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The only change I'd recommend to that patch is to split out the
new test as a separate method - it makes it easier to tell what's
going on. Otherwise looks reasonable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-29T22:05:20+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-29T22:05:23+01:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">9</version>
      <user-name>Matt Jones</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-30T00:18:42+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-30T00:18:45+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">10</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Done. This should apply cleanly to both master and 2-3-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Done. This should apply cleanly to both master and
2-3-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-30T14:00:38+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-06-30T14:00:44+01:00</updated-at>
      <user-id type="integer">14178</user-id>
      <version type="integer">11</version>
      <user-name>J.D. Hollis</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [9eab435631e1b0a659126d068972ee88cff160de]) Only check for built extensions on gem dependencies that are in vendor/gems. [#2825 state:resolved]

Signed-off-by: Yehuda Katz + Carl Lerche &lt;ykatz+clerche@engineyard.com&gt;
http://github.com/rails/rails/commit/9eab435631e1b0a659126d068972ee88cff160de</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/9eab435631e1b0a659126d068972ee88cff160de&quot;
title=
&quot;Changeset [9eab435631e1b0a659126d068972ee88cff160de]&quot;&gt;[9eab435631e1b0a659126d068972ee88cff160de]&lt;/a&gt;)
Only check for built extensions on gem dependencies that are in
vendor/gems. [&lt;a href=&quot;/projects/8994/tickets/2825&quot; title=
&quot;Ticket #2825&quot;&gt;#2825&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Yehuda Katz + Carl Lerche
&lt;a&gt;ykatz+clerche@engineyard.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/9eab435631e1b0a659126d068972ee88cff160de&quot;&gt;
http://github.com/rails/rails/commit/9eab435631e1b0a659126d068972ee...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-07-02T18:30:41+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-07-02T18:30:43+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">12</version>
      <user-name>Repository</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [f6f24b71a41f21953cf4c934a9ece6e1ed76285c]) Only check for built extensions on gem dependencies that are in vendor/gems. [#2825 state:resolved]

Signed-off-by: Yehuda Katz + Carl Lerche &lt;ykatz+clerche@engineyard.com&gt;
http://github.com/rails/rails/commit/f6f24b71a41f21953cf4c934a9ece6e1ed76285c</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/f6f24b71a41f21953cf4c934a9ece6e1ed76285c&quot;
title=
&quot;Changeset [f6f24b71a41f21953cf4c934a9ece6e1ed76285c]&quot;&gt;[f6f24b71a41f21953cf4c934a9ece6e1ed76285c]&lt;/a&gt;)
Only check for built extensions on gem dependencies that are in
vendor/gems. [&lt;a href=&quot;/projects/8994/tickets/2825&quot; title=
&quot;Ticket #2825&quot;&gt;#2825&lt;/a&gt; state:resolved]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Yehuda Katz + Carl Lerche &lt;a href=
&quot;mailto:ykatz+clerche@engineyard.com&quot;&gt;ykatz+clerche@engineyard.com&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/f6f24b71a41f21953cf4c934a9ece6e1ed76285c&quot;&gt;
http://github.com/rails/rails/commit/f6f24b71a41f21953cf4c934a9ece6...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-07-02T18:52:48+01:00</created-at>
      <creator-id type="integer">14178</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2825</number>
      <permalink>rmagick-gem-dependency-is-detected-as-unbuilt-even-though-it-isnt-vendored</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>2-3-stable gem gem.config gems gem_dependency patch</tag>
      <title>[PATCH] rmagick gem dependency is detected as unbuilt even though it isn't vendored</title>
      <updated-at type="datetime">2009-07-02T18:52:49+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">13</version>
      <user-name>Repository</user-name>
      <creator-name>J.D. Hollis</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2825</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>885803882cbbcbbd3e5a9869331d6e87ce7d0da2</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-06-24T20:09:37+01:00</created-at>
      <filename>dont-freeze-framework-gems-early.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">137240</id>
      <size type="integer">1783</size>
      <uploader-id type="integer">14178</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/137240/dont-freeze-framework-gems-early.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>b48b00f7c4609b8bdcb66c9152e121078935fe96</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-06-29T21:56:59+01:00</created-at>
      <filename>check_vendor_gem_in_built.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">138926</id>
      <size type="integer">2213</size>
      <uploader-id type="integer">14178</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/138926/check_vendor_gem_in_built.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>ce725de1560c64b54c799b8f3413b4bb6ad60b55</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-06-30T14:00:38+01:00</created-at>
      <filename>check-vendor-gem-in-built.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">139143</id>
      <size type="integer">2175</size>
      <uploader-id type="integer">14178</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/139143/check-vendor-gem-in-built.diff</url>
    </attachment>
  </attachments>
</ticket>
