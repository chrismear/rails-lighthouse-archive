<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">141</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-05-19T01:33:15+01:00</created-at>
  <creator-id type="integer">16155</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">2675</number>
  <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
  <priority type="integer">1799</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>wontfix</state>
  <tag>2.x activerecord multiparameter multiparameter_attributes</tag>
  <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
  <updated-at type="datetime">2010-10-17T19:54:12+01:00</updated-at>
  <user-id type="integer">17433</user-id>
  <version type="integer">16</version>
  <user-name>Aditya Sanghi</user-name>
  <creator-name>Brennan Dunn</creator-name>
  <assigned-user-name>Michael Koziarski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
  <milestone-title>3.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Currently, using multiparameter assignment on a non-column or aggregation throws an error. Since the existing implementation used the reflection to determine whether to create a Date or Time instance to send to the writer, and there's no easy way to infer the desired datatype from the method name or arity, I figured that sending a Time instance for virtual attributes is best in all cases (since a time inherently contains a date.)

Please see attached patch.</original-body>
  <latest-body>Currently, using multiparameter assignment on a non-column or aggregation throws an error. Since the existing implementation used the reflection to determine whether to create a Date or Time instance to send to the writer, and there's no easy way to infer the desired datatype from the method name or arity, I figured that sending a Time instance for virtual attributes is best in all cases (since a time inherently contains a date.)

Please see attached patch.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Currently, using multiparameter assignment on a non-column or
aggregation throws an error. Since the existing implementation used
the reflection to determine whether to create a Date or Time
instance to send to the writer, and there's no easy way to infer
the desired datatype from the method name or arity, I figured that
sending a Time instance for virtual attributes is best in all cases
(since a time inherently contains a date.)&lt;/p&gt;
&lt;p&gt;Please see attached patch.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Currently, using multiparameter assignment on a non-column or aggregation throws an error. Since the existing implementation used the reflection to determine whether to create a Date or Time instance to send to the writer, and there's no easy way to infer the desired datatype from the method name or arity, I figured that sending a Time instance for virtual attributes is best in all cases (since a time inherently contains a date.)

Please see attached patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Currently, using multiparameter assignment on a non-column or
aggregation throws an error. Since the existing implementation used
the reflection to determine whether to create a Date or Time
instance to send to the writer, and there's no easy way to infer
the desired datatype from the method name or arity, I figured that
sending a Time instance for virtual attributes is best in all cases
(since a time inherently contains a date.)&lt;/p&gt;
&lt;p&gt;Please see attached patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-19T01:33:15+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-05-19T01:33:19+01:00</updated-at>
      <user-id type="integer">16155</user-id>
      <version type="integer">1</version>
      <user-name>Brennan Dunn</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-05-19T22:36:50+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-05-19T22:36:56+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">2</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This bit us today too. The fallback to time is a real nice way to handle this IMHO.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This bit us today too. The fallback to time is a real nice way
to handle this IMHO.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-02T21:38:26+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-06-02T21:38:30+01:00</updated-at>
      <user-id type="integer">15346</user-id>
      <version type="integer">3</version>
      <user-name>Ken Collins</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This bit me too.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This bit me too.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-02T22:03:59+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-06-02T22:04:03+01:00</updated-at>
      <user-id type="integer">46798</user-id>
      <version type="integer">4</version>
      <user-name>nagu</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Couldn't you use composed_of instead of attr_accessor here?  That'll give you the necessary bits to make this work?

Time seems like a nice format but it's a little magical here?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Couldn't you use composed_of instead of attr_accessor here?
That'll give you the necessary bits to make this work?&lt;/p&gt;
&lt;p&gt;Time seems like a nice format but it's a little magical
here?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-10T04:35:49+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-06-10T04:35:49+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">5</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">8406</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm not quite sure why this was assigned to me.

If it was because of the composed_of replacement that I wrote in the past; Manfred has taken another stab at it: https://rails.lighthouseapp.com/projects/8994/tickets/950-attributedecorator-a-new-take-on-aggregation#ticket-950-22</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm not quite sure why this was assigned to me.&lt;/p&gt;
&lt;p&gt;If it was because of the composed_of replacement that I wrote in
the past; Manfred has taken another stab at it: &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/950-attributedecorator-a-new-take-on-aggregation#ticket-950-22&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/950-attribute...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-10T09:20:45+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-06-10T09:20:45+01:00</updated-at>
      <user-id type="integer">8406</user-id>
      <version type="integer">6</version>
      <user-name>Eloy Duran</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Eloy Duran</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Koz,

The reasoning behind not generally resorting to composed_of was done for the sake of consistency. Being that update_attributes blindly sends to the attributes' writer methods, whether or not said writer methods map to an actual DB column, it made sense that special form helpers - i.e., date_select, should 'just work'. Currently, due to the column reflection that happens in #execute_callstack_for_multiparameter_attributes, only writer methods that concretely map to a column are supported.

...I guess I just feel using #composed_of here and mapping the (1i), (2i), etc. parameters is overkill, and all the form helper methods should be able to support model writer methods using #update_attributes.

Lastly, every Time contains a Date, and #foo_time= and #foo_date= would 1) look silly and 2) tack on a lot more foundational code. Otherwise, I don't see any other means to really infer the desired format.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Koz,&lt;/p&gt;
&lt;p&gt;The reasoning behind not generally resorting to composed_of was
done for the sake of consistency. Being that update_attributes
blindly sends to the attributes' writer methods, whether or not
said writer methods map to an actual DB column, it made sense that
special form helpers - i.e., date_select, should 'just work'.
Currently, due to the column reflection that happens in
#execute_callstack_for_multiparameter_attributes, only writer
methods that concretely map to a column are supported.&lt;/p&gt;
&lt;p&gt;...I guess I just feel using #composed_of here and mapping the
(1i), (2i), etc. parameters is overkill, and all the form helper
methods should be able to support model writer methods using
#update_attributes.&lt;/p&gt;
&lt;p&gt;Lastly, every Time contains a Date, and #foo_time= and
#foo_date= would 1) look silly and 2) tack on a lot more
foundational code. Otherwise, I don't see any other means to really
infer the desired format.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-10T13:12:22+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 8406
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-06-10T13:12:22+01:00</updated-at>
      <user-id type="integer">16155</user-id>
      <version type="integer">7</version>
      <user-name>Brennan Dunn</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm just not sold that a default of Time makes sense.  The multi
parameter code handles more than just Dates and Times and you can tell
it what the type is by specifying composed_of or something similar.

I'd prefer to fix it 'right' rather than just default to time if we're
unsure.  Perhaps the best way to do this is to make sure that #950 has
something simple for this case?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm just not sold that a default of Time makes sense. The
multi&lt;br&gt;
parameter code handles more than just Dates and Times and you can
tell&lt;br&gt;
it what the type is by specifying composed_of or something
similar.&lt;/p&gt;
&lt;p&gt;I'd prefer to fix it 'right' rather than just default to time if
we're&lt;br&gt;
unsure. Perhaps the best way to do this is to make sure that
&lt;a href=&quot;/projects/8994/tickets/950&quot; title=&quot;Ticket #950&quot;&gt;#950&lt;/a&gt;
has&lt;br&gt;
something simple for this case?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-06-26T05:52:50+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-06-26T05:52:52+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">8</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Would be great to get this fixed. In the meantime, I thought I'd drop in and say that I found a very hack solution:

@@@
class Whatever &lt; ActiveRecord::Base
  ...
  
  attr_accessor :arrival_time
  columns_hash[&quot;arrival_time&quot;] = ActiveRecord::ConnectionAdapters::PostgreSQLColumn.new(&quot;arrival_time&quot;, nil, &quot;time&quot;)
end
@@@

Obviously will need some adaptation depending on the database used etc.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Would be great to get this fixed. In the meantime, I thought I'd
drop in and say that I found a very hack solution:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Whatever &amp;lt; ActiveRecord::Base
  ...
  
  attr_accessor :arrival_time
  columns_hash[&quot;arrival_time&quot;] = ActiveRecord::ConnectionAdapters::PostgreSQLColumn.new(&quot;arrival_time&quot;, nil, &quot;time&quot;)
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Obviously will need some adaptation depending on the database
used etc.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-02T15:54:54+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-10-02T15:54:58+01:00</updated-at>
      <user-id type="integer">11330</user-id>
      <version type="integer">9</version>
      <user-name>Jon Leighton</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Correcting Jon Leighton:

@@@
class Whatever &lt; ActiveRecord::Base
  ...
  
  attr_accessor :arrival_time
  columns_hash[&quot;arrival_time&quot;] = ActiveRecord::ConnectionAdapters::Column.new(&quot;arrival_time&quot;, nil, &quot;time&quot;)
end
@@@

The above code fixed it for me. Of course, this is an ugly hack. Hoping for a fix soon.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Correcting Jon Leighton:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;class Whatever &amp;lt; ActiveRecord::Base
  ...
  
  attr_accessor :arrival_time
  columns_hash[&quot;arrival_time&quot;] = ActiveRecord::ConnectionAdapters::Column.new(&quot;arrival_time&quot;, nil, &quot;time&quot;)
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The above code fixed it for me. Of course, this is an ugly hack.
Hoping for a fix soon.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-03T00:52:14+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-10-03T00:52:19+01:00</updated-at>
      <user-id type="integer">71852</user-id>
      <version type="integer">10</version>
      <user-name>felipekk</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>ouch! bitten also.</body>
      <body-html>&lt;div&gt;&lt;p&gt;ouch! bitten also.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-11-26T18:27:02+00:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2009-11-26T18:27:03+00:00</updated-at>
      <user-id type="integer">51389</user-id>
      <version type="integer">11</version>
      <user-name>Steve Graham</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I tried the above fix added by &quot;felipekk&quot;
but didn't work

here is my code

@@@
Mobile = Struct.new(:mobile_country_code, :mobile_pure_number)
class User
    attr_accessor :mobile_country_code, :mobile_pure_number
    columns_hash[&quot;mobile_country_code&quot;] = ActiveRecord::ConnectionAdapters::Column.new(&quot;mobile_country_code&quot;, nil, &quot;character varying(255)&quot;)
    columns_hash[&quot;mobile_pure_number&quot;] = ActiveRecord::ConnectionAdapters::Column.new(&quot;mobile_pure_number&quot;, nil, &quot;character varying(255)&quot;)
    composed_of :mobile,
                :class_name =&gt; 'Mobile',
                :mapping =&gt; [%w(mobile_country_code mobile_country_code), %w(mobile_pure_number mobile_pure_number)],
                :constructor =&gt; Proc.new { |mobile_country_code, mobile_pure_number|
                  Mobile.new(mobile_country_code.to_s.gsub(/^\+/, '00'), mobile_pure_number)
                }
end
@@@

when i try this code in console

@@@
u = User.new(:mobile_pure_number =&gt; '123491484', :mobile_country_code =&gt; '0020') ; puts u.mobile.mobile_pure_number
@@@

i get nil

any clue ??</body>
      <body-html>&lt;div&gt;&lt;p&gt;I tried the above fix added by &quot;felipekk&quot;&lt;br&gt;
but didn't work&lt;/p&gt;
&lt;p&gt;here is my code&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Mobile = Struct.new(:mobile_country_code, :mobile_pure_number)
class User
    attr_accessor :mobile_country_code, :mobile_pure_number
    columns_hash[&quot;mobile_country_code&quot;] = ActiveRecord::ConnectionAdapters::Column.new(&quot;mobile_country_code&quot;, nil, &quot;character varying(255)&quot;)
    columns_hash[&quot;mobile_pure_number&quot;] = ActiveRecord::ConnectionAdapters::Column.new(&quot;mobile_pure_number&quot;, nil, &quot;character varying(255)&quot;)
    composed_of :mobile,
                :class_name =&amp;gt; 'Mobile',
                :mapping =&amp;gt; [%w(mobile_country_code mobile_country_code), %w(mobile_pure_number mobile_pure_number)],
                :constructor =&amp;gt; Proc.new { |mobile_country_code, mobile_pure_number|
                  Mobile.new(mobile_country_code.to_s.gsub(/^\+/, '00'), mobile_pure_number)
                }
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;when i try this code in console&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;u = User.new(:mobile_pure_number =&amp;gt; '123491484', :mobile_country_code =&amp;gt; '0020') ; puts u.mobile.mobile_pure_number&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;i get nil&lt;/p&gt;
&lt;p&gt;any clue ??&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-01T17:06:38+00:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2010-02-01T17:06:41+00:00</updated-at>
      <user-id type="integer">76619</user-id>
      <version type="integer">12</version>
      <user-name>brekaa_osama (at yahoo)</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/19097)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/19097&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T18:48:49+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2010-05-04T18:48:50+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">13</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Any updates here? This is still an issue?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any updates here? This is still an issue?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-09T04:15:52+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">1799</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2010-10-09T04:15:55+01:00</updated-at>
      <user-id type="integer">89656</user-id>
      <version type="integer">14</version>
      <user-name>Rohit Arondekar</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Any updates here? This is still an issue?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any updates here? This is still an issue?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-11T13:55:10+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">1799</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.x activerecord</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2010-10-11T13:55:15+01:00</updated-at>
      <user-id type="integer">17102</user-id>
      <version type="integer">15</version>
      <user-name>Stephan Kaag</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I assume that not everyone is sold on defaulting on Time as a fallback for multiparameter attributes. 

To specify the class, @felipekk 's response above works and seems like a good way to specify the class for your virtual attribute. 

Marking wontfix for now.

Please see #4346 for a comprehensive discussion on other multiparameter and positional parameters issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I assume that not everyone is sold on defaulting on Time as a
fallback for multiparameter attributes.&lt;/p&gt;
&lt;p&gt;To specify the class, @felipekk 's response above works and
seems like a good way to specify the class for your virtual
attribute.&lt;/p&gt;
&lt;p&gt;Marking wontfix for now.&lt;/p&gt;
&lt;p&gt;Please see &lt;a href=&quot;/projects/8994/tickets/4346&quot; title=
&quot;Ticket #4346&quot;&gt;#4346&lt;/a&gt; for a comprehensive discussion on other
multiparameter and positional parameters issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-17T19:54:08+01:00</created-at>
      <creator-id type="integer">16155</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.x activerecord
:state: new
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">2675</number>
      <permalink>support-for-multiparameter-attribute-assignment-on-virtual-attribute-writers</permalink>
      <priority type="integer">1799</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>2.x activerecord multiparameter multiparameter_attributes</tag>
      <title>Support for multiparameter attribute assignment on virtual attribute writers</title>
      <updated-at type="datetime">2010-10-17T19:54:12+01:00</updated-at>
      <user-id type="integer">17433</user-id>
      <version type="integer">16</version>
      <user-name>Aditya Sanghi</user-name>
      <creator-name>Brennan Dunn</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2675</url>
      <milestone-title>3.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>5aa13572431b7b4eae6b78c8be319310d1453a06</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-05-19T01:33:15+01:00</created-at>
      <filename>multiparameter_attributes_on_virtual_writers.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">123853</id>
      <size type="integer">2611</size>
      <uploader-id type="integer">16155</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/123853/multiparameter_attributes_on_virtual_writers.diff</url>
    </attachment>
  </attachments>
</ticket>
