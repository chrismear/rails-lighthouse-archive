<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">7697</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-31T06:02:33+00:00</created-at>
  <creator-id type="integer">108292</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">5874</number>
  <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>link_to url_for</tag>
  <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
  <updated-at type="datetime">2010-10-31T06:02:33+00:00</updated-at>
  <user-id type="integer">108292</user-id>
  <version type="integer">17</version>
  <user-name>Nader Akhnoukh</user-name>
  <creator-name>Nader Akhnoukh</creator-name>
  <assigned-user-name>Andrew White</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
  <priority-name>Low</priority-name>
  <original-body>Rails 3.0.0

for example link_to @user will generate the equivalent of user_url.  shouldn't the default behavior be user_path?

This is because url_for line 134 is calling polymorphic_url instead of polymorphic_path</original-body>
  <latest-body>Rails 3.0.0

for example link_to @user will generate the equivalent of user_url.  shouldn't the default behavior be user_path?

This is because url_for line 134 is calling polymorphic_url instead of polymorphic_path</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Rails 3.0.0&lt;/p&gt;
&lt;p&gt;for example link_to @user will generate the equivalent of
user_url. shouldn't the default behavior be user_path?&lt;/p&gt;
&lt;p&gt;This is because url_for line 134 is calling polymorphic_url
instead of polymorphic_path&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14998</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Rails 3.0.0

for example link_to @user will generate the equivalent of user_url.  shouldn't the default behavior be user_path?

This is because url_for line 134 is calling polymorphic_url instead of polymorphic_path</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rails 3.0.0&lt;/p&gt;
&lt;p&gt;for example link_to @user will generate the equivalent of
user_url. shouldn't the default behavior be user_path?&lt;/p&gt;
&lt;p&gt;This is because url_for line 134 is calling polymorphic_url
instead of polymorphic_path&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T00:19:15+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T00:19:20+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">1</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Ryan Bigg</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">14998</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This was fixed with commit 6c95e0f8 in master. I guess it just wasn't pushed to 3-0-stable?</body>
      <body-html>&lt;div&gt;&lt;p&gt;This was fixed with commit 6c95e0f8 in master. I guess it just
wasn't pushed to 3-0-stable?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T04:17:34+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T04:17:38+01:00</updated-at>
      <user-id type="integer">89146</user-id>
      <version type="integer">2</version>
      <user-name>Denis Odorcic</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Ryan Bigg</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Nader, can you confirm in what context you are using url_for? In a view the :only_path option is passed to url_for so the fact that url_for is calling polymorphic_url shouldn't make a difference. In fact [polymorphic_path](http://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/polymorphic_routes.rb#L141) calls polymorphic_url itself.

Denis, I can't see anything in that commit that would change this behaviour - how are you comparing things?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Nader, can you confirm in what context you are using url_for? In
a view the :only_path option is passed to url_for so the fact that
url_for is calling polymorphic_url shouldn't make a difference. In
fact &lt;a href=
&quot;http://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/polymorphic_routes.rb#L141&quot;&gt;
polymorphic_path&lt;/a&gt; calls polymorphic_url itself.&lt;/p&gt;
&lt;p&gt;Denis, I can't see anything in that commit that would change
this behaviour - how are you comparing things?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T08:09:24+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
:assigned_user: 14998
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T08:09:27+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">3</version>
      <user-name>Andrew White</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>You're right, I misread something. Woops ;)</body>
      <body-html>&lt;div&gt;&lt;p&gt;You're right, I misread something. Woops ;)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T15:13:41+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T15:13:49+01:00</updated-at>
      <user-id type="integer">89146</user-id>
      <version type="integer">4</version>
      <user-name>Denis Odorcic</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'm using link_to @user from a view.

The code path goes like this:
-routing/url_for.rb:url_for (options is just the user record) # i think this is the bug, shouldn't the call to polymorphic_url be polymorphic_path (so that the default is _path)
-routing/polymorphic_routes.rb:polymorphic_url which calls..
-routing/polymorphic_routes.rb:build_named_route_call which calls..
-routing/polymorphic_routes.rb:routing_type which spits out user_url because there is no routing_type in options (routing_type gets set in polymorphic_path)</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm using link_to @user from a view.&lt;/p&gt;
&lt;p&gt;The code path goes like this:&lt;br&gt;
-routing/url_for.rb:url_for (options is just the user record) # i
think this is the bug, shouldn't the call to polymorphic_url be
polymorphic_path (so that the default is _path)
-routing/polymorphic_routes.rb:polymorphic_url which calls..
-routing/polymorphic_routes.rb:build_named_route_call which calls..
-routing/polymorphic_routes.rb:routing_type which spits out
user_url because there is no routing_type in options (routing_type
gets set in polymorphic_path)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T16:30:21+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T16:30:25+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">5</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It should be first going through url_helper.rb:

http://github.com/rails/rails/blob/master/actionpack/lib/action_view/helpers/url_helper.rb#L108

Can you provide a backtrace?</body>
      <body-html>&lt;div&gt;&lt;p&gt;It should be first going through url_helper.rb:&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/rails/rails/blob/master/actionpack/lib/action_view/helpers/url_helper.rb#L108&quot;&gt;
http://github.com/rails/rails/blob/master/actionpack/lib/action_vie...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Can you provide a backtrace?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T16:55:29+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T16:55:39+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">6</version>
      <user-name>Andrew White</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>OK, I think I see what's happening.  Here's the backtrace from where the routing type is set to url:

@@@
--&gt; #0 ActionDispatch::Routing::PolymorphicRoutes.routing_type(options#Hash) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/polymorphic_routes.rb:147
    #1 ActionDispatch::Routing::PolymorphicRoutes.build_named_route_call(records#User,...) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/polymorphic_routes.rb:173
    #2 ActionDispatch::Routing::PolymorphicRoutes.polymorphic_url(record_or_hash_or_array#User,...) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/polymorphic_routes.rb:108
    #3 ActionDispatch::Routing::UrlFor.url_for(options#User) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/url_for.rb:135
    #4 ApplicationController.url_for(options#User) 
       at line /Users/nader/repo/napa/app/controllers/application_controller.rb:122
    #5 Kernel.send(args#Array, blk#NilClass) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/helpers.rb:55
    #6 #&lt;Module:0x1071fcb08&gt;.url_for 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/helpers.rb:55
    #7 ActionView::Helpers::UrlHelper.link_to 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_view/helpers/url_helper.rb:236
    #8 ActionView::Helpers::UrlHelper.link_to 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_view/helpers/url_helper.rb:229
    #9 ActionView::CompiledTemplates._app_views_menus__login_items_html_haml___947485747_2208807400_3573310(local_assigns#Hash,...) 
       at line /Users/nader/repo/napa/app/views/menus/_login_items.html.haml:5
@@@

As you can see in Step 4 I have a url_for defined in my application_controller.  It's not doing anything besides calling super though (it was, but i commented it out to test):

@@@
def url_for(options = nil)
  super
end
@@@

It looks like my call to super is going to the url_for in routing/url_for.rb instead of the url_for in helpers/url_helper right?</body>
      <body-html>&lt;div&gt;&lt;p&gt;OK, I think I see what's happening. Here's the backtrace from
where the routing type is set to url:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;--&amp;gt; #0 ActionDispatch::Routing::PolymorphicRoutes.routing_type(options#Hash) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/polymorphic_routes.rb:147
    #1 ActionDispatch::Routing::PolymorphicRoutes.build_named_route_call(records#User,...) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/polymorphic_routes.rb:173
    #2 ActionDispatch::Routing::PolymorphicRoutes.polymorphic_url(record_or_hash_or_array#User,...) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/polymorphic_routes.rb:108
    #3 ActionDispatch::Routing::UrlFor.url_for(options#User) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/url_for.rb:135
    #4 ApplicationController.url_for(options#User) 
       at line /Users/nader/repo/napa/app/controllers/application_controller.rb:122
    #5 Kernel.send(args#Array, blk#NilClass) 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/helpers.rb:55
    #6 #&amp;lt;Module:0x1071fcb08&amp;gt;.url_for 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/helpers.rb:55
    #7 ActionView::Helpers::UrlHelper.link_to 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_view/helpers/url_helper.rb:236
    #8 ActionView::Helpers::UrlHelper.link_to 
       at line /Library/Ruby/Gems/1.8/gems/actionpack-3.0.0/lib/action_view/helpers/url_helper.rb:229
    #9 ActionView::CompiledTemplates._app_views_menus__login_items_html_haml___947485747_2208807400_3573310(local_assigns#Hash,...) 
       at line /Users/nader/repo/napa/app/views/menus/_login_items.html.haml:5&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;As you can see in Step 4 I have a url_for defined in my
application_controller. It's not doing anything besides calling
super though (it was, but i commented it out to test):&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def url_for(options = nil)
  super
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;It looks like my call to super is going to the url_for in
routing/url_for.rb instead of the url_for in helpers/url_helper
right?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T17:39:58+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T17:40:00+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">7</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Also, the reason this is a big issue for me is because my clients use CNAMEs to get to their site.  I have a piece of rack middleware that looks up the CNAME and sets the request headers to the proper subdomain so the app knows what to do.  With the above issue my urls get written out using the subdomain instead of the CNAME and the users are asked to reauthenticate as the session cookie isn't shared across different domains</body>
      <body-html>&lt;div&gt;&lt;p&gt;Also, the reason this is a big issue for me is because my
clients use CNAMEs to get to their site. I have a piece of rack
middleware that looks up the CNAME and sets the request headers to
the proper subdomain so the app knows what to do. With the above
issue my urls get written out using the subdomain instead of the
CNAME and the users are asked to reauthenticate as the session
cookie isn't shared across different domains&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-28T20:36:13+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-28T20:36:15+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">8</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Actually it shouldn't be hitting the url_for in ApplicationController - it doesn't in a test app. In fact the only way I can get it to go to the url_for in ApplicationController is to use helper_method :url_for in ApplicationController, e.g:

@@@ ruby
class ApplicationController &lt; ActionController::Base
  helper_method :url_for

  def url_for(options = nil)
    super
  end
end
@@@

Doing this reproduces your error. Is this what you're doing? If so all I can say is don't do this. If you want to override the :host option you want to be looking at default_url_options and/or url_options. A simple before_filter in ApplicationController that sets :host in default_url_options should be all that you need.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Actually it shouldn't be hitting the url_for in
ApplicationController - it doesn't in a test app. In fact the only
way I can get it to go to the url_for in ApplicationController is
to use helper_method :url_for in ApplicationController, e.g:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class ApplicationController &amp;lt; ActionController::Base
  helper_method :url_for

  def url_for(options = nil)
    super
  end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Doing this reproduces your error. Is this what you're doing? If
so all I can say is don't do this. If you want to override the
:host option you want to be looking at default_url_options and/or
url_options. A simple before_filter in ApplicationController that
sets :host in default_url_options should be all that you need.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T06:26:33+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- 
:state: needs-more-info
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T06:26:35+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">9</version>
      <user-name>Andrew White</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Wow, that was some impressive sleuthing.  That's exactly what I was doing. Thanks for the huge help.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Wow, that was some impressive sleuthing. That's exactly what I
was doing. Thanks for the huge help.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T07:27:37+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T07:27:39+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">10</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Andrew, the only thing I can't figure out is if I'm setting this in a before_filter I don't have access to the options hash.  I am passing in a subdomain field with the options and based on that want to set the host.   Thus overriding url_for.  What's the better way to do that?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Andrew, the only thing I can't figure out is if I'm setting this
in a before_filter I don't have access to the options hash. I am
passing in a subdomain field with the options and based on that
want to set the host. Thus overriding url_for. What's the better
way to do that?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T09:30:31+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T09:30:33+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">11</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This should work:

@@@ ruby
class ApplicationController &lt; ActionController::Base
  before_filter :set_default_host

  protected
    def set_default_host
      default_url_options[:host] = subdomain_to_host(request.subdomain)
    end
end
@@@

The subdomain_to_host method is however you map the subdomain to the CNAME.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This should work:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;class ApplicationController &amp;lt; ActionController::Base
  before_filter :set_default_host

  protected
    def set_default_host
      default_url_options[:host] = subdomain_to_host(request.subdomain)
    end
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The subdomain_to_host method is however you map the subdomain to
the CNAME.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T09:46:44+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T09:46:47+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">12</version>
      <user-name>Andrew White</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi Andrew, sorry I wasn't clear.

I want to set the host based on some application logic.  So this was my old method:

@@@
def url_for(options = nil)
  if options.kind_of?(Hash) &amp;&amp; options.has_key?(:subdomain)
    options[:host] = with_subdomain(options.delete(:subdomain))
  end

  super
end
@@@

and in my view:

@@@
root_url(:subdomain =&gt; &quot;xyz&quot;)
@@@

How would you recommend doing that?  I suppose I could get rid of the convenience &quot;subdomain&quot; key and just set the host directly?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Andrew, sorry I wasn't clear.&lt;/p&gt;
&lt;p&gt;I want to set the host based on some application logic. So this
was my old method:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def url_for(options = nil)
  if options.kind_of?(Hash) &amp;amp;&amp;amp; options.has_key?(:subdomain)
    options[:host] = with_subdomain(options.delete(:subdomain))
  end

  super
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;and in my view:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;root_url(:subdomain =&amp;gt; &quot;xyz&quot;)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;How would you recommend doing that? I suppose I could get rid of
the convenience &quot;subdomain&quot; key and just set the host directly?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T15:47:17+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T15:47:19+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">13</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Firstly, why do you need to use root_url and not root_path - that way you don't have to worry about the host name. If you do need the full url then if you set the host in the controller before filter you don't need to pass in the subdomain key.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Firstly, why do you need to use root_url and not root_path -
that way you don't have to worry about the host name. If you do
need the full url then if you set the host in the controller before
filter you don't need to pass in the subdomain key.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T15:55:03+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T15:55:05+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">14</version>
      <user-name>Andrew White</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Let say that for example I'm at my root app domain mydomain.com.  And each of my users has their own subdomain.  So in the view they each have links like root_url(:subdomain =&gt; user.subdomain) which should link to user1.mydomain.com  and I also use root_url(:subdomain =&gt; false) to take people back to the main domain

So in this case don't I need root_url vs root_path as the host matters?

In this case how would I set the host in the before_filter? How would the before_filter have access to which subdomain to set as the host?  Pass it as a request param or something?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Let say that for example I'm at my root app domain mydomain.com.
And each of my users has their own subdomain. So in the view they
each have links like root_url(:subdomain =&amp;gt; user.subdomain)
which should link to user1.mydomain.com and I also use
root_url(:subdomain =&amp;gt; false) to take people back to the main
domain&lt;/p&gt;
&lt;p&gt;So in this case don't I need root_url vs root_path as the host
matters?&lt;/p&gt;
&lt;p&gt;In this case how would I set the host in the before_filter? How
would the before_filter have access to which subdomain to set as
the host? Pass it as a request param or something?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T16:26:30+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T16:26:32+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">15</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>So why not set the :host directly?

@@@ ruby
  root_url :host =&gt; user.host
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;So why not set the :host directly?&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;  root_url :host =&amp;gt; user.host&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T17:26:26+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T17:26:31+01:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">16</version>
      <user-name>Andrew White</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>yep, i think that might be the best solution.  seems like messing with url_for just leads to trouble.  thanks for all your help.  just out of curiosity, do you know why there are two different url_fors?</body>
      <body-html>&lt;div&gt;&lt;p&gt;yep, i think that might be the best solution. seems like messing
with url_for just leads to trouble. thanks for all your help. just
out of curiosity, do you know why there are two different
url_fors?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-29T17:33:23+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-29T17:33:28+01:00</updated-at>
      <user-id type="integer">108292</user-id>
      <version type="integer">17</version>
      <user-name>Nader Akhnoukh</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">7697</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Are you looking for Designer Replica Handbags? My-Handbag.com is happy to offer you the best replicas handbags and watches made with high quality materials at lowest price you'll find anywhere.
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;handbags fake&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags fake&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;Fake bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;replica handbags Wholesale&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;discount hermes&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;fake hermes kelly bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;fake hermes kelly handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;Replica hermes kelly handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;Replica hermes kelly bags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_22.html&quot;&gt;Replica Coach handbags&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_15.html&quot;&gt;Chanel handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;Gucci handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_12.html&quot;&gt;Louis Vuitton handbags Replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;watches replica&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;cheap watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;designer watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;Swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;mens watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;ladies watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;fake watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;discounted watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;sport watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;wholesale replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;knockoff watches&lt;/a&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica watches on sale&lt;/a&gt;
replicasincn.com is dedicated to bring buyers the top grade replica handbags and watches at wholesale price. Here you can find a genuine pool of replica bags and watches with a wide range varieties.
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags fake&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags replica&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags cheap&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags cheap&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags discounted&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags discounted&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;replica gucci handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;replica chanel handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;replica Louis Vuitton handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Cheap handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale replica handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale fake handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale cheap handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale designer handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale replica designer bags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale designer bags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale designer handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale replica designer handbags&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;replica handbags offers&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;replica bags suppliers&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;watches replica&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;cheap watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;designer watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;Swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;mens watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;ladies watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;fake watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;discounted watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;sport watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;wholesale replica watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica swiss watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;knockoff watches&lt;/a&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica watches on sale&lt;/a&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;Are you looking for Designer Replica Handbags? My-Handbag.com is
happy to offer you the best replicas handbags and watches made with
high quality materials at lowest price you'll find anywhere.&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;handbags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;bags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;Fake bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/&quot;&gt;replica handbags
Wholesale&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;discount
hermes&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;fake hermes
kelly bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;fake hermes
kelly handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;Replica hermes
kelly handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_32.html&quot;&gt;Replica hermes
kelly bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_22.html&quot;&gt;Replica Coach
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_15.html&quot;&gt;Chanel handbags
Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_19.html&quot;&gt;Gucci handbags
Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_12.html&quot;&gt;Louis Vuitton
handbags Replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;watches
replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;cheap
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;designer
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;Swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;mens
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;ladies
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;fake
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;discounted
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;sport
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;wholesale
replica watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;knockoff
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.my-handbag.com/catalog_111.html&quot;&gt;replica
watches on sale&lt;/a&gt;&lt;br&gt;
replicasincn.com is dedicated to bring buyers the top grade replica
handbags and watches at wholesale price. Here you can find a
genuine pool of replica bags and watches with a wide range
varieties.&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags fake&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags cheap&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags cheap&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;handbags discounted&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;bags discounted&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_19.html&quot;&gt;replica gucci
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_15.html&quot;&gt;replica
chanel handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_12.html&quot;&gt;replica Louis
Vuitton handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Cheap handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale replica
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale fake
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale cheap
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;Wholesale designer
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale replica designer
bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale designer
bags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale designer
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;wholesale replica designer
handbags&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;replica handbags
offers&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/&quot;&gt;replica bags
suppliers&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;watches
replica&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;cheap
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;designer
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;Swiss
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;mens
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;ladies
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;fake
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;discounted
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;sport
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;wholesale
replica watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
swiss watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;knockoff
watches&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.replicasincn.com/catalog_111.html&quot;&gt;replica
watches on sale&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-30T07:26:26+01:00</created-at>
      <creator-id type="integer">108292</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5874</number>
      <permalink>url_for-model-generates-a-model_url-route-instead-of-model_path</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>link_to url_for</tag>
      <title>url_for &lt;model&gt; generates a &lt;model&gt;_url route instead of &lt;model&gt;_path</title>
      <updated-at type="datetime">2010-10-31T06:02:33+00:00</updated-at>
      <user-id type="integer">122552</user-id>
      <version type="integer">18</version>
      <user-name>fstory</user-name>
      <creator-name>Nader Akhnoukh</creator-name>
      <assigned-user-name>Andrew White</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5874</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
