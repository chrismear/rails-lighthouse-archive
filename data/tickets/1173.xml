<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-10-04T15:44:38+01:00</created-at>
  <creator-id type="integer">24327</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">1173</number>
  <permalink>patch-fix-performance-bug-in-attibutemethodsrespond_to-in-handling-of-private-methods</permalink>
  <priority type="integer">583</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>activerecord patch performance</tag>
  <title>[PATCH] Fix performance bug in AttibuteMethods#respond_to? in handling of private methods</title>
  <updated-at type="datetime">2008-10-04T16:49:32+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">2</version>
  <user-name>Repository</user-name>
  <creator-name>Aliaksey Kandratsenka</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1173</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>We have hit dramatic increase in tests time after upgrading rails.
Profiling revealed this particular place. After this fix our test times returned back to norm.

It turns out that self.private_methods.include?(method) is several orders of magnitude slower than respond_to?</original-body>
  <latest-body>We have hit dramatic increase in tests time after upgrading rails.
Profiling revealed this particular place. After this fix our test times returned back to norm.

It turns out that self.private_methods.include?(method) is several orders of magnitude slower than respond_to?</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;We have hit dramatic increase in tests time after upgrading
rails. Profiling revealed this particular place. After this fix our
test times returned back to norm.&lt;/p&gt;
&lt;p&gt;It turns out that self.private_methods.include?(method) is
several orders of magnitude slower than respond_to?&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>We have hit dramatic increase in tests time after upgrading rails.
Profiling revealed this particular place. After this fix our test times returned back to norm.

It turns out that self.private_methods.include?(method) is several orders of magnitude slower than respond_to?</body>
      <body-html>&lt;div&gt;&lt;p&gt;We have hit dramatic increase in tests time after upgrading
rails. Profiling revealed this particular place. After this fix our
test times returned back to norm.&lt;/p&gt;
&lt;p&gt;It turns out that self.private_methods.include?(method) is
several orders of magnitude slower than respond_to?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-10-04T15:44:38+01:00</created-at>
      <creator-id type="integer">24327</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1173</number>
      <permalink>patch-fix-performance-bug-in-attibutemethodsrespond_to-in-handling-of-private-methods</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord patch performance</tag>
      <title>[PATCH] Fix performance bug in AttibuteMethods#respond_to? in handling of private methods</title>
      <updated-at type="datetime">2008-10-04T15:44:43+01:00</updated-at>
      <user-id type="integer">24327</user-id>
      <version type="integer">1</version>
      <user-name>Aliaksey Kandratsenka</user-name>
      <creator-name>Aliaksey Kandratsenka</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1173</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [f550c8625739106e957e4260d3d592a9665fc943]) Fix performance bug in AttibuteMethods#respond_to? in handling of private methods

We have hit dramatic increase in tests time after upgrading rails.
Profiling revealed this particular place. After this fix our test times returned
back to norm.

Signed-off-by: Michael Koziarski &lt;michael@koziarski.com&gt;
[#1173 state:committed]
http://github.com/rails/rails/commit/f550c8625739106e957e4260d3d592a9665fc943</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [f550c8625739106e957e4260d3d592a9665fc943]) Fix
performance bug in AttibuteMethods#respond_to? in handling of
private methods&lt;/p&gt;
&lt;p&gt;We have hit dramatic increase in tests time after upgrading
rails. Profiling revealed this particular place. After this fix our
test times returned back to norm.&lt;/p&gt;
&lt;p&gt;Signed-off-by: Michael Koziarski &lt;a href=&quot;mailto:michael@koziarski.com&quot;&gt;michael@koziarski.com&lt;/a&gt; [&lt;a href=&quot;/projects/8994/tickets/1173&quot; title=&quot;Ticket #1173&quot;&gt;#1173&lt;/a&gt;
state:committed] &lt;a href=&quot;http://github.com/rails/rails/commit/f550c8625739106e957e4260d3d592a9665fc943&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-10-04T16:49:30+01:00</created-at>
      <creator-id type="integer">24327</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1173</number>
      <permalink>patch-fix-performance-bug-in-attibutemethodsrespond_to-in-handling-of-private-methods</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch performance</tag>
      <title>[PATCH] Fix performance bug in AttibuteMethods#respond_to? in handling of private methods</title>
      <updated-at type="datetime">2008-10-04T16:49:32+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">2</version>
      <user-name>Repository</user-name>
      <creator-name>Aliaksey Kandratsenka</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1173</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>879fc248d99ef4a8a1edcb4cfc23a95f89e0fd26</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-10-04T15:44:38+01:00</created-at>
      <filename>0007-Fix-performance-bug-in-AttibuteMethods-respond_to-i.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">51277</id>
      <size type="integer">1329</size>
      <uploader-id type="integer">24327</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/51277/0007-Fix-performance-bug-in-AttibuteMethods-respond_to-i.patch</url>
    </attachment>
  </attachments>
</ticket>
