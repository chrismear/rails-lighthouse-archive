<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">15316</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-01-18T08:52:34+00:00</created-at>
  <creator-id type="integer">25224</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">71472</milestone-id>
  <number type="integer">5951</number>
  <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>2-3-stable 2310 activerecord associations first rails3</tag>
  <title>Using :joins when calling first on an association ignores joins</title>
  <updated-at type="datetime">2011-04-19T01:00:59+01:00</updated-at>
  <user-id type="integer">136779</user-id>
  <version type="integer">10</version>
  <user-name>rails</user-name>
  <creator-name>omarqureshi</creator-name>
  <assigned-user-name>Aaron Patterson</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
  <milestone-title>3.x</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>Running the following test:

@@@ ruby
  def test_using_joins_on_many_association_with_has_one_join
    parrot = Parrot.create!(:name =&gt; &quot;Petal&quot;)
    pirate_with_a_ship = Pirate.create!(:catchphrase =&gt; &quot;Where is Seaman Staines?&quot;)
    ship = Ship.create!(:name =&gt; &quot;Black pig&quot;, :pirate =&gt; pirate_with_a_ship)
    pirate_without_a_ship = Pirate.create!(:catchphrase =&gt; &quot;Argh, I better run from the captain!&quot;)
    parrot.pirates &lt;&lt; pirate_without_a_ship
    parrot.pirates &lt;&lt; pirate_with_a_ship
    assert_equal pirate_with_a_ship, parrot.pirates.all(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;, :limit =&gt; 1).first
    assert_equal pirate_with_a_ship, parrot.pirates.first(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;)
  end
@@@

The first query using the .all, correctly applies the :joins and :order clause, whereas the second query using .first only applies the :order.

As such, the pirate returned from the second query is the wrong pirate.

@@@ sql
SELECT &quot;pirates&quot;.* FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
INNER JOIN &quot;ships&quot; ON ships.pirate_id = pirates.id WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) 
ORDER BY catchphrase LIMIT 1
@@@

@@@ sql
SELECT * FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) ORDER BY catchphrase LIMIT 1
@@@

Is the output from debug.log showing the SQL ran by both queries.</original-body>
  <latest-body>Running the following test:

@@@ ruby
  def test_using_joins_on_many_association_with_has_one_join
    parrot = Parrot.create!(:name =&gt; &quot;Petal&quot;)
    pirate_with_a_ship = Pirate.create!(:catchphrase =&gt; &quot;Where is Seaman Staines?&quot;)
    ship = Ship.create!(:name =&gt; &quot;Black pig&quot;, :pirate =&gt; pirate_with_a_ship)
    pirate_without_a_ship = Pirate.create!(:catchphrase =&gt; &quot;Argh, I better run from the captain!&quot;)
    parrot.pirates &lt;&lt; pirate_without_a_ship
    parrot.pirates &lt;&lt; pirate_with_a_ship
    assert_equal pirate_with_a_ship, parrot.pirates.all(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;, :limit =&gt; 1).first
    assert_equal pirate_with_a_ship, parrot.pirates.first(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;)
  end
@@@

The first query using the .all, correctly applies the :joins and :order clause, whereas the second query using .first only applies the :order.

As such, the pirate returned from the second query is the wrong pirate.

@@@ sql
SELECT &quot;pirates&quot;.* FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
INNER JOIN &quot;ships&quot; ON ships.pirate_id = pirates.id WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) 
ORDER BY catchphrase LIMIT 1
@@@

@@@ sql
SELECT * FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) ORDER BY catchphrase LIMIT 1
@@@

Is the output from debug.log showing the SQL ran by both queries.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Running the following test:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  def test_using_joins_on_many_association_with_has_one_join
    parrot = Parrot.create!(:name =&amp;gt; &quot;Petal&quot;)
    pirate_with_a_ship = Pirate.create!(:catchphrase =&amp;gt; &quot;Where is Seaman Staines?&quot;)
    ship = Ship.create!(:name =&amp;gt; &quot;Black pig&quot;, :pirate =&amp;gt; pirate_with_a_ship)
    pirate_without_a_ship = Pirate.create!(:catchphrase =&amp;gt; &quot;Argh, I better run from the captain!&quot;)
    parrot.pirates &amp;lt;&amp;lt; pirate_without_a_ship
    parrot.pirates &amp;lt;&amp;lt; pirate_with_a_ship
    assert_equal pirate_with_a_ship, parrot.pirates.all(:joins =&amp;gt; :ship, :order =&amp;gt; &quot;catchphrase&quot;, :limit =&amp;gt; 1).first
    assert_equal pirate_with_a_ship, parrot.pirates.first(:joins =&amp;gt; :ship, :order =&amp;gt; &quot;catchphrase&quot;)
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The first query using the .all, correctly applies the :joins and
:order clause, whereas the second query using .first only applies
the :order.&lt;/p&gt;
&lt;p&gt;As such, the pirate returned from the second query is the wrong
pirate.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;sql&quot;&gt;SELECT &quot;pirates&quot;.* FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
INNER JOIN &quot;ships&quot; ON ships.pirate_id = pirates.id WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) 
ORDER BY catchphrase LIMIT 1&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=
&quot;sql&quot;&gt;SELECT * FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) ORDER BY catchphrase LIMIT 1&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Is the output from debug.log showing the SQL ran by both
queries.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Running the following test:

@@@ ruby
  def test_using_joins_on_many_association_with_has_one_join
    parrot = Parrot.create!(:name =&gt; &quot;Petal&quot;)
    pirate_with_a_ship = Pirate.create!(:catchphrase =&gt; &quot;Where is Seaman Staines?&quot;)
    ship = Ship.create!(:name =&gt; &quot;Black pig&quot;, :pirate =&gt; pirate_with_a_ship)
    pirate_without_a_ship = Pirate.create!(:catchphrase =&gt; &quot;Argh, I better run from the captain!&quot;)
    parrot.pirates &lt;&lt; pirate_without_a_ship
    parrot.pirates &lt;&lt; pirate_with_a_ship
    assert_equal pirate_with_a_ship, parrot.pirates.all(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;, :limit =&gt; 1).first
    assert_equal pirate_with_a_ship, parrot.pirates.first(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;)
  end
@@@

The first query using the .all, correctly applies the :joins and :order clause, whereas the second query using .first only applies the :order.

As such, the pirate returned from the second query is the wrong pirate.

@@@ sql
SELECT &quot;pirates&quot;.* FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
INNER JOIN &quot;ships&quot; ON ships.pirate_id = pirates.id WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) 
ORDER BY catchphrase LIMIT 1
@@@

@@@ sql
SELECT * FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) ORDER BY catchphrase LIMIT 1
@@@

Is the output from debug.log showing the SQL ran by both queries.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Running the following test:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;  def test_using_joins_on_many_association_with_has_one_join
    parrot = Parrot.create!(:name =&amp;gt; &quot;Petal&quot;)
    pirate_with_a_ship = Pirate.create!(:catchphrase =&amp;gt; &quot;Where is Seaman Staines?&quot;)
    ship = Ship.create!(:name =&amp;gt; &quot;Black pig&quot;, :pirate =&amp;gt; pirate_with_a_ship)
    pirate_without_a_ship = Pirate.create!(:catchphrase =&amp;gt; &quot;Argh, I better run from the captain!&quot;)
    parrot.pirates &amp;lt;&amp;lt; pirate_without_a_ship
    parrot.pirates &amp;lt;&amp;lt; pirate_with_a_ship
    assert_equal pirate_with_a_ship, parrot.pirates.all(:joins =&amp;gt; :ship, :order =&amp;gt; &quot;catchphrase&quot;, :limit =&amp;gt; 1).first
    assert_equal pirate_with_a_ship, parrot.pirates.first(:joins =&amp;gt; :ship, :order =&amp;gt; &quot;catchphrase&quot;)
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;The first query using the .all, correctly applies the :joins and
:order clause, whereas the second query using .first only applies
the :order.&lt;/p&gt;
&lt;p&gt;As such, the pirate returned from the second query is the wrong
pirate.&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;sql&quot;&gt;SELECT &quot;pirates&quot;.* FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
INNER JOIN &quot;ships&quot; ON ships.pirate_id = pirates.id WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) 
ORDER BY catchphrase LIMIT 1&lt;/code&gt;
&lt;/pre&gt;
&lt;pre&gt;
&lt;code class=
&quot;sql&quot;&gt;SELECT * FROM &quot;pirates&quot; INNER JOIN &quot;parrots_pirates&quot; ON &quot;pirates&quot;.id = &quot;parrots_pirates&quot;.pirate_id 
WHERE (&quot;parrots_pirates&quot;.parrot_id = 1 ) ORDER BY catchphrase LIMIT 1&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Is the output from debug.log showing the SQL ran by both
queries.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-11T09:34:15+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2-3-stable 2.3.10 activerecord associations first</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2010-11-15T21:08:47+00:00</updated-at>
      <user-id type="integer">25224</user-id>
      <version type="integer">1</version>
      <user-name>omarqureshi</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The author says that this is an issue in 2.3-stable . I can reproduce it in rails edge too.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The author says that this is an issue in 2.3-stable . I can
reproduce it in rails edge too.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-15T21:26:34+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
:milestone: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2010-11-15T21:26:36+00:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">2</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-16T20:31:01+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable 2.3.10 activerecord associations first
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2010-11-16T20:31:04+00:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">3</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>00zoe
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots Sale&lt;/strong&gt;&lt;/a&gt;, insulated boot and set. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face jacket&lt;/strong&gt;&lt;/a&gt;, have been the. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland boots&lt;/strong&gt;&lt;/a&gt;, &#32463;&#20856;1956. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale&lt;/strong&gt;&lt;/a&gt;, qkl000. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland&lt;/strong&gt;&lt;/a&gt;, &#35199;&#38376;&#21561;&#38634;. 
&lt;a href=&quot;http://www.mbtclearance.org/&quot;&gt;&lt;strong&gt;MBT shoes clearance&lt;/strong&gt;&lt;/a&gt;, styles, sizes. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT trainers&lt;/strong&gt;&lt;/a&gt;, boots sale online. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg boots uk&lt;/strong&gt;&lt;/a&gt;, making cutprice. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;ugg handbags uk&lt;/strong&gt;&lt;/a&gt;, have not looked back.. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;cheap ugg handbags&lt;/strong&gt;&lt;/a&gt;, The result was the. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT lami shoes&lt;/strong&gt;&lt;/a&gt;, We have a long term. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT tunisha&lt;/strong&gt;&lt;/a&gt;, cooperative manufacturer. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland boots sale&lt;/strong&gt;&lt;/a&gt;, The source of. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/ugg-boots-sale-gissella-c-18.html&quot;&gt;&lt;strong&gt;ugg gissella&lt;/strong&gt;&lt;/a&gt;, &#24680;&#22312;&#20170;&#22825;&#25165;&#30456;&#36935;. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face outlet&lt;/strong&gt;&lt;/a&gt;, now timberland boots. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland roll top&lt;/strong&gt;&lt;/a&gt;, footwear. They. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland chukka&lt;/strong&gt;&lt;/a&gt;, &#31505;&#19977;&#23569;. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Cheap Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#21326;&#20180; a subsidiary. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Waterproof Boots&lt;/strong&gt;&lt;/a&gt;, Timberland. By 1978 more. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#21338;&#23458;. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT UK&lt;/strong&gt;&lt;/a&gt;, Nothing to worry. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland UK&lt;/strong&gt;&lt;/a&gt;, ak11-. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland outlet&lt;/strong&gt;&lt;/a&gt;, myaifeili. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale uk&lt;/strong&gt;&lt;/a&gt;, asisi. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg boots&lt;/strong&gt;&lt;/a&gt;, mercury. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots UK&lt;/strong&gt;&lt;/a&gt;, to produce it, under. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#22914;&#26085; the brand name. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Cheap Timberland Boots&lt;/strong&gt;&lt;/a&gt;, ak22-. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;ugg handbags sale&lt;/strong&gt;&lt;/a&gt;, dry in Timberlands. And. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face boots sale&lt;/strong&gt;&lt;/a&gt;, on the Internet.. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face jacket sale&lt;/strong&gt;&lt;/a&gt;, in a river, and your. 
&lt;a href=&quot;http://www.bootsue.com/mbt-shoes-clearance-sale-c-5.html&quot;&gt;&lt;strong&gt;MBT shoes clearance&lt;/strong&gt;&lt;/a&gt;, can steadily. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes UK&lt;/strong&gt;&lt;/a&gt;, &#28023;&#23376; 1990. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT sale&lt;/strong&gt;&lt;/a&gt;, about, you could. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;cheap timberland boots&lt;/strong&gt;&lt;/a&gt;, timberland is. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberlands&lt;/strong&gt;&lt;/a&gt;, an offshoot.</body>
      <body-html>&lt;div&gt;&lt;p&gt;00zoe&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots Sale&lt;/strong&gt;&lt;/a&gt;, insulated boot and set.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
jacket&lt;/strong&gt;&lt;/a&gt;, have been the.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
boots&lt;/strong&gt;&lt;/a&gt;, &amp;#32463;&amp;#20856;1956.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots
sale&lt;/strong&gt;&lt;/a&gt;, qkl000.&lt;br&gt;
&lt;a href=
&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland&lt;/strong&gt;&lt;/a&gt;,
&amp;#35199;&amp;#38376;&amp;#21561;&amp;#38634;.&lt;br&gt;
&lt;a href=&quot;http://www.mbtclearance.org/&quot;&gt;&lt;strong&gt;MBT shoes
clearance&lt;/strong&gt;&lt;/a&gt;, styles, sizes.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
trainers&lt;/strong&gt;&lt;/a&gt;, boots sale online.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg
boots uk&lt;/strong&gt;&lt;/a&gt;, making cutprice.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;ugg handbags uk&lt;/strong&gt;&lt;/a&gt;, have not looked back..&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;cheap ugg handbags&lt;/strong&gt;&lt;/a&gt;, The result was the.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT lami
shoes&lt;/strong&gt;&lt;/a&gt;, We have a long term.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
tunisha&lt;/strong&gt;&lt;/a&gt;, cooperative manufacturer.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
boots sale&lt;/strong&gt;&lt;/a&gt;, The source of.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/ugg-boots-sale-gissella-c-18.html&quot;&gt;
&lt;strong&gt;ugg gissella&lt;/strong&gt;&lt;/a&gt;,
&amp;#24680;&amp;#22312;&amp;#20170;&amp;#22825;&amp;#25165;&amp;#30456;&amp;#36935;.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
outlet&lt;/strong&gt;&lt;/a&gt;, now timberland boots.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
roll top&lt;/strong&gt;&lt;/a&gt;, footwear. They.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
chukka&lt;/strong&gt;&lt;/a&gt;, &amp;#31505;&amp;#19977;&amp;#23569;.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Cheap
Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#21326;&amp;#20180; a subsidiary.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Waterproof
Boots&lt;/strong&gt;&lt;/a&gt;, Timberland. By 1978 more.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#21338;&amp;#23458;.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
UK&lt;/strong&gt;&lt;/a&gt;, Nothing to worry.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
UK&lt;/strong&gt;&lt;/a&gt;, ak11-.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
outlet&lt;/strong&gt;&lt;/a&gt;, myaifeili.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale
uk&lt;/strong&gt;&lt;/a&gt;, asisi.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg
boots&lt;/strong&gt;&lt;/a&gt;, mercury.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots UK&lt;/strong&gt;&lt;/a&gt;, to produce it, under.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#22914;&amp;#26085; the brand name.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Cheap
Timberland Boots&lt;/strong&gt;&lt;/a&gt;, ak22-.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;ugg handbags sale&lt;/strong&gt;&lt;/a&gt;, dry in Timberlands.
And.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
boots sale&lt;/strong&gt;&lt;/a&gt;, on the Internet..&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
jacket sale&lt;/strong&gt;&lt;/a&gt;, in a river, and your.&lt;br&gt;
&lt;a href=
&quot;http://www.bootsue.com/mbt-shoes-clearance-sale-c-5.html&quot;&gt;&lt;strong&gt;MBT
shoes clearance&lt;/strong&gt;&lt;/a&gt;, can steadily.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes
UK&lt;/strong&gt;&lt;/a&gt;, &amp;#28023;&amp;#23376; 1990.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
sale&lt;/strong&gt;&lt;/a&gt;, about, you could.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;cheap
timberland boots&lt;/strong&gt;&lt;/a&gt;, timberland is.&lt;br&gt;
&lt;a href=
&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberlands&lt;/strong&gt;&lt;/a&gt;,
an offshoot.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-17T01:55:51+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2010-11-17T01:58:31+00:00</updated-at>
      <user-id type="integer">125438</user-id>
      <version type="integer">4</version>
      <user-name>zoery</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I spent some time (infact some good time) looking at it.

The path followed by 

@@@ ruby
parrot.pirates.all(:joins =&gt; :ship)
@@@

is 

association_collection -&gt; method_missing

and then call 

Pirate.with_scope(@scope) do
  args # {:joins =&gt; :capital}
end

straight forward and simple. However notice that it does select pirates.*

In the case of 

@@@ ruby
parrot.pirates.first(:joins =&gt; :ship, :order =&gt; &quot;catchphrase&quot;)
@@@

it hits

association_collection =&gt; first
association_collection =&gt; find

there method construct_find_options is called which takes the options as input. However it does not use the input and clobbers the options[:joins] and 
{:joins =&gt; :ship } is lost forever.

The fix of that is something like this https://gist.github.com/703946 .That takes care of building the joins. However the sql produced is 

@@@ ruby
select * from pirates
@@@ 

Any attempt to have 

@@@ ruby
select pirates.* from 
@@@

is making other test fail which rely on getting the join attribute . Remember we are dealing with habtm.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I spent some time (infact some good time) looking at it.&lt;/p&gt;
&lt;p&gt;The path followed by&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;parrot.pirates.all(:joins =&amp;gt; :ship)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;is&lt;/p&gt;
&lt;p&gt;association_collection -&amp;gt; method_missing&lt;/p&gt;
&lt;p&gt;and then call&lt;/p&gt;
&lt;p&gt;Pirate.with_scope(@scope) do&lt;br&gt;
args # {:joins =&amp;gt; :capital} end&lt;/p&gt;
&lt;p&gt;straight forward and simple. However notice that it does select
pirates.*&lt;/p&gt;
&lt;p&gt;In the case of&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;parrot.pirates.first(:joins =&amp;gt; :ship, :order =&amp;gt; &quot;catchphrase&quot;)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;it hits&lt;/p&gt;
&lt;p&gt;association_collection =&amp;gt; first&lt;br&gt;
association_collection =&amp;gt; find&lt;/p&gt;
&lt;p&gt;there method construct_find_options is called which takes the
options as input. However it does not use the input and clobbers
the options[:joins] and&lt;br&gt;
{:joins =&amp;gt; :ship } is lost forever.&lt;/p&gt;
&lt;p&gt;The fix of that is something like this &lt;a href=
&quot;https://gist.github.com/703946&quot;&gt;https://gist.github.com/703946&lt;/a&gt;
.That takes care of building the joins. However the sql produced
is&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;select * from pirates&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Any attempt to have&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;select pirates.* from&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;is making other test fail which rely on getting the join
attribute . Remember we are dealing with habtm.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-17T19:55:38+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2010-11-17T19:55:40+00:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">5</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Sorry, have come back to this after a long hiatus.

Isn't this what is required? The problem is the joins, not the select clause and infact, is probably preferable to have * instead of table.* since it is a join and a :select has not been specified.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sorry, have come back to this after a long hiatus.&lt;/p&gt;
&lt;p&gt;Isn't this what is required? The problem is the joins, not the
select clause and infact, is probably preferable to have
&lt;em&gt;instead of table.&lt;/em&gt; since it is a join and a :select has not
been specified.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-16T01:04:39+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2011-01-16T01:04:46+00:00</updated-at>
      <user-id type="integer">25224</user-id>
      <version type="integer">6</version>
      <user-name>omarqureshi</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft xbox live points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft xbox live points card&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;MS points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft xbox points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;xbox 360 live points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;xbox  points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;Microsoft Xbox 360 Live 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;Xbox 360 Live 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;Xbox  Live 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;Microsoft  4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;MS 4000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;Microsoft Xbox 360 Live 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;Xbox 360 Live 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;Xbox  Live 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;Microsoft  6000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;MS 6000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;Microsoft Xbox 360 Live 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;Xbox 360 Live 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;Xbox  Live 8000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;Microsoft 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;MS 8000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;Microsoft Xbox 360 Live 10000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;Xbox 360 Live 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;Xbox  Live 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt; &lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;Microsoft 10000 Points&lt;/a&gt; &lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;MS 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;</body>
      <body-html>&lt;div&gt;&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft xbox live
points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft xbox live
points card&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;MS
points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft xbox
points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;Microsoft
points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;xbox
360 live points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=&quot;http://www.microsoftxboxlivepoints.com/&quot;&gt;xbox
points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;
Microsoft Xbox 360 Live 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;
Xbox 360 Live 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;
Xbox Live 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;
Microsoft 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-4000-points-card.html&quot;&gt;
MS 4000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;
Microsoft Xbox 360 Live 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;
Xbox 360 Live 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;
Xbox Live 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;
Microsoft 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-6000-points-card.html&quot;&gt;
MS 6000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;
Microsoft Xbox 360 Live 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;
Xbox 360 Live 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;
Xbox Live 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;
Microsoft 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-8000-points-card.html&quot;&gt;
MS 8000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;
Microsoft Xbox 360 Live 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;
Xbox 360 Live 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;
Xbox Live 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;
Microsoft 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.microsoftxboxlivepoints.com/microsoft-xbox-360-live-10000-points-card.html&quot;&gt;
MS 10000 Points&lt;/a&gt;&lt;/strong&gt;&lt;/h1&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-16T01:38:36+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2011-01-16T02:37:04+00:00</updated-at>
      <user-id type="integer">132761</user-id>
      <version type="integer">7</version>
      <user-name>depyou</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Although if it is appropriate dress is ivory color &lt;b&gt;&lt;a href=&quot;http://www.bridalgownsinlove.com/cheap-mermaid-wedding-dresses-7&quot;&gt;Wholesale Mermaid Wedding Dresses&lt;/a&gt;&lt;/b&gt; wholesale? Put on a bridal gown in ivory can be compared to wearing jewelry. Due to the misinterpretation of clothes, you can seem really old-liners. You can also choose if you have black skin cream. In addition, to avoid this color if you have a connotation quite white. In addition, there are many different shades of &lt;b&gt;&lt;a href=&quot;http://www.bridalgownsinlove.com/cheap-off-the-shoulder-wedding-dresses-48&quot;&gt;Off the shoulder Wedding Dresses&lt;/a&gt;&lt;/b&gt;to yellow color intensity the higher the score for you for pickup.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Although if it is appropriate dress is ivory color &lt;b&gt;&lt;a href=
&quot;http://www.bridalgownsinlove.com/cheap-mermaid-wedding-dresses-7&quot;&gt;Wholesale
Mermaid Wedding Dresses&lt;/a&gt;&lt;/b&gt; wholesale? Put on a bridal gown in
ivory can be compared to wearing jewelry. Due to the
misinterpretation of clothes, you can seem really old-liners. You
can also choose if you have black skin cream. In addition, to avoid
this color if you have a connotation quite white. In addition,
there are many different shades of &lt;b&gt;&lt;a href=
&quot;http://www.bridalgownsinlove.com/cheap-off-the-shoulder-wedding-dresses-48&quot;&gt;
Off the shoulder Wedding Dresses&lt;/a&gt;&lt;/b&gt;to yellow color intensity
the higher the score for you for pickup.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-01-18T08:45:35+00:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2.3.10 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2011-01-18T08:52:34+00:00</updated-at>
      <user-id type="integer">133048</user-id>
      <version type="integer">8</version>
      <user-name>mary01</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-04-19T01:00:09+01:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2-3-stable 2.3.10 activerecord associations first rails3
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>2-3-stable 2310 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2011-04-19T01:00:59+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">9</version>
      <user-name>rails</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">15316</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-19T01:00:09+01:00</created-at>
      <creator-id type="integer">25224</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">71472</milestone-id>
      <number type="integer">5951</number>
      <permalink>using-joins-when-calling-first-on-an-association-ignores-joins</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>2-3-stable 2310 activerecord associations first rails3</tag>
      <title>Using :joins when calling first on an association ignores joins</title>
      <updated-at type="datetime">2011-04-19T01:00:49+01:00</updated-at>
      <user-id type="integer">136779</user-id>
      <version type="integer">10</version>
      <user-name>rails</user-name>
      <creator-name>omarqureshi</creator-name>
      <assigned-user-name>Aaron Patterson</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5951</url>
      <milestone-title>3.x</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
