<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">85</assigned-user-id>
  <attachments-count type="integer">4</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-02-14T07:28:43+00:00</created-at>
  <creator-id type="integer">55227</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">4437</number>
  <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
  <priority type="integer">0</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
  <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
  <updated-at type="datetime">2011-02-14T07:28:43+00:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">28</version>
  <user-name>Repository</user-name>
  <creator-name>Simon Chiu</creator-name>
  <assigned-user-name>Jeremy Kemper</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
  <priority-name nil="true"></priority-name>
  <original-body>Rails Version: 3.0.0 beta 3
Scenario: ActiveResource from Rails App #1 calling to a controller on Rails App #2 with #create action. Rails App #2 was running through Phusion Passenger, and was returning this:

NoMethodError (private method `getc' called for 
#&lt;PhusionPassenger::Utils::RewindableInput:0x1044e22d0&gt;):

Asked Hongli (thread: http://groups.google.com/group/phusion-passenger/browse_thread/thread/5115e0f0da97068b) about this, and apparently the data input stream fed into the Rack app doesn't need to be able to respond to getc. 

This error does not occur if App is running through script/server.

Problem: http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1feba5a20d145

Here is the patch for your consideration. 

Sorry if it's a bit of a hack as this is my first contrib. Thanks - Simon</original-body>
  <latest-body>Rails Version: 3.0.0 beta 3
Scenario: ActiveResource from Rails App #1 calling to a controller on Rails App #2 with #create action. Rails App #2 was running through Phusion Passenger, and was returning this:

NoMethodError (private method `getc' called for 
#&lt;PhusionPassenger::Utils::RewindableInput:0x1044e22d0&gt;):

Asked Hongli (thread: http://groups.google.com/group/phusion-passenger/browse_thread/thread/5115e0f0da97068b) about this, and apparently the data input stream fed into the Rack app doesn't need to be able to respond to getc. 

This error does not occur if App is running through script/server.

Problem: http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1feba5a20d145

Here is the patch for your consideration. 

Sorry if it's a bit of a hack as this is my first contrib. Thanks - Simon</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Rails Version: 3.0.0 beta 3&lt;br&gt;
Scenario: ActiveResource from Rails App &lt;a href=
&quot;/projects/8994/tickets/1&quot; title=&quot;Ticket #1&quot;&gt;#1&lt;/a&gt; calling to a
controller on Rails App &lt;a href=&quot;/projects/8994/tickets/2&quot; title=
&quot;Ticket #2&quot;&gt;#2&lt;/a&gt; with #create action. Rails App &lt;a href=
&quot;/projects/8994/tickets/2&quot; title=&quot;Ticket #2&quot;&gt;#2&lt;/a&gt; was running
through Phusion Passenger, and was returning this:&lt;/p&gt;
&lt;p&gt;NoMethodError (private method &lt;code&gt;getc' called
for&amp;lt;br/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;
&amp;lt;PhusionPassenger::Utils::RewindableInput:0x1044e22d0&amp;gt;):&lt;/h1&gt;
&lt;p&gt;Asked Hongli (thread: &lt;a href=
&quot;http://groups.google.com/group/phusion-passenger/browse_thread/thread/5115e0f0da97068b&quot;&gt;
http://groups.google.com/group/phusion-passenger/browse_thread/thre...&lt;/a&gt;)
about this, and apparently the data input stream fed into the Rack
app doesn't need to be able to respond to getc.&lt;/p&gt;
&lt;p&gt;This error does not occur if App is running through
script/server.&lt;/p&gt;
&lt;p&gt;Problem: &lt;a href=
&quot;http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1feba5a20d145&quot;&gt;
http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1fe...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here is the patch for your consideration.&lt;/p&gt;
&lt;p&gt;Sorry if it's a bit of a hack as this is my first contrib.
Thanks - Simon&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Rails Version: 3.0.0 beta 3
Scenario: ActiveResource from Rails App #1 calling to a controller on Rails App #2 with #create action. Rails App #2 was running through Phusion Passenger, and was returning this:

NoMethodError (private method `getc' called for 
#&lt;PhusionPassenger::Utils::RewindableInput:0x1044e22d0&gt;):

Asked Hongli (thread: http://groups.google.com/group/phusion-passenger/browse_thread/thread/5115e0f0da97068b) about this, and apparently the data input stream fed into the Rack app doesn't need to be able to respond to getc. 

This error does not occur if App is running through script/server.

Problem: http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1feba5a20d145

Here is the patch for your consideration. 

Sorry if it's a bit of a hack as this is my first contrib. Thanks - Simon</body>
      <body-html>&lt;div&gt;&lt;p&gt;Rails Version: 3.0.0 beta 3&lt;br&gt;
Scenario: ActiveResource from Rails App &lt;a href=
&quot;/projects/8994/tickets/1&quot; title=&quot;Ticket #1&quot;&gt;#1&lt;/a&gt; calling to a
controller on Rails App &lt;a href=&quot;/projects/8994/tickets/2&quot; title=
&quot;Ticket #2&quot;&gt;#2&lt;/a&gt; with #create action. Rails App &lt;a href=
&quot;/projects/8994/tickets/2&quot; title=&quot;Ticket #2&quot;&gt;#2&lt;/a&gt; was running
through Phusion Passenger, and was returning this:&lt;/p&gt;
&lt;p&gt;NoMethodError (private method &lt;code&gt;getc' called
for&amp;lt;br/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;
&amp;lt;PhusionPassenger::Utils::RewindableInput:0x1044e22d0&amp;gt;):&lt;/h1&gt;
&lt;p&gt;Asked Hongli (thread: &lt;a href=
&quot;http://groups.google.com/group/phusion-passenger/browse_thread/thread/5115e0f0da97068b&quot;&gt;
http://groups.google.com/group/phusion-passenger/browse_thread/thre...&lt;/a&gt;)
about this, and apparently the data input stream fed into the Rack
app doesn't need to be able to respond to getc.&lt;/p&gt;
&lt;p&gt;This error does not occur if App is running through
script/server.&lt;/p&gt;
&lt;p&gt;Problem: &lt;a href=
&quot;http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1feba5a20d145&quot;&gt;
http://github.com/rails/rails/commit/69bc2043f93890048e415dd7c5f1fe...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here is the patch for your consideration.&lt;/p&gt;
&lt;p&gt;Sorry if it's a bit of a hack as this is my first contrib.
Thanks - Simon&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-19T05:17:39+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-19T05:17:40+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">1</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Instead of referring to Phusion Passenger specifically, you should refer to Rack, because Phusion Passenger is just implementing the Rack specification and the restriction is in Rack.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Instead of referring to Phusion Passenger specifically, you
should refer to Rack, because Phusion Passenger is just
implementing the Rack specification and the restriction is in
Rack.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-19T09:39:35+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-19T09:39:37+01:00</updated-at>
      <user-id type="integer">10679</user-id>
      <version type="integer">2</version>
      <user-name>Hongli Lai</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Agreed, it should be referred to the rack.input rather than Passenger specifically. Updated the patch to reflect that in the tests. Libxml and Nokogiri parsers have also been updated.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Agreed, it should be referred to the rack.input rather than
Passenger specifically. Updated the patch to reflect that in the
tests. Libxml and Nokogiri parsers have also been updated.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-19T12:50:15+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-19T12:50:21+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">3</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-21T14:26:16+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- 
:title: XML Mini Parser NoMethodError :getc when application running through Phusion Passenger
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-21T14:26:20+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">4</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>applied the patch to rails3 beta3 but still get 

PhusionPassenger::Utils::RewindableInput is not a valid input stream.  It must walk like either a String, an IO, or a Source.</body>
      <body-html>&lt;div&gt;&lt;p&gt;applied the patch to rails3 beta3 but still get&lt;/p&gt;
&lt;p&gt;PhusionPassenger::Utils::RewindableInput is not a valid input
stream. It must walk like either a String, an IO, or a Source.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-26T18:00:42+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-26T18:00:44+01:00</updated-at>
      <user-id type="integer">89948</user-id>
      <version type="integer">5</version>
      <user-name>ieuser</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>ieuser,  Which XML parser backend are you using with your Rails 3 app?</body>
      <body-html>&lt;div&gt;&lt;p&gt;ieuser, Which XML parser backend are you using with your Rails 3
app?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-27T12:51:06+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-27T12:51:07+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">6</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Hi Simon, I just tried the patch and get the same error:

@@@
PhusionPassenger::Utils::RewindableInput is not a valid input stream.  It must walk like either a String, an IO, or a Source.
@@@

I'm using rexml and here's the backtrace:

@@@
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/source.rb:22:in `create_from'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/baseparser.rb:146:in `stream='
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/baseparser.rb:123:in `initialize'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/treeparser.rb:9:in `new'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/treeparser.rb:9:in `initialize'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/document.rb:230:in `new'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/document.rb:230:in `build'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/document.rb:43:in `initialize'
vendor/rails/activesupport/lib/active_support/xml_mini/rexml.rb:38:in `new'
vendor/rails/activesupport/lib/active_support/xml_mini/rexml.rb:38:in `parse'
vendor/rails/activesupport/lib/active_support/xml_mini.rb:13:in `parse'
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Simon, I just tried the patch and get the same error:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;PhusionPassenger::Utils::RewindableInput is not a valid input stream.  It must walk like either a String, an IO, or a Source.&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I'm using rexml and here's the backtrace:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/source.rb:22:in `create_from'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/baseparser.rb:146:in `stream='
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/baseparser.rb:123:in `initialize'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/treeparser.rb:9:in `new'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/parsers/treeparser.rb:9:in `initialize'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/document.rb:230:in `new'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/document.rb:230:in `build'
/Users/Si/.rvm/rubies/ruby-1.9.2-head/lib/ruby/1.9.1/rexml/document.rb:43:in `initialize'
vendor/rails/activesupport/lib/active_support/xml_mini/rexml.rb:38:in `new'
vendor/rails/activesupport/lib/active_support/xml_mini/rexml.rb:38:in `parse'
vendor/rails/activesupport/lib/active_support/xml_mini.rb:13:in `parse'&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-27T16:27:08+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-27T16:27:10+01:00</updated-at>
      <user-id type="integer">36910</user-id>
      <version type="integer">7</version>
      <user-name>Si</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>You'll need to call .read on the received data before passing it to REXML::Document.new. Something like this seems to work:

    def parse(data)
      if !data.respond_to?(:read)
        data = StringIO.new(data || '')
      end

      str = data.gets
      if str.nil?
        {}
      else
        data.rewind
        silence_warnings { require 'rexml/document' } unless defined?(REXML::Document)
        doc = REXML::Document.new(data.read)

        if doc.root
          merge_element!({}, doc.root)
        else
          raise REXML::ParseException,
            &quot;The document #{doc.to_s.inspect} does not have a valid root&quot;
        end
      end
    end</body>
      <body-html>&lt;div&gt;&lt;p&gt;You'll need to call .read on the received data before passing it
to REXML::Document.new. Something like this seems to work:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;def parse(data)
  if !data.respond_to?(:read)
    data = StringIO.new(data || '')
  end

  str = data.gets
  if str.nil?
    {}
  else
    data.rewind
    silence_warnings { require 'rexml/document' } unless defined?(REXML::Document)
    doc = REXML::Document.new(data.read)

    if doc.root
      merge_element!({}, doc.root)
    else
      raise REXML::ParseException,
        &quot;The document #{doc.to_s.inspect} does not have a valid root&quot;
    end
  end
end&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-28T10:54:44+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-28T10:54:49+01:00</updated-at>
      <user-id type="integer">5879</user-id>
      <version type="integer">8</version>
      <user-name>Jan Kubr</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>I wonder if this is one of those incompatibilities with Ruby 1.8 vs 1.9. I was using 1.8.7 when I came across this error, but the patch seemed to have fixed it. I will try and use 1.9-head tonight and see if I can duplicate the problem. 

Just in case, can someone post an example XML which caused the error for them?</body>
      <body-html>&lt;div&gt;&lt;p&gt;I wonder if this is one of those incompatibilities with Ruby 1.8
vs 1.9. I was using 1.8.7 when I came across this error, but the
patch seemed to have fixed it. I will try and use 1.9-head tonight
and see if I can duplicate the problem.&lt;/p&gt;
&lt;p&gt;Just in case, can someone post an example XML which caused the
error for them?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-28T12:25:15+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-28T12:25:16+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">9</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Even something minimal like &lt;oops/&gt; will do it.

If I use NokogiriSAX as my XmlMini backend, your patch works as hoped however.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Even something minimal like will do it.&lt;/p&gt;
&lt;p&gt;If I use NokogiriSAX as my XmlMini backend, your patch works as
hoped however.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-28T13:12:00+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-28T13:12:02+01:00</updated-at>
      <user-id type="integer">36910</user-id>
      <version type="integer">10</version>
      <user-name>Si</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Ha! I should have used preview :)

Even something minimal like
@@@
&lt;oops/&gt;
@@@

will do it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ha! I should have used preview :)&lt;/p&gt;
&lt;p&gt;Even something minimal like&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;&amp;lt;oops/&amp;gt;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;will do it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-28T13:14:58+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-04-28T13:15:01+01:00</updated-at>
      <user-id type="integer">36910</user-id>
      <version type="integer">11</version>
      <user-name>Si</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Any update on this ? I'm seeing this bug too and it is pretty annoying.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Any update on this ? I'm seeing this bug too and it is pretty
annoying.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-04T23:11:53+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-04T23:11:58+01:00</updated-at>
      <user-id type="integer">59381</user-id>
      <version type="integer">12</version>
      <user-name>Ga&#235;l Deest</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Gael, are you also using Ruby 1.9.2-head?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Gael, are you also using Ruby 1.9.2-head?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T04:46:35+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-05T04:46:37+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">13</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Nope, I'm using Ruby Enterprise Edition 1.8.7 with rack 1.1.0 on the remote (ActiveResource) server, behind SSL and HTTP basic authentication. Switching the XmlMini backend from REXML to Nokogiri did not help.

If I'm understanding the issue correctly, the XML sent by the client can not be parsed because the XML parser expects the rack object to respond to unknown 'getc' and 'ungetc' methods. So this probably affects any XML controller and I would expect more people to complain. Perhaps there is something special in our setup (such as SSL) that triggers the problem ?</body>
      <body-html>&lt;div&gt;&lt;p&gt;Nope, I'm using Ruby Enterprise Edition 1.8.7 with rack 1.1.0 on
the remote (ActiveResource) server, behind SSL and HTTP basic
authentication. Switching the XmlMini backend from REXML to
Nokogiri did not help.&lt;/p&gt;
&lt;p&gt;If I'm understanding the issue correctly, the XML sent by the
client can not be parsed because the XML parser expects the rack
object to respond to unknown 'getc' and 'ungetc' methods. So this
probably affects any XML controller and I would expect more people
to complain. Perhaps there is something special in our setup (such
as SSL) that triggers the problem ?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T09:00:02+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-05T09:00:06+01:00</updated-at>
      <user-id type="integer">59381</user-id>
      <version type="integer">14</version>
      <user-name>Ga&#235;l Deest</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Gael,

I'm just curious what is preventing your set up from working.

Try putting this Gist in your initializer directory and see if it works: http://gist.github.com/373797

Simon</body>
      <body-html>&lt;div&gt;&lt;p&gt;Gael,&lt;/p&gt;
&lt;p&gt;I'm just curious what is preventing your set up from
working.&lt;/p&gt;
&lt;p&gt;Try putting this Gist in your initializer directory and see if
it works: &lt;a href=
&quot;http://gist.github.com/373797&quot;&gt;http://gist.github.com/373797&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Simon&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T11:03:55+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-05T11:03:57+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">15</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Your monkey patch seems to work. Thanks !</body>
      <body-html>&lt;div&gt;&lt;p&gt;Your monkey patch seems to work. Thanks !&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T18:06:47+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-05T18:06:50+01:00</updated-at>
      <user-id type="integer">59381</user-id>
      <version type="integer">16</version>
      <user-name>Ga&#235;l Deest</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Okay, I will look at the patch and see if I messed up somewhere. Thanks Gael.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Okay, I will look at the patch and see if I messed up somewhere.
Thanks Gael.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-05T18:37:33+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-05T18:37:37+01:00</updated-at>
      <user-id type="integer">55227</user-id>
      <version type="integer">17</version>
      <user-name>Simon Chiu</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Oh, I had not applied your patch yet so it may be perfectly fine. Thanks to your for taking some time to address this issue !</body>
      <body-html>&lt;div&gt;&lt;p&gt;Oh, I had not applied your patch yet so it may be perfectly
fine. Thanks to your for taking some time to address this issue
!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-06T08:01:09+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>active_resource passenger rack xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-06T08:01:10+01:00</updated-at>
      <user-id type="integer">59381</user-id>
      <version type="integer">18</version>
      <user-name>Ga&#235;l Deest</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>This shouldn't be solved by patching the xmlmini classes.

The issue only occurs in development mode. This is because Rack adds the middleware Rack::Lint when in development mode, which results in all input to Rails being wrapped into a Rack::Lint::InputWrapper. This is not an IO class, and therefor fails as input into all the XML parsers.

Attached is a patch to solve this issue.


Note: at this moment it's not possible to add a proper test for this, as rack's Rack::MockRequest always returns a StringIO stream for env['rack.input']. I'm currently working on a patch for Rack to remedy this, as I think tests should work with Rack::Lint::InputWrapper instances instead (which would then show the current xml tests failing without the attached patch): StringIO basically doesn't comply with the Rack specification.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This shouldn't be solved by patching the xmlmini classes.&lt;/p&gt;
&lt;p&gt;The issue only occurs in development mode. This is because Rack
adds the middleware Rack::Lint when in development mode, which
results in all input to Rails being wrapped into a
Rack::Lint::InputWrapper. This is not an IO class, and therefor
fails as input into all the XML parsers.&lt;/p&gt;
&lt;p&gt;Attached is a patch to solve this issue.&lt;/p&gt;
&lt;p&gt;Note: at this moment it's not possible to add a proper test for
this, as rack's Rack::MockRequest always returns a StringIO stream
for env['rack.input']. I'm currently working on a patch for Rack to
remedy this, as I think tests should work with
Rack::Lint::InputWrapper instances instead (which would then show
the current xml tests failing without the attached patch): StringIO
basically doesn't comply with the Rack specification.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-06T12:46:10+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: active_resource passenger rack xml_mini
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-06T12:46:15+01:00</updated-at>
      <user-id type="integer">20836</user-id>
      <version type="integer">19</version>
      <user-name>Lawrence Pit</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Just thought I'd mention that we've hit this running in production mode as well. Thanks for your work on this, looking forward to a fix.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Just thought I'd mention that we've hit this running in
production mode as well. Thanks for your work on this, looking
forward to a fix.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-06T14:40:01+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-06T14:40:06+01:00</updated-at>
      <user-id type="integer">73981</user-id>
      <version type="integer">20</version>
      <user-name>Mat Schaffer</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>I too met this bug in production.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I too met this bug in production.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-06T16:12:32+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-06T16:12:35+01:00</updated-at>
      <user-id type="integer">59381</user-id>
      <version type="integer">21</version>
      <user-name>Ga&#235;l Deest</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Sounds like our only option for streaming parsing is to provide an IO wrapper than treats `getc` as `read`. Nasty.

Patch + test welcome to read the full IO to a string first instead, reverting the streaming behavior.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Sounds like our only option for streaming parsing is to provide
an IO wrapper than treats &lt;code&gt;getc&lt;/code&gt; as &lt;code&gt;read&lt;/code&gt;.
Nasty.&lt;/p&gt;
&lt;p&gt;Patch + test welcome to read the full IO to a string first
instead, reverting the streaming behavior.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-06T18:45:31+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-06T18:45:33+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">22</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Mat and Gael, it /is/ possible that you get this issue in production as well, because any rack middleware that adds itself and wraps the input which strictly conforms to the Rack protocol will cause this issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Mat and Gael, it /is/ possible that you get this issue in
production as well, because any rack middleware that adds itself
and wraps the input which strictly conforms to the Rack protocol
will cause this issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T01:48:17+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-07T01:48:18+01:00</updated-at>
      <user-id type="integer">20836</user-id>
      <version type="integer">23</version>
      <user-name>Lawrence Pit</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Jeremy, attached patch with test.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Jeremy, attached patch with test.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T01:49:11+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-07T01:49:16+01:00</updated-at>
      <user-id type="integer">20836</user-id>
      <version type="integer">24</version>
      <user-name>Lawrence Pit</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T01:55:34+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-07T01:55:38+01:00</updated-at>
      <user-id type="integer">20836</user-id>
      <version type="integer">25</version>
      <user-name>Lawrence Pit</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>Thanks for the clarification, Lawrence. If it helps, the app in question is using Rack::URLMap in config.ru (for switching between the main app and Resque::Server) as well as HoptoadNotifier::Rack in production.rb as middleware.

I'll try out some of these patches and let you know if I find anything. Thanks!</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thanks for the clarification, Lawrence. If it helps, the app in
question is using Rack::URLMap in config.ru (for switching between
the main app and Resque::Server) as well as HoptoadNotifier::Rack
in production.rb as middleware.&lt;/p&gt;
&lt;p&gt;I'll try out some of these patches and let you know if I find
anything. Thanks!&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T02:43:30+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-07T02:43:34+01:00</updated-at>
      <user-id type="integer">73981</user-id>
      <version type="integer">26</version>
      <user-name>Mat Schaffer</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>That rackinput.diff patch seems to do the trick for my app. Good find, Lawrence!

I also did a test app without any middleware and was able to produce this under Passenger (development and production envs). Seems that the Rack environment in Passenger is a little more strict than others.

Thanks again.</body>
      <body-html>&lt;div&gt;&lt;p&gt;That rackinput.diff patch seems to do the trick for my app. Good
find, Lawrence!&lt;/p&gt;
&lt;p&gt;I also did a test app without any middleware and was able to
produce this under Passenger (development and production envs).
Seems that the Rack environment in Passenger is a little more
strict than others.&lt;/p&gt;
&lt;p&gt;Thanks again.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-05-07T03:34:23+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-07T03:34:28+01:00</updated-at>
      <user-id type="integer">73981</user-id>
      <version type="integer">27</version>
      <user-name>Mat Schaffer</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>(from [1e1d30715ee75312b41045d2af1c68492ea66a05]) Fix parsing xml input by ActionDispatch::ParamsParser

[#4437 state:committed]

Signed-off-by: Jeremy Kemper &lt;jeremy@bitsweat.net&gt;
http://github.com/rails/rails/commit/1e1d30715ee75312b41045d2af1c68492ea66a05</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from &lt;a href=
&quot;/projects/8994/changesets/1e1d30715ee75312b41045d2af1c68492ea66a05&quot;
title=
&quot;Changeset [1e1d30715ee75312b41045d2af1c68492ea66a05]&quot;&gt;[1e1d30715ee75312b41045d2af1c68492ea66a05]&lt;/a&gt;)
Fix parsing xml input by ActionDispatch::ParamsParser&lt;/p&gt;
&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/4437&quot; title=
&quot;Ticket #4437&quot;&gt;#4437&lt;/a&gt; state:committed]&lt;/p&gt;
&lt;p&gt;Signed-off-by: Jeremy Kemper &lt;a href=
&quot;mailto:jeremy@bitsweat.net&quot;&gt;jeremy@bitsweat.net&lt;/a&gt;&lt;br&gt;
&lt;a href=
&quot;http://github.com/rails/rails/commit/1e1d30715ee75312b41045d2af1c68492ea66a05&quot;&gt;
http://github.com/rails/rails/commit/1e1d30715ee75312b41045d2af1c68...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-05-07T04:59:14+01:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2010-05-07T04:59:15+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">28</version>
      <user-name>Repository</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>thank you very much......&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/&quot;&gt;&#1605;&#1606;&#1578;&#1583;&#1610;&#1575;&#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f86.html&quot;&gt;&#1605;&#1603;&#1610;&#1575;&#1580;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&#1575;&#1586;&#1610;&#1575;&#1569;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&#1601;&#1587;&#1575;&#1578;&#1610;&#1606;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f17.html&quot;&gt;&#1585;&#1587;&#1575;&#1574;&#1604; 
- &#1605;&#1587;&#1580;&#1575;&#1578; - &#1608;&#1587;&#1575;&#1574;&#1591;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f18.html&quot;&gt;&#1578;&#1608;&#1576;&#1610;&#1603;&#1575;&#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;&#1608;&#1592;&#1575;&#1574;&#1601;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;jobs&lt;/a&gt; &lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;&#1576;&#1585;&#1608;&#1603;&#1587;&#1610;&lt;/a&gt; &lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;proxy&lt;/a&gt;&lt;a href=&quot;http://forum.line-sport.tv/&quot;&gt;&#1604;&#1575;&#1610;&#1606; &#1587;&#1576;&#1608;&#1585;&#1578;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;thank you very much......&lt;span class=
&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=
&quot;http://www.tran33m.com/vb/&quot;&gt;&amp;#1605;&amp;#1606;&amp;#1578;&amp;#1583;&amp;#1610;&amp;#1575;&amp;#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f86.html&quot;&gt;&amp;#1605;&amp;#1603;&amp;#1610;&amp;#1575;&amp;#1580;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&amp;#1575;&amp;#1586;&amp;#1610;&amp;#1575;&amp;#1569;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f84.html&quot;&gt;&amp;#1601;&amp;#1587;&amp;#1575;&amp;#1578;&amp;#1610;&amp;#1606;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f17.html&quot;&gt;&amp;#1585;&amp;#1587;&amp;#1575;&amp;#1574;&amp;#1604;&lt;br&gt;
- &amp;#1605;&amp;#1587;&amp;#1580;&amp;#1575;&amp;#1578; -
&amp;#1608;&amp;#1587;&amp;#1575;&amp;#1574;&amp;#1591;&lt;/a&gt;&lt;span class=
&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=
&quot;http://www.tran33m.com/vb/f18.html&quot;&gt;&amp;#1578;&amp;#1608;&amp;#1576;&amp;#1610;&amp;#1603;&amp;#1575;&amp;#1578;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;&amp;#1608;&amp;#1592;&amp;#1575;&amp;#1574;&amp;#1601;&lt;/a&gt;&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.tran33m.com/vb/f76.html&quot;&gt;jobs&lt;/a&gt;
&lt;a href=
&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;&amp;#1576;&amp;#1585;&amp;#1608;&amp;#1603;&amp;#1587;&amp;#1610;&lt;/a&gt;
&lt;a href=&quot;http://www.tran33m.com/vb/t31874.html&quot;&gt;proxy&lt;/a&gt;&lt;a href=
&quot;http://forum.line-sport.tv/&quot;&gt;&amp;#1604;&amp;#1575;&amp;#1610;&amp;#1606;
&amp;#1587;&amp;#1576;&amp;#1608;&amp;#1585;&amp;#1578;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-08T11:20:42+00:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2011-02-08T12:16:06+00:00</updated-at>
      <user-id type="integer">136126</user-id>
      <version type="integer">29</version>
      <user-name>alasiri1</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>&lt;strong&gt;&lt;a href=&quot;http://www.onlinepandorajewellery.com/&quot;&gt;&lt;em&gt;Pandora&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt;You possibly can buy beauty drops you can aquire with many different patterns similar to the triangular as well as rectangle-shaped varieties.&lt;strong&gt;&lt;a href=&quot;http://www.onlinepandorajewellery.com/pandora-bracelets-c-3.html&quot;&gt;&lt;em&gt;Pandoras Bracelets&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt; To help while recognize touch available practically expression along with damaged in almost any necklace around your neck.&lt;strong&gt;&lt;a href=&quot;http://www.onlinepandorajewellery.com/pandora-charms-c-9.html&quot;&gt;&lt;em&gt;Pandora&#160;Charms&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt; Just in case alphabets will never get that promotion using a man, &lt;strong&gt;&lt;a href=&quot;http://www.onlinepandorajewellery.com/&quot;&gt;&lt;em&gt;pandora ireland&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt;use those who obtain out of all kinds of other communities as an example food including cakes,&lt;strong&gt;&lt;a href=&quot;http://www.onlinepandorajewellery.com/&quot;&gt;&lt;em&gt;Pandora NZ&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt; crops and so forth</body>
      <body-html>&lt;div&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=
&quot;http://www.onlinepandorajewellery.com/&quot;&gt;&lt;em&gt;Pandora&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt;You
possibly can buy beauty drops you can aquire with many different
patterns similar to the triangular as well as rectangle-shaped
varieties.&lt;strong&gt;&lt;a href=
&quot;http://www.onlinepandorajewellery.com/pandora-bracelets-c-3.html&quot;&gt;&lt;em&gt;Pandoras
Bracelets&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt; To help while recognize touch available
practically expression along with damaged in almost any necklace
around your neck.&lt;strong&gt;&lt;a href=
&quot;http://www.onlinepandorajewellery.com/pandora-charms-c-9.html&quot;&gt;&lt;em&gt;Pandora&amp;nbsp;Charms&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt;
Just in case alphabets will never get that promotion using a man,
&lt;strong&gt;&lt;a href=
&quot;http://www.onlinepandorajewellery.com/&quot;&gt;&lt;em&gt;pandora
ireland&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt;use those who obtain out of all kinds of
other communities as an example food including
cakes,&lt;strong&gt;&lt;a href=
&quot;http://www.onlinepandorajewellery.com/&quot;&gt;&lt;em&gt;Pandora
NZ&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt; crops and so forth&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-14T06:15:10+00:00</created-at>
      <creator-id type="integer">55227</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4437</number>
      <permalink>xml-mini-parser-nomethoderror-getc-when-application-running-through-phusion-passenger</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>actiondispatch active_resource passenger rack rails3 xml_mini</tag>
      <title>[Patch] XML Mini Parser NoMethodError :getc when application running through Phusion Passenger</title>
      <updated-at type="datetime">2011-02-14T07:28:43+00:00</updated-at>
      <user-id type="integer">136876</user-id>
      <version type="integer">30</version>
      <user-name>pandora jewellry</user-name>
      <creator-name>Simon Chiu</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4437</url>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>0e23f393689564f9338a3ecb92357eea717f96a2</code>
      <content-type>application/octet-stream</content-type>
      <created-at type="datetime">2010-04-19T05:17:39+01:00</created-at>
      <filename>xml_mini_parser_compatibility_with_phusion_passenger</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">486890</id>
      <size type="integer">3764</size>
      <uploader-id type="integer">55227</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/486890/xml_mini_parser_compatibility_with_phusion_passenger</url>
    </attachment>
    <attachment type="Attachment">
      <code>68d3d6cfe39df8aa681e7c5f10c300406e1feebc</code>
      <content-type>application/octet-stream</content-type>
      <created-at type="datetime">2010-04-19T12:50:15+01:00</created-at>
      <filename>xml_mini_parser_compatibility_with_rack_specs</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">487281</id>
      <size type="integer">15204</size>
      <uploader-id type="integer">55227</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/487281/xml_mini_parser_compatibility_with_rack_specs</url>
    </attachment>
    <attachment type="Attachment">
      <code>ac55e919d6acdc243c3b13261f45a41e12e8c716</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-06T12:46:10+01:00</created-at>
      <filename>parse_xml.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">511851</id>
      <size type="integer">1007</size>
      <uploader-id type="integer">20836</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/511851/parse_xml.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>eac8da31fa9c93e756fe08e32cb7ab2978474220</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-05-07T01:55:34+01:00</created-at>
      <filename>rackinput.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">513053</id>
      <size type="integer">2189</size>
      <uploader-id type="integer">20836</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/513053/rackinput.diff</url>
    </attachment>
  </attachments>
</ticket>
