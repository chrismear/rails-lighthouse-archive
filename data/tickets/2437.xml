<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-04-07T03:18:51+01:00</created-at>
  <creator-id type="integer">30257</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2437</number>
  <permalink>formtaghelpersubmit_tag-outputs-invalid-javascript-for-ie</permalink>
  <priority type="integer">1588</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>clonenode form_tag_helper javascript patch submit_tag</tag>
  <title>FormTagHelper#submit_tag outputs invalid Javascript for IE</title>
  <updated-at type="datetime">2009-08-09T03:14:05+01:00</updated-at>
  <user-id type="integer">7211</user-id>
  <version type="integer">5</version>
  <user-name>CancelProfileIsBroken</user-name>
  <creator-name>Chris O'Meara</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2437</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>It looks like the submit tag recently got an update to preserve the value of the commit attribute when using the disable_with option. The new behavior works fine in FFox and Safari but breaks in IE due to a limitation in the IE DOM which only allows you set an element's type property once. This restriction doesn't work with cloneNode which sets the type property based on the node you're cloning.

The fix uses createElement to achieve a similar effect to cloneNode.

Patch is attached.

Here's a blog reference (not mine): http://bit.ly/lu873. See the section called &quot;And your type attribute too.&quot;</original-body>
  <latest-body>It looks like the submit tag recently got an update to preserve the value of the commit attribute when using the disable_with option. The new behavior works fine in FFox and Safari but breaks in IE due to a limitation in the IE DOM which only allows you set an element's type property once. This restriction doesn't work with cloneNode which sets the type property based on the node you're cloning.

The fix uses createElement to achieve a similar effect to cloneNode.

Patch is attached.

Here's a blog reference (not mine): http://bit.ly/lu873. See the section called &quot;And your type attribute too.&quot;</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;It looks like the submit tag recently got an update to preserve
the value of the commit attribute when using the disable_with
option. The new behavior works fine in FFox and Safari but breaks
in IE due to a limitation in the IE DOM which only allows you set
an element's type property once. This restriction doesn't work with
cloneNode which sets the type property based on the node you're
cloning.&lt;/p&gt;
&lt;p&gt;The fix uses createElement to achieve a similar effect to
cloneNode.&lt;/p&gt;
&lt;p&gt;Patch is attached.&lt;/p&gt;
&lt;p&gt;Here's a blog reference (not mine): &lt;a href=&quot;http://bit.ly/lu873&quot;&gt;http://bit.ly/lu873&lt;/a&gt;. See the section
called &quot;And your type attribute too.&quot;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It looks like the submit tag recently got an update to preserve the value of the commit attribute when using the disable_with option. The new behavior works fine in FFox and Safari but breaks in IE due to a limitation in the IE DOM which only allows you set an element's type property once. This restriction doesn't work with cloneNode which sets the type property based on the node you're cloning.

The fix uses createElement to achieve a similar effect to cloneNode.

Patch is attached.

Here's a blog reference (not mine): http://bit.ly/lu873. See the section called &quot;And your type attribute too.&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;It looks like the submit tag recently got an update to preserve
the value of the commit attribute when using the disable_with
option. The new behavior works fine in FFox and Safari but breaks
in IE due to a limitation in the IE DOM which only allows you set
an element's type property once. This restriction doesn't work with
cloneNode which sets the type property based on the node you're
cloning.&lt;/p&gt;
&lt;p&gt;The fix uses createElement to achieve a similar effect to
cloneNode.&lt;/p&gt;
&lt;p&gt;Patch is attached.&lt;/p&gt;
&lt;p&gt;Here's a blog reference (not mine): &lt;a href=&quot;http://bit.ly/lu873&quot;&gt;http://bit.ly/lu873&lt;/a&gt;. See the section
called &quot;And your type attribute too.&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-04-07T03:18:51+01:00</created-at>
      <creator-id type="integer">30257</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2437</number>
      <permalink>formtaghelpersubmit_tag-outputs-invalid-javascript-for-ie</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>clonenode form_tag_helper javascript patch submit_tag</tag>
      <title>FormTagHelper#submit_tag outputs invalid Javascript for IE</title>
      <updated-at type="datetime">2009-04-07T03:18:55+01:00</updated-at>
      <user-id type="integer">30257</user-id>
      <version type="integer">1</version>
      <user-name>Chris O'Meara</user-name>
      <creator-name>Chris O'Meara</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2437</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-06T13:28:08+01:00</created-at>
      <creator-id type="integer">30257</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: clonenode form_tag_helper javascript patch submit_tag
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2437</number>
      <permalink>formtaghelpersubmit_tag-outputs-invalid-javascript-for-ie</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash clonenode form_tag_helper javascript patch submit_tag</tag>
      <title>FormTagHelper#submit_tag outputs invalid Javascript for IE</title>
      <updated-at type="datetime">2009-08-06T13:28:14+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">2</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Chris O'Meara</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2437</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>-1 The patch doesn't apply neither to 2-3-stable nor master.</body>
      <body-html>&lt;div&gt;&lt;p&gt;-1 The patch doesn't apply neither to 2-3-stable nor master.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T16:52:27+01:00</created-at>
      <creator-id type="integer">30257</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2437</number>
      <permalink>formtaghelpersubmit_tag-outputs-invalid-javascript-for-ie</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash clonenode form_tag_helper javascript patch submit_tag</tag>
      <title>FormTagHelper#submit_tag outputs invalid Javascript for IE</title>
      <updated-at type="datetime">2009-08-08T16:52:33+01:00</updated-at>
      <user-id type="integer">65556</user-id>
      <version type="integer">3</version>
      <user-name>Rizwan Reza</user-name>
      <creator-name>Chris O'Meara</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2437</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>There was a commit last March that fixes the IE problem.  That's why this patch doesn't apply cleanly.

http://github.com/rails/rails/commit/9537fd0e3a7625afe4bee75d749647ca1837195a</body>
      <body-html>&lt;div&gt;&lt;p&gt;There was a commit last March that fixes the IE problem. That's
why this patch doesn't apply cleanly.&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://github.com/rails/rails/commit/9537fd0e3a7625afe4bee75d749647ca1837195a&quot;&gt;
http://github.com/rails/rails/commit/9537fd0e3a7625afe4bee75d749647...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-08-08T22:35:05+01:00</created-at>
      <creator-id type="integer">30257</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2437</number>
      <permalink>formtaghelpersubmit_tag-outputs-invalid-javascript-for-ie</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>bugmash clonenode form_tag_helper javascript patch submit_tag</tag>
      <title>FormTagHelper#submit_tag outputs invalid Javascript for IE</title>
      <updated-at type="datetime">2009-08-08T22:35:07+01:00</updated-at>
      <user-id type="integer">65644</user-id>
      <version type="integer">4</version>
      <user-name>Tim Caswell</user-name>
      <creator-name>Chris O'Meara</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2437</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-08-09T03:13:59+01:00</created-at>
      <creator-id type="integer">30257</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: bugmash clonenode form_tag_helper javascript patch submit_tag
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2437</number>
      <permalink>formtaghelpersubmit_tag-outputs-invalid-javascript-for-ie</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>&quot;&quot; clonenode form_tag_helper javascript patch submit_tag</tag>
      <title>FormTagHelper#submit_tag outputs invalid Javascript for IE</title>
      <updated-at type="datetime">2009-08-09T03:14:05+01:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">5</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>Chris O'Meara</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2437</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>5ca8e90fab4320dddf035f5008141a4489d8ecba</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-04-07T03:18:52+01:00</created-at>
      <filename>use_create_element_rather_than_clone_to_avoid_ie_limitation.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">108717</id>
      <size type="integer">7220</size>
      <uploader-id type="integer">30257</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/108717/use_create_element_rather_than_clone_to_avoid_ie_limitation.patch</url>
    </attachment>
  </attachments>
</ticket>
