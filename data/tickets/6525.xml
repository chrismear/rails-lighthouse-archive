<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2011-03-04T19:05:32+00:00</created-at>
  <creator-id type="integer">135260</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">6525</number>
  <permalink>session-disappears-after-delete-or-put-xhr-request</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag nil="true"></tag>
  <title>Session disappears after DELETE or PUT xhr request</title>
  <updated-at type="datetime">2011-03-06T12:06:52+00:00</updated-at>
  <user-id type="integer">135260</user-id>
  <version type="integer">3</version>
  <user-name>whatwho</user-name>
  <creator-name>whatwho</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/6525</url>
  <priority-name>Low</priority-name>
  <original-body>Session data is cleared out, and is empty after an XHR request, when the HTTP method is :delete or :put, when Application.config.session_store :active_record_store turned on.

Bug appeared in Rails 3.0.4, and 3.0.5 is also concerned, but the issue doesn't occur in 3.0.3.</original-body>
  <latest-body>Session data is cleared out, and is empty after an XHR request, when the HTTP method is :delete or :put, when Application.config.session_store :active_record_store turned on.

Bug appeared in Rails 3.0.4, and 3.0.5 is also concerned, but the issue doesn't occur in 3.0.3.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Session data is cleared out, and is empty after an XHR request,
when the HTTP method is :delete or :put, when
Application.config.session_store :active_record_store turned
on.&lt;/p&gt;
&lt;p&gt;Bug appeared in Rails 3.0.4, and 3.0.5 is also concerned, but
the issue doesn't occur in 3.0.3.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Session data is cleared out, and is empty after an XHR request, when the HTTP method is :delete or :put, when Application.config.session_store :active_record_store turned on.

Bug appeared in Rails 3.0.4, and 3.0.5 is also concerned, but the issue doesn't occur in 3.0.3.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Session data is cleared out, and is empty after an XHR request,
when the HTTP method is :delete or :put, when
Application.config.session_store :active_record_store turned
on.&lt;/p&gt;
&lt;p&gt;Bug appeared in Rails 3.0.4, and 3.0.5 is also concerned, but
the issue doesn't occur in 3.0.3.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-03-04T19:05:32+00:00</created-at>
      <creator-id type="integer">135260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6525</number>
      <permalink>session-disappears-after-delete-or-put-xhr-request</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>Session disappears after DELETE or PUT xhr request</title>
      <updated-at type="datetime">2011-03-04T19:11:21+00:00</updated-at>
      <user-id type="integer">135260</user-id>
      <version type="integer">1</version>
      <user-name>whatwho</user-name>
      <creator-name>whatwho</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6525</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Are you sending the CSRF token in your XHR requests? If not then the you're seeing the effect of the CSRF security fix in 3.0.4. See the release notes for more information: http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails</body>
      <body-html>&lt;div&gt;&lt;p&gt;Are you sending the CSRF token in your XHR requests? If not then
the you're seeing the effect of the CSRF security fix in 3.0.4. See
the release notes for more information: &lt;a href=
&quot;http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails&quot;&gt;
http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ru...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-03-04T21:17:25+00:00</created-at>
      <creator-id type="integer">135260</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6525</number>
      <permalink>session-disappears-after-delete-or-put-xhr-request</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>Session disappears after DELETE or PUT xhr request</title>
      <updated-at type="datetime">2011-03-04T21:17:34+00:00</updated-at>
      <user-id type="integer">7697</user-id>
      <version type="integer">2</version>
      <user-name>Andrew White</user-name>
      <creator-name>whatwho</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6525</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Thank you, it was my mistake by a careless rails version update.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thank you, it was my mistake by a careless rails version
update.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-03-06T12:06:42+00:00</created-at>
      <creator-id type="integer">135260</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">6525</number>
      <permalink>session-disappears-after-delete-or-put-xhr-request</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>Session disappears after DELETE or PUT xhr request</title>
      <updated-at type="datetime">2011-03-06T12:06:52+00:00</updated-at>
      <user-id type="integer">135260</user-id>
      <version type="integer">3</version>
      <user-name>whatwho</user-name>
      <creator-name>whatwho</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/6525</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
