<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-02-25T23:38:08+00:00</created-at>
  <creator-id type="integer">29872</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2076</number>
  <permalink>rails-should-use-amp-instead-of-in-the-urls</permalink>
  <priority type="integer">1304</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>action_view amp patch url url_for validation w3c</tag>
  <title>rails should use &amp;amp; instead of &amp; in the urls</title>
  <updated-at type="datetime">2009-10-14T22:03:31+01:00</updated-at>
  <user-id type="integer">141</user-id>
  <version type="integer">4</version>
  <user-name>Michael Koziarski</user-name>
  <creator-name>xdmx</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2076</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Hi, i've found this little annoiance which breaks the w3 validation/standard.

When you write an url like this: http://site.com/users/1?something=x&amp;other=y it should be written with &amp;amp; instead of &amp;, so the correct version would be http://site.com/users/1?something=x&amp;amp;other=y

I've found that rails work good with this, it use &amp;amp; and all it's right (using user_url(:something =&gt; 'x', :other =&gt; 'y'))
but when you have a nested resources like http://site.com/users/1/posts?something=x&amp;other=y (user_posts_url(@userm :something =&gt; 'x', :other =&gt; 'y') it user &amp; instead of &amp;amp;

Can anyone check if this happen in the edge version? (i'm using rails 2.2.2)</original-body>
  <latest-body>Hi, i've found this little annoiance which breaks the w3 validation/standard.

When you write an url like this: http://site.com/users/1?something=x&amp;other=y it should be written with &amp;amp; instead of &amp;, so the correct version would be http://site.com/users/1?something=x&amp;amp;other=y

I've found that rails work good with this, it use &amp;amp; and all it's right (using user_url(:something =&gt; 'x', :other =&gt; 'y'))
but when you have a nested resources like http://site.com/users/1/posts?something=x&amp;other=y (user_posts_url(@userm :something =&gt; 'x', :other =&gt; 'y') it user &amp; instead of &amp;amp;

Can anyone check if this happen in the edge version? (i'm using rails 2.2.2)</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Hi, i've found this little annoiance which breaks the w3
validation/standard.&lt;/p&gt;
&lt;p&gt;When you write an url like this: &lt;a href=&quot;http://site.com/users/1?something=x&amp;amp;other=y&quot;&gt;http://site.com/users/1?somethin...&lt;/a&gt;
it should be written with &amp;amp; instead of &amp;amp;, so the correct
version would be &lt;a href=&quot;http://site.com/users/1?something=x&amp;amp;other=y&quot;&gt;http://site.com/users/1?somethin...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I've found that rails work good with this, it use &amp;amp; and all
it's right (using user_url(:something =&amp;gt; 'x', :other =&amp;gt; 'y'))
but when you have a nested resources like &lt;a href=&quot;http://site.com/users/1/posts?something=x&amp;amp;other=y&quot;&gt;http://site.com/users/1/posts?so...&lt;/a&gt;
(user_posts_url(@userm :something =&amp;gt; 'x', :other =&amp;gt; 'y') it
user &amp;amp; instead of &amp;amp;&lt;/p&gt;
&lt;p&gt;Can anyone check if this happen in the edge version? (i'm using
rails 2.2.2)&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi, i've found this little annoiance which breaks the w3 validation/standard.

When you write an url like this: http://site.com/users/1?something=x&amp;other=y it should be written with &amp;amp; instead of &amp;, so the correct version would be http://site.com/users/1?something=x&amp;amp;other=y

I've found that rails work good with this, it use &amp;amp; and all it's right (using user_url(:something =&gt; 'x', :other =&gt; 'y'))
but when you have a nested resources like http://site.com/users/1/posts?something=x&amp;other=y (user_posts_url(@userm :something =&gt; 'x', :other =&gt; 'y') it user &amp; instead of &amp;amp;

Can anyone check if this happen in the edge version? (i'm using rails 2.2.2)</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi, i've found this little annoiance which breaks the w3
validation/standard.&lt;/p&gt;
&lt;p&gt;When you write an url like this: &lt;a href=&quot;http://site.com/users/1?something=x&amp;amp;other=y&quot;&gt;http://site.com/users/1?somethin...&lt;/a&gt;
it should be written with &amp;amp; instead of &amp;amp;, so the correct
version would be &lt;a href=&quot;http://site.com/users/1?something=x&amp;amp;other=y&quot;&gt;http://site.com/users/1?somethin...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I've found that rails work good with this, it use &amp;amp; and all
it's right (using user_url(:something =&amp;gt; 'x', :other =&amp;gt; 'y'))
but when you have a nested resources like &lt;a href=&quot;http://site.com/users/1/posts?something=x&amp;amp;other=y&quot;&gt;http://site.com/users/1/posts?so...&lt;/a&gt;
(user_posts_url(@userm :something =&amp;gt; 'x', :other =&amp;gt; 'y') it
user &amp;amp; instead of &amp;amp;&lt;/p&gt;
&lt;p&gt;Can anyone check if this happen in the edge version? (i'm using
rails 2.2.2)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-02-25T23:38:08+00:00</created-at>
      <creator-id type="integer">29872</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2076</number>
      <permalink>rails-should-use-amp-instead-of-in-the-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>amp url url_for validation w3c</tag>
      <title>rails should use &amp;amp; instead of &amp; in the urls</title>
      <updated-at type="datetime">2009-02-25T23:38:11+00:00</updated-at>
      <user-id type="integer">29872</user-id>
      <version type="integer">1</version>
      <user-name>xdmx</user-name>
      <creator-name>xdmx</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2076</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It's still in edge as of now, and only the ActionView version of #url_for has this bug, not ActionController.  I've got a test that exposes it now, and will write a patch.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It's still in edge as of now, and only the ActionView version of
#url_for has this bug, not ActionController. I've got a test that
exposes it now, and will write a patch.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-06T22:58:20+01:00</created-at>
      <creator-id type="integer">29872</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: amp url url_for validation w3c
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2076</number>
      <permalink>rails-should-use-amp-instead-of-in-the-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_view amp url url_for validation w3c</tag>
      <title>rails should use &amp;amp; instead of &amp; in the urls</title>
      <updated-at type="datetime">2009-10-06T22:58:25+01:00</updated-at>
      <user-id type="integer">19871</user-id>
      <version type="integer">2</version>
      <user-name>Phil Darnowsky</user-name>
      <creator-name>xdmx</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2076</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Patch attached.  I changed the default behavior here, not without some hesitation, but that behavior is both wrong and inconsistent with ActionController#url_for.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Patch attached. I changed the default behavior here, not without
some hesitation, but that behavior is both wrong and inconsistent
with ActionController#url_for.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-10-07T20:06:46+01:00</created-at>
      <creator-id type="integer">29872</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: action_view amp url url_for validation w3c
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2076</number>
      <permalink>rails-should-use-amp-instead-of-in-the-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>action_view amp patch url url_for validation w3c</tag>
      <title>rails should use &amp;amp; instead of &amp; in the urls</title>
      <updated-at type="datetime">2009-10-07T20:18:30+01:00</updated-at>
      <user-id type="integer">19871</user-id>
      <version type="integer">3</version>
      <user-name>Phil Darnowsky</user-name>
      <creator-name>xdmx</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2076</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I've applied this to master and also changed the html_safety so we know they'll get escaped as needed later on</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've applied this to master and also changed the html_safety so
we know they'll get escaped as needed later on&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-10-14T22:03:25+01:00</created-at>
      <creator-id type="integer">29872</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2076</number>
      <permalink>rails-should-use-amp-instead-of-in-the-urls</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>action_view amp patch url url_for validation w3c</tag>
      <title>rails should use &amp;amp; instead of &amp; in the urls</title>
      <updated-at type="datetime">2009-10-14T22:03:31+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">4</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>xdmx</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2076</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>a3fc82fb55d6cc95dcad75ca74434d11187af561</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2009-10-07T20:06:46+01:00</created-at>
      <filename>actionview_urlfor_dont_escape_by_default.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">288975</id>
      <size type="integer">4664</size>
      <uploader-id type="integer">19871</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/288975/actionview_urlfor_dont_escape_by_default.diff</url>
    </attachment>
  </attachments>
</ticket>
