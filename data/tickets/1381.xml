<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">83</assigned-user-id>
  <attachments-count type="integer">6</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-11-15T21:42:20+00:00</created-at>
  <creator-id type="integer">11785</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">1381</number>
  <permalink>default_scope-patch</permalink>
  <priority type="integer">554</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>committed</state>
  <tag>activerecord patch scope</tag>
  <title>default_scope patch</title>
  <updated-at type="datetime">2009-01-22T13:38:47+00:00</updated-at>
  <user-id type="integer">30369</user-id>
  <version type="integer">14</version>
  <user-name>Micha&#322; Szajbe</user-name>
  <creator-name>Pawe&#322; Kondzior</creator-name>
  <assigned-user-name>DHH</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Default model scoping patch. With this AR will be able to set default scoping for models. For example it will be easier to get default order.</original-body>
  <latest-body>Default model scoping patch. With this AR will be able to set default scoping for models. For example it will be easier to get default order.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Default model scoping patch. With this AR will be able to set
default scoping for models. For example it will be easier to get
default order.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Default model scoping patch. With this AR will be able to set default scoping for models. For example it will be easier to get default order.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Default model scoping patch. With this AR will be able to set
default scoping for models. For example it will be easier to get
default order.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-15T21:42:20+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-15T21:42:23+00:00</updated-at>
      <user-id type="integer">11785</user-id>
      <version type="integer">1</version>
      <user-name>Pawe&#322; Kondzior</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>It's based on this http://dev.rubyonrails.org/ticket/6959</body>
      <body-html>&lt;div&gt;&lt;p&gt;It's based on this &lt;a href=&quot;http://dev.rubyonrails.org/ticket/6959&quot;&gt;http://dev.rubyonrails.org/ticke...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-15T21:44:02+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-15T21:44:06+00:00</updated-at>
      <user-id type="integer">11785</user-id>
      <version type="integer">2</version>
      <user-name>Pawe&#322; Kondzior</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I've added more tests for scopes</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've added more tests for scopes&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-16T12:21:35+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T12:21:40+00:00</updated-at>
      <user-id type="integer">11785</user-id>
      <version type="integer">3</version>
      <user-name>Pawe&#322; Kondzior</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>default_scope with named_scope syntaxt.

&lt;code&gt;
class Client &lt; ActiveRecord::Base
 default_scope :order =&gt; 'name DESC'
end
&lt;/code&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;default_scope with named_scope syntaxt.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;class Client &amp;lt; ActiveRecord::Base default_scope :order
=&amp;gt; 'name DESC' end&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-16T14:51:09+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T14:51:10+00:00</updated-at>
      <user-id type="integer">11785</user-id>
      <version type="integer">4</version>
      <user-name>Pawe&#322; Kondzior</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [ff594b2bc94ff2a942fe6ca05672387722dee686]) Added default_scope to Base [#1381 state:committed] (Pawe&#322; Kondzior)
http://github.com/rails/rails/commit/ff594b2bc94ff2a942fe6ca05672387722dee686</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [ff594b2bc94ff2a942fe6ca05672387722dee686]) Added
default_scope to Base [&lt;a href=&quot;/projects/8994/tickets/1381&quot; title=&quot;Ticket #1381&quot;&gt;#1381&lt;/a&gt; state:committed] (Pawe&amp;#322; Kondzior)
&lt;a href=&quot;http://github.com/rails/rails/commit/ff594b2bc94ff2a942fe6ca05672387722dee686&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-16T15:01:45+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T15:01:46+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>This actually won't work with threads because:

        def scoped_methods #:nodoc:
          Thread.current[:&quot;#{self}_scoped_methods&quot;] ||= []
        end

So we need to promote default_scope to a class var and change the ||= [] to ||= default_scope.dup
initialize default_scope to [].</body>
      <body-html>&lt;div&gt;&lt;p&gt;This actually won't work with threads because:&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;    def scoped_methods #:nodoc:
      Thread.current[:&quot;#{self}_scoped_methods&quot;] ||= []
    end
&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;So we need to promote default_scope to a class var and change
the ||= [] to ||= default_scope.dup initialize default_scope to
[].&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-16T15:37:03+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- 
:state: committed
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T15:37:06+00:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">6</version>
      <user-name>DHH</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>(from [ca23287b448c2e007a5c93e43e762a10e0007b7a]) Revert &quot;Added default_scope to Base [#1381 state:committed] (Pawe&#322; Kondzior)&quot; -- won't gel with threads.

This reverts commit ff594b2bc94ff2a942fe6ca05672387722dee686.
http://github.com/rails/rails/commit/ca23287b448c2e007a5c93e43e762a10e0007b7a</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [ca23287b448c2e007a5c93e43e762a10e0007b7a]) Revert &quot;Added
default_scope to Base [&lt;a href=&quot;/projects/8994/tickets/1381&quot; title=&quot;Ticket #1381&quot;&gt;#1381&lt;/a&gt; state:committed] (Pawe&amp;#322; Kondzior)&quot; --
won't gel with threads.&lt;/p&gt;
&lt;p&gt;This reverts commit ff594b2bc94ff2a942fe6ca05672387722dee686.
&lt;a href=&quot;http://github.com/rails/rails/commit/ca23287b448c2e007a5c93e43e762a10e0007b7a&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-16T15:37:46+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T15:37:47+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">7</version>
      <user-name>Repository</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">3</attachments-count>
      <body>Thread safe version.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Thread safe version.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-16T16:42:56+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T16:43:01+00:00</updated-at>
      <user-id type="integer">11785</user-id>
      <version type="integer">8</version>
      <user-name>Pawe&#322; Kondzior</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>cattr_accessor wont work, it will fail all because it will define default_scope for ActiveRecord::Base not for Model that inherts from it. So class var isn't solution here :(</body>
      <body-html>&lt;div&gt;&lt;p&gt;cattr_accessor wont work, it will fail all because it will
define default_scope for ActiveRecord::Base not for Model that
inherts from it. So class var isn't solution here :(&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-16T17:05:52+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T17:05:54+00:00</updated-at>
      <user-id type="integer">11785</user-id>
      <version type="integer">9</version>
      <user-name>Pawe&#322; Kondzior</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>(from [2530d0eea8eaecd2c61f99225f050ff47973e9a0]) Added default_scope to Base [#1381 state:committed] (Pawe&#322; Kondzior)
http://github.com/rails/rails/commit/2530d0eea8eaecd2c61f99225f050ff47973e9a0</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [2530d0eea8eaecd2c61f99225f050ff47973e9a0]) Added
default_scope to Base [&lt;a href=&quot;/projects/8994/tickets/1381&quot; title=&quot;Ticket #1381&quot;&gt;#1381&lt;/a&gt; state:committed] (Pawe&amp;#322; Kondzior)
&lt;a href=&quot;http://github.com/rails/rails/commit/2530d0eea8eaecd2c61f99225f050ff47973e9a0&quot;&gt;
http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-16T18:08:31+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-16T18:08:32+00:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">10</version>
      <user-name>Repository</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">4</attachments-count>
      <body>This doesn't work right in combination with other named scopes because `:create` is initialised to `nil` if `:conditions` isn't specified, causing a failure when `with_scope` tries to call `merge` on it. The attached patch changes the behaviour to initialise `:create` to `{}`, which fixes the problem. Test included.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This doesn't work right in combination with other named scopes
because &lt;code&gt;:create&lt;/code&gt; is initialised to &lt;code&gt;nil&lt;/code&gt; if
&lt;code&gt;:conditions&lt;/code&gt; isn't specified, causing a failure when
&lt;code&gt;with_scope&lt;/code&gt; tries to call &lt;code&gt;merge&lt;/code&gt; on it. The
attached patch changes the behaviour to initialise
&lt;code&gt;:create&lt;/code&gt; to &lt;code&gt;{}&lt;/code&gt;, which fixes the problem.
Test included.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-17T20:19:00+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-17T20:19:02+00:00</updated-at>
      <user-id type="integer">813</user-id>
      <version type="integer">11</version>
      <user-name>Tom Stuart</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>Committed the fix, Tom. Thanks.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Committed the fix, Tom. Thanks.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-11-17T21:08:56+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-11-17T21:08:59+00:00</updated-at>
      <user-id type="integer">83</user-id>
      <version type="integer">12</version>
      <user-name>DHH</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">5</attachments-count>
      <body>The documentation is slightly out of date. This is a quick fix.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The documentation is slightly out of date. This is a quick
fix.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-12-01T05:00:57+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2008-12-01T05:00:58+00:00</updated-at>
      <user-id type="integer">22580</user-id>
      <version type="integer">13</version>
      <user-name>Daniel Luz</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">83</assigned-user-id>
      <attachments-count type="integer">6</attachments-count>
      <body>When default_scope's :conditions is something like { :field =&gt; ['val1', 'val2'] } then new record's field is initialized to &quot;['val1', 'val2']&quot; which is not desired behaviour I think. I am not sure how it should be initialized then, though.</body>
      <body-html>&lt;div&gt;&lt;p&gt;When default_scope's :conditions is something like { :field
=&amp;gt; ['val1', 'val2'] } then new record's field is initialized to
&quot;['val1', 'val2']&quot; which is not desired behaviour I think. I am not
sure how it should be initialized then, though.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-01-22T13:38:44+00:00</created-at>
      <creator-id type="integer">11785</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">1381</number>
      <permalink>default_scope-patch</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord patch scope</tag>
      <title>default_scope patch</title>
      <updated-at type="datetime">2009-01-22T13:38:47+00:00</updated-at>
      <user-id type="integer">30369</user-id>
      <version type="integer">14</version>
      <user-name>Micha&#322; Szajbe</user-name>
      <creator-name>Pawe&#322; Kondzior</creator-name>
      <assigned-user-name>DHH</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/1381</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>f3f84ceaff4483bc955e018fb9037dbec99d05bc</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-11-15T21:42:20+00:00</created-at>
      <filename>001_default_scope.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">62571</id>
      <size type="integer">2249</size>
      <uploader-id type="integer">11785</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/62571/001_default_scope.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>fdaa99e54250d9202bb839dc774b8583b63fd86a</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-11-16T12:21:35+00:00</created-at>
      <filename>active_record_default_scope_with_tests.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">62623</id>
      <size type="integer">3306</size>
      <uploader-id type="integer">11785</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/62623/active_record_default_scope_with_tests.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>119dfdfc01aaa7e2b86e66a221ba644d2e67a3f8</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-11-16T14:52:00+00:00</created-at>
      <filename>active_record_default_scope_with_tests_named_scope_syntaxt.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">62635</id>
      <size type="integer">3352</size>
      <uploader-id type="integer">11785</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/62635/active_record_default_scope_with_tests_named_scope_syntaxt.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>a43d6b9def73a13be0c2e7cd2a77c73166e4e64f</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-11-16T16:42:56+00:00</created-at>
      <filename>default_scope_thread_safe.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">62639</id>
      <size type="integer">4047</size>
      <uploader-id type="integer">11785</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/62639/default_scope_thread_safe.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>468a830e645967a2890f597c8fd959aa2350efbe</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-11-17T20:19:00+00:00</created-at>
      <filename>0001-Fix-default_scope-to-work-in-combination-with-named.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">62903</id>
      <size type="integer">4059</size>
      <uploader-id type="integer">813</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/62903/0001-Fix-default_scope-to-work-in-combination-with-named.patch</url>
    </attachment>
    <attachment type="Attachment">
      <code>5252690c1e85df5652f7c91539f04fdd792145ad</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-12-01T05:00:57+00:00</created-at>
      <filename>0001-Update-documentation-for-default_scope.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">66533</id>
      <size type="integer">1210</size>
      <uploader-id type="integer">22580</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/66533/0001-Update-documentation-for-default_scope.patch</url>
    </attachment>
  </attachments>
</ticket>
