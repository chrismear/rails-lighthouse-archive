<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">141</assigned-user-id>
  <attachments-count type="integer">2</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-08-19T19:53:28+01:00</created-at>
  <creator-id type="integer">11372</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">860</number>
  <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
  <priority type="integer">1</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>resolved</state>
  <tag>activerecord bug patch</tag>
  <title>coerce blank strings to nil values for boolean and integer fields</title>
  <updated-at type="datetime">2008-08-23T00:28:39+01:00</updated-at>
  <user-id type="integer">17393</user-id>
  <version type="integer">8</version>
  <user-name>Repository</user-name>
  <creator-name>Josh Susser</creator-name>
  <assigned-user-name>Michael Koziarski</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
  <priority-name>High</priority-name>
  <original-body>This patch fixes ActiveRecord to consistently coerce blank strings to nil values for boolean and integer fields. Prior to this change, blank strings were coerced to false for booleans, while integer fields coerced empty strings to nil and non-empty blank strings (i.e. containing whitespace) to 0.

Apparently there's a bit of controversy over this functionality. Please see this thread:
http://groups.google.com/group/rubyonrails-core/browse_thread/thread/6c5f11b040e1d06c</original-body>
  <latest-body>This patch fixes ActiveRecord to consistently coerce blank strings to nil values for boolean and integer fields. Prior to this change, blank strings were coerced to false for booleans, while integer fields coerced empty strings to nil and non-empty blank strings (i.e. containing whitespace) to 0.

Apparently there's a bit of controversy over this functionality. Please see this thread:
http://groups.google.com/group/rubyonrails-core/browse_thread/thread/6c5f11b040e1d06c</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;This patch fixes ActiveRecord to consistently coerce blank strings to nil values for boolean and integer fields. Prior to this change, blank strings were coerced to false for booleans, while integer fields coerced empty strings to nil and non-empty blank strings (i.e. containing whitespace) to 0.&lt;/p&gt;

&lt;p&gt;Apparently there's a bit of controversy over this functionality. Please see this thread:
&lt;a href=&quot;http://groups.google.com/group/rubyonrails-core/browse_thread/thread/6c5f11b040e1d06c&quot;&gt;http://groups.google.com/group/r...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This patch fixes ActiveRecord to consistently coerce blank strings to nil values for boolean and integer fields. Prior to this change, blank strings were coerced to false for booleans, while integer fields coerced empty strings to nil and non-empty blank strings (i.e. containing whitespace) to 0.

Apparently there's a bit of controversy over this functionality. Please see this thread:
http://groups.google.com/group/rubyonrails-core/browse_thread/thread/6c5f11b040e1d06c</body>
      <body-html>&lt;div&gt;&lt;p&gt;This patch fixes ActiveRecord to consistently coerce blank strings to nil values for boolean and integer fields. Prior to this change, blank strings were coerced to false for booleans, while integer fields coerced empty strings to nil and non-empty blank strings (i.e. containing whitespace) to 0.&lt;/p&gt;

&lt;p&gt;Apparently there's a bit of controversy over this functionality. Please see this thread:
&lt;a href=&quot;http://groups.google.com/group/rubyonrails-core/browse_thread/thread/6c5f11b040e1d06c&quot;&gt;http://groups.google.com/group/r...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-19T19:53:28+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-19T19:53:28+01:00</updated-at>
      <user-id type="integer">11372</user-id>
      <version type="integer">1</version>
      <user-name>Josh Susser</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Coercing blank strings to nil for non-string columns makes a whole load of sense to me.  A definite +1.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Coercing blank strings to nil for non-string columns makes a whole load of sense to me.  A definite +1.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-19T23:28:05+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-19T23:28:05+01:00</updated-at>
      <user-id type="integer">14288</user-id>
      <version type="integer">2</version>
      <user-name>Tom Ward</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-21T15:48:35+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>committed</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-21T15:48:35+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">3</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title>2.x</milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>This causes value_to_boolean(false) to return nil.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This causes value_to_boolean(false) to return nil.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-22T05:27:39+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- 
:state: committed
:milestone: 9903
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-22T05:27:39+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">4</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>(from [a5eb297424f68583636b762686726bc0c84703c0]) Revert &quot;coerce blank strings to nil values for boolean and integer fields&quot;

This reverts commit aee14630d4dc0856e597794cc731fac68c2d2e34.

[#860 state:incomplete]
http://github.com/rails/rails/commit/a5eb297424f68583636b762686726bc0c84703c0</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [a5eb297424f68583636b762686726bc0c84703c0]) Revert &quot;coerce blank strings to nil values for boolean and integer fields&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit aee14630d4dc0856e597794cc731fac68c2d2e34.&lt;/p&gt;

&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/860&quot; title=&quot;Ticket #860&quot;&gt;#860&lt;/a&gt; state:incomplete]
&lt;a href=&quot;http://github.com/rails/rails/commit/a5eb297424f68583636b762686726bc0c84703c0&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-22T06:14:34+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-22T06:14:34+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">5</version>
      <user-name>Repository</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Kinda disconcerting this didn't hit any test failures, so we probably need one.

It should check .is_a? String</body>
      <body-html>&lt;div&gt;&lt;p&gt;Kinda disconcerting this didn't hit any test failures, so we probably need one.&lt;/p&gt;

&lt;p&gt;It should check .is_a? String&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-22T06:22:45+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-22T06:22:45+01:00</updated-at>
      <user-id type="integer">141</user-id>
      <version type="integer">6</version>
      <user-name>Michael Koziarski</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>Updated patch to fix issue.  Changed the tests to actually test a :boolean field instead of an :integer one, so there is real coverage now (instead of pretend).</body>
      <body-html>&lt;div&gt;&lt;p&gt;Updated patch to fix issue.  Changed the tests to actually test a :boolean field instead of an :integer one, so there is real coverage now (instead of pretend).&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-22T23:44:00+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-22T23:44:00+01:00</updated-at>
      <user-id type="integer">11372</user-id>
      <version type="integer">7</version>
      <user-name>Josh Susser</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">141</assigned-user-id>
      <attachments-count type="integer">2</attachments-count>
      <body>(from [e48e77e0222292176cd9f68658dd54524f582d9b]) coerce blank strings to nil values for boolean and integer fields

[#860 state:resolved]
http://github.com/rails/rails/commit/e48e77e0222292176cd9f68658dd54524f582d9b</body>
      <body-html>&lt;div&gt;&lt;p&gt;(from [e48e77e0222292176cd9f68658dd54524f582d9b]) coerce blank strings to nil values for boolean and integer fields&lt;/p&gt;

&lt;p&gt;[&lt;a href=&quot;/projects/8994/tickets/860&quot; title=&quot;Ticket #860&quot;&gt;#860&lt;/a&gt; state:resolved]
&lt;a href=&quot;http://github.com/rails/rails/commit/e48e77e0222292176cd9f68658dd54524f582d9b&quot;&gt;http://github.com/rails/rails/co...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-08-23T00:28:39+01:00</created-at>
      <creator-id type="integer">11372</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">860</number>
      <permalink>coerce-blank-strings-to-nil-values-for-boolean-and-integer-fields</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>resolved</state>
      <tag>activerecord bug patch</tag>
      <title>coerce blank strings to nil values for boolean and integer fields</title>
      <updated-at type="datetime">2008-08-23T00:28:39+01:00</updated-at>
      <user-id type="integer">17393</user-id>
      <version type="integer">8</version>
      <user-name>Repository</user-name>
      <creator-name>Josh Susser</creator-name>
      <assigned-user-name>Michael Koziarski</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/860</url>
      <priority-name nil="true"></priority-name>
      <milestone-title nil="true"></milestone-title>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>2bfe99a7ae54e31569406a0f2da18179f773ebaa</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-19T19:53:28+01:00</created-at>
      <filename>blank_strings_are_nil.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">40209</id>
      <size type="integer">3062</size>
      <uploader-id type="integer">11372</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/40209/blank_strings_are_nil.diff</url>
    </attachment>
    <attachment type="Attachment">
      <code>5797900eaacba16c5fec1acaec04525686b6ec84</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-22T23:44:00+01:00</created-at>
      <filename>blank_strings_are_nil.diff</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">41045</id>
      <size type="integer">5249</size>
      <uploader-id type="integer">11372</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/41045/blank_strings_are_nil.diff</url>
    </attachment>
  </attachments>
</ticket>
