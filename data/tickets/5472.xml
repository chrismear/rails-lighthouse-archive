<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">12714</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">false</closed>
  <created-at type="datetime">2010-11-17T01:58:29+00:00</created-at>
  <creator-id type="integer">47045</creator-id>
  <milestone-due-on type="datetime">2011-03-27T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">103410</milestone-id>
  <number type="integer">5472</number>
  <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>open</state>
  <tag nil="true"></tag>
  <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
  <updated-at type="datetime">2011-02-27T03:15:39+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">16</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>James Conroy-Finn</creator-name>
  <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
  <milestone-title>3.0.6</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>It appears that calling `Model#run_callbacks` is broken in the Rails 3 release candidates (rc and rc2), however callbacks do work when Rails runs them internally.

    Page.before_save lambda { puts &quot;Preventing save!&quot;; return false }
    page = Page.new
    page.save
    # Preventing save!
    # =&gt; false
    page.new_record?
    # =&gt; true

Now if we try to do the same thing but this time we trigger the callback directly with&#8230;

    page.run_callbacks(:before_save)

We get an undefined method error as follows.

    NoMethodError: undefined method `_run_before_save_callbacks' for #&lt;Page:0x00000102e24548&gt;
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activemodel/lib/active_model/attribute_methods.rb:364:in `method_missing'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activerecord/lib/active_record/attribute_methods.rb:46:in `method_missing'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activesupport/lib/active_support/callbacks.rb:93:in `run_callbacks'
    from (irb):6
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:44:in `start'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:8:in `start'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands.rb:23:in `&lt;top (required)&gt;'
    from script/rails:6:in `require'
    from script/rails:6:in `&lt;main&gt;'

I'm going to do some digging around and try to work out why callbacks work internally but fail when calling #run_callbacks directly.</original-body>
  <latest-body>It appears that calling `Model#run_callbacks` is broken in the Rails 3 release candidates (rc and rc2), however callbacks do work when Rails runs them internally.

    Page.before_save lambda { puts &quot;Preventing save!&quot;; return false }
    page = Page.new
    page.save
    # Preventing save!
    # =&gt; false
    page.new_record?
    # =&gt; true

Now if we try to do the same thing but this time we trigger the callback directly with&#8230;

    page.run_callbacks(:before_save)

We get an undefined method error as follows.

    NoMethodError: undefined method `_run_before_save_callbacks' for #&lt;Page:0x00000102e24548&gt;
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activemodel/lib/active_model/attribute_methods.rb:364:in `method_missing'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activerecord/lib/active_record/attribute_methods.rb:46:in `method_missing'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activesupport/lib/active_support/callbacks.rb:93:in `run_callbacks'
    from (irb):6
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:44:in `start'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:8:in `start'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands.rb:23:in `&lt;top (required)&gt;'
    from script/rails:6:in `require'
    from script/rails:6:in `&lt;main&gt;'

I'm going to do some digging around and try to work out why callbacks work internally but fail when calling #run_callbacks directly.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;It appears that calling &lt;code&gt;Model#run_callbacks&lt;/code&gt; is
broken in the Rails 3 release candidates (rc and rc2), however
callbacks do work when Rails runs them internally.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Page.before_save lambda { puts &quot;Preventing save!&quot;; return false }
page = Page.new
page.save
# Preventing save!
# =&amp;gt; false
page.new_record?
# =&amp;gt; true&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Now if we try to do the same thing but this time we trigger the
callback directly with&amp;#8230;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;page.run_callbacks(:before_save)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We get an undefined method error as follows.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;NoMethodError: undefined method `_run_before_save_callbacks' for #&amp;lt;Page:0x00000102e24548&amp;gt;
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activemodel/lib/active_model/attribute_methods.rb:364:in `method_missing'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activerecord/lib/active_record/attribute_methods.rb:46:in `method_missing'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activesupport/lib/active_support/callbacks.rb:93:in `run_callbacks'
from (irb):6
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:44:in `start'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:8:in `start'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands.rb:23:in `&amp;lt;top (required)&amp;gt;'
from script/rails:6:in `require'
from script/rails:6:in `&amp;lt;main&amp;gt;'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I'm going to do some digging around and try to work out why
callbacks work internally but fail when calling #run_callbacks
directly.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It appears that calling `Model#run_callbacks` is broken in the Rails 3 release candidates (rc and rc2), however callbacks do work when Rails runs them internally.

    Page.before_save lambda { puts &quot;Preventing save!&quot;; return false }
    page = Page.new
    page.save
    # Preventing save!
    # =&gt; false
    page.new_record?
    # =&gt; true

Now if we try to do the same thing but this time we trigger the callback directly with&#8230;

    page.run_callbacks(:before_save)

We get an undefined method error as follows.

    NoMethodError: undefined method `_run_before_save_callbacks' for #&lt;Page:0x00000102e24548&gt;
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activemodel/lib/active_model/attribute_methods.rb:364:in `method_missing'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activerecord/lib/active_record/attribute_methods.rb:46:in `method_missing'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activesupport/lib/active_support/callbacks.rb:93:in `run_callbacks'
    from (irb):6
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:44:in `start'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:8:in `start'
    from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands.rb:23:in `&lt;top (required)&gt;'
    from script/rails:6:in `require'
    from script/rails:6:in `&lt;main&gt;'

I'm going to do some digging around and try to work out why callbacks work internally but fail when calling #run_callbacks directly.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It appears that calling &lt;code&gt;Model#run_callbacks&lt;/code&gt; is
broken in the Rails 3 release candidates (rc and rc2), however
callbacks do work when Rails runs them internally.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;Page.before_save lambda { puts &quot;Preventing save!&quot;; return false }
page = Page.new
page.save
# Preventing save!
# =&amp;gt; false
page.new_record?
# =&amp;gt; true&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Now if we try to do the same thing but this time we trigger the
callback directly with&amp;#8230;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;page.run_callbacks(:before_save)&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;We get an undefined method error as follows.&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;NoMethodError: undefined method `_run_before_save_callbacks' for #&amp;lt;Page:0x00000102e24548&amp;gt;
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activemodel/lib/active_model/attribute_methods.rb:364:in `method_missing'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activerecord/lib/active_record/attribute_methods.rb:46:in `method_missing'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/activesupport/lib/active_support/callbacks.rb:93:in `run_callbacks'
from (irb):6
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:44:in `start'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands/console.rb:8:in `start'
from /Users/jcf/.rvm/gems/ruby-1.9.2-p0@pages/bundler/gems/rails-0953c04/railties/lib/rails/commands.rb:23:in `&amp;lt;top (required)&amp;gt;'
from script/rails:6:in `require'
from script/rails:6:in `&amp;lt;main&amp;gt;'&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;I'm going to do some digging around and try to work out why
callbacks work internally but fail when calling #run_callbacks
directly.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-27T11:44:04+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Unable to manually run ActiveRecord object callbacks</title>
      <updated-at type="datetime">2010-08-27T11:44:09+01:00</updated-at>
      <user-id type="integer">47045</user-id>
      <version type="integer">1</version>
      <user-name>James Conroy-Finn</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I've written a quick test in `activerecord/test/cases/callbacks_test.rb` that demonstrates the exact failure I'm experiencing and have included a patch file with the test in case that's any use. I'll see if I can fix it myself and upload another patch if and when I get it done.

BTW I'm not a test-unit kinda guy so it may be there's a better way to implement the test. Apologies for any cardinal test-unit sin I may have committed.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I've written a quick test in
&lt;code&gt;activerecord/test/cases/callbacks_test.rb&lt;/code&gt; that
demonstrates the exact failure I'm experiencing and have included a
patch file with the test in case that's any use. I'll see if I can
fix it myself and upload another patch if and when I get it
done.&lt;/p&gt;
&lt;p&gt;BTW I'm not a test-unit kinda guy so it may be there's a better
way to implement the test. Apologies for any cardinal test-unit sin
I may have committed.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-27T12:30:14+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Unable to manually run ActiveRecord object callbacks</title>
      <updated-at type="datetime">2010-08-27T12:30:18+01:00</updated-at>
      <user-id type="integer">47045</user-id>
      <version type="integer">2</version>
      <user-name>James Conroy-Finn</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-27T15:13:11+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Unable to manually run ActiveRecord object callbacks</title>
      <updated-at type="datetime">2010-08-27T15:13:12+01:00</updated-at>
      <user-id type="integer">47045</user-id>
      <version type="integer">3</version>
      <user-name>James Conroy-Finn</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>OK&#8230; We've worked this one out. The API has changed but the documentation doesn't reflect the changes too clearly. Hopefully Yehuda can clarify this but essentially callbacks work as follows&#8230;

This will run only the before save callback&#8230;

    p = Post.new
    p.run_callbacks(:save) { false }

&#8230;and this will run both the before and after callbacks&#8230;

    p = Post.new
    p.run_callbacks(:save) { true }

Essentially you can't specify the before or after anymore (using #run_callbacks(:before_save) etc.) because callbacks work like this.

You call a group of callbacks, for example save, create, validation. There will potentially be a before and/or after callback to any of these groups. All will be executed but only if the block supplied evaluates to true. Examples will explain this better so here we go&#8230;

    # Before and after callbacks
    # This will run both the before_save and after_save callbacks&#8230;
    Post.new.run_callbacks(:save)

    # &#8230;as will this
    Post.new.run_callbacks(:save) { true }

    # This will only run the before_save and ignore any after_save callback
    Post.new.run_callbacks(:save) { false }

This is darned handy if you have a condition that determines whether or not to execute the next callback as you do in ActiveRecord when saving (e.g. errors.empty?).

I might be mistaken but after some debugging, source tasting and with some mad class/instance method magic I'm pretty sure this is how things work in Rails 3.

Again, if Mr. Katz or one of his learned friends could confirm this it would be appreciated.

Thanks.new.run_callbacks(:finished) { true }

puts &quot;James ;)&quot;</body>
      <body-html>&lt;div&gt;&lt;p&gt;OK&amp;#8230; We've worked this one out. The API has changed but the
documentation doesn't reflect the changes too clearly. Hopefully
Yehuda can clarify this but essentially callbacks work as
follows&amp;#8230;&lt;/p&gt;
&lt;p&gt;This will run only the before save callback&amp;#8230;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;p = Post.new
p.run_callbacks(:save) { false }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&amp;#8230;and this will run both the before and after
callbacks&amp;#8230;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;p = Post.new
p.run_callbacks(:save) { true }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Essentially you can't specify the before or after anymore (using
#run_callbacks(:before_save) etc.) because callbacks work like
this.&lt;/p&gt;
&lt;p&gt;You call a group of callbacks, for example save, create,
validation. There will potentially be a before and/or after
callback to any of these groups. All will be executed but only if
the block supplied evaluates to true. Examples will explain this
better so here we go&amp;#8230;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;# Before and after callbacks
# This will run both the before_save and after_save callbacks&amp;#8230;
Post.new.run_callbacks(:save)

# &amp;#8230;as will this
Post.new.run_callbacks(:save) { true }

# This will only run the before_save and ignore any after_save callback
Post.new.run_callbacks(:save) { false }&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;This is darned handy if you have a condition that determines
whether or not to execute the next callback as you do in
ActiveRecord when saving (e.g. errors.empty?).&lt;/p&gt;
&lt;p&gt;I might be mistaken but after some debugging, source tasting and
with some mad class/instance method magic I'm pretty sure this is
how things work in Rails 3.&lt;/p&gt;
&lt;p&gt;Again, if Mr. Katz or one of his learned friends could confirm
this it would be appreciated.&lt;/p&gt;
&lt;p&gt;Thanks.new.run_callbacks(:finished) { true }&lt;/p&gt;
&lt;p&gt;puts &quot;James ;)&quot;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-28T00:11:57+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Unable to manually run ActiveRecord object callbacks</title>
      <updated-at type="datetime">2010-08-28T00:12:00+01:00</updated-at>
      <user-id type="integer">47045</user-id>
      <version type="integer">4</version>
      <user-name>James Conroy-Finn</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-28T00:12:36+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:title: Unable to manually run ActiveRecord object callbacks
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-08-28T00:12:37+01:00</updated-at>
      <user-id type="integer">47045</user-id>
      <version type="integer">5</version>
      <user-name>James Conroy-Finn</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-28T00:17:32+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:priority: 0
:milestone: 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-08-28T00:17:36+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">6</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I recently fixed #5419 http://github.com/rails/rails/commit/2ffa50f5a9fac08e08869687006031b70322497a where after_validation was not getting called if valid? returns false.

I will have to check with rails 2.3.x to see if what is the existing behavior. Any change in behavior should be documented.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I recently fixed &lt;a href=&quot;/projects/8994/tickets/5419&quot; title=
&quot;Ticket #5419&quot;&gt;#5419&lt;/a&gt; &lt;a href=
&quot;http://github.com/rails/rails/commit/2ffa50f5a9fac08e08869687006031b70322497a&quot;&gt;
http://github.com/rails/rails/commit/2ffa50f5a9fac08e08869687006031...&lt;/a&gt;
where after_validation was not getting called if valid? returns
false.&lt;/p&gt;
&lt;p&gt;I will have to check with rails 2.3.x to see if what is the
existing behavior. Any change in behavior should be documented.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-28T04:25:10+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-08-28T04:25:12+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">7</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>@James you are spot on.

Here is definition of method _define_after_model_callback

@@@ ruby
    def _define_after_model_callback(klass, callback) #:nodoc:
      klass.class_eval &lt;&lt;-CALLBACK, __FILE__, __LINE__ + 1
        def self.after_#{callback}(*args, &amp;block)
          options = args.extract_options!
          options[:prepend] = true
          options[:if] = Array.wrap(options[:if]) &lt;&lt; &quot;!halted &amp;&amp; value != false&quot;
          set_callback(:#{callback}, :after, *(args &lt;&lt; options), &amp;block)
        end
      CALLBACK
    end
  end
@@@

Notice the part where it says &lt;tt&gt;value != false &lt;/tt&gt;. That code is saying that proceed with callback only if the returned value is NOT false. Otherwise halt the chain.

if you change line from 

@@@ ruby
options[:if] = Array.wrap(options[:if]) &lt;&lt; &quot;!halted &amp;&amp; value != false&quot;
@@@

to 


@@@ ruby
options[:if] = Array.wrap(options[:if]) &lt;&lt; &quot;!halted&quot;
@@@

then after_save callback will be called irrespective of the returned value from the save operation.

Hope that helps you understand why the code is behaving the way it is behaving.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@James you are spot on.&lt;/p&gt;
&lt;p&gt;Here is definition of method _define_after_model_callback&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;    def _define_after_model_callback(klass, callback) #:nodoc:
      klass.class_eval &amp;lt;&amp;lt;-CALLBACK, __FILE__, __LINE__ + 1
        def self.after_#{callback}(*args, &amp;amp;block)
          options = args.extract_options!
          options[:prepend] = true
          options[:if] = Array.wrap(options[:if]) &amp;lt;&amp;lt; &quot;!halted &amp;amp;&amp;amp; value != false&quot;
          set_callback(:#{callback}, :after, *(args &amp;lt;&amp;lt; options), &amp;amp;block)
        end
      CALLBACK
    end
  end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Notice the part where it says &lt;tt&gt;value != false&lt;/tt&gt; . That
code is saying that proceed with callback only if the returned
value is NOT false. Otherwise halt the chain.&lt;/p&gt;
&lt;p&gt;if you change line from&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;options[:if] = Array.wrap(options[:if]) &amp;lt;&amp;lt; &quot;!halted &amp;amp;&amp;amp; value != false&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;
&lt;code class=
&quot;ruby&quot;&gt;options[:if] = Array.wrap(options[:if]) &amp;lt;&amp;lt; &quot;!halted&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;then after_save callback will be called irrespective of the
returned value from the save operation.&lt;/p&gt;
&lt;p&gt;Hope that helps you understand why the code is behaving the way
it is behaving.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-28T05:33:47+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-08-28T05:33:49+01:00</updated-at>
      <user-id type="integer">40263</user-id>
      <version type="integer">8</version>
      <user-name>Neeraj Singh</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/27625)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/27625&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-30T04:10:34+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-08-30T04:10:34+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">9</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-15T23:02:02+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 82861
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>activerecord callbacks rails3rc rails3rc2</tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-10-15T23:02:02+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">10</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Automatic cleanup of spam.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Automatic cleanup of spam.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-10-19T08:35:25+01:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: activerecord callbacks rails3rc rails3rc2
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-10-19T08:35:27+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">12</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/34353)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/34353&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-15T21:15:12+00:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 88038
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-11-15T21:15:12+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">13</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>00zoe
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots Sale&lt;/strong&gt;&lt;/a&gt;, insulated boot and set. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face jacket&lt;/strong&gt;&lt;/a&gt;, have been the. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland boots&lt;/strong&gt;&lt;/a&gt;, &#32463;&#20856;1956. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale&lt;/strong&gt;&lt;/a&gt;, qkl000. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland&lt;/strong&gt;&lt;/a&gt;, &#35199;&#38376;&#21561;&#38634;. 
&lt;a href=&quot;http://www.mbtclearance.org/&quot;&gt;&lt;strong&gt;MBT shoes clearance&lt;/strong&gt;&lt;/a&gt;, styles, sizes. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT trainers&lt;/strong&gt;&lt;/a&gt;, boots sale online. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg boots uk&lt;/strong&gt;&lt;/a&gt;, making cutprice. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;ugg handbags uk&lt;/strong&gt;&lt;/a&gt;, have not looked back.. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;cheap ugg handbags&lt;/strong&gt;&lt;/a&gt;, The result was the. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT lami shoes&lt;/strong&gt;&lt;/a&gt;, We have a long term. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT tunisha&lt;/strong&gt;&lt;/a&gt;, cooperative manufacturer. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland boots sale&lt;/strong&gt;&lt;/a&gt;, The source of. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/ugg-boots-sale-gissella-c-18.html&quot;&gt;&lt;strong&gt;ugg gissella&lt;/strong&gt;&lt;/a&gt;, &#24680;&#22312;&#20170;&#22825;&#25165;&#30456;&#36935;. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face outlet&lt;/strong&gt;&lt;/a&gt;, now timberland boots. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland roll top&lt;/strong&gt;&lt;/a&gt;, footwear. They. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland chukka&lt;/strong&gt;&lt;/a&gt;, &#31505;&#19977;&#23569;. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Cheap Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#21326;&#20180; a subsidiary. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Waterproof Boots&lt;/strong&gt;&lt;/a&gt;, Timberland. By 1978 more. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#21338;&#23458;. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT UK&lt;/strong&gt;&lt;/a&gt;, Nothing to worry. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland UK&lt;/strong&gt;&lt;/a&gt;, ak11-. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland outlet&lt;/strong&gt;&lt;/a&gt;, myaifeili. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale uk&lt;/strong&gt;&lt;/a&gt;, asisi. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg boots&lt;/strong&gt;&lt;/a&gt;, mercury. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots UK&lt;/strong&gt;&lt;/a&gt;, to produce it, under. 
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &#22914;&#26085; the brand name. 
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Cheap Timberland Boots&lt;/strong&gt;&lt;/a&gt;, ak22-. 
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;&lt;strong&gt;ugg handbags sale&lt;/strong&gt;&lt;/a&gt;, dry in Timberlands. And. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face boots sale&lt;/strong&gt;&lt;/a&gt;, on the Internet.. 
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face jacket sale&lt;/strong&gt;&lt;/a&gt;, in a river, and your. 
&lt;a href=&quot;http://www.bootsue.com/mbt-shoes-clearance-sale-c-5.html&quot;&gt;&lt;strong&gt;MBT shoes clearance&lt;/strong&gt;&lt;/a&gt;, can steadily. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes UK&lt;/strong&gt;&lt;/a&gt;, &#28023;&#23376; 1990. 
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT sale&lt;/strong&gt;&lt;/a&gt;, about, you could. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;cheap timberland boots&lt;/strong&gt;&lt;/a&gt;, timberland is. 
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberlands&lt;/strong&gt;&lt;/a&gt;, an offshoot.</body>
      <body-html>&lt;div&gt;&lt;p&gt;00zoe&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots Sale&lt;/strong&gt;&lt;/a&gt;, insulated boot and set.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
jacket&lt;/strong&gt;&lt;/a&gt;, have been the.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
boots&lt;/strong&gt;&lt;/a&gt;, &amp;#32463;&amp;#20856;1956.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots
sale&lt;/strong&gt;&lt;/a&gt;, qkl000.&lt;br&gt;
&lt;a href=
&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland&lt;/strong&gt;&lt;/a&gt;,
&amp;#35199;&amp;#38376;&amp;#21561;&amp;#38634;.&lt;br&gt;
&lt;a href=&quot;http://www.mbtclearance.org/&quot;&gt;&lt;strong&gt;MBT shoes
clearance&lt;/strong&gt;&lt;/a&gt;, styles, sizes.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
shoes&lt;/strong&gt;&lt;/a&gt;, Galin ang Na.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
trainers&lt;/strong&gt;&lt;/a&gt;, boots sale online.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg
boots uk&lt;/strong&gt;&lt;/a&gt;, making cutprice.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;ugg handbags uk&lt;/strong&gt;&lt;/a&gt;, have not looked back..&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;cheap ugg handbags&lt;/strong&gt;&lt;/a&gt;, The result was the.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT lami
shoes&lt;/strong&gt;&lt;/a&gt;, We have a long term.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
tunisha&lt;/strong&gt;&lt;/a&gt;, cooperative manufacturer.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
boots sale&lt;/strong&gt;&lt;/a&gt;, The source of.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/ugg-boots-sale-gissella-c-18.html&quot;&gt;
&lt;strong&gt;ugg gissella&lt;/strong&gt;&lt;/a&gt;,
&amp;#24680;&amp;#22312;&amp;#20170;&amp;#22825;&amp;#25165;&amp;#30456;&amp;#36935;.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
outlet&lt;/strong&gt;&lt;/a&gt;, now timberland boots.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
roll top&lt;/strong&gt;&lt;/a&gt;, footwear. They.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberland
chukka&lt;/strong&gt;&lt;/a&gt;, &amp;#31505;&amp;#19977;&amp;#23569;.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Cheap
Timberland Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#21326;&amp;#20180; a subsidiary.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Waterproof
Boots&lt;/strong&gt;&lt;/a&gt;, Timberland. By 1978 more.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#21338;&amp;#23458;.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
UK&lt;/strong&gt;&lt;/a&gt;, Nothing to worry.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
UK&lt;/strong&gt;&lt;/a&gt;, ak11-.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
outlet&lt;/strong&gt;&lt;/a&gt;, myaifeili.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;ugg boots sale
uk&lt;/strong&gt;&lt;/a&gt;, asisi.&lt;br&gt;
&lt;a href=&quot;http://www.cheapuggbootssale.co.uk&quot;&gt;&lt;strong&gt;cheap ugg
boots&lt;/strong&gt;&lt;/a&gt;, mercury.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots UK&lt;/strong&gt;&lt;/a&gt;, to produce it, under.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots4sale.co.uk&quot;&gt;&lt;strong&gt;Timberland
Boots&lt;/strong&gt;&lt;/a&gt;, &amp;#22914;&amp;#26085; the brand name.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandboots2sale.co.uk&quot;&gt;&lt;strong&gt;Cheap
Timberland Boots&lt;/strong&gt;&lt;/a&gt;, ak22-.&lt;br&gt;
&lt;a href=
&quot;http://www.cheapuggbootssale.co.uk/cheap-ugg-handbags-uk-c-23.html&quot;&gt;
&lt;strong&gt;ugg handbags sale&lt;/strong&gt;&lt;/a&gt;, dry in Timberlands.
And.&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
boots sale&lt;/strong&gt;&lt;/a&gt;, on the Internet..&lt;br&gt;
&lt;a href=&quot;http://www.thenorthfaceoutlet.co.uk&quot;&gt;&lt;strong&gt;north face
jacket sale&lt;/strong&gt;&lt;/a&gt;, in a river, and your.&lt;br&gt;
&lt;a href=
&quot;http://www.bootsue.com/mbt-shoes-clearance-sale-c-5.html&quot;&gt;&lt;strong&gt;MBT
shoes clearance&lt;/strong&gt;&lt;/a&gt;, can steadily.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT shoes
UK&lt;/strong&gt;&lt;/a&gt;, &amp;#28023;&amp;#23376; 1990.&lt;br&gt;
&lt;a href=&quot;http://www.mbtshoes4sale.co.uk&quot;&gt;&lt;strong&gt;MBT
sale&lt;/strong&gt;&lt;/a&gt;, about, you could.&lt;br&gt;
&lt;a href=&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;cheap
timberland boots&lt;/strong&gt;&lt;/a&gt;, timberland is.&lt;br&gt;
&lt;a href=
&quot;http://www.timberlandbootsale.co.uk&quot;&gt;&lt;strong&gt;Timberlands&lt;/strong&gt;&lt;/a&gt;,
an offshoot.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-11-17T01:55:12+00:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2010-11-17T01:58:29+00:00</updated-at>
      <user-id type="integer">125438</user-id>
      <version type="integer">14</version>
      <user-name>zoery</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/42275)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/42275&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-12T21:58:22+00:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 92071
</diffable-attributes>
      <milestone-id type="integer">101623</milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2011-02-12T21:58:22+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">15</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title>3.0.5</milestone-title>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">12714</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/43692)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/43692&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-27T03:15:39+00:00</created-at>
      <creator-id type="integer">47045</creator-id>
      <diffable-attributes type="yaml">--- 
:milestone: 101623
</diffable-attributes>
      <milestone-id type="integer">103410</milestone-id>
      <number type="integer">5472</number>
      <permalink>unable-to-manually-run-activerecord-object-callbacks</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag nil="true"></tag>
      <title>Potentially resolved&#8230; Callback API change breaks #run_callbacks</title>
      <updated-at type="datetime">2011-02-27T03:15:39+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">16</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>James Conroy-Finn</creator-name>
      <assigned-user-name>Yehuda Katz (wycats)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/5472</url>
      <milestone-title>3.0.6</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>e15c9d33e7a82496118777d87c4cc3f5a7d12c9d</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2010-08-27T15:13:11+01:00</created-at>
      <filename>0001-test-run_callbacks.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">648154</id>
      <size type="integer">788</size>
      <uploader-id type="integer">47045</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/648154/0001-test-run_callbacks.patch</url>
    </attachment>
  </attachments>
</ticket>
