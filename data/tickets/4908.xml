<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-10-02T10:45:39+01:00</created-at>
  <creator-id type="integer">14574</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">4908</number>
  <permalink>feature-request-db-seed-files-for-each-environment</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>wontfix</state>
  <tag>database environments featurerequest seed</tag>
  <title>[feature-request] db seed files for each environment.</title>
  <updated-at type="datetime">2011-04-04T16:58:26+01:00</updated-at>
  <user-id type="integer">32696</user-id>
  <version type="integer">10</version>
  <user-name>james2m</user-name>
  <creator-name>Postmodern</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
  <priority-name>Low</priority-name>
  <original-body>I keep running into scenarios where I need to seed the database of the current environment differently. It would be very useful, and somewhat trivial to support seed files for each environment. One could still have the usual `db/seeds.rb` file for all environments. Additionally, one could also have `db/seeds/production.rb`, `db/seeds/development.rb` and `db/seeds/test.rb`.</original-body>
  <latest-body>I keep running into scenarios where I need to seed the database of the current environment differently. It would be very useful, and somewhat trivial to support seed files for each environment. One could still have the usual `db/seeds.rb` file for all environments. Additionally, one could also have `db/seeds/production.rb`, `db/seeds/development.rb` and `db/seeds/test.rb`.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;I keep running into scenarios where I need to seed the database
of the current environment differently. It would be very useful,
and somewhat trivial to support seed files for each environment.
One could still have the usual &lt;code&gt;db/seeds.rb&lt;/code&gt; file for
all environments. Additionally, one could also have
&lt;code&gt;db/seeds/production.rb&lt;/code&gt;,
&lt;code&gt;db/seeds/development.rb&lt;/code&gt; and
&lt;code&gt;db/seeds/test.rb&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I keep running into scenarios where I need to seed the database of the current environment differently. It would be very useful, and somewhat trivial to support seed files for each environment. One could still have the usual `db/seeds.rb` file for all environments. Additionally, one could also have `db/seeds/production.rb`, `db/seeds/development.rb` and `db/seeds/test.rb`.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I keep running into scenarios where I need to seed the database
of the current environment differently. It would be very useful,
and somewhat trivial to support seed files for each environment.
One could still have the usual &lt;code&gt;db/seeds.rb&lt;/code&gt; file for
all environments. Additionally, one could also have
&lt;code&gt;db/seeds/production.rb&lt;/code&gt;,
&lt;code&gt;db/seeds/development.rb&lt;/code&gt; and
&lt;code&gt;db/seeds/test.rb&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-20T00:33:23+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-06-20T01:07:48+01:00</updated-at>
      <user-id type="integer">14574</user-id>
      <version type="integer">1</version>
      <user-name>Postmodern</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Initial patch here: http://github.com/postmodern/rails/commit/7dd0718239c6747e1a6981aed9b9c406532e9828</body>
      <body-html>&lt;div&gt;&lt;p&gt;Initial patch here: &lt;a href=
&quot;http://github.com/postmodern/rails/commit/7dd0718239c6747e1a6981aed9b9c406532e9828&quot;&gt;
http://github.com/postmodern/rails/commit/7dd0718239c6747e1a6981aed...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-20T01:07:09+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-06-20T01:07:11+01:00</updated-at>
      <user-id type="integer">14574</user-id>
      <version type="integer">2</version>
      <user-name>Postmodern</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>You'll need to add tests if you want this in. I'm on the fence about this. The data I load to test things in development is exactly the same data I use in production. What use case is there for having two separate seed files?</body>
      <body-html>&lt;div&gt;&lt;p&gt;You'll need to add tests if you want this in. I'm on the fence
about this. The data I load to test things in development is
exactly the same data I use in production. What use case is there
for having two separate seed files?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-21T04:04:19+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-06-21T04:04:25+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">3</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Alright, I will get on writing tests.

One common scenario for having multiple seeds files, is using a very large and arbitrary data-set for development, in order to test the performance of complex queries.

The other scenario I recently ran into was designing an app that used a shared production database, where certain tables were populated by other backend python scripts; maintained by another developer. In my testing and development databases, which I controlled, I still needed to load in a canned snapshot of the data from the production database.

Finally, this would mirror the same file organization used by `config/environment.rb` and `config/environments`.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Alright, I will get on writing tests.&lt;/p&gt;
&lt;p&gt;One common scenario for having multiple seeds files, is using a
very large and arbitrary data-set for development, in order to test
the performance of complex queries.&lt;/p&gt;
&lt;p&gt;The other scenario I recently ran into was designing an app that
used a shared production database, where certain tables were
populated by other backend python scripts; maintained by another
developer. In my testing and development databases, which I
controlled, I still needed to load in a canned snapshot of the data
from the production database.&lt;/p&gt;
&lt;p&gt;Finally, this would mirror the same file organization used by
&lt;code&gt;config/environment.rb&lt;/code&gt; and
&lt;code&gt;config/environments&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-21T04:15:27+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-06-21T04:15:32+01:00</updated-at>
      <user-id type="integer">14574</user-id>
      <version type="integer">4</version>
      <user-name>Postmodern</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Where would I write tests against `active_record/railties/database.rake`? Most of the tests in activerecord appear to be testing the ORM code.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Where would I write tests against
&lt;code&gt;active_record/railties/database.rake&lt;/code&gt;? Most of the
tests in activerecord appear to be testing the ORM code.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-06-21T04:21:10+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-06-21T04:21:15+01:00</updated-at>
      <user-id type="integer">14574</user-id>
      <version type="integer">5</version>
      <user-name>Postmodern</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>&gt; What use case is there for having two separate seed files?

Keeping seed.rb with data that must be in application to run properly ex. some dictionaries. Keeping data that makes writing tests easier in seeds/test.rb (works like fixtures for me). Keeping data that makes using the application easier in seeds/development.rb ex. few more users, some objects already created, permissions already set and so on...

I hope that this feature will be implemented :-)</body>
      <body-html>&lt;div&gt;&lt;blockquote&gt;
&lt;p&gt;What use case is there for having two separate seed files?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Keeping seed.rb with data that must be in application to run
properly ex. some dictionaries. Keeping data that makes writing
tests easier in seeds/test.rb (works like fixtures for me). Keeping
data that makes using the application easier in
seeds/development.rb ex. few more users, some objects already
created, permissions already set and so on...&lt;/p&gt;
&lt;p&gt;I hope that this feature will be implemented :-)&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-08-09T15:42:08+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-08-09T15:42:11+01:00</updated-at>
      <user-id type="integer">52024</user-id>
      <version type="integer">6</version>
      <user-name>Robert Pankowecki</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I'd also love to see an environment based solution as there are 2 ways that I tend to use seeds:

1) seeding my development environment with lots of dummy data to flush out views
2) seeding production on deploy with data the app needs to run

I dont use seed files at all in the testing environment.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'd also love to see an environment based solution as there are
2 ways that I tend to use seeds:&lt;/p&gt;
&lt;p&gt;1) seeding my development environment with lots of dummy data to
flush out views&lt;br&gt;
2) seeding production on deploy with data the app needs to run&lt;/p&gt;
&lt;p&gt;I dont use seed files at all in the testing environment.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-09-30T04:26:28+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-09-30T04:26:30+01:00</updated-at>
      <user-id type="integer">117979</user-id>
      <version type="integer">7</version>
      <user-name>CodeOfficer</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>My personal opinion: -1

Why not just use if statements instead?

@@@ ruby
if Rails.env.development?
 # ...
end

if Rails.env.production?
  # ...
end

# So on, so forth
@@@

If scalability is the issue, you could move environment specific seeds into a separate file and require it:

@@@ ruby
if Rails.env.development?
  require 'db/seeds/development'
end

# So on.
@@@

Will mark this as won't fix for now. It's not really my decision, but I'll reopen if necessary.</body>
      <body-html>&lt;div&gt;&lt;p&gt;My personal opinion: -1&lt;/p&gt;
&lt;p&gt;Why not just use if statements instead?&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;if Rails.env.development?
 # ...
end

if Rails.env.production?
  # ...
end

# So on, so forth&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;If scalability is the issue, you could move environment specific
seeds into a separate file and require it:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;if Rails.env.development?
  require 'db/seeds/development'
end

# So on.&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Will mark this as won't fix for now. It's not really my
decision, but I'll reopen if necessary.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-10T18:25:21+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- 
:state: needs-more-info
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-10-10T18:25:24+01:00</updated-at>
      <user-id type="integer">65050</user-id>
      <version type="integer">8</version>
      <user-name>David Trasbo</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hmm, or we could use:

@@@ ruby
require File.join('db','seeds',Rails.env)
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hmm, or we could use:&lt;/p&gt;
&lt;pre&gt;
&lt;code class=&quot;ruby&quot;&gt;require File.join('db','seeds',Rails.env)&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-11T00:14:30+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2010-10-11T00:14:34+01:00</updated-at>
      <user-id type="integer">14574</user-id>
      <version type="integer">9</version>
      <user-name>Postmodern</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@postmodern If it's useful to you, I put together a little gem to do this [Seedbank](https://github.com/james2m/seedbank). It lets you have seeds for different environments.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@postmodern If it's useful to you, I put together a little gem
to do this &lt;a href=
&quot;https://github.com/james2m/seedbank&quot;&gt;Seedbank&lt;/a&gt;. It lets you
have seeds for different environments.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-04-04T16:58:03+01:00</created-at>
      <creator-id type="integer">14574</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4908</number>
      <permalink>feature-request-db-seed-files-for-each-environment</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>wontfix</state>
      <tag>database environments featurerequest seed</tag>
      <title>[feature-request] db seed files for each environment.</title>
      <updated-at type="datetime">2011-04-04T16:58:26+01:00</updated-at>
      <user-id type="integer">32696</user-id>
      <version type="integer">10</version>
      <user-name>james2m</user-name>
      <creator-name>Postmodern</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4908</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
