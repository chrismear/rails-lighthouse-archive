<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2009-03-27T11:20:54+00:00</created-at>
  <creator-id type="integer">52105</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">2356</number>
  <permalink>rails-23-is-caching-views-in-development-mode</permalink>
  <priority type="integer">1517</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>2.3.2 action_view views</tag>
  <title>Rails 2.3 is caching views in development mode</title>
  <updated-at type="datetime">2009-03-27T15:51:47+00:00</updated-at>
  <user-id type="integer">52105</user-id>
  <version type="integer">6</version>
  <user-name>mlopes</user-name>
  <creator-name>mlopes</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>Ok, I've just upgraded a big application to Rails 2.3 with no major issues to point except for a show-stopper that's consuming too much time. Rails is caching views in development mode.

In an attempt to figure out where's the problem coming from, I created a whole new rails application and views were working fine. Based on that I double-checked the config files. Botch cache_classes and cache_template_loading is set to false in development mode.

I took a sneak at the plugins to see whether one culprit could be causing this. I'm currently using the following plugins:

aasm
acts_as_list
configurator
libmemcached_store
smurf
workling_mailer
action_mailer_tls
acts_as_versioned
exception_notification
paperclip
restful_authentication
spawn
active_scaffold
betternestedset
globalize2
permalink_fu
simple_access_control
workling

In order for Rails 2.3 to work I had to update a bunch of them, namely Smurf, ActiveScaffold, mislav-will_paginate (as a gem).

Any ideas what could be causing this issue? In short, so we can nail down the source of this bug, all config files are Ok and don't port any old settings. View caching is explicitly disabled in development mode. I'm using Rails 2.3.2. On a fresh application, everything is ok.

I can run some specific battery of tests if you want me so.

Regards.</original-body>
  <latest-body>Ok, I've just upgraded a big application to Rails 2.3 with no major issues to point except for a show-stopper that's consuming too much time. Rails is caching views in development mode.

In an attempt to figure out where's the problem coming from, I created a whole new rails application and views were working fine. Based on that I double-checked the config files. Botch cache_classes and cache_template_loading is set to false in development mode.

I took a sneak at the plugins to see whether one culprit could be causing this. I'm currently using the following plugins:

aasm
acts_as_list
configurator
libmemcached_store
smurf
workling_mailer
action_mailer_tls
acts_as_versioned
exception_notification
paperclip
restful_authentication
spawn
active_scaffold
betternestedset
globalize2
permalink_fu
simple_access_control
workling

In order for Rails 2.3 to work I had to update a bunch of them, namely Smurf, ActiveScaffold, mislav-will_paginate (as a gem).

Any ideas what could be causing this issue? In short, so we can nail down the source of this bug, all config files are Ok and don't port any old settings. View caching is explicitly disabled in development mode. I'm using Rails 2.3.2. On a fresh application, everything is ok.

I can run some specific battery of tests if you want me so.

Regards.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Ok, I've just upgraded a big application to Rails 2.3 with no
major issues to point except for a show-stopper that's consuming
too much time. Rails is caching views in development mode.&lt;/p&gt;
&lt;p&gt;In an attempt to figure out where's the problem coming from, I
created a whole new rails application and views were working fine.
Based on that I double-checked the config files. Botch
cache_classes and cache_template_loading is set to false in
development mode.&lt;/p&gt;
&lt;p&gt;I took a sneak at the plugins to see whether one culprit could
be causing this. I'm currently using the following plugins:&lt;/p&gt;
&lt;p&gt;aasm acts_as_list configurator libmemcached_store smurf
workling_mailer action_mailer_tls acts_as_versioned
exception_notification paperclip restful_authentication spawn
active_scaffold betternestedset globalize2 permalink_fu
simple_access_control workling&lt;/p&gt;
&lt;p&gt;In order for Rails 2.3 to work I had to update a bunch of them,
namely Smurf, ActiveScaffold, mislav-will_paginate (as a gem).&lt;/p&gt;
&lt;p&gt;Any ideas what could be causing this issue? In short, so we can
nail down the source of this bug, all config files are Ok and don't
port any old settings. View caching is explicitly disabled in
development mode. I'm using Rails 2.3.2. On a fresh application,
everything is ok.&lt;/p&gt;
&lt;p&gt;I can run some specific battery of tests if you want me so.&lt;/p&gt;
&lt;p&gt;Regards.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ok, I've just upgraded a big application to Rails 2.3 with no major issues to point except for a show-stopper that's consuming too much time. Rails is caching views in development mode.

In an attempt to figure out where's the problem coming from, I created a whole new rails application and views were working fine. Based on that I double-checked the config files. Botch cache_classes and cache_template_loading is set to false in development mode.

I took a sneak at the plugins to see whether one culprit could be causing this. I'm currently using the following plugins:

aasm
acts_as_list
configurator
libmemcached_store
smurf
workling_mailer
action_mailer_tls
acts_as_versioned
exception_notification
paperclip
restful_authentication
spawn
active_scaffold
betternestedset
globalize2
permalink_fu
simple_access_control
workling

In order for Rails 2.3 to work I had to update a bunch of them, namely Smurf, ActiveScaffold, mislav-will_paginate (as a gem).

Any ideas what could be causing this issue? In short, so we can nail down the source of this bug, all config files are Ok and don't port any old settings. View caching is explicitly disabled in development mode. I'm using Rails 2.3.2. On a fresh application, everything is ok.

I can run some specific battery of tests if you want me so.

Regards.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ok, I've just upgraded a big application to Rails 2.3 with no
major issues to point except for a show-stopper that's consuming
too much time. Rails is caching views in development mode.&lt;/p&gt;
&lt;p&gt;In an attempt to figure out where's the problem coming from, I
created a whole new rails application and views were working fine.
Based on that I double-checked the config files. Botch
cache_classes and cache_template_loading is set to false in
development mode.&lt;/p&gt;
&lt;p&gt;I took a sneak at the plugins to see whether one culprit could
be causing this. I'm currently using the following plugins:&lt;/p&gt;
&lt;p&gt;aasm acts_as_list configurator libmemcached_store smurf
workling_mailer action_mailer_tls acts_as_versioned
exception_notification paperclip restful_authentication spawn
active_scaffold betternestedset globalize2 permalink_fu
simple_access_control workling&lt;/p&gt;
&lt;p&gt;In order for Rails 2.3 to work I had to update a bunch of them,
namely Smurf, ActiveScaffold, mislav-will_paginate (as a gem).&lt;/p&gt;
&lt;p&gt;Any ideas what could be causing this issue? In short, so we can
nail down the source of this bug, all config files are Ok and don't
port any old settings. View caching is explicitly disabled in
development mode. I'm using Rails 2.3.2. On a fresh application,
everything is ok.&lt;/p&gt;
&lt;p&gt;I can run some specific battery of tests if you want me so.&lt;/p&gt;
&lt;p&gt;Regards.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T11:20:55+00:00</created-at>
      <creator-id type="integer">52105</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2356</number>
      <permalink>rails-23-is-caching-views-in-development-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 action_view views</tag>
      <title>Rails 2.3 is caching views in development mode</title>
      <updated-at type="datetime">2009-03-27T11:20:57+00:00</updated-at>
      <user-id type="integer">52105</user-id>
      <version type="integer">1</version>
      <user-name>mlopes</user-name>
      <creator-name>mlopes</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Forgot to mention, the workaround is restarting Mongrel for Rails to refresh the views...</body>
      <body-html>&lt;div&gt;&lt;p&gt;Forgot to mention, the workaround is restarting Mongrel for
Rails to refresh the views...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T11:24:22+00:00</created-at>
      <creator-id type="integer">52105</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2356</number>
      <permalink>rails-23-is-caching-views-in-development-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 action_view views</tag>
      <title>Rails 2.3 is caching views in development mode</title>
      <updated-at type="datetime">2009-03-27T11:24:24+00:00</updated-at>
      <user-id type="integer">52105</user-id>
      <version type="integer">2</version>
      <user-name>mlopes</user-name>
      <creator-name>mlopes</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ok, found the issue. config.threadsafe! was enabled in development mode.

I don't know whether this is a bug or a feature (threadsafety is not ought to be enabled in dev mode), but it was causing views not to be reloaded in development mode and some other strange behavior as well like controller classes not being found from time to time.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ok, found the issue. config.threadsafe! was enabled in
development mode.&lt;/p&gt;
&lt;p&gt;I don't know whether this is a bug or a feature (threadsafety is
not ought to be enabled in dev mode), but it was causing views not
to be reloaded in development mode and some other strange behavior
as well like controller classes not being found from time to
time.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T11:56:25+00:00</created-at>
      <creator-id type="integer">52105</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2356</number>
      <permalink>rails-23-is-caching-views-in-development-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 action_view views</tag>
      <title>Rails 2.3 is caching views in development mode</title>
      <updated-at type="datetime">2009-03-27T11:56:30+00:00</updated-at>
      <user-id type="integer">52105</user-id>
      <version type="integer">3</version>
      <user-name>mlopes</user-name>
      <creator-name>mlopes</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Constant and view reloading are both not threadsafe, so neither is going to work with `config.threadsafe!`. Also freshly generated Rails app doesn't contain `config.threadsafe!` in `development.rb` at all. No bugs here.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Constant and view reloading are both not threadsafe, so neither
is going to work with &lt;code&gt;config.threadsafe!&lt;/code&gt;. Also freshly
generated Rails app doesn't contain &lt;code&gt;config.threadsafe!&lt;/code&gt;
in &lt;code&gt;development.rb&lt;/code&gt; at all. No bugs here.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2009-03-27T15:09:32+00:00</created-at>
      <creator-id type="integer">52105</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2356</number>
      <permalink>rails-23-is-caching-views-in-development-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.3.2 action_view views</tag>
      <title>Rails 2.3 is caching views in development mode</title>
      <updated-at type="datetime">2009-03-27T15:09:33+00:00</updated-at>
      <user-id type="integer">46643</user-id>
      <version type="integer">4</version>
      <user-name>thedarkone</user-name>
      <creator-name>mlopes</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Agreed. This has been documented in various spots. If you spot somewhere in the RDoc or Guides that we could make it clearer, please submit a ticket on the docrails project.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Agreed. This has been documented in various spots. If you spot
somewhere in the RDoc or Guides that we could make it clearer,
please submit a ticket on the docrails project.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-27T15:48:15+00:00</created-at>
      <creator-id type="integer">52105</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2356</number>
      <permalink>rails-23-is-caching-views-in-development-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.2 action_view views</tag>
      <title>Rails 2.3 is caching views in development mode</title>
      <updated-at type="datetime">2009-03-27T15:48:20+00:00</updated-at>
      <user-id type="integer">7211</user-id>
      <version type="integer">5</version>
      <user-name>CancelProfileIsBroken</user-name>
      <creator-name>mlopes</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>It could be my fault, but it took me several hours to figure this one out. If someone is with me on this one, please open a ticket for a huge warning on the docrails project (probably is a known issues section - something that would get properly indexed on Google while searching for 'rails 2.3 caching views in development mode'.</body>
      <body-html>&lt;div&gt;&lt;p&gt;It could be my fault, but it took me several hours to figure
this one out. If someone is with me on this one, please open a
ticket for a huge warning on the docrails project (probably is a
known issues section - something that would get properly indexed on
Google while searching for 'rails 2.3 caching views in development
mode'.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-27T15:51:45+00:00</created-at>
      <creator-id type="integer">52105</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">2356</number>
      <permalink>rails-23-is-caching-views-in-development-mode</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.3.2 action_view views</tag>
      <title>Rails 2.3 is caching views in development mode</title>
      <updated-at type="datetime">2009-03-27T15:51:47+00:00</updated-at>
      <user-id type="integer">52105</user-id>
      <version type="integer">6</version>
      <user-name>mlopes</user-name>
      <creator-name>mlopes</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/2356</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
</ticket>
