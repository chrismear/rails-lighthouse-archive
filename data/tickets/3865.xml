<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">85</assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-02-05T20:21:43+00:00</created-at>
  <creator-id type="integer">38796</creator-id>
  <milestone-due-on type="datetime">2010-11-15T00:00:00+00:00</milestone-due-on>
  <milestone-id type="integer">88038</milestone-id>
  <number type="integer">3865</number>
  <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag nil="true"></tag>
  <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
  <updated-at type="datetime">2010-10-15T23:01:43+01:00</updated-at>
  <user-id type="integer">85</user-id>
  <version type="integer">9</version>
  <user-name>Jeremy Kemper</user-name>
  <creator-name>trevor</creator-name>
  <assigned-user-name>Jeremy Kemper</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
  <milestone-title>3.0.2</milestone-title>
  <priority-name>Low</priority-name>
  <original-body>@@@
% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]

% rails -v
Rails 3.0.0.beta
@@@

seeing a lot of warnings along the lines -
&lt;pre&gt;
WARNING:  #&lt;NoMethodError: undefined method '&gt;' for nil:NilClass&gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/warden-0.9.0.gemspec'
WARNING:  #&lt;NoMethodError: undefined method '&gt;' for nil:NilClass&gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/xml-simple-1.0.12.gemspec'
&lt;/pre&gt;

and

@@@
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant VERSION
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant RubyGemsVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:194: warning: already initialized constant MUTEX
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:196: warning: already initialized constant RubyGemsPackageVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:202: warning: already initialized constant WIN_PATTERNS
@@@

whenever starting rails with &lt;code&gt;rails server&lt;/code&gt; or &lt;code&gt;rails console&lt;/code&gt;</original-body>
  <latest-body>@@@
% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]

% rails -v
Rails 3.0.0.beta
@@@

seeing a lot of warnings along the lines -
&lt;pre&gt;
WARNING:  #&lt;NoMethodError: undefined method '&gt;' for nil:NilClass&gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/warden-0.9.0.gemspec'
WARNING:  #&lt;NoMethodError: undefined method '&gt;' for nil:NilClass&gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/xml-simple-1.0.12.gemspec'
&lt;/pre&gt;

and

@@@
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant VERSION
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant RubyGemsVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:194: warning: already initialized constant MUTEX
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:196: warning: already initialized constant RubyGemsPackageVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:202: warning: already initialized constant WIN_PATTERNS
@@@

whenever starting rails with &lt;code&gt;rails server&lt;/code&gt; or &lt;code&gt;rails console&lt;/code&gt;</latest-body>
  <original-body-html>&lt;div&gt;&lt;pre&gt;
&lt;code&gt;% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]

% rails -v
Rails 3.0.0.beta&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;seeing a lot of warnings along the lines -&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
WARNING:  #&amp;lt;NoMethodError: undefined method '&amp;gt;' for nil:NilClass&amp;gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/warden-0.9.0.gemspec'
WARNING:  #&amp;lt;NoMethodError: undefined method '&amp;gt;' for nil:NilClass&amp;gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/xml-simple-1.0.12.gemspec'
&lt;/pre&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant VERSION
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant RubyGemsVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:194: warning: already initialized constant MUTEX
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:196: warning: already initialized constant RubyGemsPackageVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:202: warning: already initialized constant WIN_PATTERNS&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;whenever starting rails with &lt;code&gt;rails server&lt;/code&gt; or
&lt;code&gt;rails console&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@@@
% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]

% rails -v
Rails 3.0.0.beta
@@@

seeing a lot of warnings along the lines -
&lt;pre&gt;
WARNING:  #&lt;NoMethodError: undefined method '&gt;' for nil:NilClass&gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/warden-0.9.0.gemspec'
WARNING:  #&lt;NoMethodError: undefined method '&gt;' for nil:NilClass&gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/xml-simple-1.0.12.gemspec'
&lt;/pre&gt;

and

@@@
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant VERSION
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant RubyGemsVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:194: warning: already initialized constant MUTEX
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:196: warning: already initialized constant RubyGemsPackageVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:202: warning: already initialized constant WIN_PATTERNS
@@@

whenever starting rails with &lt;code&gt;rails server&lt;/code&gt; or &lt;code&gt;rails console&lt;/code&gt;</body>
      <body-html>&lt;div&gt;&lt;pre&gt;
&lt;code&gt;% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]

% rails -v
Rails 3.0.0.beta&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;seeing a lot of warnings along the lines -&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
WARNING:  #&amp;lt;NoMethodError: undefined method '&amp;gt;' for nil:NilClass&amp;gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/warden-0.9.0.gemspec'
WARNING:  #&amp;lt;NoMethodError: undefined method '&amp;gt;' for nil:NilClass&amp;gt;
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/xml-simple-1.0.12.gemspec'
&lt;/pre&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant VERSION
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:14: warning: already initialized constant RubyGemsVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:194: warning: already initialized constant MUTEX
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:196: warning: already initialized constant RubyGemsPackageVersion
/usr/local/lib/ruby/site_ruby/1.9.1/rubygems.rb:202: warning: already initialized constant WIN_PATTERNS&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;whenever starting rails with &lt;code&gt;rails server&lt;/code&gt; or
&lt;code&gt;rails console&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-02-05T20:21:43+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-05T20:21:45+00:00</updated-at>
      <user-id type="integer">38796</user-id>
      <version type="integer">1</version>
      <user-name>trevor</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This is a RubyGems issue. Ruby 1.9 ships with an outdated RubyGems and you can't upgrade it.

http://redmine.ruby-lang.org/issues/show/2355

Fortunately, you can ignore the warnings.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This is a RubyGems issue. Ruby 1.9 ships with an outdated
RubyGems and you can't upgrade it.&lt;/p&gt;
&lt;p&gt;&lt;a href=
&quot;http://redmine.ruby-lang.org/issues/show/2355&quot;&gt;http://redmine.ruby-lang.org/issues/show/2355&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Fortunately, you can ignore the warnings.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-05T20:38:12+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
:milestone: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-05T20:38:16+00:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">2</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>ruby -v
ruby 1.9.1p378 (2010-01-10 revision 26273) [i386-darwin10.2.0]

gem -v
1.3.5

I am having a similar issue where running &quot;rails -v&quot; (inside of a rails project only) or running script/rails results in a lot of &quot;WARNING:  Invalid .gemspec format&quot; for example:

WARNING:  #&lt;NoMethodError: undefined method `&gt;' for nil:NilClass&gt;
# -*- encoding: utf-8 -*-

Gem::Specification.new do |s|
  s.name = %q{abstract}
  s.version = &quot;1.0.0&quot;

  s.required_rubygems_version = nil if s.respond_to? :required_rubygems_version=
  s.authors = [&quot;makoto kuwata&quot;]
  s.cert_chain = nil
  s.date = %q{2006-03-12}
  s.description = %q{'abstract.rb' is a library which enable you to define abstract method in Ruby.}
  s.files = [&quot;lib/abstract.rb&quot;, &quot;test/test.rb&quot;, &quot;README.txt&quot;, &quot;ChangeLog&quot;, &quot;setup.rb&quot;, &quot;abstract.gemspec&quot;]
  s.homepage = %q{http://rubyforge.org/projects/abstract}
  s.require_paths = [&quot;lib&quot;]
  s.required_ruby_version = Gem::Requirement.new(&quot;&gt; 0.0.0&quot;)
  s.rubygems_version = %q{1.3.5}
  s.summary = %q{a library which enable you to define abstract method in Ruby}
  s.test_files = [&quot;test/test.rb&quot;]

  if s.respond_to? :specification_version then
    current_version = Gem::Specification::CURRENT_SPECIFICATION_VERSION
    s.specification_version = 1

    if Gem::Version.new(Gem::RubyGemsVersion) &gt;= Gem::Version.new('1.2.0') then
    else
    end
  else
  end
end
WARNING:  Invalid .gemspec format in '/usr/local/Cellar/ruby/1.9.1-p378/lib/ruby/gems/1.9.1/specifications/abstract-1.0.0.gemspec'

This is followed by a couple thousand lines of output and whereas I can ignore them, it's still very annoying.</body>
      <body-html>&lt;div&gt;&lt;p&gt;ruby -v&lt;br&gt;
ruby 1.9.1p378 (2010-01-10 revision 26273) [i386-darwin10.2.0]&lt;/p&gt;
&lt;p&gt;gem -v&lt;br&gt;
1.3.5&lt;/p&gt;
&lt;p&gt;I am having a similar issue where running &quot;rails -v&quot; (inside of
a rails project only) or running script/rails results in a lot of
&quot;WARNING: Invalid .gemspec format&quot; for example:&lt;/p&gt;
&lt;p&gt;WARNING: #&amp;lt;NoMethodError: undefined method &lt;code&gt;&amp;gt;' for
nil:NilClass&amp;gt;&amp;lt;br/&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;-&lt;em&gt;- encoding: utf-8 -&lt;/em&gt;-&lt;/h1&gt;
&lt;p&gt;Gem::Specification.new do |s|&lt;br&gt;
s.name = %q{abstract} s.version = &quot;1.0.0&quot;&lt;/p&gt;
&lt;p&gt;s.required_rubygems_version = nil if s.respond_to?
:required_rubygems_version= s.authors = [&quot;makoto kuwata&quot;]
s.cert_chain = nil s.date = %q{2006-03-12} s.description =
%q{'abstract.rb' is a library which enable you to define abstract
method in Ruby.} s.files = [&quot;lib/abstract.rb&quot;, &quot;test/test.rb&quot;,
&quot;README.txt&quot;, &quot;ChangeLog&quot;, &quot;setup.rb&quot;, &quot;abstract.gemspec&quot;]
s.homepage = %q{&lt;a href=
&quot;http://rubyforge.org/projects/abstract&quot;&gt;http://rubyforge.org/projects/abstract&lt;/a&gt;}
s.require_paths = [&quot;lib&quot;] s.required_ruby_version =
Gem::Requirement.new(&quot;&amp;gt; 0.0.0&quot;) s.rubygems_version = %q{1.3.5}
s.summary = %q{a library which enable you to define abstract method
in Ruby} s.test_files = [&quot;test/test.rb&quot;]&lt;/p&gt;
&lt;p&gt;if s.respond_to? :specification_version then&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;current_version = Gem::Specification::CURRENT_SPECIFICATION_VERSION
s.specification_version = 1

if Gem::Version.new(Gem::RubyGemsVersion) &amp;gt;= Gem::Version.new('1.2.0') then
else
end&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;else end end&lt;br&gt;
WARNING: Invalid .gemspec format in
'/usr/local/Cellar/ruby/1.9.1-p378/lib/ruby/gems/1.9.1/specifications/abstract-1.0.0.gemspec'&lt;/p&gt;
&lt;p&gt;This is followed by a couple thousand lines of output and
whereas I can ignore them, it's still very annoying.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-08T01:25:37+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-08T01:25:39+00:00</updated-at>
      <user-id type="integer">44172</user-id>
      <version type="integer">3</version>
      <user-name>matt (at toastyapps)</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This fixed the problem for me: http://github.com/carlhuda/bundler/issues/issue/24#issue/24/comment/127572</body>
      <body-html>&lt;div&gt;&lt;p&gt;This fixed the problem for me: &lt;a href=
&quot;http://github.com/carlhuda/bundler/issues/issue/24#issue/24/comment/127572&quot;&gt;
http://github.com/carlhuda/bundler/issues/issue/24#issue/24/comment...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-08T15:22:43+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-08T15:22:44+00:00</updated-at>
      <user-id type="integer">85445</user-id>
      <version type="integer">4</version>
      <user-name>RomD</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Please also have a look on https://rails.lighthouseapp.com/projects/8994/tickets/3863-rails-300beta-rake-seems-not-to-work-well-with-rubygems-135-on-ruby-191#ticket-3863-7

This is a ruby 1.9 issue with an easy fix, but we wanted to treat it in other places.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Please also have a look on &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/3863-rails-300beta-rake-seems-not-to-work-well-with-rubygems-135-on-ruby-191#ticket-3863-7&quot;&gt;
https://rails.lighthouseapp.com/projects/8994/tickets/3863-rails-30...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is a ruby 1.9 issue with an easy fix, but we wanted to
treat it in other places.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-08T16:31:24+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-08T16:31:27+00:00</updated-at>
      <user-id type="integer">63089</user-id>
      <version type="integer">5</version>
      <user-name>Balazs Nagy</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>as pointed out by &lt;a href=&quot;https://rails.lighthouseapp.com/projects/8994/tickets/3863-rails-300beta-rake-seems-not-to-work-well-with-rubygems-135-on-ruby-191#ticket-3863-7&quot;&gt;Balazs Nagy&lt;/a&gt; the &quot;warning: already initialized constant&quot; comes from Ruby cruft. removing the old library directory and starting with a fresh install removes those warnings.

note, this does not fix the verbose &quot;Invalid .gemspec format in&quot; warnings.

here's approximately what I did on OS X (snow leopard).

@@@
gem list --no-version &gt; gem_list.txt
sudo mv /usr/local/lib/ruby /usr/local/lib/ruby-old
wget ftp://ftp.ruby-lang.org/pub/ruby/snapshot.tar.bz2
# install
sudo su
gem install tzinfo builder memcache-client rack rack-test rack-mount erubis mail text-format thor bundler i18n
gem install rails --pre
gem install sqlite3-ruby
env ARCHFLAGS=&quot;-arch x86_64&quot; gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config
# install remaining gems
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;as pointed out by &lt;a href=
&quot;https://rails.lighthouseapp.com/projects/8994/tickets/3863-rails-300beta-rake-seems-not-to-work-well-with-rubygems-135-on-ruby-191#ticket-3863-7&quot;&gt;
Balazs Nagy&lt;/a&gt; the &quot;warning: already initialized constant&quot; comes
from Ruby cruft. removing the old library directory and starting
with a fresh install removes those warnings.&lt;/p&gt;
&lt;p&gt;note, this does not fix the verbose &quot;Invalid .gemspec format in&quot;
warnings.&lt;/p&gt;
&lt;p&gt;here's approximately what I did on OS X (snow leopard).&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;gem list --no-version &amp;gt; gem_list.txt
sudo mv /usr/local/lib/ruby /usr/local/lib/ruby-old
wget ftp://ftp.ruby-lang.org/pub/ruby/snapshot.tar.bz2
# install
sudo su
gem install tzinfo builder memcache-client rack rack-test rack-mount erubis mail text-format thor bundler i18n
gem install rails --pre
gem install sqlite3-ruby
env ARCHFLAGS=&quot;-arch x86_64&quot; gem install mysql -- --with-mysql-config=/usr/local/mysql/bin/mysql_config
# install remaining gems&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-08T22:37:18+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-08T22:37:23+00:00</updated-at>
      <user-id type="integer">38796</user-id>
      <version type="integer">6</version>
      <user-name>trevor</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>The new bundler version 0.9.4 solves the first &quot;Invalid .gemspec format&quot; problem. 

The second RubyGems problem can be solved by a simple

@@@
sudo gem uninstall rubygems-update
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;The new bundler version 0.9.4 solves the first &quot;Invalid .gemspec
format&quot; problem.&lt;/p&gt;
&lt;p&gt;The second RubyGems problem can be solved by a simple&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;sudo gem uninstall rubygems-update&lt;/code&gt;
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-11T22:14:06+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-11T22:14:11+00:00</updated-at>
      <user-id type="integer">86304</user-id>
      <version type="integer">7</version>
      <user-name>Christian Lupp</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>i'll confirm what Christian said in regards to the &quot;Invalid .gemspec format&quot; problem being solved for rails server and rails console

&lt;pre&gt;
% git show-ref refs/heads/master
4d8a76f3013e3347e55ddb319d76f9602f4bbccb refs/heads/master
% sudo gem uninstall bundler
[...]
Successfully uninstalled bundler-0.9.5
% sudo rake install
[...]
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/tzinfo-0.3.16.gemspec'
WARNING:  #&lt;NoMethodError: undefined method `&gt;' for nil:NilClass&gt;
[... blah blah gemspec warnings ...]
Successfully installed bundler-0.9.5
% cd /tmp
% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]
% rails -v
Rails 3.0.0.beta
% rails myapp
% cd myapp
% rc
Loading development environment (Rails 3.0.0.beta)
irb(main):001:0&gt; exit
% rs
=&gt; Booting WEBrick
=&gt; Rails 3.0.0.beta application starting in development on http://0.0.0.0:3000
&lt;/pre&gt;</body>
      <body-html>&lt;div&gt;&lt;p&gt;i'll confirm what Christian said in regards to the &quot;Invalid
.gemspec format&quot; problem being solved for rails server and rails
console&lt;/p&gt;
&lt;pre&gt;
% git show-ref refs/heads/master
4d8a76f3013e3347e55ddb319d76f9602f4bbccb refs/heads/master
% sudo gem uninstall bundler
[...]
Successfully uninstalled bundler-0.9.5
% sudo rake install
[...]
WARNING:  Invalid .gemspec format in '/usr/local/lib/ruby/gems/1.9.1/specifications/tzinfo-0.3.16.gemspec'
WARNING:  #' for nil:NilClass&amp;gt;
[... blah blah gemspec warnings ...]
Successfully installed bundler-0.9.5
% cd /tmp
% ruby -v
ruby 1.9.2dev (2010-02-03 trunk 26544) [x86_64-darwin10.2.0]
% rails -v
Rails 3.0.0.beta
% rails myapp
% cd myapp
% rc
Loading development environment (Rails 3.0.0.beta)
irb(main):001:0&amp;gt; exit
% rs
=&amp;gt; Booting WEBrick
=&amp;gt; Rails 3.0.0.beta application starting in development on http://0.0.0.0:3000
&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-02-11T22:23:02+00:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-02-11T22:23:06+00:00</updated-at>
      <user-id type="integer">38796</user-id>
      <version type="integer">8</version>
      <user-name>trevor</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title nil="true"></milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">85</assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>[[bulk edit](/projects/8994/bulk_edits/31647)]</body>
      <body-html>&lt;div&gt;&lt;p&gt;[&lt;a href=&quot;/projects/8994/bulk_edits/31647&quot;&gt;bulk edit&lt;/a&gt;]&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-10-15T23:01:43+01:00</created-at>
      <creator-id type="integer">38796</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:milestone: 27004
</diffable-attributes>
      <milestone-id type="integer">88038</milestone-id>
      <number type="integer">3865</number>
      <permalink>invalid-gemspec-format-in-and-already-initialized-constant-warnings-with-ruby-192dev</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag nil="true"></tag>
      <title>&quot;Invalid .gemspec format in&quot; and &quot;already initialized constant&quot; warnings with Ruby 1.9.2dev</title>
      <updated-at type="datetime">2010-10-15T23:01:43+01:00</updated-at>
      <user-id type="integer">85</user-id>
      <version type="integer">9</version>
      <user-name>Jeremy Kemper</user-name>
      <creator-name>trevor</creator-name>
      <assigned-user-name>Jeremy Kemper</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/3865</url>
      <milestone-title>3.0.2</milestone-title>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
