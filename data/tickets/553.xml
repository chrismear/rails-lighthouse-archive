<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer">25293</assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-07-05T22:38:24+01:00</created-at>
  <creator-id type="integer">23550</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">553</number>
  <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
  <priority type="integer">47</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>2.1 bug dependencies enhancement patch tested</tag>
  <title>config.gem compatibility with vendor/gem git submodule workflow</title>
  <updated-at type="datetime">2010-01-21T06:35:38+00:00</updated-at>
  <user-id type="integer">25293</user-id>
  <version type="integer">17</version>
  <user-name>Prem Sichanugrist (sikachu)</user-name>
  <creator-name>Aaron Gibralter</creator-name>
  <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I keep all my vendor/gems as git submodules tracking certain releases from github: thus I unpacked the gems without version numbers in the directory name:

$ ls vendor/gems
  haml/
  will_paginate/
  etc.

The gem dependency loader looks for gems unpacked as gem_name-x.x.x. This fix is as simple as changing:

unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}-#{@version || &quot;*&quot;}&quot;)]

to:

unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}#{@version ? &quot;-#{@version}&quot; : &quot;*&quot;}&quot;)]

However, the rake gems:build command doesn't work with this setup either because there are no specification files.

Does anyone think that there could be some sort of way to get this type of workflow working? Or does it not make sense?</original-body>
  <latest-body>I keep all my vendor/gems as git submodules tracking certain releases from github: thus I unpacked the gems without version numbers in the directory name:

$ ls vendor/gems
  haml/
  will_paginate/
  etc.

The gem dependency loader looks for gems unpacked as gem_name-x.x.x. This fix is as simple as changing:

unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}-#{@version || &quot;*&quot;}&quot;)]

to:

unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}#{@version ? &quot;-#{@version}&quot; : &quot;*&quot;}&quot;)]

However, the rake gems:build command doesn't work with this setup either because there are no specification files.

Does anyone think that there could be some sort of way to get this type of workflow working? Or does it not make sense?</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
I keep all my vendor/gems as git submodules tracking certain releases from github: thus I unpacked the gems without version numbers in the directory name:
&lt;/p&gt;&lt;p&gt;
$ ls vendor/gems
&lt;/p&gt;&lt;p&gt;
haml/
&lt;/p&gt;&lt;p&gt;
will_paginate/
&lt;/p&gt;&lt;p&gt;
etc.
&lt;/p&gt;&lt;p&gt;
The gem dependency loader looks for gems unpacked as gem_name-x.x.x. This fix is as simple as changing:
&lt;/p&gt;&lt;p&gt;
unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}-#{@version || &quot;*&quot;}&quot;)]
&lt;/p&gt;&lt;p&gt;
to:
&lt;/p&gt;&lt;p&gt;
unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}#{@version ? &quot;-#{@version}&quot; : &quot;*&quot;}&quot;)]
&lt;/p&gt;&lt;p&gt;
However, the rake gems:build command doesn't work with this setup either because there are no specification files.
&lt;/p&gt;&lt;p&gt;
Does anyone think that there could be some sort of way to get this type of workflow working? Or does it not make sense?
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I keep all my vendor/gems as git submodules tracking certain releases from github: thus I unpacked the gems without version numbers in the directory name:

$ ls vendor/gems
  haml/
  will_paginate/
  etc.

The gem dependency loader looks for gems unpacked as gem_name-x.x.x. This fix is as simple as changing:

unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}-#{@version || &quot;*&quot;}&quot;)]

to:

unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}#{@version ? &quot;-#{@version}&quot; : &quot;*&quot;}&quot;)]

However, the rake gems:build command doesn't work with this setup either because there are no specification files.

Does anyone think that there could be some sort of way to get this type of workflow working? Or does it not make sense?</body>
      <body-html>&lt;div&gt;&lt;p&gt;
I keep all my vendor/gems as git submodules tracking certain releases from github: thus I unpacked the gems without version numbers in the directory name:
&lt;/p&gt;&lt;p&gt;
$ ls vendor/gems
&lt;/p&gt;&lt;p&gt;
haml/
&lt;/p&gt;&lt;p&gt;
will_paginate/
&lt;/p&gt;&lt;p&gt;
etc.
&lt;/p&gt;&lt;p&gt;
The gem dependency loader looks for gems unpacked as gem_name-x.x.x. This fix is as simple as changing:
&lt;/p&gt;&lt;p&gt;
unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}-#{@version || &quot;*&quot;}&quot;)]
&lt;/p&gt;&lt;p&gt;
to:
&lt;/p&gt;&lt;p&gt;
unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}#{@version ? &quot;-#{@version}&quot; : &quot;*&quot;}&quot;)]
&lt;/p&gt;&lt;p&gt;
However, the rake gems:build command doesn't work with this setup either because there are no specification files.
&lt;/p&gt;&lt;p&gt;
Does anyone think that there could be some sort of way to get this type of workflow working? Or does it not make sense?
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-05T22:38:24+01:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 dependencies enhancement</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-07-05T22:38:24+01:00</updated-at>
      <user-id type="integer">23550</user-id>
      <version type="integer">1</version>
      <user-name>Aaron Gibralter</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This would definitely make sense if you use submodules and are bumping the version number frequently on your gem, which is something I've tried but gave up on due to the pain you describe.</body>
      <body-html>&lt;div&gt;&lt;p&gt;
This would definitely make sense if you use submodules and are bumping the version number frequently on your gem, which is something I've tried but gave up on due to the pain you describe.
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-08T06:52:03+01:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 dependencies enhancement</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-07-08T06:52:03+01:00</updated-at>
      <user-id type="integer">3825</user-id>
      <version type="integer">2</version>
      <user-name>Rob Sanheim</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Also, I've often run into chicken-and-egg problems with config.gem.

If I'm installing a plugin, say, backgroundrdb, that relies on a couple gems, I can't just do:

config.gem 'chronic'
config.gem 'packet'

because running rake gems:install will freak out that backgroundrdb is requiring gems that aren't already installed. This seems to ruin the work-flow that config.gem seems to promise... I have to first commit my changes to environment.rb, push them to production, run rake gems:install, then back on my development machine install the plugin, push it to production... and hopefully everything works out?

Lastly... would rake gems:build work with this sort of a set up (git submodules)?

Maybe I'm missing the whole point of config.gem, but it just seems like a hugggge headache to me: +1 merb?</body>
      <body-html>&lt;div&gt;&lt;p&gt;
Also, I've often run into chicken-and-egg problems with config.gem.
&lt;/p&gt;&lt;p&gt;
If I'm installing a plugin, say, backgroundrdb, that relies on a couple gems, I can't just do:
&lt;/p&gt;&lt;p&gt;
config.gem 'chronic'
&lt;/p&gt;&lt;p&gt;
config.gem 'packet'
&lt;/p&gt;&lt;p&gt;
because running rake gems:install will freak out that backgroundrdb is requiring gems that aren't already installed. This seems to ruin the work-flow that config.gem seems to promise... I have to first commit my changes to environment.rb, push them to production, run rake gems:install, then back on my development machine install the plugin, push it to production... and hopefully everything works out?
&lt;/p&gt;&lt;p&gt;
Lastly... would rake gems:build work with this sort of a set up (git submodules)?
&lt;/p&gt;&lt;p&gt;
Maybe I'm missing the whole point of config.gem, but it just seems like a hugggge headache to me: +1 merb?
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-08T07:05:51+01:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 dependencies enhancement
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-07-08T07:05:51+01:00</updated-at>
      <user-id type="integer">23550</user-id>
      <version type="integer">3</version>
      <user-name>Aaron Gibralter</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>@agibralter I'm not too sure if what you are experiencing is to do with this bug. Try changing the order of your &quot;config.gems&quot;

I've attached a patch for this. Pretty much does what it says in the bug description but I've also added a test for it.</body>
      <body-html>&lt;div&gt;&lt;p&gt;@agibralter I'm not too sure if what you are experiencing is to
do with this bug. Try changing the order of your &quot;config.gems&quot;&lt;/p&gt;
&lt;p&gt;I've attached a patch for this. Pretty much does what it says in
the bug description but I've also added a test for it.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-08-30T00:49:49+01:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: 2.1 bug dependencies enhancement
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow-2</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-08-30T00:49:49+01:00</updated-at>
      <user-id type="integer">5450</user-id>
      <version type="integer">4</version>
      <user-name>Chris Lloyd</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>I'm running into this issue, too. In particular, there are some gems I want to track the trunk of our own fork via a submodule.</body>
      <body-html>&lt;div&gt;&lt;p&gt;I'm running into this issue, too. In particular, there are some
gems I want to track the trunk of our own fork via a submodule.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-17T05:56:09+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-11-17T05:56:12+00:00</updated-at>
      <user-id type="integer">17150</user-id>
      <version type="integer">5</version>
      <user-name>Luke Melia</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The new code in 2.2RC can handle this, but the process is a little convoluted. You'll probably want to start by unpacking the regular (ie not forked) gem using rake gems:unpack. That will give you a correct .specification file. Next, move the .specification file someplace safe and remove the unpacked gem directory in vendor/gems. Finally, clone the git repo into vendor/gems/&lt;gemname&gt;-&lt;version&gt;, just like the system gem.
Move the .specification file back, (add it to the repo?) and you should be in business.

A little bit complicated - I'll look into adding a rake task to do this directly. It should be easier now, as (most) gems on github have gemspecs in them...</body>
      <body-html>&lt;div&gt;&lt;p&gt;The new code in 2.2RC can handle this, but the process is a
little convoluted. You'll probably want to start by unpacking the
regular (ie not forked) gem using rake gems:unpack. That will give
you a correct .specification file. Next, move the .specification
file someplace safe and remove the unpacked gem directory in
vendor/gems. Finally, clone the git repo into vendor/gems/-, just
like the system gem. Move the .specification file back, (add it to
the repo?) and you should be in business.&lt;/p&gt;
&lt;p&gt;A little bit complicated - I'll look into adding a rake task to
do this directly. It should be easier now, as (most) gems on github
have gemspecs in them...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-17T18:06:05+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-11-17T18:06:09+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">6</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Uggg that is kind of a pain... the other thing is this:

railties/lib/rails/gem_dependency.rb:28
@@@
unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}-#{@version || &quot;*&quot;}&quot;)]
@@@

That damn dash means that I have to put my custom/&quot;fake&quot; gems in 'haml-', etc.

I guess it could be:
@@@
unpacked_paths = Dir[File.join(self.class.unpacked_path, &quot;#{@name}#{@version ? &quot;-#{@version}&quot; : &quot;*&quot;}&quot;)]
@@@

Or would that cause unforeseen problems?

I have a few gems that I've altered in small ways but don't really feel like making back into github gems; for example, I altered haml to include a IE6 CSS hack so that CSS selectors like input[type=submit] work.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Uggg that is kind of a pain... the other thing is this:&lt;/p&gt;
&lt;p&gt;railties/lib/rails/gem_dependency.rb:28&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
unpacked_paths = Dir[File.join(self.class.unpacked_path, &amp;quot;#{@name}-#{@version || &amp;quot;*&amp;quot;}&amp;quot;)]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That damn dash means that I have to put my custom/&quot;fake&quot; gems in
'haml-', etc.&lt;/p&gt;
&lt;p&gt;I guess it could be:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
unpacked_paths = Dir[File.join(self.class.unpacked_path, &amp;quot;#{@name}#{@version ? &amp;quot;-#{@version}&amp;quot; : &amp;quot;*&amp;quot;}&amp;quot;)]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or would that cause unforeseen problems?&lt;/p&gt;
&lt;p&gt;I have a few gems that I've altered in small ways but don't
really feel like making back into github gems; for example, I
altered haml to include a IE6 CSS hack so that CSS selectors like
input[type=submit] work.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-24T20:41:39+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-11-24T20:41:42+00:00</updated-at>
      <user-id type="integer">23550</user-id>
      <version type="integer">7</version>
      <user-name>Aaron Gibralter</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>The change above isn't relevant - the code was totally rewritten for 2.2.
The *simplest* resolution for your problem is to check the code out into version-named directories (ie haml into 'vendor/gems/haml-0.1.2', for example) and then run 'rake gems:refresh_specs'. It should put a workable spec in that directory.

Note that this advice only applies to 2.2; on 2.1 you're pretty much SOL.

On a totally unrelated note, you might want to check out [IE7.js and friends](http://code.google.com/p/ie7-js/) for make IE6 behave properly.</body>
      <body-html>&lt;div&gt;&lt;p&gt;The change above isn't relevant - the code was totally rewritten
for 2.2. The &lt;em&gt;simplest&lt;/em&gt; resolution for your problem is to
check the code out into version-named directories (ie haml into
'vendor/gems/haml-0.1.2', for example) and then run 'rake
gems:refresh_specs'. It should put a workable spec in that
directory.&lt;/p&gt;
&lt;p&gt;Note that this advice only applies to 2.2; on 2.1 you're pretty
much SOL.&lt;/p&gt;
&lt;p&gt;On a totally unrelated note, you might want to check out
&lt;a href=&quot;http://code.google.com/p/ie7-js/&quot;&gt;IE7.js and friends&lt;/a&gt;
for make IE6 behave properly.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-24T21:34:32+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-11-24T21:34:37+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">8</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hi Matt,

Thank you for all the speedy responses!

So, ok I tried messing around with the version-named directories, but I just decided to create a new directory in vendor/ called faux_gems/ to use in conjunction with the old-school solution:

@@@
config.load_paths += Dir[&quot;#{RAILS_ROOT}/vendor/faux_gems/**&quot;].map do |dir|
  File.directory?(lib = &quot;#{dir}/lib&quot;) ? lib : dir
end
@@@

Not ideal, but I'm not thrilled with the whole gem system anyway. Plugins are much nicer for quick hacking since you don't have to re-release everything. If I need a 1 line fix in a gem it seems like overkill to have to deal with version numbers, etc. Am I missing something here?

Anyway, for everything else that I haven't touched I'm using config.gem and it's working great. Is it typical to include `rake gems:install` in cap deploy?

And thanks for that IE js tip! I'll check it out.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Matt,&lt;/p&gt;
&lt;p&gt;Thank you for all the speedy responses!&lt;/p&gt;
&lt;p&gt;So, ok I tried messing around with the version-named
directories, but I just decided to create a new directory in
vendor/ called faux_gems/ to use in conjunction with the old-school
solution:&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;
config.load_paths += Dir[&amp;quot;#{RAILS_ROOT}/vendor/faux_gems/**&amp;quot;].map do |dir|
  File.directory?(lib = &amp;quot;#{dir}/lib&amp;quot;) ? lib : dir
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Not ideal, but I'm not thrilled with the whole gem system
anyway. Plugins are much nicer for quick hacking since you don't
have to re-release everything. If I need a 1 line fix in a gem it
seems like overkill to have to deal with version numbers, etc. Am I
missing something here?&lt;/p&gt;
&lt;p&gt;Anyway, for everything else that I haven't touched I'm using
config.gem and it's working great. Is it typical to include
&lt;code&gt;rake gems:install&lt;/code&gt; in cap deploy?&lt;/p&gt;
&lt;p&gt;And thanks for that IE js tip! I'll check it out.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-11-24T21:52:47+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-11-24T21:52:50+00:00</updated-at>
      <user-id type="integer">23550</user-id>
      <version type="integer">9</version>
      <user-name>Aaron Gibralter</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Dear Aaron,

I've encountered the same problem as you and opted to leave the Rails code the same and name my submodule gems 'example-'

This way rails will load them but you might loose config.gem functionality. But in my opinion the git submodule's in the vendor directory already provide that functionality.

Best regards,
Sytse</body>
      <body-html>&lt;div&gt;&lt;p&gt;Dear Aaron,&lt;/p&gt;
&lt;p&gt;I've encountered the same problem as you and opted to leave the
Rails code the same and name my submodule gems 'example-'&lt;/p&gt;
&lt;p&gt;This way rails will load them but you might loose config.gem
functionality. But in my opinion the git submodule's in the vendor
directory already provide that functionality.&lt;/p&gt;
&lt;p&gt;Best regards, Sytse&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-05T16:08:18+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-12-05T16:08:22+00:00</updated-at>
      <user-id type="integer">39907</user-id>
      <version type="integer">10</version>
      <user-name>Sytse Sijbrandij</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>We've taken a similar approach to Aaron (called our dir vendor/garnets) to avoid a spattering of warnings at startup.</body>
      <body-html>&lt;div&gt;&lt;p&gt;We've taken a similar approach to Aaron (called our dir
vendor/garnets) to avoid a spattering of warnings at startup.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-05T16:27:24+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-12-05T16:27:26+00:00</updated-at>
      <user-id type="integer">17150</user-id>
      <version type="integer">11</version>
      <user-name>Luke Melia</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Hi Luke,

Just for clarity, by renaming the gems to 'example-' you can still use the config.gem dependency and don't get a warning when starting the server. The only thing you might not be able to do is run the rake tasks for gems.

Best regards,
Sytse</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi Luke,&lt;/p&gt;
&lt;p&gt;Just for clarity, by renaming the gems to 'example-' you can
still use the config.gem dependency and don't get a warning when
starting the server. The only thing you might not be able to do is
run the rake tasks for gems.&lt;/p&gt;
&lt;p&gt;Best regards, Sytse&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-05T17:04:34+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-12-05T17:04:39+00:00</updated-at>
      <user-id type="integer">39907</user-id>
      <version type="integer">12</version>
      <user-name>Sytse Sijbrandij</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>So, it feels like there should be some way to have submodule'd gems and regular versioned gems coexist in vendor/gems.  Could some sort of convention be adopted to allow certain directories in vendor/gems be ignored by the rake:gems tasks...maybe for a certain directory name?  Maybe some sort of .gemrails_ignore file inside the gem directory?</body>
      <body-html>&lt;div&gt;&lt;p&gt;So, it feels like there should be some way to have submodule'd
gems and regular versioned gems coexist in vendor/gems. Could some
sort of convention be adopted to allow certain directories in
vendor/gems be ignored by the rake:gems tasks...maybe for a certain
directory name? Maybe some sort of .gemrails_ignore file inside the
gem directory?&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-09T15:48:20+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-12-09T15:48:23+00:00</updated-at>
      <user-id type="integer">3825</user-id>
      <version type="integer">13</version>
      <user-name>Rob Sanheim</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>Ignoring the directories isn't really enough; if you have a submoduled gem that another gem depends on, things have to be set up correctly to avoid loading files from the system gems.

I'm hoping to get a patch together soon that will read the gemspec files from the git repo directly, or from the system gems if there isn't one in the repo.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ignoring the directories isn't really enough; if you have a
submoduled gem that another gem depends on, things have to be set
up correctly to avoid loading files from the system gems.&lt;/p&gt;
&lt;p&gt;I'm hoping to get a patch together soon that will read the
gemspec files from the git repo directly, or from the system gems
if there isn't one in the repo.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-09T15:57:54+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-12-09T15:57:59+00:00</updated-at>
      <user-id type="integer">22589</user-id>
      <version type="integer">14</version>
      <user-name>Matt Jones</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name nil="true"></assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-12-22T03:48:44+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- 
:assigned_user: 
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2008-12-22T03:48:48+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">15</version>
      <user-name>Pratik</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">22589</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2009-03-07T12:24:35+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>incomplete</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2009-03-07T12:24:39+00:00</updated-at>
      <user-id type="integer">1366</user-id>
      <version type="integer">16</version>
      <user-name>Pratik</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name>Matt Jones</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer">25293</assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>No activity for &gt; 6 months, and Rails 3 will move to bundler instead.

I'll reopen it if somebody would patch this on 2-3-stable.</body>
      <body-html>&lt;div&gt;&lt;p&gt;No activity for &amp;gt; 6 months, and Rails 3 will move to bundler
instead.&lt;/p&gt;
&lt;p&gt;I'll reopen it if somebody would patch this on 2-3-stable.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2010-01-21T06:35:33+00:00</created-at>
      <creator-id type="integer">23550</creator-id>
      <diffable-attributes type="yaml">--- 
:state: incomplete
:assigned_user: 22589
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">553</number>
      <permalink>config-gem-compatibility-with-vendor-gem-git-submodule-workflow</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>2.1 bug dependencies enhancement patch tested</tag>
      <title>config.gem compatibility with vendor/gem git submodule workflow</title>
      <updated-at type="datetime">2010-01-21T06:35:38+00:00</updated-at>
      <user-id type="integer">25293</user-id>
      <version type="integer">17</version>
      <user-name>Prem Sichanugrist (sikachu)</user-name>
      <creator-name>Aaron Gibralter</creator-name>
      <assigned-user-name>Prem Sichanugrist (sikachu)</assigned-user-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/553</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>9f93f47c63eb2b41540f17fb11b4543a21f78b36</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-08-30T00:49:49+01:00</created-at>
      <filename>fix_for_gem_dependency_unpack_glob.patch</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">42699</id>
      <size type="integer">1930</size>
      <uploader-id type="integer">5450</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/42699/fix_for_gem_dependency_unpack_glob.patch</url>
    </attachment>
  </attachments>
</ticket>
