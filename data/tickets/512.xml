<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">1</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2008-06-30T11:21:43+01:00</created-at>
  <creator-id type="integer">24833</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer">9903</milestone-id>
  <number type="integer">512</number>
  <permalink>actionview-templateerror-wrong-argument-type-expected-proc</permalink>
  <priority type="integer">9</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>invalid</state>
  <tag>2.1</tag>
  <title>&quot;ActionView::TemplateError&quot; &quot;wrong argument type&quot; &quot;expected Proc&quot;</title>
  <updated-at type="datetime">2008-10-23T16:23:08+01:00</updated-at>
  <user-id type="integer">24833</user-id>
  <version type="integer">2</version>
  <user-name>Tobi Reif</user-name>
  <creator-name>Tobi Reif</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/512</url>
  <milestone-title>2.x</milestone-title>
  <priority-name nil="true"></priority-name>
  <original-body>I updated Ruby 1.8.6 (the version recommended on http://www.rubyonrails.org/down ) to the patch level recommended on
  http://www.ruby-lang.org/en/news/2008/06/20/arbitrary-code-execution-vulnerabilities/

&lt;pre&gt;&lt;code&gt;  $ ruby -v
  ruby 1.8.6 (2008-06-20 patchlevel 230) [i686-linux]&lt;/code&gt;&lt;/pre&gt;

Updating Rails to 2.1.0 brought this:

&lt;pre&gt;&lt;code&gt;$ ./script/server -e test -p 2000
=&gt; Booting Mongrel (use 'script/server webrick' to force WEBrick)
=&gt; Rails 2.1.0 application starting on http://0.0.0.0:2000
[...]
ActionView::TemplateError (wrong argument type String (expected Proc)) on line #21 of list/index.html.erb:
18: &lt;div&gt;
19: &lt;h3&gt;Add list&lt;/h3&gt;
20: &lt;%= error_messages_for :list %&gt;
21: &lt;% form_for :list, @list, :url =&gt; {:action =&gt; &quot;create&quot;} do |f| %&gt;
22:   &lt;div&gt;
23:     &lt;%= label(:list, :name) %&gt;
24:     &lt;%= f.text_field :name, :size =&gt; 22 %&gt;

    (eval):2:in `protect_against_forgery?'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/helpers/form_tag_helper.rb:431:in `extra_tags_for_for
&lt;/code&gt;&lt;/pre&gt;</original-body>
  <latest-body>I updated Ruby 1.8.6 (the version recommended on http://www.rubyonrails.org/down ) to the patch level recommended on
  http://www.ruby-lang.org/en/news/2008/06/20/arbitrary-code-execution-vulnerabilities/

&lt;pre&gt;&lt;code&gt;  $ ruby -v
  ruby 1.8.6 (2008-06-20 patchlevel 230) [i686-linux]&lt;/code&gt;&lt;/pre&gt;

Updating Rails to 2.1.0 brought this:

&lt;pre&gt;&lt;code&gt;$ ./script/server -e test -p 2000
=&gt; Booting Mongrel (use 'script/server webrick' to force WEBrick)
=&gt; Rails 2.1.0 application starting on http://0.0.0.0:2000
[...]
ActionView::TemplateError (wrong argument type String (expected Proc)) on line #21 of list/index.html.erb:
18: &lt;div&gt;
19: &lt;h3&gt;Add list&lt;/h3&gt;
20: &lt;%= error_messages_for :list %&gt;
21: &lt;% form_for :list, @list, :url =&gt; {:action =&gt; &quot;create&quot;} do |f| %&gt;
22:   &lt;div&gt;
23:     &lt;%= label(:list, :name) %&gt;
24:     &lt;%= f.text_field :name, :size =&gt; 22 %&gt;

    (eval):2:in `protect_against_forgery?'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/helpers/form_tag_helper.rb:431:in `extra_tags_for_for
&lt;/code&gt;&lt;/pre&gt;</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;
I updated Ruby 1.8.6 (the version recommended on &lt;a href=&quot;http://www.rubyonrails.org/down&quot;&gt;http://www.rubyonrails.org/down&lt;/a&gt; ) to the patch level recommended on
&lt;/p&gt;&lt;p&gt;
&lt;a href=&quot;http://www.ruby-lang.org/en/news/2008/06/20/arbitrary-code-execution-vulnerabilities/&quot;&gt;http://www.ruby-lang.org/en/news...&lt;/a&gt;
&lt;/p&gt;&lt;p&gt;
$ ruby -v
&lt;/p&gt;&lt;p&gt;
ruby 1.8.6 (2008-06-20 patchlevel 230) [i686-linux]
&lt;/p&gt;&lt;p&gt;
Updating Rails to 2.1.0 brought this:
&lt;/p&gt;&lt;p&gt;
$ ./script/server -e test -p 2000
&lt;/p&gt;&lt;p&gt;
=&gt; Booting Mongrel (use 'script/server webrick' to force WEBrick)
&lt;/p&gt;&lt;p&gt;
=&gt; Rails 2.1.0 application starting on &lt;a href=&quot;http://0.0.0.0:2000&quot;&gt;http://0.0.0.0:2000&lt;/a&gt;
&lt;/p&gt;&lt;p&gt;
[...]
&lt;/p&gt;&lt;p&gt;
ActionView::TemplateError (wrong argument type String (expected Proc)) on line &lt;a href=&quot;/projects/8994/tickets/21&quot; title=&quot;Ticket #21&quot;&gt;#21&lt;/a&gt; of list/index.html.erb:
&lt;/p&gt;&lt;p&gt;
18:
&lt;/p&gt;&lt;p&gt;
19: Add list
&lt;/p&gt;&lt;p&gt;
20: &amp;lt;%= error_messages_for :list %&gt;
&lt;/p&gt;&lt;p&gt;
21: &amp;lt;% form_for :list, @list, :url =&gt; {:action =&gt; &quot;create&quot;} do |f| %&gt;
&lt;/p&gt;&lt;p&gt;
22:
&lt;/p&gt;&lt;p&gt;
23:     &amp;lt;%= label(:list, :name) %&gt;
&lt;/p&gt;&lt;p&gt;
24:     &amp;lt;%= f.text_field :name, :size =&gt; 22 %&gt;
&lt;/p&gt;&lt;p&gt;
(eval):2:in `protect_against_forgery?'
&lt;/p&gt;&lt;p&gt;
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/helpers/form_tag_helper.rb:431:in `extra_tags_for_for
&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>I updated Ruby 1.8.6 (the version recommended on http://www.rubyonrails.org/down ) to the patch level recommended on
  http://www.ruby-lang.org/en/news/2008/06/20/arbitrary-code-execution-vulnerabilities/
@@@
  $ ruby -v
  ruby 1.8.6 (2008-06-20 patchlevel 230) [i686-linux]
@@@
Updating Rails to 2.1.0 brought this:
@@@
$ ./script/server -e test -p 2000
=&gt; Booting Mongrel (use 'script/server webrick' to force WEBrick)
=&gt; Rails 2.1.0 application starting on http://0.0.0.0:2000
[...]
ActionView::TemplateError (wrong argument type String (expected Proc)) on line #21 of list/index.html.erb:
18: &lt;div&gt;
19: &lt;h3&gt;Add list&lt;/h3&gt;
20: &lt;%= error_messages_for :list %&gt;
21: &lt;% form_for :list, @list, :url =&gt; {:action =&gt; &quot;create&quot;} do |f| %&gt;
22:   &lt;div&gt;
23:     &lt;%= label(:list, :name) %&gt;
24:     &lt;%= f.text_field :name, :size =&gt; 22 %&gt;

    (eval):2:in `protect_against_forgery?'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/helpers/form_tag_helper.rb:431:in `extra_tags_for_for
@@@</body>
      <body-html>&lt;div&gt;&lt;p&gt;
I updated Ruby 1.8.6 (the version recommended on &lt;a href=&quot;http://www.rubyonrails.org/down&quot;&gt;http://www.rubyonrails.org/down&lt;/a&gt; ) to the patch level recommended on
&lt;/p&gt;&lt;p&gt;
&lt;a href=&quot;http://www.ruby-lang.org/en/news/2008/06/20/arbitrary-code-execution-vulnerabilities/&quot;&gt;http://www.ruby-lang.org/en/news...&lt;/a&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;  $ ruby -v
  ruby 1.8.6 (2008-06-20 patchlevel 230) [i686-linux]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Updating Rails to 2.1.0 brought this:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;$ ./script/server -e test -p 2000
=&amp;gt; Booting Mongrel (use 'script/server webrick' to force WEBrick)
=&amp;gt; Rails 2.1.0 application starting on &lt;a href=&quot;http://0.0.0.0:2000&quot;&gt;http://0.0.0.0:2000&lt;/a&gt;
[...]
ActionView::TemplateError (wrong argument type String (expected Proc)) on line &lt;a href=&quot;/projects/8994/tickets/21&quot; title=&quot;Ticket #21&quot;&gt;#21&lt;/a&gt; of list/index.html.erb:
18: &amp;lt;div&amp;gt;
19: &amp;lt;h3&amp;gt;Add list&amp;lt;/h3&amp;gt;
20: &amp;lt;%= error_messages_for :list %&amp;gt;
21: &amp;lt;% form_for :list, @list, :url =&amp;gt; {:action =&amp;gt; &amp;quot;create&amp;quot;} do |f| %&amp;gt;
22:   &amp;lt;div&amp;gt;
23:     &amp;lt;%= label(:list, :name) %&amp;gt;
24:     &amp;lt;%= f.text_field :name, :size =&amp;gt; 22 %&amp;gt;

    (eval):2:in `protect_against_forgery?'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/helpers/form_tag_helper.rb:431:in `extra_tags_for_for&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-30T11:28:19+01:00</created-at>
      <creator-id type="integer">24833</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">512</number>
      <permalink>actionview-templateerror-wrong-argument-type-expected-proc</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag nil="true"></tag>
      <title>&quot;ActionView::TemplateError&quot; &quot;wrong argument type&quot; &quot;expected Proc&quot;</title>
      <updated-at type="datetime">2008-06-30T11:28:19+01:00</updated-at>
      <user-id type="integer">24833</user-id>
      <version type="integer">1</version>
      <user-name>Tobi Reif</user-name>
      <creator-name>Tobi Reif</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/512</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>It might be purely a Ruby bug, see
http://rubyforge.org/tracker/?func=detail&amp;aid=20902&amp;group_id=426&amp;atid=1698</body>
      <body-html>&lt;div&gt;&lt;p&gt;It might be purely a Ruby bug, see &lt;a href=&quot;http://rubyforge.org/tracker/?func=detail&amp;amp;amp;aid=20902&amp;amp;amp;group_id=426&amp;amp;amp;atid=1698&quot;&gt;
http://rubyforge.org/tracker/?fu...&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-06-30T14:58:26+01:00</created-at>
      <creator-id type="integer">24833</creator-id>
      <diffable-attributes type="yaml">--- 
:tag: &quot;&quot;
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">512</number>
      <permalink>actionview-templateerror-wrong-argument-type-expected-proc</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1</tag>
      <title>&quot;ActionView::TemplateError&quot; &quot;wrong argument type&quot; &quot;expected Proc&quot;</title>
      <updated-at type="datetime">2008-10-23T16:23:03+01:00</updated-at>
      <user-id type="integer">24833</user-id>
      <version type="integer">2</version>
      <user-name>Tobi Reif</user-name>
      <creator-name>Tobi Reif</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/512</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body>It's a Ruby issue, and it seems to be resolved:
http://redmine.ruby-lang.org/issues/show/211

(I'd delete this ticket if I could find a way to do that.)</body>
      <body-html>&lt;div&gt;&lt;p&gt;
It's a Ruby issue, and it seems to be resolved:
&lt;/p&gt;&lt;p&gt;
&lt;a href=&quot;http://redmine.ruby-lang.org/issues/show/211&quot;&gt;http://redmine.ruby-lang.org/iss...&lt;/a&gt;
&lt;/p&gt;&lt;p&gt;
(I'd delete this ticket if I could find a way to do that.)
&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2008-07-02T16:07:01+01:00</created-at>
      <creator-id type="integer">24833</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">512</number>
      <permalink>actionview-templateerror-wrong-argument-type-expected-proc</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>2.1</tag>
      <title>&quot;ActionView::TemplateError&quot; &quot;wrong argument type&quot; &quot;expected Proc&quot;</title>
      <updated-at type="datetime">2008-07-02T16:07:01+01:00</updated-at>
      <user-id type="integer">24833</user-id>
      <version type="integer">3</version>
      <user-name>Tobi Reif</user-name>
      <creator-name>Tobi Reif</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/512</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">1</attachments-count>
      <body></body>
      <body-html></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2008-07-13T20:29:41+01:00</created-at>
      <creator-id type="integer">24833</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer">9903</milestone-id>
      <number type="integer">512</number>
      <permalink>actionview-templateerror-wrong-argument-type-expected-proc</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>invalid</state>
      <tag>2.1</tag>
      <title>&quot;ActionView::TemplateError&quot; &quot;wrong argument type&quot; &quot;expected Proc&quot;</title>
      <updated-at type="datetime">2008-07-13T20:29:41+01:00</updated-at>
      <user-id type="integer">424</user-id>
      <version type="integer">4</version>
      <user-name>Joshua Peek</user-name>
      <creator-name>Tobi Reif</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/512</url>
      <milestone-title>2.x</milestone-title>
      <priority-name nil="true"></priority-name>
    </version>
  </versions>
  <attachments type="array">
    <attachment type="Attachment">
      <code>349308c9ba76cd6ebda7c7652adcbe7d68a6dd04</code>
      <content-type>text/plain</content-type>
      <created-at type="datetime">2008-06-30T11:42:32+01:00</created-at>
      <filename>expected_proc.txt</filename>
      <height type="integer" nil="true"></height>
      <id type="integer">29971</id>
      <size type="integer">7939</size>
      <uploader-id type="integer">24833</uploader-id>
      <width type="integer" nil="true"></width>
      <url>http://rails.lighthouseapp.com/attachments/29971/expected_proc.txt</url>
    </attachment>
  </attachments>
</ticket>
