<?xml version="1.0" encoding="UTF-8"?>
<ticket>
  <assigned-user-id type="integer" nil="true"></assigned-user-id>
  <attachments-count type="integer">0</attachments-count>
  <closed type="boolean">true</closed>
  <created-at type="datetime">2010-04-22T08:35:03+01:00</created-at>
  <creator-id type="integer">96119</creator-id>
  <milestone-due-on type="datetime" nil="true"></milestone-due-on>
  <milestone-id type="integer" nil="true"></milestone-id>
  <number type="integer">4453</number>
  <permalink>http-request-values-converted-wrong-in-special-case</permalink>
  <priority type="integer">3</priority>
  <project-id type="integer">8994</project-id>
  <raw-data type="binary" nil="true" encoding="base64"></raw-data>
  <state>stale</state>
  <tag>&quot;converted variables&quot; http-request</tag>
  <title>http request values converted wrong in special case</title>
  <updated-at type="datetime">2011-02-02T17:48:19+00:00</updated-at>
  <user-id type="integer">40272</user-id>
  <version type="integer">6</version>
  <user-name>Santiago Pastorino</user-name>
  <creator-name>Joern Akkermann</creator-name>
  <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
  <priority-name>Low</priority-name>
  <original-body>Hi,

I'm using Rails 2.3.4.

Following situation:
You have a call like &quot;/books/show?name=the+name&quot;
as you can see the space between &quot;the&quot; and &quot;name&quot; is correctly replaced by a &quot;+&quot;
now you change the route to &quot;/:name&quot; and create a link_to &quot;example&quot;, :controller =&gt; :books, :action =&gt; :show, :name =&gt; &quot;the name&quot;
and you get &quot;/the name&quot; without the space replaced.
That's wrong I think!? It should also be replaced by a &quot;+&quot;.

If it is not clear: it is only the case if you rename a route like I did above.

Edit: The Problem is: Rails should generate a valid and working url, an url like &quot;/the name&quot; is equivalent to &quot;/the&quot;, that's no good deal. Rails should convert all chars of the passed vars the way like chars are always converted for urls. If a space becomes a &quot;%20&quot; or &quot;+&quot; doesn't matter but there are often many chars that need to be converted. At least we need something like h() for urls.

Yours Joern.</original-body>
  <latest-body>Hi,

I'm using Rails 2.3.4.

Following situation:
You have a call like &quot;/books/show?name=the+name&quot;
as you can see the space between &quot;the&quot; and &quot;name&quot; is correctly replaced by a &quot;+&quot;
now you change the route to &quot;/:name&quot; and create a link_to &quot;example&quot;, :controller =&gt; :books, :action =&gt; :show, :name =&gt; &quot;the name&quot;
and you get &quot;/the name&quot; without the space replaced.
That's wrong I think!? It should also be replaced by a &quot;+&quot;.

If it is not clear: it is only the case if you rename a route like I did above.

Edit: The Problem is: Rails should generate a valid and working url, an url like &quot;/the name&quot; is equivalent to &quot;/the&quot;, that's no good deal. Rails should convert all chars of the passed vars the way like chars are always converted for urls. If a space becomes a &quot;%20&quot; or &quot;+&quot; doesn't matter but there are often many chars that need to be converted. At least we need something like h() for urls.

Yours Joern.</latest-body>
  <original-body-html>&lt;div&gt;&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;I'm using Rails 2.3.4.&lt;/p&gt;
&lt;p&gt;Following situation:&lt;br&gt;
You have a call like &quot;/books/show?name=the+name&quot;&lt;br&gt;
as you can see the space between &quot;the&quot; and &quot;name&quot; is correctly
replaced by a &quot;+&quot;&lt;br&gt;
now you change the route to &quot;/:name&quot; and create a link_to
&quot;example&quot;, :controller =&amp;gt; :books, :action =&amp;gt; :show, :name
=&amp;gt; &quot;the name&quot;&lt;br&gt;
and you get &quot;/the name&quot; without the space replaced.&lt;br&gt;
That's wrong I think!? It should also be replaced by a &quot;+&quot;.&lt;/p&gt;
&lt;p&gt;If it is not clear: it is only the case if you rename a route
like I did above.&lt;/p&gt;
&lt;p&gt;Edit: The Problem is: Rails should generate a valid and working
url, an url like &quot;/the name&quot; is equivalent to &quot;/the&quot;, that's no
good deal. Rails should convert all chars of the passed vars the
way like chars are always converted for urls. If a space becomes a
&quot;%20&quot; or &quot;+&quot; doesn't matter but there are often many chars that
need to be converted. At least we need something like h() for
urls.&lt;/p&gt;
&lt;p&gt;Yours Joern.&lt;/p&gt;&lt;/div&gt;</original-body-html>
  <versions type="array">
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Hi,

I'm using Rails 2.3.4.

Following situation:
You have a call like &quot;/books/show?name=the+name&quot;
as you can see the space between &quot;the&quot; and &quot;name&quot; is correctly replaced by a &quot;+&quot;
now you change the route to &quot;/:name&quot; and create a link_to &quot;example&quot;, :controller =&gt; :books, :action =&gt; :show, :name =&gt; &quot;the name&quot;
and you get &quot;/the name&quot; without the space replaced.
That's wrong I think!? It should also be replaced by a &quot;+&quot;.

If it is not clear: it is only the case if you rename a route like I did above.

Edit: The Problem is: Rails should generate a valid and working url, an url like &quot;/the name&quot; is equivalent to &quot;/the&quot;, that's no good deal. Rails should convert all chars of the passed vars the way like chars are always converted for urls. If a space becomes a &quot;%20&quot; or &quot;+&quot; doesn't matter but there are often many chars that need to be converted. At least we need something like h() for urls.

Yours Joern.</body>
      <body-html>&lt;div&gt;&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;I'm using Rails 2.3.4.&lt;/p&gt;
&lt;p&gt;Following situation:&lt;br&gt;
You have a call like &quot;/books/show?name=the+name&quot;&lt;br&gt;
as you can see the space between &quot;the&quot; and &quot;name&quot; is correctly
replaced by a &quot;+&quot;&lt;br&gt;
now you change the route to &quot;/:name&quot; and create a link_to
&quot;example&quot;, :controller =&amp;gt; :books, :action =&amp;gt; :show, :name
=&amp;gt; &quot;the name&quot;&lt;br&gt;
and you get &quot;/the name&quot; without the space replaced.&lt;br&gt;
That's wrong I think!? It should also be replaced by a &quot;+&quot;.&lt;/p&gt;
&lt;p&gt;If it is not clear: it is only the case if you rename a route
like I did above.&lt;/p&gt;
&lt;p&gt;Edit: The Problem is: Rails should generate a valid and working
url, an url like &quot;/the name&quot; is equivalent to &quot;/the&quot;, that's no
good deal. Rails should convert all chars of the passed vars the
way like chars are always converted for urls. If a space becomes a
&quot;%20&quot; or &quot;+&quot; doesn't matter but there are often many chars that
need to be converted. At least we need something like h() for
urls.&lt;/p&gt;
&lt;p&gt;Yours Joern.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T08:35:03+01:00</created-at>
      <creator-id type="integer">96119</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4453</number>
      <permalink>http-request-values-converted-wrong-in-special-case</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;converted variables&quot; http-request</tag>
      <title>http request values converted wrong in special case</title>
      <updated-at type="datetime">2010-04-22T17:15:56+01:00</updated-at>
      <user-id type="integer">96119</user-id>
      <version type="integer">1</version>
      <user-name>Joern Akkermann</user-name>
      <creator-name>Joern Akkermann</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>If you do this;

@@@
link_to &quot;example&quot;, :controller =&gt; :books, :action =&gt; :show, :name =&gt; &quot;the name&quot;
@@@

You're specifically passing the string &quot;the name&quot;. I don't think rails should replace that space with a '+', since you specified you wanted a space there.

And, what do you mean by &quot;You have a call like &quot;/books/show?name=the+name&quot;&quot;? I don't really understand what you're talking about.

I think this one is invalid, but we probably need more info...</body>
      <body-html>&lt;div&gt;&lt;p&gt;If you do this;&lt;/p&gt;
&lt;pre&gt;
&lt;code&gt;link_to &quot;example&quot;, :controller =&amp;gt; :books, :action =&amp;gt; :show, :name =&amp;gt; &quot;the name&quot;&lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;You're specifically passing the string &quot;the name&quot;. I don't think
rails should replace that space with a '+', since you specified you
wanted a space there.&lt;/p&gt;
&lt;p&gt;And, what do you mean by &quot;You have a call like
&quot;/books/show?name=the+name&quot;&quot;? I don't really understand what you're
talking about.&lt;/p&gt;
&lt;p&gt;I think this one is invalid, but we probably need more
info...&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T09:29:07+01:00</created-at>
      <creator-id type="integer">96119</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4453</number>
      <permalink>http-request-values-converted-wrong-in-special-case</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>new</state>
      <tag>&quot;converted variables&quot; http-request</tag>
      <title>http request values converted wrong in special case</title>
      <updated-at type="datetime">2010-04-22T09:29:10+01:00</updated-at>
      <user-id type="integer">94458</user-id>
      <version type="integer">2</version>
      <user-name>Jeff Kreeftmeijer</user-name>
      <creator-name>Joern Akkermann</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>What bug is this causing? If it's just &quot;the URL doesn't look pretty&quot; then that's not a Rails issue.</body>
      <body-html>&lt;div&gt;&lt;p&gt;What bug is this causing? If it's just &quot;the URL doesn't look
pretty&quot; then that's not a Rails issue.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T11:51:42+01:00</created-at>
      <creator-id type="integer">96119</creator-id>
      <diffable-attributes type="yaml">--- 
:state: new
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4453</number>
      <permalink>http-request-values-converted-wrong-in-special-case</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>&quot;converted variables&quot; http-request</tag>
      <title>http request values converted wrong in special case</title>
      <updated-at type="datetime">2010-04-22T11:51:45+01:00</updated-at>
      <user-id type="integer">14998</user-id>
      <version type="integer">3</version>
      <user-name>Ryan Bigg</user-name>
      <creator-name>Joern Akkermann</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>Ryan, see edit</body>
      <body-html>&lt;div&gt;&lt;p&gt;Ryan, see edit&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2010-04-22T17:16:32+01:00</created-at>
      <creator-id type="integer">96119</creator-id>
      <diffable-attributes type="yaml">--- {}

</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4453</number>
      <permalink>http-request-values-converted-wrong-in-special-case</permalink>
      <priority type="integer">0</priority>
      <project-id type="integer">8994</project-id>
      <state>needs-more-info</state>
      <tag>&quot;converted variables&quot; http-request</tag>
      <title>http request values converted wrong in special case</title>
      <updated-at type="datetime">2010-04-22T17:16:35+01:00</updated-at>
      <user-id type="integer">96119</user-id>
      <version type="integer">4</version>
      <user-name>Joern Akkermann</user-name>
      <creator-name>Joern Akkermann</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
      <priority-name nil="true"></priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body>This issue has been automatically marked as stale because it has not been commented on for at least three months.

The resources of the Rails core team are limited, and so we are asking for your help. If you can still reproduce this error on the 3-0-stable branch or on master, please reply with all of the information you have about it and add &quot;[state:open]&quot; to your comment. This will reopen the ticket for review. Likewise, if you feel that this is a very important feature for Rails to include, please reply with your explanation so we can consider it.

Thank you for all your contributions, and we hope you will understand this step to focus our efforts where they are most helpful.</body>
      <body-html>&lt;div&gt;&lt;p&gt;This issue has been automatically marked as stale because it has
not been commented on for at least three months.&lt;/p&gt;
&lt;p&gt;The resources of the Rails core team are limited, and so we are
asking for your help. If you can still reproduce this error on the
3-0-stable branch or on master, please reply with all of the
information you have about it and add &quot;[state:open]&quot; to your
comment. This will reopen the ticket for review. Likewise, if you
feel that this is a very important feature for Rails to include,
please reply with your explanation so we can consider it.&lt;/p&gt;
&lt;p&gt;Thank you for all your contributions, and we hope you will
understand this step to focus our efforts where they are most
helpful.&lt;/p&gt;&lt;/div&gt;</body-html>
      <closed type="boolean">false</closed>
      <created-at type="datetime">2011-02-02T16:43:25+00:00</created-at>
      <creator-id type="integer">96119</creator-id>
      <diffable-attributes type="yaml">--- 
:priority: 0
:state: needs-more-info
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4453</number>
      <permalink>http-request-values-converted-wrong-in-special-case</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>open</state>
      <tag>&quot;converted variables&quot; http-request</tag>
      <title>http request values converted wrong in special case</title>
      <updated-at type="datetime">2011-02-02T17:48:19+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">5</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Joern Akkermann</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
      <priority-name>Low</priority-name>
    </version>
    <version type="Ticket::Version">
      <assigned-user-id type="integer" nil="true"></assigned-user-id>
      <attachments-count type="integer">0</attachments-count>
      <body nil="true"></body>
      <body-html nil="true"></body-html>
      <closed type="boolean">true</closed>
      <created-at type="datetime">2011-02-02T16:43:26+00:00</created-at>
      <creator-id type="integer">96119</creator-id>
      <diffable-attributes type="yaml">--- 
:state: open
</diffable-attributes>
      <milestone-id type="integer" nil="true"></milestone-id>
      <number type="integer">4453</number>
      <permalink>http-request-values-converted-wrong-in-special-case</permalink>
      <priority type="integer">3</priority>
      <project-id type="integer">8994</project-id>
      <state>stale</state>
      <tag>&quot;converted variables&quot; http-request</tag>
      <title>http request values converted wrong in special case</title>
      <updated-at type="datetime">2011-02-02T17:48:07+00:00</updated-at>
      <user-id type="integer">40272</user-id>
      <version type="integer">6</version>
      <user-name>Santiago Pastorino</user-name>
      <creator-name>Joern Akkermann</creator-name>
      <url>http://rails.lighthouseapp.com/projects/8994/tickets/4453</url>
      <priority-name>Low</priority-name>
    </version>
  </versions>
</ticket>
